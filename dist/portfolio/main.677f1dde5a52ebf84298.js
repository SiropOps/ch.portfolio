(self.webpackChunkportfolio=self.webpackChunkportfolio||[]).push([[179],{8255:hp=>{function H(Z){return Promise.resolve().then(()=>{var _r=new Error("Cannot find module '"+Z+"'");throw _r.code="MODULE_NOT_FOUND",_r})}H.keys=()=>[],H.resolve=H,H.id=8255,hp.exports=H},2107:(hp,H)=>{"use strict";function _r(d){return null==d||""===d?null:d}function ce(d,o){return void 0===o&&(o=!1),null!=d&&(""!==d||o)}function Ge(d){return!ce(d)}function Vn(d){return null==d||0===d.length}function zl(d){return null!=d&&"function"==typeof d.toString?d.toString():null}function Tn(d){if(void 0!==d){if(null===d||""===d)return null;if("number"==typeof d)return isNaN(d)?void 0:d;var o=parseInt(d,10);return isNaN(o)?void 0:o}}function ga(d){if(void 0!==d)return null!==d&&""!==d&&("boolean"==typeof d?d:/true/i.test(d))}function Un(d,o,r){if(null==d)return null;if(!Array.isArray(d))return Un($l(d),o,r);for(var u=d,c=null,f=0;f<u.length;f++){var y=u[f];if("string"==typeof o){if(y[o]===r){c=y;break}}else if(o(y)){c=y;break}}return c}function $l(d){if(d instanceof Set||d instanceof Map){var o=[];return d.forEach(function(r){return o.push(r)}),o}return Object.keys(d).map(function(r){return d[r]})}var Ci=Object.freeze({__proto__:null,makeNull:_r,exists:ce,missing:Ge,missingOrEmpty:Vn,toStringOrNull:zl,attrToNumber:Tn,attrToBoolean:ga,attrToString:function(d){if(null!=d&&""!==d)return d},referenceCompare:function(d,o){return null==d&&null==o||!(null==d&&null!=o||null!=d&&null==o)&&d===o},jsonEquals:function(d,o){return(d?JSON.stringify(d):null)===(o?JSON.stringify(o):null)},defaultComparator:function(d,o,r){void 0===r&&(r=!1);var a=null==d,u=null==o;if(d&&d.toNumber&&(d=d.toNumber()),o&&o.toNumber&&(o=o.toNumber()),a&&u)return 0;if(a)return-1;if(u)return 1;function c(f,y){return f>y?1:f<y?-1:0}if("string"!=typeof d||!r)return c(d,o);try{return d.localeCompare(o)}catch(f){return c(d,o)}},find:Un,values:$l}),Kf=function(){function d(){this.existingKeys={}}return d.prototype.addExistingKeys=function(o){for(var r=0;r<o.length;r++)this.existingKeys[o[r]]=!0},d.prototype.getUniqueKey=function(o,r){o=zl(o);for(var a=0;;){var u=void 0;if(o?(u=o,0!==a&&(u+="_"+a)):r?(u=r,0!==a&&(u+="_"+a)):u=""+a,!this.existingKeys[u])return this.existingKeys[u]=!0,u;a++}},d}();function Xf(){for(var d=[],o=0;o<arguments.length;o++)d[o]=arguments[o];for(var r=0;r<d.length;r++){var a=d[r];if(ce(a))return a}return null}function Jt(d){if(d&&d.length)return d[d.length-1]}function Yl(d,o,r){return null==d&&null==o||null!=d&&null!=o&&d.length===o.length&&wc(d,function(a,u){return r?r(a,o[u]):o[u]===a})}function qf(d){return d.sort(function(o,r){return o-r})}function ln(d,o){var r=d.indexOf(o);r>=0&&d.splice(r,1)}function Zf(d,o){Wi(o,function(r){return ln(d,r)})}function Cc(d,o,r){d.splice(r,0,o)}function vp(d,o,r){Zf(d,o),Wi(o.slice().reverse(),function(a){return Cc(d,a,r)})}function zn(d,o){return d.indexOf(o)>-1}function Qf(d,o){null==o||null==d||Wi(o,function(r){return d.push(r)})}function va(d,o){for(var r=0;r<d.length;r++)if(o(d[r],r,d))return r;return-1}function wc(d,o){if(null==d)return!0;for(var r=0;r<d.length;r++)if(!o(d[r],r))return!1;return!0}function qr(d,o){if(null==d)return!1;for(var r=0;r<d.length;r++)if(o(d[r],r))return!0;return!1}function Wi(d,o){if(null!=d)for(var r=0;r<d.length;r++)o(d[r],r)}function qm(d,o){if(null==d)return null;for(var r=[],a=0;a<d.length;a++)r.push(o(d[a],a));return r}function yp(d,o){if(null==d)return null;for(var r=[],a=0;a<d.length;a++)o(d[a],a)&&r.push(d[a]);return r}var YD=Object.freeze({__proto__:null,firstExistingValue:Xf,anyExists:function(d){return d&&null!=Xf(d)},existsAndNotEmpty:function(d){return null!=d&&d.length>0},last:Jt,areEqual:Yl,compareArrays:function(d,o){return Yl(d,o)},shallowCompare:function(d,o){return Yl(d,o)},sortNumerically:qf,removeRepeatsFromArray:function(d,o){if(d)for(var r=d.length-2;r>=0;r--)d[r]===o&&d[r+1]===o&&d.splice(r+1,1)},removeFromArray:ln,removeAllFromArray:Zf,insertIntoArray:Cc,insertArrayIntoArray:function(d,o,r){if(null!=d&&null!=o)for(var a=o.length-1;a>=0;a--)Cc(d,o[a],r)},moveInArray:vp,includes:zn,flatten:function(d){return[].concat.apply([],d)},pushAll:Qf,toStrings:function(d){return qm(d,zl)},findIndex:va,fill:function(d,o,r,a){void 0===o&&(o=null),void 0===r&&(r=0),void 0===a&&(a=d.length);for(var u=r;u<a;u++)d[u]=o;return d},every:wc,some:qr,forEach:Wi,forEachReverse:function(d,o){if(null!=d)for(var r=d.length-1;r>=0;r--)o(d[r],r)},map:qm,filter:yp,reduce:function(d,o,r){if(null==d||null==r)return null;for(var a=r,u=0;u<d.length;u++)a=o(a,d[u],u);return a},forEachSnapshotFirst:function(d,o){d&&d.slice(0).forEach(o)}});function zt(d,o){null!=d&&(Array.isArray(d)?Wi(d,function(r,a){return o(""+a,r)}):Wi(Object.keys(d),function(r){return o(r,d[r])}))}function Dc(d){for(var o={},r=Object.keys(d),a=0;a<r.length;a++){var u=r[a];o[u]=d[u]}return o}function mp(d,o){if(d){var r=d,a={};return Object.keys(r).forEach(function(u){if(!(o&&o.indexOf(u)>=0)){var c=r[u],f=ql(c)&&c.constructor===Object;a[u]=f?mp(c):c}}),a}}function Qm(d,o){return d[o]}function Jm(d,o,r){d[o]=r}function Kl(d,o,r,a){var u=Qm(d,r);void 0!==u&&Jm(o,r,a?a(u):u)}function XD(d){var o={};return d.filter(function(r){return null!=r}).forEach(function(r){Wi(Object.keys(r),function(a){return o[a]=null})}),Object.keys(o)}function Fr(d){if(!d)return[];var o=Object;if("function"==typeof o.values)return o.values(d);var r=[];for(var a in d)d.hasOwnProperty(a)&&d.propertyIsEnumerable(a)&&r.push(d[a]);return r}function Fo(d,o,r,a){void 0===r&&(r=!0),void 0===a&&(a=!1),ce(o)&&zt(o,function(u,c){var f=d[u];f!==c&&(a&&null==f&&null!=c&&"object"==typeof c&&c.constructor===Object&&(d[u]=f={}),ql(c)&&ql(f)&&!Array.isArray(f)?Fo(f,c,r,a):(r||void 0!==c)&&(d[u]=c))})}function rr(d){for(var o=[],r=1;r<arguments.length;r++)o[r-1]=arguments[r];return Wi(o,function(a){return zt(a,function(u,c){return d[u]=c})}),d}function ya(d,o,r){if(o&&d){if(!r)return d[o];for(var a=o.split("."),u=d,c=0;c<a.length;c++){if(null==u)return;u=u[a[c]]}return u}}function Xl(d,o){Object.keys(d).forEach(function(u){"object"==typeof d[u]&&(d[u]=void 0)});var r=Object.getPrototypeOf(d),a={};Object.keys(r).forEach(function(u){"function"==typeof r[u]&&(a[u]={value:function(){console.warn("AG Grid: "+o+" function "+u+"() cannot be called as the grid has been destroyed.\n                     Please don't call grid API functions on destroyed grids - as a matter of fact you shouldn't\n                     be keeping the API reference, your application has a memory leak! Remove the API reference\n                     when the grid is destroyed.")},writable:!0})}),Object.defineProperties(d,a)}function ql(d){return"object"==typeof d&&null!==d}var eg=Object.freeze({__proto__:null,iterateObject:zt,cloneObject:Dc,deepCloneObject:function(d){return JSON.parse(JSON.stringify(d))},deepCloneDefinition:mp,getProperty:Qm,setProperty:Jm,copyPropertiesIfPresent:function(d,o){for(var r=[],a=2;a<arguments.length;a++)r[a-2]=arguments[a];Wi(r,function(u){return Kl(d,o,u)})},copyPropertyIfPresent:Kl,getAllKeysInObjects:XD,getAllValuesInObject:Fr,mergeDeep:Fo,assign:rr,missingOrEmptyObject:function(d){return Ge(d)||0===Object.keys(d).length},get:function(d,o,r){if(null==d)return r;for(var a=o.split("."),u=d;a.length>1;)if(null==(u=u[a.shift()]))return r;var c=u[a[0]];return null!=c?c:r},set:function(d,o,r){if(null!=d){for(var a=o.split("."),u=d;a.length>1;)if(null==(u=u[a.shift()]))return;u[a[0]]=r}},deepFreeze:function QD(d){return Object.freeze(d),Wi($l(d),function(o){(ql(o)||"function"==typeof o)&&QD(o)}),d},getValueUsingField:ya,removeAllReferences:Xl,isNonNullObject:ql}),JD=/((\/\/.*$)|(\/\*[\s\S]*?\*\/))/gm,eS=/([^\s,]+)/g,tg={};function Mi(d,o){tg[o]||(d(),tg[o]=!0)}function _p(d){if(d.name)return d.name;var o=/function\s+([^\(]+)/.exec(d.toString());return o&&2===o.length?o[1].trim():null}function ig(d){return!!(d&&d.constructor&&d.call&&d.apply)}function e_(d){qt(d,400)}var ng=[],rg=!1;function og(d){ng.push(d),!rg&&(rg=!0,window.setTimeout(function(){var o=ng.slice();ng.length=0,rg=!1,o.forEach(function(r){return r()})},0))}function qt(d,o){void 0===o&&(o=0),d.length>0&&window.setTimeout(function(){return d.forEach(function(r){return r()})},o)}function qo(d,o,r){var a;return void 0===r&&(r=!1),function(){for(var u=[],c=0;c<arguments.length;c++)u[c]=arguments[c];var f=this,y=r&&!a;window.clearTimeout(a),a=window.setTimeout(function(){a=null,r||d.apply(f,u)},o),y&&d.apply(f,u)}}function Ct(d,o,r,a){void 0===r&&(r=100);var u=(new Date).getTime(),c=null,f=!1,y=function(){var w=(new Date).getTime()-u>r;(d()||w)&&(o(),f=!0,null!=c&&(window.clearInterval(c),c=null),w&&a&&console.warn(a))};y(),f||(c=window.setInterval(y,10))}function t_(d){d&&d()}var $t=Object.freeze({__proto__:null,doOnce:Mi,getFunctionName:_p,getFunctionParameters:function(d){var o=d.toString().replace(JD,"");return o.slice(o.indexOf("(")+1,o.indexOf(")")).match(eS)||[]},isFunction:ig,executeInAWhile:e_,executeNextVMTurn:og,executeAfter:qt,debounce:qo,waitUntil:Ct,compose:function(){for(var d=[],o=0;o<arguments.length;o++)d[o]=arguments[o];return function(r){return d.reduce(function(a,u){return u(a)},r)}},callIfPresent:t_}),Ye=function(){function d(o,r){if(this.beanWrappers={},this.destroyed=!1,o&&o.beanClasses){this.contextParams=o,this.logger=r,this.logger.log(">> creating ag-Application Context"),this.createBeans();var a=this.getBeanInstances();this.wireBeans(a),this.logger.log(">> ag-Application Context ready - component is alive")}}return d.prototype.getBeanInstances=function(){return $l(this.beanWrappers).map(function(o){return o.beanInstance})},d.prototype.createBean=function(o,r){if(!o)throw Error("Can't wire to bean since it is null");return this.wireBeans([o],r),o},d.prototype.wireBeans=function(o,r){this.autoWireBeans(o),this.methodWireBeans(o),this.callLifeCycleMethods(o,"preConstructMethods"),ce(r)&&o.forEach(r),this.callLifeCycleMethods(o,"postConstructMethods")},d.prototype.createBeans=function(){var o=this;this.contextParams.beanClasses.forEach(this.createBeanWrapper.bind(this)),zt(this.beanWrappers,function(a,u){var c;u.bean.__agBeanMetaData&&u.bean.__agBeanMetaData.autowireMethods&&u.bean.__agBeanMetaData.autowireMethods.agConstructor&&(c=u.bean.__agBeanMetaData.autowireMethods.agConstructor);var f=o.getBeansForParameters(c,u.bean.name),y=function(d,o){var r=[null].concat(o);return new(d.bind.apply(d,r))}(u.bean,f);u.beanInstance=y});var r=Object.keys(this.beanWrappers).join(", ");this.logger.log("created beans: "+r)},d.prototype.createBeanWrapper=function(o){var r=o.__agBeanMetaData;if(!r){var a;return a=o.prototype.constructor?_p(o.prototype.constructor):""+o,void console.error("Context item "+a+" is not a bean")}this.beanWrappers[r.beanName]={bean:o,beanInstance:null,beanName:r.beanName}},d.prototype.autoWireBeans=function(o){var r=this;o.forEach(function(a){r.forEachMetaDataInHierarchy(a,function(u,c){var f=u.agClassAttributes;!f||f.forEach(function(y){var w=r.lookupBeanInstance(c,y.beanName,y.optional);a[y.attributeName]=w})})})},d.prototype.methodWireBeans=function(o){var r=this;o.forEach(function(a){r.forEachMetaDataInHierarchy(a,function(u,c){zt(u.autowireMethods,function(f,y){if("agConstructor"!==f){var w=r.getBeansForParameters(y,c);a[f].apply(a,w)}})})})},d.prototype.forEachMetaDataInHierarchy=function(o,r){for(var a=Object.getPrototypeOf(o);null!=a;){var u=a.constructor;u.hasOwnProperty("__agBeanMetaData")&&r(u.__agBeanMetaData,this.getBeanName(u)),a=Object.getPrototypeOf(a)}},d.prototype.getBeanName=function(o){if(o.__agBeanMetaData&&o.__agBeanMetaData.beanName)return o.__agBeanMetaData.beanName;var r=o.toString();return r.substring(9,r.indexOf("("))},d.prototype.getBeansForParameters=function(o,r){var a=this,u=[];return o&&zt(o,function(c,f){var y=a.lookupBeanInstance(r,f);u[Number(c)]=y}),u},d.prototype.lookupBeanInstance=function(o,r,a){if(void 0===a&&(a=!1),"context"===r)return this;if(this.contextParams.providedBeanInstances&&this.contextParams.providedBeanInstances.hasOwnProperty(r))return this.contextParams.providedBeanInstances[r];var u=this.beanWrappers[r];return u?u.beanInstance:(a||console.error("AG Grid: unable to find bean reference "+r+" while initialising "+o),null)},d.prototype.callLifeCycleMethods=function(o,r){var a=this;o.forEach(function(u){return a.callLifeCycleMethodsOnBean(u,r)})},d.prototype.callLifeCycleMethodsOnBean=function(o,r,a){var u={};this.forEachMetaDataInHierarchy(o,function(f){var y=f[r];y&&y.forEach(function(w){w!=a&&(u[w]=!0)})}),Object.keys(u).forEach(function(f){return o[f]()})},d.prototype.getBean=function(o){return this.lookupBeanInstance("getBean",o,!0)},d.prototype.destroy=function(){if(!this.destroyed){this.logger.log(">> Shutting down ag-Application Context");var o=this.getBeanInstances();this.destroyBeans(o),this.contextParams.providedBeanInstances=null,this.destroyed=!0,this.logger.log(">> ag-Application Context shut down - component is dead")}},d.prototype.destroyBean=function(o){!o||this.destroyBeans([o])},d.prototype.destroyBeans=function(o){var r=this;return o?(o.forEach(function(a){r.callLifeCycleMethodsOnBean(a,"preDestroyMethods","destroy"),"function"==typeof a.destroy&&a.destroy()}),[]):[]},d}();function n_(d,o,r){var a=Zl(d.constructor);a.preConstructMethods||(a.preConstructMethods=[]),a.preConstructMethods.push(o)}function ye(d,o,r){var a=Zl(d.constructor);a.postConstructMethods||(a.postConstructMethods=[]),a.postConstructMethods.push(o)}function or(d,o,r){var a=Zl(d.constructor);a.preDestroyMethods||(a.preDestroyMethods=[]),a.preDestroyMethods.push(o)}function Te(d){return function(o){Zl(o).beanName=d}}function F(d){return function(o,r,a){r_(o,d,!1,0,r,null)}}function et(d){return function(o,r,a){r_(o,d,!0,0,r,null)}}function r_(d,o,r,a,u,c){if(null!==o)if("number"!=typeof c){var f=Zl(d.constructor);f.agClassAttributes||(f.agClassAttributes=[]),f.agClassAttributes.push({attributeName:u,beanName:o,optional:r})}else console.error("AG Grid: Autowired should be on an attribute");else console.error("AG Grid: Autowired name should not be null")}function br(d){return function(o,r,a){var c,u="function"==typeof o?o:o.constructor;if("number"==typeof a){var f=void 0;r?(c=Zl(u),f=r):(c=Zl(u),f="agConstructor"),c.autowireMethods||(c.autowireMethods={}),c.autowireMethods[f]||(c.autowireMethods[f]={}),c.autowireMethods[f][a]=d}}}function Zl(d){return d.hasOwnProperty("__agBeanMetaData")||(d.__agBeanMetaData={}),d.__agBeanMetaData}var d,Sc=function(d,o,r,a){var f,u=arguments.length,c=u<3?o:null===a?a=Object.getOwnPropertyDescriptor(o,r):a;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)c=Reflect.decorate(d,o,r,a);else for(var y=d.length-1;y>=0;y--)(f=d[y])&&(c=(u<3?f(c):u>3?f(o,r,c):f(o,r))||c);return u>3&&c&&Object.defineProperty(o,r,c),c},sr=function(d,o){return function(r,a){o(r,a,d)}},ma=function(){function d(){this.allSyncListeners=new Map,this.allAsyncListeners=new Map,this.globalSyncListeners=new Set,this.globalAsyncListeners=new Set,this.asyncFunctionsQueue=[],this.scheduled=!1,this.firedEvents={}}return d.prototype.setBeans=function(o,r,a,u){if(void 0===u&&(u=null),this.frameworkOverrides=a,u){var c=r.useAsyncEvents();this.addGlobalListener(u,c)}},d.prototype.getListeners=function(o,r,a){var u=r?this.allAsyncListeners:this.allSyncListeners,c=u.get(o);return!c&&a&&(c=new Set,u.set(o,c)),c},d.prototype.noRegisteredListenersExist=function(){return 0===this.allSyncListeners.size&&0===this.allAsyncListeners.size&&0===this.globalSyncListeners.size&&0===this.globalAsyncListeners.size},d.prototype.addEventListener=function(o,r,a){void 0===a&&(a=!1),this.getListeners(o,a,!0).add(r)},d.prototype.removeEventListener=function(o,r,a){void 0===a&&(a=!1);var u=this.getListeners(o,a,!1);u&&(u.delete(r),0===u.size)&&(a?this.allAsyncListeners:this.allSyncListeners).delete(o)},d.prototype.addGlobalListener=function(o,r){void 0===r&&(r=!1),(r?this.globalAsyncListeners:this.globalSyncListeners).add(o)},d.prototype.removeGlobalListener=function(o,r){void 0===r&&(r=!1),(r?this.globalAsyncListeners:this.globalSyncListeners).delete(o)},d.prototype.dispatchEvent=function(o){this.dispatchToListeners(o,!0),this.dispatchToListeners(o,!1),this.firedEvents[o.type]=!0},d.prototype.dispatchEventOnce=function(o){this.firedEvents[o.type]||this.dispatchEvent(o)},d.prototype.dispatchToListeners=function(o,r){var a=this,u=o.type,f=this.getListeners(u,r,!1);f&&f.forEach(function(D){r?a.dispatchAsync(function(){return D(o)}):D(o)}),(r?this.globalAsyncListeners:this.globalSyncListeners).forEach(function(w){r?a.dispatchAsync(function(){return a.frameworkOverrides.dispatchEvent(u,function(){return w(u,o)},!0)}):a.frameworkOverrides.dispatchEvent(u,function(){return w(u,o)},!0)})},d.prototype.dispatchAsync=function(o){this.asyncFunctionsQueue.push(o),this.scheduled||(window.setTimeout(this.flushAsyncQueue.bind(this),0),this.scheduled=!0)},d.prototype.flushAsyncQueue=function(){this.scheduled=!1;var o=this.asyncFunctionsQueue.slice();this.asyncFunctionsQueue=[],o.forEach(function(r){return r()})},Sc([sr(0,br("loggerFactory")),sr(1,br("gridOptionsWrapper")),sr(2,br("frameworkOverrides")),sr(3,br("globalEventListener"))],d.prototype,"setBeans",null),Sc([Te("eventService")],d)}(),q=function(){function d(){}return d.ROW_BUFFER_SIZE=10,d.LAYOUT_INTERVAL=500,d.BATCH_WAIT_MILLIS=50,d.EXPORT_TYPE_DRAG_COPY="dragCopy",d.EXPORT_TYPE_CLIPBOARD="clipboard",d.EXPORT_TYPE_EXCEL="excel",d.EXPORT_TYPE_CSV="csv",d.ROW_MODEL_TYPE_INFINITE="infinite",d.ROW_MODEL_TYPE_VIEWPORT="viewport",d.ROW_MODEL_TYPE_CLIENT_SIDE="clientSide",d.ROW_MODEL_TYPE_SERVER_SIDE="serverSide",d.ALWAYS="always",d.ONLY_WHEN_GROUPING="onlyWhenGrouping",d.PINNED_TOP="top",d.PINNED_BOTTOM="bottom",d.DOM_LAYOUT_NORMAL="normal",d.DOM_LAYOUT_PRINT="print",d.DOM_LAYOUT_AUTO_HEIGHT="autoHeight",d.GROUP_AUTO_COLUMN_ID="ag-Grid-AutoColumn",d.SOURCE_PASTE="paste",d.PINNED_RIGHT="right",d.PINNED_LEFT="left",d.SORT_ASC="asc",d.SORT_DESC="desc",d.INPUT_SELECTOR="input, select, button, textarea",d.FOCUSABLE_SELECTOR="[tabindex], input, select, button, textarea",d.FOCUSABLE_EXCLUDE=".ag-hidden, .ag-hidden *, [disabled], .ag-disabled, .ag-disabled *",d}();(d=H.GXE||(H.GXE={})).CommunityCoreModule="@ag-grid-community/core",d.CommunityAllModules="@ag-grid-community/all",d.InfiniteRowModelModule="@ag-grid-community/infinite-row-model",d.ClientSideRowModelModule="@ag-grid-community/client-side-row-model",d.CsvExportModule="@ag-grid-community/csv-export",d.EnterpriseCoreModule="@ag-grid-enterprise/core",d.EnterpriseAllModules="@ag-grid-enterprise/all",d.RowGroupingModule="@ag-grid-enterprise/row-grouping",d.ColumnToolPanelModule="@ag-grid-enterprise/column-tool-panel",d.FiltersToolPanelModule="@ag-grid-enterprise/filter-tool-panel",d.MenuModule="@ag-grid-enterprise/menu",d.SetFilterModule="@ag-grid-enterprise/set-filter",d.MultiFilterModule="@ag-grid-enterprise/multi-filter",d.StatusBarModule="@ag-grid-enterprise/status-bar",d.SideBarModule="@ag-grid-enterprise/side-bar",d.RangeSelectionModule="@ag-grid-enterprise/range-selection",d.MasterDetailModule="@ag-grid-enterprise/master-detail",d.RichSelectModule="@ag-grid-enterprise/rich-select",d.GridChartsModule="@ag-grid-enterprise/charts",d.ViewportRowModelModule="@ag-grid-enterprise/viewport-row-model",d.ServerSideRowModelModule="@ag-grid-enterprise/server-side-row-model",d.ExcelExportModule="@ag-grid-enterprise/excel-export",d.ClipboardModule="@ag-grid-enterprise/clipboard",d.SparklinesModule="@ag-grid-enterprise/sparklines",d.AngularModule="@ag-grid-community/angular",d.ReactModule="@ag-grid-community/react",d.VueModule="@ag-grid-community/vue",d.PolymerModule="@ag-grid-community/polymer";var ot=function(){function d(){}return d.register=function(o,r){void 0===r&&(r=!0),d.modulesMap[o.moduleName]=o,void 0===d.moduleBased?d.moduleBased=r:d.moduleBased!==r&&Mi(function(){console.warn("AG Grid: You are mixing modules (i.e. @ag-grid-community/core) and packages (ag-grid-community) - you can only use one or the other of these mechanisms."),console.warn("Please see https://www.ag-grid.com/javascript-grid/packages-modules/ for more information.")},"ModulePackageCheck")},d.registerModules=function(o,r){void 0===r&&(r=!0),o&&o.forEach(function(a){return d.register(a,r)})},d.assertRegistered=function(o,r){if(this.isRegistered(o))return!0;var u="AG Grid: unable to use "+r+" as module "+o+" is not present. Please see: https://www.ag-grid.com/javascript-grid/modules/";return Mi(function(){console.warn(u)},r+o),!1},d.isRegistered=function(o){return!!d.modulesMap[o]},d.getRegisteredModules=function(){return $l(d.modulesMap)},d.isPackageBased=function(){return!d.moduleBased},d.modulesMap={},d}(),Nr=function(d,o,r,a){var f,u=arguments.length,c=u<3?o:null===a?a=Object.getOwnPropertyDescriptor(o,r):a;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)c=Reflect.decorate(d,o,r,a);else for(var y=d.length-1;y>=0;y--)(f=d[y])&&(c=(u<3?f(c):u>3?f(o,r,c):f(o,r))||c);return u>3&&c&&Object.defineProperty(o,r,c),c},gA=0,jt=function(){function d(o,r,a,u){this.instanceId=gA++,this.moving=!1,this.menuVisible=!1,this.filterActive=!1,this.eventService=new ma,this.rowGroupActive=!1,this.pivotActive=!1,this.aggregationActive=!1,this.colDef=o,this.userProvidedColDef=r,this.colId=a,this.primary=u,this.setState(o)}return d.prototype.getInstanceId=function(){return this.instanceId},d.prototype.setState=function(o){void 0!==o.sort?(o.sort===q.SORT_ASC||o.sort===q.SORT_DESC)&&(this.sort=o.sort):(o.initialSort===q.SORT_ASC||o.initialSort===q.SORT_DESC)&&(this.sort=o.initialSort);var r=Tn(o.sortIndex),a=Tn(o.initialSortIndex);void 0!==r?null!==r&&(this.sortIndex=r):null!==a&&(this.sortIndex=a);var u=ga(o.hide),c=ga(o.initialHide);this.visible=void 0!==u?!u:!c,this.setPinned(void 0!==o.pinned?o.pinned:o.initialPinned);var f=Tn(o.flex),y=Tn(o.initialFlex);void 0!==f?this.flex=f:void 0!==y&&(this.flex=y)},d.prototype.setColDef=function(o,r){this.colDef=o,this.userProvidedColDef=r,this.initMinAndMaxWidths(),this.initDotNotation()},d.prototype.getUserProvidedColDef=function(){return this.userProvidedColDef},d.prototype.setParent=function(o){this.parent=o},d.prototype.getParent=function(){return this.parent},d.prototype.setOriginalParent=function(o){this.originalParent=o},d.prototype.getOriginalParent=function(){return this.originalParent},d.prototype.initialise=function(){this.initMinAndMaxWidths(),this.resetActualWidth("gridInitializing"),this.initDotNotation(),this.validate()},d.prototype.initDotNotation=function(){var o=this.gridOptionsWrapper.isSuppressFieldDotNotation();this.fieldContainsDots=ce(this.colDef.field)&&this.colDef.field.indexOf(".")>=0&&!o,this.tooltipFieldContainsDots=ce(this.colDef.tooltipField)&&this.colDef.tooltipField.indexOf(".")>=0&&!o},d.prototype.initMinAndMaxWidths=function(){var o=this.colDef;this.minWidth=this.columnUtils.calculateColMinWidth(o),this.maxWidth=this.columnUtils.calculateColMaxWidth(o)},d.prototype.resetActualWidth=function(o){void 0===o&&(o="api");var r=this.columnUtils.calculateColInitialWidth(this.colDef);this.setActualWidth(r,o,!0)},d.prototype.isEmptyGroup=function(){return!1},d.prototype.isRowGroupDisplayed=function(o){return!(Ge(this.colDef)||Ge(this.colDef.showRowGroup)||!0!==this.colDef.showRowGroup&&this.colDef.showRowGroup!==o)},d.prototype.isPrimary=function(){return this.primary},d.prototype.isFilterAllowed=function(){return this.primary&&(!!this.colDef.filter||!!this.colDef.filterFramework)},d.prototype.isFieldContainsDots=function(){return this.fieldContainsDots},d.prototype.isTooltipFieldContainsDots=function(){return this.tooltipFieldContainsDots},d.prototype.validate=function(){var o=this.colDef;function r(f,y,w){Mi(function(){w?console.warn(f,w):Mi(function(){return console.warn(f)},y)},y)}this.gridOptionsWrapper.isRowModelDefault()&&!ot.isRegistered(H.GXE.RowGroupingModule)&&["enableRowGroup","rowGroup","rowGroupIndex","enablePivot","enableValue","pivot","pivotIndex","aggFunc"].forEach(function(f){ce(o[f])&&(ot.isPackageBased()?r("AG Grid: "+f+" is only valid in ag-grid-enterprise, your column definition should not have "+f,"ColumnRowGroupingMissing"+f):r("AG Grid: "+f+" is only valid with AG Grid Enterprise Module "+H.GXE.RowGroupingModule+" - your column definition should not have "+f,"ColumnRowGroupingMissing"+f))}),ot.isRegistered(H.GXE.RichSelectModule)||"agRichSelect"===this.colDef.cellEditor&&(ot.isPackageBased()?r("AG Grid: "+this.colDef.cellEditor+" can only be used with ag-grid-enterprise","ColumnRichSelectMissing"):r("AG Grid: "+this.colDef.cellEditor+" can only be used with AG Grid Enterprise Module "+H.GXE.RichSelectModule,"ColumnRichSelectMissing")),this.gridOptionsWrapper.isTreeData()&&["rowGroup","rowGroupIndex","pivot","pivotIndex"].forEach(function(f){ce(o[f])&&r("AG Grid: "+f+" is not possible when doing tree data, your column definition should not have "+f,"TreeDataCannotRowGroup")}),ce(this.colDef.width)&&"number"!=typeof this.colDef.width&&r("AG Grid: colDef.width should be a number, not "+typeof this.colDef.width,"ColumnCheck_asdfawef"),o.pinnedRowCellRenderer&&r("AG Grid: pinnedRowCellRenderer no longer exists, use cellRendererSelector if you want a different Cell Renderer for pinned rows. Check params.node.rowPinned. This was an unfortunate (but necessary) change we had to do to allow future plans we have of re-skinng the data grid in frameworks such as React, Angular and Vue. See https://www.ag-grid.com/javascript-grid/cell-rendering/#many-renderers-one-column","colDef.pinnedRowCellRenderer-deprecated"),o.pinnedRowCellRendererParams&&r("AG Grid: pinnedRowCellRenderer no longer exists, use cellRendererSelector if you want a different Cell Renderer for pinned rows. Check params.node.rowPinned. This was an unfortunate (but necessary) change we had to do to allow future plans we have of re-skinng the data grid in frameworks such as React, Angular and Vue. See https://www.ag-grid.com/javascript-grid/cell-rendering/#many-renderers-one-column","colDef.pinnedRowCellRenderer-deprecated"),o.pinnedRowCellRendererFramework&&r("AG Grid: pinnedRowCellRenderer no longer exists, use cellRendererSelector if you want a different Cell Renderer for pinned rows. Check params.node.rowPinned. This was an unfortunate (but necessary) change we had to do to allow future plans we have of re-skinng the data grid in frameworks such as React, Angular and Vue. See https://www.ag-grid.com/javascript-grid/cell-rendering/#many-renderers-one-column","colDef.pinnedRowCellRenderer-deprecated"),o.pinnedRowValueGetter&&r("AG Grid: pinnedRowCellRenderer is deprecated, use cellRendererSelector if you want a different Cell Renderer for pinned rows. Check params.node.rowPinned. This was an unfortunate (but necessary) change we had to do to allow future plans we have of re-skinng the data grid in frameworks such as React, Angular and Vue.","colDef.pinnedRowCellRenderer-deprecated")},d.prototype.addEventListener=function(o,r){this.eventService.addEventListener(o,r)},d.prototype.removeEventListener=function(o,r){this.eventService.removeEventListener(o,r)},d.prototype.createColumnFunctionCallbackParams=function(o){return{node:o,data:o.data,column:this,colDef:this.colDef,context:this.gridOptionsWrapper.getContext(),api:this.gridOptionsWrapper.getApi(),columnApi:this.gridOptionsWrapper.getColumnApi()}},d.prototype.isSuppressNavigable=function(o){if("boolean"==typeof this.colDef.suppressNavigable)return this.colDef.suppressNavigable;if("function"==typeof this.colDef.suppressNavigable){var r=this.createColumnFunctionCallbackParams(o);return(0,this.colDef.suppressNavigable)(r)}return!1},d.prototype.isCellEditable=function(o){return!(o.group&&!this.gridOptionsWrapper.isEnableGroupEdit())&&this.isColumnFunc(o,this.colDef.editable)},d.prototype.isSuppressFillHandle=function(){return!!this.colDef.suppressFillHandle},d.prototype.isRowDrag=function(o){return this.isColumnFunc(o,this.colDef.rowDrag)},d.prototype.isDndSource=function(o){return this.isColumnFunc(o,this.colDef.dndSource)},d.prototype.isCellCheckboxSelection=function(o){return this.isColumnFunc(o,this.colDef.checkboxSelection)},d.prototype.isSuppressPaste=function(o){return this.isColumnFunc(o,this.colDef?this.colDef.suppressPaste:null)},d.prototype.isResizable=function(){return!0===this.colDef.resizable},d.prototype.isColumnFunc=function(o,r){return"boolean"==typeof r?r:"function"==typeof r&&r(this.createColumnFunctionCallbackParams(o))},d.prototype.setMoving=function(o,r){void 0===r&&(r="api"),this.moving=o,this.eventService.dispatchEvent(this.createColumnEvent(d.EVENT_MOVING_CHANGED,r))},d.prototype.createColumnEvent=function(o,r){return{api:this.gridApi,columnApi:this.columnApi,type:o,column:this,columns:[this],source:r}},d.prototype.isMoving=function(){return this.moving},d.prototype.getSort=function(){return this.sort},d.prototype.setSort=function(o,r){void 0===r&&(r="api"),this.sort!==o&&(this.sort=o,this.eventService.dispatchEvent(this.createColumnEvent(d.EVENT_SORT_CHANGED,r)))},d.prototype.setMenuVisible=function(o,r){void 0===r&&(r="api"),this.menuVisible!==o&&(this.menuVisible=o,this.eventService.dispatchEvent(this.createColumnEvent(d.EVENT_MENU_VISIBLE_CHANGED,r)))},d.prototype.isMenuVisible=function(){return this.menuVisible},d.prototype.isSortAscending=function(){return this.sort===q.SORT_ASC},d.prototype.isSortDescending=function(){return this.sort===q.SORT_DESC},d.prototype.isSortNone=function(){return Ge(this.sort)},d.prototype.isSorting=function(){return ce(this.sort)},d.prototype.getSortIndex=function(){return this.sortIndex},d.prototype.setSortIndex=function(o){this.sortIndex=o},d.prototype.setAggFunc=function(o){this.aggFunc=o},d.prototype.getAggFunc=function(){return this.aggFunc},d.prototype.getLeft=function(){return this.left},d.prototype.getOldLeft=function(){return this.oldLeft},d.prototype.getRight=function(){return this.left+this.actualWidth},d.prototype.setLeft=function(o,r){void 0===r&&(r="api"),this.oldLeft=this.left,this.left!==o&&(this.left=o,this.eventService.dispatchEvent(this.createColumnEvent(d.EVENT_LEFT_CHANGED,r)))},d.prototype.isFilterActive=function(){return this.filterActive},d.prototype.setFilterActive=function(o,r,a){void 0===r&&(r="api"),this.filterActive!==o&&(this.filterActive=o,this.eventService.dispatchEvent(this.createColumnEvent(d.EVENT_FILTER_ACTIVE_CHANGED,r)));var u=this.createColumnEvent(d.EVENT_FILTER_CHANGED,r);a&&Fo(u,a),this.eventService.dispatchEvent(u)},d.prototype.setPinned=function(o){this.pinned=!0===o||o===q.PINNED_LEFT?q.PINNED_LEFT:o===q.PINNED_RIGHT?q.PINNED_RIGHT:null},d.prototype.setFirstRightPinned=function(o,r){void 0===r&&(r="api"),this.firstRightPinned!==o&&(this.firstRightPinned=o,this.eventService.dispatchEvent(this.createColumnEvent(d.EVENT_FIRST_RIGHT_PINNED_CHANGED,r)))},d.prototype.setLastLeftPinned=function(o,r){void 0===r&&(r="api"),this.lastLeftPinned!==o&&(this.lastLeftPinned=o,this.eventService.dispatchEvent(this.createColumnEvent(d.EVENT_LAST_LEFT_PINNED_CHANGED,r)))},d.prototype.isFirstRightPinned=function(){return this.firstRightPinned},d.prototype.isLastLeftPinned=function(){return this.lastLeftPinned},d.prototype.isPinned=function(){return this.pinned===q.PINNED_LEFT||this.pinned===q.PINNED_RIGHT},d.prototype.isPinnedLeft=function(){return this.pinned===q.PINNED_LEFT},d.prototype.isPinnedRight=function(){return this.pinned===q.PINNED_RIGHT},d.prototype.getPinned=function(){return this.pinned},d.prototype.setVisible=function(o,r){void 0===r&&(r="api");var a=!0===o;this.visible!==a&&(this.visible=a,this.eventService.dispatchEvent(this.createColumnEvent(d.EVENT_VISIBLE_CHANGED,r)))},d.prototype.isVisible=function(){return this.visible},d.prototype.getColDef=function(){return this.colDef},d.prototype.getColumnGroupShow=function(){return this.colDef.columnGroupShow},d.prototype.getColId=function(){return this.colId},d.prototype.getId=function(){return this.getColId()},d.prototype.getUniqueId=function(){return this.getId()},d.prototype.getDefinition=function(){return this.colDef},d.prototype.getActualWidth=function(){return this.actualWidth},d.prototype.createBaseColDefParams=function(o){return{node:o,data:o.data,colDef:this.colDef,column:this,api:this.gridOptionsWrapper.getApi(),columnApi:this.gridOptionsWrapper.getColumnApi(),context:this.gridOptionsWrapper.getContext()}},d.prototype.getColSpan=function(o){if(Ge(this.colDef.colSpan))return 1;var r=this.createBaseColDefParams(o),a=this.colDef.colSpan(r);return Math.max(a,1)},d.prototype.getRowSpan=function(o){if(Ge(this.colDef.rowSpan))return 1;var r=this.createBaseColDefParams(o),a=this.colDef.rowSpan(r);return Math.max(a,1)},d.prototype.setActualWidth=function(o,r,a){void 0===r&&(r="api"),void 0===a&&(a=!1),null!=this.minWidth&&(o=Math.max(o,this.minWidth)),null!=this.maxWidth&&(o=Math.min(o,this.maxWidth)),this.actualWidth!==o&&(this.actualWidth=o,this.flex&&"flex"!==r&&"gridInitializing"!==r&&(this.flex=null),a||this.fireColumnWidthChangedEvent(r))},d.prototype.fireColumnWidthChangedEvent=function(o){this.eventService.dispatchEvent(this.createColumnEvent(d.EVENT_WIDTH_CHANGED,o))},d.prototype.isGreaterThanMax=function(o){return null!=this.maxWidth&&o>this.maxWidth},d.prototype.getMinWidth=function(){return this.minWidth},d.prototype.getMaxWidth=function(){return this.maxWidth},d.prototype.getFlex=function(){return this.flex||0},d.prototype.setFlex=function(o){this.flex!==o&&(this.flex=o)},d.prototype.setMinimum=function(o){void 0===o&&(o="api"),ce(this.minWidth)&&this.setActualWidth(this.minWidth,o)},d.prototype.setRowGroupActive=function(o,r){void 0===r&&(r="api"),this.rowGroupActive!==o&&(this.rowGroupActive=o,this.eventService.dispatchEvent(this.createColumnEvent(d.EVENT_ROW_GROUP_CHANGED,r)))},d.prototype.isRowGroupActive=function(){return this.rowGroupActive},d.prototype.setPivotActive=function(o,r){void 0===r&&(r="api"),this.pivotActive!==o&&(this.pivotActive=o,this.eventService.dispatchEvent(this.createColumnEvent(d.EVENT_PIVOT_CHANGED,r)))},d.prototype.isPivotActive=function(){return this.pivotActive},d.prototype.isAnyFunctionActive=function(){return this.isPivotActive()||this.isRowGroupActive()||this.isValueActive()},d.prototype.isAnyFunctionAllowed=function(){return this.isAllowPivot()||this.isAllowRowGroup()||this.isAllowValue()},d.prototype.setValueActive=function(o,r){void 0===r&&(r="api"),this.aggregationActive!==o&&(this.aggregationActive=o,this.eventService.dispatchEvent(this.createColumnEvent(d.EVENT_VALUE_CHANGED,r)))},d.prototype.isValueActive=function(){return this.aggregationActive},d.prototype.isAllowPivot=function(){return!0===this.colDef.enablePivot},d.prototype.isAllowValue=function(){return!0===this.colDef.enableValue},d.prototype.isAllowRowGroup=function(){return!0===this.colDef.enableRowGroup},d.prototype.getMenuTabs=function(o){var r=this.getColDef().menuTabs;return null==r&&(r=o),r},d.prototype.isLockPosition=function(){return console.warn("AG Grid: since v21, col.isLockPosition() should not be used, please use col.getColDef().lockPosition instead."),!!this.colDef&&!!this.colDef.lockPosition},d.prototype.isLockVisible=function(){return console.warn("AG Grid: since v21, col.isLockVisible() should not be used, please use col.getColDef().lockVisible instead."),!!this.colDef&&!!this.colDef.lockVisible},d.prototype.isLockPinned=function(){return console.warn("AG Grid: since v21, col.isLockPinned() should not be used, please use col.getColDef().lockPinned instead."),!!this.colDef&&!!this.colDef.lockPinned},d.EVENT_MOVING_CHANGED="movingChanged",d.EVENT_LEFT_CHANGED="leftChanged",d.EVENT_WIDTH_CHANGED="widthChanged",d.EVENT_LAST_LEFT_PINNED_CHANGED="lastLeftPinnedChanged",d.EVENT_FIRST_RIGHT_PINNED_CHANGED="firstRightPinnedChanged",d.EVENT_VISIBLE_CHANGED="visibleChanged",d.EVENT_FILTER_CHANGED="filterChanged",d.EVENT_FILTER_ACTIVE_CHANGED="filterActiveChanged",d.EVENT_SORT_CHANGED="sortChanged",d.EVENT_MENU_VISIBLE_CHANGED="menuVisibleChanged",d.EVENT_ROW_GROUP_CHANGED="columnRowGroupChanged",d.EVENT_PIVOT_CHANGED="columnPivotChanged",d.EVENT_VALUE_CHANGED="columnValueChanged",Nr([F("gridOptionsWrapper")],d.prototype,"gridOptionsWrapper",void 0),Nr([F("columnUtils")],d.prototype,"columnUtils",void 0),Nr([F("columnApi")],d.prototype,"columnApi",void 0),Nr([F("gridApi")],d.prototype,"gridApi",void 0),Nr([F("context")],d.prototype,"context",void 0),Nr([ye],d.prototype,"initialise",null),d}(),ar=function(){function d(o,r,a,u){this.displayedChildren=[],this.localEventService=new ma,this.groupId=r,this.instanceId=a,this.originalColumnGroup=o,this.pinned=u}return d.createUniqueId=function(o,r){return o+"_"+r},d.prototype.reset=function(){this.parent=null,this.children=null,this.displayedChildren=null},d.prototype.getParent=function(){return this.parent},d.prototype.setParent=function(o){this.parent=o},d.prototype.getUniqueId=function(){return d.createUniqueId(this.groupId,this.instanceId)},d.prototype.isEmptyGroup=function(){return 0===this.displayedChildren.length},d.prototype.isMoving=function(){var o=this.getOriginalColumnGroup().getLeafColumns();return!(!o||0===o.length)&&o.every(function(r){return r.isMoving()})},d.prototype.checkLeft=function(){if(this.displayedChildren.forEach(function(u){u instanceof d&&u.checkLeft()}),this.displayedChildren.length>0)if(this.gridOptionsWrapper.isEnableRtl()){var r=Jt(this.displayedChildren).getLeft();this.setLeft(r)}else{var a=this.displayedChildren[0].getLeft();this.setLeft(a)}else this.setLeft(null)},d.prototype.getLeft=function(){return this.left},d.prototype.getOldLeft=function(){return this.oldLeft},d.prototype.setLeft=function(o){this.oldLeft=o,this.left!==o&&(this.left=o,this.localEventService.dispatchEvent(this.createAgEvent(d.EVENT_LEFT_CHANGED)))},d.prototype.getPinned=function(){return this.pinned},d.prototype.createAgEvent=function(o){return{type:o}},d.prototype.addEventListener=function(o,r){this.localEventService.addEventListener(o,r)},d.prototype.removeEventListener=function(o,r){this.localEventService.removeEventListener(o,r)},d.prototype.getGroupId=function(){return this.groupId},d.prototype.getInstanceId=function(){return this.instanceId},d.prototype.isChildInThisGroupDeepSearch=function(o){var r=!1;return this.children.forEach(function(a){o===a&&(r=!0),a instanceof d&&a.isChildInThisGroupDeepSearch(o)&&(r=!0)}),r},d.prototype.getActualWidth=function(){var o=0;return this.displayedChildren&&this.displayedChildren.forEach(function(r){o+=r.getActualWidth()}),o},d.prototype.isResizable=function(){if(!this.displayedChildren)return!1;var o=!1;return this.displayedChildren.forEach(function(r){r.isResizable()&&(o=!0)}),o},d.prototype.getMinWidth=function(){var o=0;return this.displayedChildren.forEach(function(r){o+=r.getMinWidth()||0}),o},d.prototype.addChild=function(o){this.children||(this.children=[]),this.children.push(o)},d.prototype.getDisplayedChildren=function(){return this.displayedChildren},d.prototype.getLeafColumns=function(){var o=[];return this.addLeafColumns(o),o},d.prototype.getDisplayedLeafColumns=function(){var o=[];return this.addDisplayedLeafColumns(o),o},d.prototype.getDefinition=function(){return this.originalColumnGroup.getColGroupDef()},d.prototype.getColGroupDef=function(){return this.originalColumnGroup.getColGroupDef()},d.prototype.isPadding=function(){return this.originalColumnGroup.isPadding()},d.prototype.isExpandable=function(){return this.originalColumnGroup.isExpandable()},d.prototype.isExpanded=function(){return this.originalColumnGroup.isExpanded()},d.prototype.setExpanded=function(o){this.originalColumnGroup.setExpanded(o)},d.prototype.addDisplayedLeafColumns=function(o){this.displayedChildren.forEach(function(r){r instanceof jt?o.push(r):r instanceof d&&r.addDisplayedLeafColumns(o)})},d.prototype.addLeafColumns=function(o){this.children.forEach(function(r){r instanceof jt?o.push(r):r instanceof d&&r.addLeafColumns(o)})},d.prototype.getChildren=function(){return this.children},d.prototype.getColumnGroupShow=function(){return this.originalColumnGroup.getColumnGroupShow()},d.prototype.getOriginalColumnGroup=function(){return this.originalColumnGroup},d.prototype.getPaddingLevel=function(){var o=this.getParent();return this.isPadding()&&o&&o.isPadding()?1+o.getPaddingLevel():0},d.prototype.calculateDisplayedColumns=function(){var o=this;this.displayedChildren=[];for(var r=this;null!=r&&r.isPadding();)r=r.getParent();if(!r||!r.originalColumnGroup.isExpandable())return this.displayedChildren=this.children,void this.localEventService.dispatchEvent(this.createAgEvent(d.EVENT_DISPLAYED_CHILDREN_CHANGED));this.children.forEach(function(u){if(!(u instanceof d)||u.displayedChildren&&u.displayedChildren.length)switch(u.getColumnGroupShow()){case d.HEADER_GROUP_SHOW_OPEN:r.originalColumnGroup.isExpanded()&&o.displayedChildren.push(u);break;case d.HEADER_GROUP_SHOW_CLOSED:r.originalColumnGroup.isExpanded()||o.displayedChildren.push(u);break;default:o.displayedChildren.push(u)}}),this.localEventService.dispatchEvent(this.createAgEvent(d.EVENT_DISPLAYED_CHILDREN_CHANGED))},d.HEADER_GROUP_SHOW_OPEN="open",d.HEADER_GROUP_SHOW_CLOSED="closed",d.EVENT_LEFT_CHANGED="leftChanged",d.EVENT_DISPLAYED_CHILDREN_CHANGED="displayedChildrenChanged",function(d,o,r,a){var f,u=arguments.length,c=u<3?o:null===a?a=Object.getOwnPropertyDescriptor(o,r):a;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)c=Reflect.decorate(d,o,r,a);else for(var y=d.length-1;y>=0;y--)(f=d[y])&&(c=(u<3?f(c):u>3?f(o,r,c):f(o,r))||c);u>3&&c&&Object.defineProperty(o,r,c)}([F("gridOptionsWrapper")],d.prototype,"gridOptionsWrapper",void 0),d}(),ki=function(){function d(o,r,a,u){this.localEventService=new ma,this.expandable=!1,this.colGroupDef=o,this.groupId=r,this.expanded=!!o&&!!o.openByDefault,this.padding=a,this.level=u}return d.prototype.setOriginalParent=function(o){this.originalParent=o},d.prototype.getOriginalParent=function(){return this.originalParent},d.prototype.getLevel=function(){return this.level},d.prototype.isVisible=function(){return!!this.children&&this.children.some(function(o){return o.isVisible()})},d.prototype.isPadding=function(){return this.padding},d.prototype.setExpanded=function(o){this.expanded=void 0!==o&&o,this.localEventService.dispatchEvent({type:d.EVENT_EXPANDED_CHANGED})},d.prototype.isExpandable=function(){return this.expandable},d.prototype.isExpanded=function(){return this.expanded},d.prototype.getGroupId=function(){return this.groupId},d.prototype.getId=function(){return this.getGroupId()},d.prototype.setChildren=function(o){this.children=o},d.prototype.getChildren=function(){return this.children},d.prototype.getColGroupDef=function(){return this.colGroupDef},d.prototype.getLeafColumns=function(){var o=[];return this.addLeafColumns(o),o},d.prototype.addLeafColumns=function(o){!this.children||this.children.forEach(function(r){r instanceof jt?o.push(r):r instanceof d&&r.addLeafColumns(o)})},d.prototype.getColumnGroupShow=function(){var o=this.colGroupDef;if(o)return o.columnGroupShow},d.prototype.setupExpandable=function(){var o=this;this.setExpandable(),this.getLeafColumns().forEach(function(r){return r.addEventListener(jt.EVENT_VISIBLE_CHANGED,o.onColumnVisibilityChanged.bind(o))})},d.prototype.setExpandable=function(){if(!this.isPadding()){for(var o=!1,r=!1,a=!1,u=this.findChildrenRemovingPadding(),c=0,f=u.length;c<f;c++){var y=u[c];if(y.isVisible()){var w=y.getColumnGroupShow();w===ar.HEADER_GROUP_SHOW_OPEN?(o=!0,a=!0):w===ar.HEADER_GROUP_SHOW_CLOSED?(r=!0,a=!0):(o=!0,r=!0)}}var D=o&&r&&a;this.expandable!==D&&(this.expandable=D,this.localEventService.dispatchEvent({type:d.EVENT_EXPANDABLE_CHANGED}))}},d.prototype.findChildrenRemovingPadding=function(){var o=[],r=function(a){a.forEach(function(u){u instanceof d&&u.isPadding()?r(u.children):o.push(u)})};return r(this.children),o},d.prototype.onColumnVisibilityChanged=function(){this.setExpandable()},d.prototype.addEventListener=function(o,r){this.localEventService.addEventListener(o,r)},d.prototype.removeEventListener=function(o,r){this.localEventService.removeEventListener(o,r)},d.EVENT_EXPANDED_CHANGED="expandedChanged",d.EVENT_EXPANDABLE_CHANGED="expandableChanged",d}(),yA={numericColumn:{headerClass:"ag-right-aligned-header",cellClass:"ag-right-aligned-cell"},rightAligned:{headerClass:"ag-right-aligned-header",cellClass:"ag-right-aligned-cell"}},o_="__ag_Grid_Stop_Propagation",mA=["touchstart","touchend","touchmove","touchcancel"],Cr={};function ri(d){d[o_]=!0}function Ls(d){return!0===d[o_]}var s_=function(){var d={select:"input",change:"input",submit:"form",reset:"form",error:"img",load:"img",abort:"img"};return function(r){if("boolean"==typeof Cr[r])return Cr[r];var a=document.createElement(d[r]||"div"),u=(r="on"+r)in a;return u||(a.setAttribute(r,"return;"),u="function"==typeof a[r]),Cr[r]=u}}();function ag(d,o,r){for(var a=Ec(o);a;){var u=d.getDomData(a,r);if(u)return u;a=a.parentElement}return null}function Ec(d){return d.target||d.srcElement}function Vt(d,o){return!(!o||!d)&&lg(o).indexOf(d)>=0}function Zo(d){for(var o=[],r=Ec(d);r;)o.push(r),r=r.parentElement;return o}function lg(d){var o=d;return o.deepPath?o.deepPath():o.path?o.path:o.composedPath?o.composedPath():o.__agGridEventPath?o.__agGridEventPath:Zo(d)}function l_(d,o,r,a){var u=zn(mA,r);d&&d.addEventListener&&d.addEventListener(o,r,a,u?{passive:!0}:void 0)}var u_=Object.freeze({__proto__:null,stopPropagationForAgGrid:ri,isStopPropagationForAgGrid:Ls,isEventSupported:s_,getCtrlForEvent:ag,addChangeListener:function(d,o){d.addEventListener("changed",o),d.addEventListener("paste",o),d.addEventListener("input",o),d.addEventListener("keydown",o),d.addEventListener("keyup",o)},getTarget:Ec,isElementInEventPath:Vt,createEventPath:Zo,addAgGridEventPath:function(d){d.__agGridEventPath=lg(d)},getEventPath:lg,addSafePassiveEventListener:l_}),_a=function(d,o,r,a){var f,u=arguments.length,c=u<3?o:null===a?a=Object.getOwnPropertyDescriptor(o,r):a;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)c=Reflect.decorate(d,o,r,a);else for(var y=d.length-1;y>=0;y--)(f=d[y])&&(c=(u<3?f(c):u>3?f(o,r,c):f(o,r))||c);return u>3&&c&&Object.defineProperty(o,r,c),c},he=function(){function d(){var o=this;this.destroyFunctions=[],this.destroyed=!1,this.__v_skip=!0,this.isAlive=function(){return!o.destroyed}}return d.prototype.getFrameworkOverrides=function(){return this.frameworkOverrides},d.prototype.getContext=function(){return this.context},d.prototype.destroy=function(){this.destroyFunctions.forEach(function(o){return o()}),this.destroyFunctions.length=0,this.destroyed=!0,this.dispatchEvent({type:d.EVENT_DESTROYED})},d.prototype.addEventListener=function(o,r){this.localEventService||(this.localEventService=new ma),this.localEventService.addEventListener(o,r)},d.prototype.removeEventListener=function(o,r){this.localEventService&&this.localEventService.removeEventListener(o,r)},d.prototype.dispatchEventAsync=function(o){var r=this;window.setTimeout(function(){return r.dispatchEvent(o)},0)},d.prototype.dispatchEvent=function(o){this.localEventService&&this.localEventService.dispatchEvent(o)},d.prototype.addManagedListener=function(o,r,a){var u=this;if(!this.destroyed){o instanceof HTMLElement?l_(this.getFrameworkOverrides(),o,r,a):o.addEventListener(r,a);var c=function(){return o.removeEventListener(r,a),u.destroyFunctions=u.destroyFunctions.filter(function(f){return f!==c}),null};return this.destroyFunctions.push(c),c}},d.prototype.addDestroyFunc=function(o){this.isAlive()?this.destroyFunctions.push(o):o()},d.prototype.createManagedBean=function(o,r){var a=this.createBean(o,r);return this.addDestroyFunc(this.destroyBean.bind(this,o,r)),a},d.prototype.createBean=function(o,r,a){return(r||this.getContext()).createBean(o,a)},d.prototype.destroyBean=function(o,r){return(r||this.getContext()).destroyBean(o)},d.prototype.destroyBeans=function(o,r){var a=this;return o&&Wi(o,function(u){return a.destroyBean(u,r)}),[]},d.EVENT_DESTROYED="destroyed",_a([F("frameworkOverrides")],d.prototype,"frameworkOverrides",void 0),_a([F("context")],d.prototype,"context",void 0),_a([F("eventService")],d.prototype,"eventService",void 0),_a([F("gridOptionsWrapper")],d.prototype,"gridOptionsWrapper",void 0),_a([or],d.prototype,"destroy",null),d}(),c_=function(){var d=function(o,r){return(d=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(a,u){a.__proto__=u}||function(a,u){for(var c in u)u.hasOwnProperty(c)&&(a[c]=u[c])})(o,r)};return function(o,r){function a(){this.constructor=o}d(o,r),o.prototype=null===r?Object.create(r):(a.prototype=r.prototype,new a)}}(),ug=function(d,o,r,a){var f,u=arguments.length,c=u<3?o:null===a?a=Object.getOwnPropertyDescriptor(o,r):a;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)c=Reflect.decorate(d,o,r,a);else for(var y=d.length-1;y>=0;y--)(f=d[y])&&(c=(u<3?f(c):u>3?f(o,r,c):f(o,r))||c);return u>3&&c&&Object.defineProperty(o,r,c),c},qe=function(d,o){return function(r,a){o(r,a,d)}},bp=function(d){function o(){return null!==d&&d.apply(this,arguments)||this}return c_(o,d),o.prototype.setBeans=function(r){this.logger=r.create("ColumnFactory")},o.prototype.createColumnTree=function(r,a,u){var c=new Kf,f=this.extractExistingTreeData(u),y=f.existingCols,w=f.existingGroups;c.addExistingKeys(f.existingColKeys);var O=this.recursivelyCreateColumns(r,0,a,y,c,w),I=this.findMaxDept(O,0);this.logger.log("Number of levels for grouped columns is "+I);var V=this.balanceColumnTree(O,0,I,c);return this.columnUtils.depthFirstOriginalTreeSearch(null,V,function(z,ee){z instanceof ki&&z.setupExpandable(),z.setOriginalParent(ee)}),{columnTree:V,treeDept:I}},o.prototype.extractExistingTreeData=function(r){var a=[],u=[],c=[];return r&&this.columnUtils.depthFirstOriginalTreeSearch(null,r,function(f){if(f instanceof ki)u.push(f);else{var w=f;c.push(w.getId()),a.push(w)}}),{existingCols:a,existingGroups:u,existingColKeys:c}},o.prototype.createForAutoGroups=function(r,a){var u=this,c=[];return r.forEach(function(f){var y=u.createAutoGroupTreeItem(a,f);c.push(y)}),c},o.prototype.createAutoGroupTreeItem=function(r,a){for(var c=a,f=this.findDepth(r)-1;f>=0;f--){var y=new ki(null,"FAKE_PATH_"+a.getId()+"}_"+f,!0,f);this.context.createBean(y),y.setChildren([c]),c.setOriginalParent(y),c=y}return c},o.prototype.findDepth=function(r){for(var a=0,u=r;u&&u[0]&&u[0]instanceof ki;)a++,u=u[0].getChildren();return a},o.prototype.balanceColumnTree=function(r,a,u,c){for(var f=[],y=0;y<r.length;y++){var w=r[y];if(w instanceof ki){var D=w,O=this.balanceColumnTree(D.getChildren(),a+1,u,c);D.setChildren(O),f.push(D)}else{for(var I=void 0,V=void 0,B=u-1;B>=a;B--){var z=c.getUniqueKey(null,null),ee=this.createMergedColGroupDef(null),ie=new ki(ee,z,!0,a);this.context.createBean(ie),V&&V.setChildren([ie]),V=ie,I||(I=V)}if(I&&V){if(f.push(I),r.some(function(de){return de instanceof ki})){V.setChildren([w]);continue}V.setChildren(r);break}f.push(w)}}return f},o.prototype.findMaxDept=function(r,a){for(var u=a,c=0;c<r.length;c++){var f=r[c];if(f instanceof ki){var w=this.findMaxDept(f.getChildren(),a+1);u<w&&(u=w)}}return u},o.prototype.recursivelyCreateColumns=function(r,a,u,c,f,y){var w=this,D=[];return r&&r.forEach(function(O){var I;I=w.isColumnGroup(O)?w.createColumnGroup(u,O,a,c,f,y):w.createColumn(u,O,c,f),D.push(I)}),D},o.prototype.createColumnGroup=function(r,a,u,c,f,y){var w=this.createMergedColGroupDef(a),D=f.getUniqueKey(w.groupId||null,null),O=new ki(w,D,!1,u);this.context.createBean(O);var I=this.findExistingGroup(a,y);I&&I.isExpanded()&&O.setExpanded(!0);var V=this.recursivelyCreateColumns(w.children,u+1,r,c,f,y);return O.setChildren(V),O},o.prototype.createMergedColGroupDef=function(r){var a={};return rr(a,this.gridOptionsWrapper.getDefaultColGroupDef()),rr(a,r),this.checkForDeprecatedItems(a),a},o.prototype.createColumn=function(r,a,u,c){var f=this.mergeColDefs(a);this.checkForDeprecatedItems(f);var y=this.findExistingColumn(a,u);if(y)y.setColDef(f,a),this.applyColumnState(y,f);else{var w=c.getUniqueKey(f.colId,f.field);y=new jt(f,a,w,r),this.context.createBean(y)}return y},o.prototype.applyColumnState=function(r,a){var u=Tn(a.flex);if(void 0!==u&&r.setFlex(u),r.getFlex()<=0){var f=Tn(a.width);if(null!=f)r.setActualWidth(f);else{var y=r.getActualWidth();r.setActualWidth(y)}}void 0!==a.sort&&r.setSort(a.sort==q.SORT_ASC||a.sort==q.SORT_DESC?a.sort:void 0);var w=Tn(a.sortIndex);void 0!==w&&r.setSortIndex(w);var D=ga(a.hide);void 0!==D&&r.setVisible(!D),void 0!==a.pinned&&r.setPinned(a.pinned)},o.prototype.findExistingColumn=function(r,a){var u=Un(a,function(c){var f=c.getUserProvidedColDef();if(!f)return!1;var w=null!=r.field;return null!=r.colId?c.getId()===r.colId:w?f.field===r.field:f===r});return a&&u&&ln(a,u),u},o.prototype.findExistingGroup=function(r,a){var u=Un(a,function(c){return!(!c.getColGroupDef()||null==r.groupId||c.getId()!==r.groupId)});return u&&ln(a,u),u},o.prototype.mergeColDefs=function(r){var a={},u=this.gridOptionsWrapper.getDefaultColDef();Fo(a,u,!1,!0);var c=r.type;return c||(c=u&&u.type),c&&this.assignColumnTypes(c,a),Fo(a,r,!1,!0),a},o.prototype.assignColumnTypes=function(r,a){var u=[];if(r instanceof Array)r.some(function(w){return"string"!=typeof w})?console.warn("ag-grid: if colDef.type is supplied an array it should be of type 'string[]'"):u=r;else{if("string"!=typeof r)return void console.warn("ag-grid: colDef.type should be of type 'string' | 'string[]'");u=r.split(",")}var f=rr({},yA);zt(this.gridOptionsWrapper.getColumnTypes()||{},function(w,D){w in f?console.warn("AG Grid: the column type '"+w+"' is a default column type and cannot be overridden."):f[w]=D}),u.forEach(function(w){var D=f[w.trim()];D?Fo(a,D,!1,!0):console.warn("ag-grid: colDef.type '"+w+"' does not correspond to defined gridOptions.columnTypes")})},o.prototype.checkForDeprecatedItems=function(r){if(r){var a=r;void 0!==a.group&&console.warn("ag-grid: colDef.group is invalid, please check documentation on how to do grouping as it changed in version 3"),void 0!==a.headerGroup&&console.warn("ag-grid: colDef.headerGroup is invalid, please check documentation on how to do grouping as it changed in version 3"),void 0!==a.headerGroupShow&&console.warn("ag-grid: colDef.headerGroupShow is invalid, should be columnGroupShow, please check documentation on how to do grouping as it changed in version 3"),void 0!==a.suppressRowGroup&&console.warn("ag-grid: colDef.suppressRowGroup is deprecated, please use colDef.type instead"),void 0!==a.suppressAggregation&&console.warn("ag-grid: colDef.suppressAggregation is deprecated, please use colDef.type instead"),(a.suppressRowGroup||a.suppressAggregation)&&console.warn("ag-grid: colDef.suppressAggregation and colDef.suppressRowGroup are deprecated, use allowRowGroup, allowPivot and allowValue instead"),a.displayName&&(console.warn("ag-grid: Found displayName "+a.displayName+", please use headerName instead, displayName is deprecated."),a.headerName=a.displayName)}},o.prototype.isColumnGroup=function(r){return void 0!==r.children},ug([F("columnUtils")],o.prototype,"columnUtils",void 0),ug([qe(0,br("loggerFactory"))],o.prototype,"setBeans",null),ug([Te("columnFactory")],o)}(he),j=function(){function d(){}return d.EVENT_COLUMN_EVERYTHING_CHANGED="columnEverythingChanged",d.EVENT_NEW_COLUMNS_LOADED="newColumnsLoaded",d.EVENT_COLUMN_PIVOT_MODE_CHANGED="columnPivotModeChanged",d.EVENT_COLUMN_ROW_GROUP_CHANGED="columnRowGroupChanged",d.EVENT_EXPAND_COLLAPSE_ALL="expandOrCollapseAll",d.EVENT_COLUMN_PIVOT_CHANGED="columnPivotChanged",d.EVENT_GRID_COLUMNS_CHANGED="gridColumnsChanged",d.EVENT_COLUMN_VALUE_CHANGED="columnValueChanged",d.EVENT_COLUMN_MOVED="columnMoved",d.EVENT_COLUMN_VISIBLE="columnVisible",d.EVENT_COLUMN_PINNED="columnPinned",d.EVENT_COLUMN_GROUP_OPENED="columnGroupOpened",d.EVENT_COLUMN_RESIZED="columnResized",d.EVENT_DISPLAYED_COLUMNS_CHANGED="displayedColumnsChanged",d.EVENT_VIRTUAL_COLUMNS_CHANGED="virtualColumnsChanged",d.EVENT_ASYNC_TRANSACTIONS_FLUSHED="asyncTransactionsFlushed",d.EVENT_ROW_GROUP_OPENED="rowGroupOpened",d.EVENT_ROW_DATA_CHANGED="rowDataChanged",d.EVENT_ROW_DATA_UPDATED="rowDataUpdated",d.EVENT_PINNED_ROW_DATA_CHANGED="pinnedRowDataChanged",d.EVENT_RANGE_SELECTION_CHANGED="rangeSelectionChanged",d.EVENT_CHART_CREATED="chartCreated",d.EVENT_CHART_RANGE_SELECTION_CHANGED="chartRangeSelectionChanged",d.EVENT_CHART_OPTIONS_CHANGED="chartOptionsChanged",d.EVENT_CHART_DESTROYED="chartDestroyed",d.EVENT_TOOL_PANEL_VISIBLE_CHANGED="toolPanelVisibleChanged",d.EVENT_COLUMN_PANEL_ITEM_DRAG_START="columnPanelItemDragStart",d.EVENT_COLUMN_PANEL_ITEM_DRAG_END="columnPanelItemDragEnd",d.EVENT_MODEL_UPDATED="modelUpdated",d.EVENT_PASTE_START="pasteStart",d.EVENT_PASTE_END="pasteEnd",d.EVENT_FILL_START="fillStart",d.EVENT_FILL_END="fillEnd",d.EVENT_CELL_CLICKED="cellClicked",d.EVENT_CELL_DOUBLE_CLICKED="cellDoubleClicked",d.EVENT_CELL_MOUSE_DOWN="cellMouseDown",d.EVENT_CELL_CONTEXT_MENU="cellContextMenu",d.EVENT_CELL_VALUE_CHANGED="cellValueChanged",d.EVENT_ROW_VALUE_CHANGED="rowValueChanged",d.EVENT_CELL_FOCUSED="cellFocused",d.EVENT_ROW_SELECTED="rowSelected",d.EVENT_SELECTION_CHANGED="selectionChanged",d.EVENT_CELL_KEY_DOWN="cellKeyDown",d.EVENT_CELL_KEY_PRESS="cellKeyPress",d.EVENT_CELL_MOUSE_OVER="cellMouseOver",d.EVENT_CELL_MOUSE_OUT="cellMouseOut",d.EVENT_FILTER_CHANGED="filterChanged",d.EVENT_FILTER_MODIFIED="filterModified",d.EVENT_FILTER_OPENED="filterOpened",d.EVENT_SORT_CHANGED="sortChanged",d.EVENT_VIRTUAL_ROW_REMOVED="virtualRowRemoved",d.EVENT_ROW_CLICKED="rowClicked",d.EVENT_ROW_DOUBLE_CLICKED="rowDoubleClicked",d.EVENT_GRID_READY="gridReady",d.EVENT_GRID_SIZE_CHANGED="gridSizeChanged",d.EVENT_VIEWPORT_CHANGED="viewportChanged",d.EVENT_SCROLLBAR_WIDTH_CHANGED="scrollbarWidthChanged",d.EVENT_FIRST_DATA_RENDERED="firstDataRendered",d.EVENT_DRAG_STARTED="dragStarted",d.EVENT_DRAG_STOPPED="dragStopped",d.EVENT_CHECKBOX_CHANGED="checkboxChanged",d.EVENT_ROW_EDITING_STARTED="rowEditingStarted",d.EVENT_ROW_EDITING_STOPPED="rowEditingStopped",d.EVENT_CELL_EDITING_STARTED="cellEditingStarted",d.EVENT_CELL_EDITING_STOPPED="cellEditingStopped",d.EVENT_BODY_SCROLL="bodyScroll",d.EVENT_BODY_SCROLL_END="bodyScrollEnd",d.EVENT_HEIGHT_SCALE_CHANGED="heightScaleChanged",d.EVENT_PAGINATION_CHANGED="paginationChanged",d.EVENT_COMPONENT_STATE_CHANGED="componentStateChanged",d.EVENT_BODY_HEIGHT_CHANGED="bodyHeightChanged",d.EVENT_DISPLAYED_COLUMNS_WIDTH_CHANGED="displayedColumnsWidthChanged",d.EVENT_SCROLL_VISIBILITY_CHANGED="scrollVisibilityChanged",d.EVENT_COLUMN_HOVER_CHANGED="columnHoverChanged",d.EVENT_FLASH_CELLS="flashCells",d.EVENT_PAGINATION_PIXEL_OFFSET_CHANGED="paginationPixelOffsetChanged",d.EVENT_DISPLAYED_ROWS_CHANGED="displayedRowsChanged",d.EVENT_LEFT_PINNED_WIDTH_CHANGED="leftPinnedWidthChanged",d.EVENT_RIGHT_PINNED_WIDTH_CHANGED="rightPinnedWidthChanged",d.EVENT_ROW_CONTAINER_HEIGHT_CHANGED="rowContainerHeightChanged",d.EVENT_ROW_DRAG_ENTER="rowDragEnter",d.EVENT_ROW_DRAG_MOVE="rowDragMove",d.EVENT_ROW_DRAG_LEAVE="rowDragLeave",d.EVENT_ROW_DRAG_END="rowDragEnd",d.EVENT_POPUP_TO_FRONT="popupToFront",d.EVENT_COLUMN_ROW_GROUP_CHANGE_REQUEST="columnRowGroupChangeRequest",d.EVENT_COLUMN_PIVOT_CHANGE_REQUEST="columnPivotChangeRequest",d.EVENT_COLUMN_VALUE_CHANGE_REQUEST="columnValueChangeRequest",d.EVENT_COLUMN_AGG_FUNC_CHANGE_REQUEST="columnAggFuncChangeRequest",d.EVENT_KEYBOARD_FOCUS="keyboardFocus",d.EVENT_MOUSE_FOCUS="mouseFocus",d.EVENT_STORE_UPDATED="storeUpdated",d}(),Qo=function(){function d(){this.existingIds={}}return d.prototype.getInstanceIdForKey=function(o){var a,r=this.existingIds[o];return this.existingIds[o]=a="number"!=typeof r?0:r+1,a},d}(),d_=/[&<>"']/g,_A={"&":"&amp;","<":"&lt;",">":"&gt;",'"':"&quot;","'":"&#39;"};function Zr(d,o){if(o=Math.floor(o),0===d.length||0===o)return"";var r=d.length*o;for(o=Math.floor(Math.log(o)/Math.log(2));o;)d+=d,o--;return d+d.substring(0,r-d.length)}function p_(d,o,r){return d.length>o?d:((o-=d.length)>r.length&&(r+=Zr(r,o/r.length)),r.slice(0,o)+d)}function tS(d){return null==d?null:d.replace(/([A-Z])/g,function(o){return"-"+o[0].toLowerCase()})}function mn(d){return null==d?null:d.replace(/-([a-z])/g,function(o){return o[1].toUpperCase()})}function h_(d){return d[0].toUpperCase()+d.substr(1).toLowerCase()}function No(d){return null==d?null:d.toString().toString().replace(d_,function(o){return _A[o]})}function cg(d){return d&&null!=d?d.replace(/([A-Z])([A-Z])([a-z])|([a-z])([A-Z])/g,"$1$4 $2$3$5").replace("."," ").split(" ").map(function(a){return a.substring(0,1).toUpperCase()+(a.length>1?a.substring(1,a.length):"")}).join(" "):null}function f_(d,o){return d===o||null!=d&&d.slice(0,o.length)===o}var oi=Object.freeze({__proto__:null,utf8_encode:function(d){var o=String.fromCharCode;function u(I,V){return o(I>>V&63|128)}function c(I){if(I>=0&&I<=31&&10!==I)return"_x"+p_(I.toString(16).toUpperCase(),4,"0")+"_";if(0==(4294967168&I))return o(I);var z="";return 0==(4294965248&I)?z=o(I>>6&31|192):0==(4294901760&I)?(function(I){if(I>=55296&&I<=57343)throw Error("Lone surrogate U+"+I.toString(16).toUpperCase()+" is not a scalar value")}(I),z=o(I>>12&15|224),z+=u(I,6)):0==(4292870144&I)&&(z=o(I>>18&7|240),z+=u(I,12),z+=u(I,6)),z+o(63&I|128)}for(var f=function(I){var V=[];if(!I)return[];for(var ee,ie,B=I.length,z=0;z<B;)(ee=I.charCodeAt(z++))>=55296&&ee<=56319&&z<B?56320==(64512&(ie=I.charCodeAt(z++)))?V.push(((1023&ee)<<10)+(1023&ie)+65536):(V.push(ee),z--):V.push(ee);return V}(d),y=f.length,w=-1,O="";++w<y;)O+=c(f[w]);return O},stringRepeat:Zr,padStart:p_,camelCaseToHyphen:tS,hyphenToCamelCase:mn,capitalise:h_,escapeString:No,camelCaseToHumanText:cg,startsWith:f_});function Vs(d){var o=new Map;return d.forEach(function(r){return o.set(r[0],r[1])}),o}var gi=Object.freeze({__proto__:null,convertToMap:Vs,mapById:function(d,o){var r=new Map;return d.forEach(function(a){return r.set(o(a),a)}),r},keys:function(d){var o=[];return d.forEach(function(r,a){return o.push(a)}),o}}),Cp=function(){var d=function(o,r){return(d=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(a,u){a.__proto__=u}||function(a,u){for(var c in u)u.hasOwnProperty(c)&&(a[c]=u[c])})(o,r)};return function(o,r){function a(){this.constructor=o}d(o,r),o.prototype=null===r?Object.create(r):(a.prototype=r.prototype,new a)}}(),_n=function(d,o,r,a){var f,u=arguments.length,c=u<3?o:null===a?a=Object.getOwnPropertyDescriptor(o,r):a;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)c=Reflect.decorate(d,o,r,a);else for(var y=d.length-1;y>=0;y--)(f=d[y])&&(c=(u<3?f(c):u>3?f(o,r,c):f(o,r))||c);return u>3&&c&&Object.defineProperty(o,r,c),c},dg=function(d,o){return function(r,a){o(r,a,d)}},v_=function(d){function o(){var r=null!==d&&d.apply(this,arguments)||this;return r.primaryHeaderRowCount=0,r.secondaryHeaderRowCount=0,r.secondaryColumnsPresent=!1,r.gridHeaderRowCount=0,r.displayedColumnsLeft=[],r.displayedColumnsRight=[],r.displayedColumnsCenter=[],r.displayedColumns=[],r.displayedColumnsAndGroupsMap={},r.viewportColumns=[],r.viewportColumnsCenter=[],r.autoHeightActiveAtLeastOnce=!1,r.rowGroupColumns=[],r.valueColumns=[],r.pivotColumns=[],r.ready=!1,r.autoGroupsNeedBuilding=!1,r.forceRecreateAutoGroups=!1,r.pivotMode=!1,r.bodyWidth=0,r.leftWidth=0,r.rightWidth=0,r.bodyWidthDirty=!0,r.colDefVersion=0,r.flexColsCalculatedAtLestOnce=!1,r}return Cp(o,d),o.prototype.init=function(){this.suppressColumnVirtualisation=this.gridOptionsWrapper.isSuppressColumnVirtualisation();var r=this.gridOptionsWrapper.isPivotMode();this.isPivotSettingAllowed(r)&&(this.pivotMode=r),this.usingTreeData=this.gridOptionsWrapper.isTreeData(),this.addManagedListener(this.gridOptionsWrapper,"autoGroupColumnDef",this.onAutoGroupColumnDefChanged.bind(this))},o.prototype.onAutoGroupColumnDefChanged=function(){this.autoGroupsNeedBuilding=!0,this.forceRecreateAutoGroups=!0,this.updateGridColumns(),this.updateDisplayedColumns("gridOptionsChanged")},o.prototype.getColDefVersion=function(){return this.colDefVersion},o.prototype.setColumnDefs=function(r,a){var u=this;void 0===a&&(a="api");var c=!!this.columnDefs;this.colDefVersion++;var f=this.compareColumnStatesAndRaiseEvents(a);this.columnDefs=r,this.valueCache.expire(),this.autoGroupsNeedBuilding=!0;var y=this.primaryColumns,D=this.columnFactory.createColumnTree(r,!0,this.primaryColumnTree);this.primaryColumnTree=D.columnTree,this.primaryHeaderRowCount=D.treeDept+1,this.primaryColumns=this.getColumnsFromTree(this.primaryColumnTree),this.primaryColumnsMap={},this.primaryColumns.forEach(function(O){return u.primaryColumnsMap[O.getId()]=O}),this.extractRowGroupColumns(a,y),this.extractPivotColumns(a,y),this.extractValueColumns(a,y),this.ready=!0,this.updateGridColumns(),c&&this.gridColsArePrimary&&!this.gridOptionsWrapper.isMaintainColumnOrder()&&this.orderGridColumnsLikePrimary(),this.updateDisplayedColumns(a),this.checkViewportColumns(),this.dispatchEverythingChanged(a),f(),this.dispatchNewColumnsLoaded()},o.prototype.dispatchNewColumnsLoaded=function(){this.eventService.dispatchEvent({type:j.EVENT_NEW_COLUMNS_LOADED,api:this.gridApi,columnApi:this.columnApi})},o.prototype.dispatchEverythingChanged=function(r){void 0===r&&(r="api"),this.eventService.dispatchEvent({type:j.EVENT_COLUMN_EVERYTHING_CHANGED,api:this.gridApi,columnApi:this.columnApi,source:r})},o.prototype.orderGridColumnsLikePrimary=function(){var r=this,a=this.primaryColumns;!a||this.gridColumns.sort(function(u,c){var f=a.indexOf(u),y=a.indexOf(c),w=f>=0,D=y>=0;return w&&D?f-y:w?1:D?-1:r.gridColumns.indexOf(u)-r.gridColumns.indexOf(c)})},o.prototype.getAllDisplayedAutoHeightCols=function(){return this.displayedAutoHeightCols},o.prototype.setViewport=function(){this.gridOptionsWrapper.isEnableRtl()?(this.viewportLeft=this.bodyWidth-this.scrollPosition-this.scrollWidth,this.viewportRight=this.bodyWidth-this.scrollPosition):(this.viewportLeft=this.scrollPosition,this.viewportRight=this.scrollWidth+this.scrollPosition)},o.prototype.getDisplayedColumnsStartingAt=function(r){for(var a=r,u=[];null!=a;)u.push(a),a=this.getDisplayedColAfter(a);return u},o.prototype.checkViewportColumns=function(){if(null!=this.displayedColumnsCenter){var r=this.viewportColumns.map(function(c){return c.getId()}).join("#");this.extractViewport(),r!==this.viewportColumns.map(function(c){return c.getId()}).join("#")&&this.eventService.dispatchEvent({type:j.EVENT_VIRTUAL_COLUMNS_CHANGED,api:this.gridApi,columnApi:this.columnApi})}},o.prototype.setViewportPosition=function(r,a){(r!==this.scrollWidth||a!==this.scrollPosition||this.bodyWidthDirty)&&(this.scrollWidth=r,this.scrollPosition=a,this.bodyWidthDirty=!0,this.setViewport(),this.ready&&this.checkViewportColumns())},o.prototype.isPivotMode=function(){return this.pivotMode},o.prototype.isPivotSettingAllowed=function(r){return!r||!this.gridOptionsWrapper.isTreeData()||(console.warn("AG Grid: Pivot mode not available in conjunction Tree Data i.e. 'gridOptions.treeData: true'"),!1)},o.prototype.setPivotMode=function(r,a){void 0===a&&(a="api"),r!==this.pivotMode&&this.isPivotSettingAllowed(this.pivotMode)&&(this.pivotMode=r,this.autoGroupsNeedBuilding=!0,this.updateGridColumns(),this.updateDisplayedColumns(a),this.eventService.dispatchEvent({type:j.EVENT_COLUMN_PIVOT_MODE_CHANGED,api:this.gridApi,columnApi:this.columnApi}))},o.prototype.getSecondaryPivotColumn=function(r,a){if(!this.secondaryColumnsPresent||!this.secondaryColumns)return null;var u=this.getPrimaryColumn(a),c=null;return this.secondaryColumns.forEach(function(f){var y=f.getColDef().pivotKeys,w=f.getColDef().pivotValueColumn;Yl(y,r)&&w===u&&(c=f)}),c},o.prototype.setBeans=function(r){this.logger=r.create("columnModel")},o.prototype.setFirstRightAndLastLeftPinned=function(r){var a,u;this.gridOptionsWrapper.isEnableRtl()?(a=this.displayedColumnsLeft?this.displayedColumnsLeft[0]:null,u=this.displayedColumnsRight?Jt(this.displayedColumnsRight):null):(a=this.displayedColumnsLeft?Jt(this.displayedColumnsLeft):null,u=this.displayedColumnsRight?this.displayedColumnsRight[0]:null),this.gridColumns.forEach(function(c){c.setLastLeftPinned(c===a,r),c.setFirstRightPinned(c===u,r)})},o.prototype.autoSizeColumns=function(r,a,u){var c=this;void 0===u&&(u="api"),this.animationFrameService.flushAllFrames();var f=[],y=-1;for(null==a&&(a=this.gridOptionsWrapper.isSkipHeaderOnAutoSize());0!==y;)y=0,this.actionOnGridColumns(r,function(w){if(f.indexOf(w)>=0)return!1;var D=c.autoWidthCalculator.getPreferredWidthForColumn(w,a);if(D>0){var O=c.normaliseColumnWidth(w,D);w.setActualWidth(O,u),f.push(w),y++}return!0},u);this.fireColumnResizedEvent(f,!0,"autosizeColumns")},o.prototype.fireColumnResizedEvent=function(r,a,u,c){void 0===c&&(c=null),r&&r.length&&this.eventService.dispatchEvent({type:j.EVENT_COLUMN_RESIZED,columns:r,column:1===r.length?r[0]:null,flexColumns:c,finished:a,api:this.gridApi,columnApi:this.columnApi,source:u})},o.prototype.autoSizeColumn=function(r,a,u){void 0===u&&(u="api"),r&&this.autoSizeColumns([r],a,u)},o.prototype.autoSizeAllColumns=function(r,a){void 0===a&&(a="api");var u=this.getAllDisplayedColumns();this.autoSizeColumns(u,r,a)},o.prototype.getColumnsFromTree=function(r){var a=[],u=function(c){for(var f=0;f<c.length;f++){var y=c[f];y instanceof jt?a.push(y):y instanceof ki&&u(y.getChildren())}};return u(r),a},o.prototype.getAllDisplayedTrees=function(){return this.displayedTreeLeft&&this.displayedTreeRight&&this.displayedTreeCentre?this.displayedTreeLeft.concat(this.displayedTreeCentre).concat(this.displayedTreeRight):null},o.prototype.getPrimaryColumnTree=function(){return this.primaryColumnTree},o.prototype.getHeaderRowCount=function(){return this.gridHeaderRowCount},o.prototype.getDisplayedTreeLeft=function(){return this.displayedTreeLeft},o.prototype.getDisplayedTreeRight=function(){return this.displayedTreeRight},o.prototype.getDisplayedTreeCentre=function(){return this.displayedTreeCentre},o.prototype.isColumnDisplayed=function(r){return this.getAllDisplayedColumns().indexOf(r)>=0},o.prototype.getAllDisplayedColumns=function(){return this.displayedColumns},o.prototype.getViewportColumns=function(){return this.viewportColumns},o.prototype.getDisplayedLeftColumnsForRow=function(r){return this.colSpanActive?this.getDisplayedColumnsForRow(r,this.displayedColumnsLeft):this.displayedColumnsLeft},o.prototype.getDisplayedRightColumnsForRow=function(r){return this.colSpanActive?this.getDisplayedColumnsForRow(r,this.displayedColumnsRight):this.displayedColumnsRight},o.prototype.getDisplayedColumnsForRow=function(r,a,u,c){for(var D,f=[],y=null,w=function(I){var de,V=a[I],B=a.length-I,z=Math.min(V.getColSpan(r),B),ee=[V];if(z>1){for(var ie=z-1,_e=1;_e<=ie;_e++)ee.push(a[I+_e]);I+=ie}u?(de=!1,ee.forEach(function(Ee){u(Ee)&&(de=!0)})):de=!0,de&&(0===f.length&&y&&c&&c(V)&&f.push(y),f.push(V)),y=V,D=I},O=0;O<a.length;O++)w(O),O=D;return f},o.prototype.getViewportCenterColumnsForRow=function(r){var a=this;if(!this.colSpanActive)return this.viewportColumnsCenter;var c=this.suppressColumnVirtualisation?null:this.isColumnInViewport.bind(this);return this.getDisplayedColumnsForRow(r,this.displayedColumnsCenter,c,function(f){var y=f.getLeft();return ce(y)&&y>a.viewportLeft})},o.prototype.getAriaColumnIndex=function(r){return this.getAllGridColumns().indexOf(r)+1},o.prototype.isColumnInViewport=function(r){if(r.getColDef().autoHeight)return!0;var a=r.getLeft()||0,u=a+r.getActualWidth(),c=this.viewportLeft-200,f=this.viewportRight+200;return!(a<c&&u<c||a>f&&u>f)},o.prototype.getDisplayedColumnsLeftWidth=function(){return this.getWidthOfColsInList(this.displayedColumnsLeft)},o.prototype.getDisplayedColumnsRightWidth=function(){return this.getWidthOfColsInList(this.displayedColumnsRight)},o.prototype.updatePrimaryColumnList=function(r,a,u,c,f,y){var w=this;if(void 0===y&&(y="api"),r&&!Vn(r)){var D=!1;r.forEach(function(I){var V=w.getPrimaryColumn(I);if(V){if(u){if(a.indexOf(V)>=0)return;a.push(V)}else{if(a.indexOf(V)<0)return;ln(a,V)}c(V),D=!0}}),D&&(this.autoGroupsNeedBuilding&&this.updateGridColumns(),this.updateDisplayedColumns(y),this.eventService.dispatchEvent({type:f,columns:a,column:1===a.length?a[0]:null,api:this.gridApi,columnApi:this.columnApi,source:y}))}},o.prototype.setRowGroupColumns=function(r,a){void 0===a&&(a="api"),this.autoGroupsNeedBuilding=!0,this.setPrimaryColumnList(r,this.rowGroupColumns,j.EVENT_COLUMN_ROW_GROUP_CHANGED,this.setRowGroupActive.bind(this),a)},o.prototype.setRowGroupActive=function(r,a,u){r!==a.isRowGroupActive()&&(a.setRowGroupActive(r,u),!r&&!this.gridOptionsWrapper.isSuppressMakeColumnVisibleAfterUnGroup()&&a.setVisible(!0,u))},o.prototype.addRowGroupColumn=function(r,a){void 0===a&&(a="api"),r&&this.addRowGroupColumns([r],a)},o.prototype.addRowGroupColumns=function(r,a){void 0===a&&(a="api"),this.autoGroupsNeedBuilding=!0,this.updatePrimaryColumnList(r,this.rowGroupColumns,!0,this.setRowGroupActive.bind(this,!0),j.EVENT_COLUMN_ROW_GROUP_CHANGED,a)},o.prototype.removeRowGroupColumns=function(r,a){void 0===a&&(a="api"),this.autoGroupsNeedBuilding=!0,this.updatePrimaryColumnList(r,this.rowGroupColumns,!1,this.setRowGroupActive.bind(this,!1),j.EVENT_COLUMN_ROW_GROUP_CHANGED,a)},o.prototype.removeRowGroupColumn=function(r,a){void 0===a&&(a="api"),r&&this.removeRowGroupColumns([r],a)},o.prototype.addPivotColumns=function(r,a){void 0===a&&(a="api"),this.updatePrimaryColumnList(r,this.pivotColumns,!0,function(u){return u.setPivotActive(!0,a)},j.EVENT_COLUMN_PIVOT_CHANGED,a)},o.prototype.setPivotColumns=function(r,a){void 0===a&&(a="api"),this.setPrimaryColumnList(r,this.pivotColumns,j.EVENT_COLUMN_PIVOT_CHANGED,function(u,c){c.setPivotActive(u,a)},a)},o.prototype.addPivotColumn=function(r,a){void 0===a&&(a="api"),this.addPivotColumns([r],a)},o.prototype.removePivotColumns=function(r,a){void 0===a&&(a="api"),this.updatePrimaryColumnList(r,this.pivotColumns,!1,function(u){return u.setPivotActive(!1,a)},j.EVENT_COLUMN_PIVOT_CHANGED,a)},o.prototype.removePivotColumn=function(r,a){void 0===a&&(a="api"),this.removePivotColumns([r],a)},o.prototype.setPrimaryColumnList=function(r,a,u,c,f){var y=this;a.length=0,ce(r)&&r.forEach(function(w){var D=y.getPrimaryColumn(w);D&&a.push(D)}),(this.primaryColumns||[]).forEach(function(w){var D=a.indexOf(w)>=0;c(D,w)}),this.autoGroupsNeedBuilding&&this.updateGridColumns(),this.updateDisplayedColumns(f),this.fireColumnEvent(u,a,f)},o.prototype.setValueColumns=function(r,a){void 0===a&&(a="api"),this.setPrimaryColumnList(r,this.valueColumns,j.EVENT_COLUMN_VALUE_CHANGED,this.setValueActive.bind(this),a)},o.prototype.setValueActive=function(r,a,u){if(r!==a.isValueActive()&&(a.setValueActive(r,u),r&&!a.getAggFunc())){var c=this.aggFuncService.getDefaultAggFunc(a);a.setAggFunc(c)}},o.prototype.addValueColumns=function(r,a){void 0===a&&(a="api"),this.updatePrimaryColumnList(r,this.valueColumns,!0,this.setValueActive.bind(this,!0),j.EVENT_COLUMN_VALUE_CHANGED,a)},o.prototype.addValueColumn=function(r,a){void 0===a&&(a="api"),r&&this.addValueColumns([r],a)},o.prototype.removeValueColumn=function(r,a){void 0===a&&(a="api"),this.removeValueColumns([r],a)},o.prototype.removeValueColumns=function(r,a){void 0===a&&(a="api"),this.updatePrimaryColumnList(r,this.valueColumns,!1,this.setValueActive.bind(this,!1),j.EVENT_COLUMN_VALUE_CHANGED,a)},o.prototype.normaliseColumnWidth=function(r,a){var u=r.getMinWidth();ce(u)&&a<u&&(a=u);var c=r.getMaxWidth();return ce(c)&&r.isGreaterThanMax(a)&&(a=c),a},o.prototype.getPrimaryOrGridColumn=function(r){return this.getPrimaryColumn(r)||this.getGridColumn(r)},o.prototype.setColumnWidths=function(r,a,u,c){var f=this;void 0===c&&(c="api");var y=[];r.forEach(function(w){var D=f.getPrimaryOrGridColumn(w.key);if(D&&(y.push({width:w.newWidth,ratios:[1],columns:[D]}),"shift"===f.gridOptionsWrapper.getColResizeDefault()&&(a=!a),a)){var I=f.getDisplayedColAfter(D);if(!I)return;var V=D.getActualWidth()-w.newWidth,B=I.getActualWidth()+V;y.push({width:B,ratios:[1],columns:[I]})}}),0!==y.length&&this.resizeColumnSets(y,u,c)},o.prototype.checkMinAndMaxWidthsForSet=function(r){var u=r.width,c=0,f=0,y=!0;return r.columns.forEach(function(O){var I=O.getMinWidth();c+=I||0;var V=O.getMaxWidth();ce(V)&&V>0?f+=V:y=!1}),u>=c&&(!y||u<=f)},o.prototype.resizeColumnSets=function(r,a,u){var c=this;if(!r||r.every(function(B){return c.checkMinAndMaxWidthsForSet(B)})){var w=[],D=[];r.forEach(function(B){var z=B.width,ee=B.columns,ie=B.ratios,_e={},de={};ee.forEach(function(Ze){return D.push(Ze)});for(var le=!0,Ee=0,ze=function(){if(++Ee>1e3)return console.error("AG Grid: infinite loop in resizeColumnSets"),"break";le=!1;var Ze=[],ct=0,ei=z;ee.forEach(function(Pi,hr){de[Pi.getId()]?ei-=_e[Pi.getId()]:(Ze.push(Pi),ct+=ie[hr])});var Gt=1/ct;Ze.forEach(function(Pi,hr){var Gn;hr===Ze.length-1?Gn=ei:(Gn=Math.round(ie[hr]*z*Gt),ei-=Gn);var xd=Pi.getMinWidth(),Ri=Pi.getMaxWidth();ce(xd)&&Gn<xd?(Gn=xd,de[Pi.getId()]=!0,le=!0):ce(Ri)&&Ri>0&&Gn>Ri&&(Gn=Ri,de[Pi.getId()]=!0,le=!0),_e[Pi.getId()]=Gn})};le&&"break"!==ze(););ee.forEach(function(Ze){var ct=_e[Ze.getId()];Ze.getActualWidth()!==ct&&(Ze.setActualWidth(ct,u),w.push(Ze))})});var O=w.length>0,I=this.refreshFlexedColumns({resizingCols:D,skipSetLeft:!0});O&&(this.setLeftValues(u),this.updateBodyWidths(),this.checkViewportColumns());var V=D.concat(I);(O||a)&&this.fireColumnResizedEvent(V,a,u,I)}else a&&this.fireColumnResizedEvent(r&&r.length>0?r[0].columns:null,a,u)},o.prototype.setColumnAggFunc=function(r,a,u){if(void 0===u&&(u="api"),r){var c=this.getPrimaryColumn(r);!c||(c.setAggFunc(a),this.fireColumnEvent(j.EVENT_COLUMN_VALUE_CHANGED,[c],u))}},o.prototype.fireColumnEvent=function(r,a,u){this.eventService.dispatchEvent({type:r,columns:a,column:a&&1==a.length?a[0]:null,api:this.gridApi,columnApi:this.columnApi,source:u})},o.prototype.moveRowGroupColumn=function(r,a,u){void 0===u&&(u="api");var c=this.rowGroupColumns[r];this.rowGroupColumns.splice(r,1),this.rowGroupColumns.splice(a,0,c),this.eventService.dispatchEvent({type:j.EVENT_COLUMN_ROW_GROUP_CHANGED,columns:this.rowGroupColumns,column:1===this.rowGroupColumns.length?this.rowGroupColumns[0]:null,api:this.gridApi,columnApi:this.columnApi,source:u})},o.prototype.moveColumns=function(r,a,u){if(void 0===u&&(u="api"),this.columnAnimationService.start(),a>this.gridColumns.length-r.length)return console.warn("AG Grid: tried to insert columns in invalid location, toIndex = "+a),void console.warn("AG Grid: remember that you should not count the moving columns when calculating the new index");var c=this.getGridColumns(r);!this.doesMovePassRules(c,a)||(vp(this.gridColumns,c,a),this.updateDisplayedColumns(u),this.eventService.dispatchEvent({type:j.EVENT_COLUMN_MOVED,columns:c,column:1===c.length?c[0]:null,toIndex:a,api:this.gridApi,columnApi:this.columnApi,source:u}),this.columnAnimationService.finish())},o.prototype.doesMovePassRules=function(r,a){var u=this.gridColumns.slice();return vp(u,r,a),!(!this.doesMovePassMarryChildren(u)||!this.doesMovePassLockedPositions(u))},o.prototype.sortColumnsLikeGridColumns=function(r){var a=this;!r||r.length<=1||r.filter(function(c){return a.gridColumns.indexOf(c)<0}).length>0||r.sort(function(c,f){return a.gridColumns.indexOf(c)-a.gridColumns.indexOf(f)})},o.prototype.doesMovePassLockedPositions=function(r){var a=!1,u=!0;return r.forEach(function(c){c.getColDef().lockPosition?a&&(u=!1):a=!0}),u},o.prototype.doesMovePassMarryChildren=function(r){var a=!0;return this.columnUtils.depthFirstOriginalTreeSearch(null,this.gridBalancedTree,function(u){if(u instanceof ki){var c=u,f=c.getColGroupDef();if(f&&f.marryChildren){var w=[];c.getLeafColumns().forEach(function(B){var z=r.indexOf(B);w.push(z)}),Math.max.apply(Math,w)-Math.min.apply(Math,w)>c.getLeafColumns().length-1&&(a=!1)}}}),a},o.prototype.moveColumn=function(r,a,u){void 0===u&&(u="api"),this.moveColumns([r],a,u)},o.prototype.moveColumnByIndex=function(r,a,u){void 0===u&&(u="api"),this.moveColumn(this.gridColumns[r],a,u)},o.prototype.getColumnDefs=function(){var r=this;if(this.primaryColumns){var a=this.primaryColumns.slice();return this.gridColsArePrimary?a.sort(function(u,c){return r.gridColumns.indexOf(u)-r.gridColumns.indexOf(c)}):this.lastPrimaryOrder&&a.sort(function(u,c){return r.lastPrimaryOrder.indexOf(u)-r.lastPrimaryOrder.indexOf(c)}),this.columnDefFactory.buildColumnDefs(a,this.rowGroupColumns,this.pivotColumns)}},o.prototype.getBodyContainerWidth=function(){return this.bodyWidth},o.prototype.getContainerWidth=function(r){switch(r){case q.PINNED_LEFT:return this.leftWidth;case q.PINNED_RIGHT:return this.rightWidth;default:return this.bodyWidth}},o.prototype.updateBodyWidths=function(){var r=this.getWidthOfColsInList(this.displayedColumnsCenter),a=this.getWidthOfColsInList(this.displayedColumnsLeft),u=this.getWidthOfColsInList(this.displayedColumnsRight);this.bodyWidthDirty=this.bodyWidth!==r,(this.bodyWidth!==r||this.leftWidth!==a||this.rightWidth!==u)&&(this.bodyWidth=r,this.leftWidth=a,this.rightWidth=u,this.eventService.dispatchEvent({type:j.EVENT_DISPLAYED_COLUMNS_WIDTH_CHANGED,api:this.gridApi,columnApi:this.columnApi}))},o.prototype.getValueColumns=function(){return this.valueColumns?this.valueColumns:[]},o.prototype.getPivotColumns=function(){return this.pivotColumns?this.pivotColumns:[]},o.prototype.isPivotActive=function(){return this.pivotColumns&&this.pivotColumns.length>0&&this.pivotMode},o.prototype.getRowGroupColumns=function(){return this.rowGroupColumns?this.rowGroupColumns:[]},o.prototype.getDisplayedCenterColumns=function(){return this.displayedColumnsCenter},o.prototype.getDisplayedLeftColumns=function(){return this.displayedColumnsLeft},o.prototype.getDisplayedRightColumns=function(){return this.displayedColumnsRight},o.prototype.getDisplayedColumns=function(r){switch(r){case q.PINNED_LEFT:return this.getDisplayedLeftColumns();case q.PINNED_RIGHT:return this.getDisplayedRightColumns();default:return this.getDisplayedCenterColumns()}},o.prototype.getAllPrimaryColumns=function(){return this.primaryColumns?this.primaryColumns.slice():null},o.prototype.getSecondaryColumns=function(){return this.secondaryColumns?this.secondaryColumns.slice():null},o.prototype.getAllColumnsForQuickFilter=function(){return this.columnsForQuickFilter},o.prototype.getAllGridColumns=function(){return this.gridColumns},o.prototype.isEmpty=function(){return Vn(this.gridColumns)},o.prototype.isRowGroupEmpty=function(){return Vn(this.rowGroupColumns)},o.prototype.setColumnVisible=function(r,a,u){void 0===u&&(u="api"),this.setColumnsVisible([r],a,u)},o.prototype.setColumnsVisible=function(r,a,u){var c=this;void 0===a&&(a=!1),void 0===u&&(u="api"),this.columnAnimationService.start(),this.actionOnGridColumns(r,function(f){return f.isVisible()!==a&&(f.setVisible(a,u),!0)},u,function(){return{type:j.EVENT_COLUMN_VISIBLE,visible:a,column:null,columns:null,api:c.gridApi,columnApi:c.columnApi,source:u}}),this.columnAnimationService.finish()},o.prototype.setColumnPinned=function(r,a,u){void 0===u&&(u="api"),r&&this.setColumnsPinned([r],a,u)},o.prototype.setColumnsPinned=function(r,a,u){var f,c=this;void 0===u&&(u="api"),"print"!==this.gridOptionsWrapper.getDomLayout()?(this.columnAnimationService.start(),f=!0===a||a===q.PINNED_LEFT?q.PINNED_LEFT:a===q.PINNED_RIGHT?q.PINNED_RIGHT:null,this.actionOnGridColumns(r,function(y){return y.getPinned()!==f&&(y.setPinned(f),!0)},u,function(){return{type:j.EVENT_COLUMN_PINNED,pinned:f,column:null,columns:null,api:c.gridApi,columnApi:c.columnApi,source:u}}),this.columnAnimationService.finish()):console.warn("Changing the column pinning status is not allowed with domLayout='print'")},o.prototype.actionOnGridColumns=function(r,a,u,c){var f=this;if(!Vn(r)){var y=[];if(r.forEach(function(D){var O=f.getGridColumn(D);O&&!1!==a(O)&&y.push(O)}),y.length&&(this.updateDisplayedColumns(u),ce(c)&&c)){var w=c();w.columns=y,w.column=1===y.length?y[0]:null,this.eventService.dispatchEvent(w)}}},o.prototype.getDisplayedColBefore=function(r){var a=this.getAllDisplayedColumns(),u=a.indexOf(r);return u>0?a[u-1]:null},o.prototype.getDisplayedColAfter=function(r){var a=this.getAllDisplayedColumns(),u=a.indexOf(r);return u<a.length-1?a[u+1]:null},o.prototype.getDisplayedGroupAfter=function(r){return this.getDisplayedGroupAtDirection(r,"After")},o.prototype.getDisplayedGroupBefore=function(r){return this.getDisplayedGroupAtDirection(r,"Before")},o.prototype.getDisplayedGroupAtDirection=function(r,a){for(var u=r.getOriginalColumnGroup().getLevel()+r.getPaddingLevel(),c=r.getDisplayedLeafColumns(),f="After"===a?Jt(c):c[0],y="getDisplayedCol"+a;;){var w=this[y](f);if(!w)return null;var D=this.getColumnGroupAtLevel(w,u);if(D!==r)return D}},o.prototype.getColumnGroupAtLevel=function(r,a){for(var u=r.getParent();!(u.getOriginalColumnGroup().getLevel()+u.getPaddingLevel()<=a);)u=u.getParent();return u},o.prototype.isPinningLeft=function(){return this.displayedColumnsLeft.length>0},o.prototype.isPinningRight=function(){return this.displayedColumnsRight.length>0},o.prototype.getPrimaryAndSecondaryAndAutoColumns=function(){var r=this.primaryColumns?this.primaryColumns.slice(0):[];return this.groupAutoColumns&&ce(this.groupAutoColumns)&&this.groupAutoColumns.forEach(function(a){return r.push(a)}),this.secondaryColumnsPresent&&this.secondaryColumns&&this.secondaryColumns.forEach(function(a){return r.push(a)}),r},o.prototype.createStateItemFromColumn=function(r){var a=r.isRowGroupActive()?this.rowGroupColumns.indexOf(r):null,u=r.isPivotActive()?this.pivotColumns.indexOf(r):null,c=r.isValueActive()?r.getAggFunc():null,f=null!=r.getSort()?r.getSort():null,y=null!=r.getSortIndex()?r.getSortIndex():null,w=null!=r.getFlex()&&r.getFlex()>0?r.getFlex():null;return{colId:r.getColId(),width:r.getActualWidth(),hide:!r.isVisible(),pinned:r.getPinned(),sort:f,sortIndex:y,aggFunc:c,rowGroup:r.isRowGroupActive(),rowGroupIndex:a,pivot:r.isPivotActive(),pivotIndex:u,flex:w}},o.prototype.getColumnState=function(){if(Ge(this.primaryColumns)||!this.isAlive())return[];var a=this.getPrimaryAndSecondaryAndAutoColumns().map(this.createStateItemFromColumn.bind(this));return this.pivotMode||this.orderColumnStateList(a),a},o.prototype.getPrimaryAndAutoGroupCols=function(){return this.groupAutoColumns?function(){for(var d=0,o=0,r=arguments.length;o<r;o++)d+=arguments[o].length;var a=Array(d),u=0;for(o=0;o<r;o++)for(var c=arguments[o],f=0,y=c.length;f<y;f++,u++)a[u]=c[f];return a}(this.primaryColumns||[],this.groupAutoColumns):this.primaryColumns},o.prototype.orderColumnStateList=function(r){var a=Vs(this.gridColumns.map(function(u,c){return[u.getColId(),c]}));r.sort(function(u,c){return(a.has(u.colId)?a.get(u.colId):-1)-(a.has(c.colId)?a.get(c.colId):-1)})},o.prototype.resetColumnState=function(r){void 0===r&&(r="api");var a=this.getColumnsFromTree(this.primaryColumnTree),u=[],c=1e3,f=1e3,y=[];this.groupAutoColumns&&(y=y.concat(this.groupAutoColumns)),a&&(y=y.concat(a)),y.forEach(function(w){var D=function(Ze,ct){return null!=Ze?Ze:null!=ct?ct:null},O=w.getColDef(),I=D(O.sort,O.initialSort),V=D(O.sortIndex,O.initialSortIndex),B=D(O.hide,O.initialHide),z=D(O.pinned,O.initialPinned),ee=D(O.width,O.initialWidth),ie=D(O.flex,O.initialFlex),_e=D(O.rowGroupIndex,O.initialRowGroupIndex),de=D(O.rowGroup,O.initialRowGroup);null==_e&&(null==de||0==de)&&(_e=null,de=null);var le=D(O.pivotIndex,O.initialPivotIndex),Ee=D(O.pivot,O.initialPivot);null==le&&(null==Ee||0==Ee)&&(le=null,Ee=null);var ze=D(O.aggFunc,O.initialAggFunc),wt={colId:w.getColId(),sort:I,sortIndex:V,hide:B,pinned:z,width:ee,flex:ie,rowGroup:de,rowGroupIndex:_e,pivot:Ee,pivotIndex:le,aggFunc:ze};Ge(_e)&&de&&(wt.rowGroupIndex=c++),Ge(le)&&Ee&&(wt.pivotIndex=f++),u.push(wt)}),this.applyColumnState({state:u,applyOrder:!0},r)},o.prototype.applyColumnState=function(r,a){var u=this;if(void 0===a&&(a="api"),Vn(this.primaryColumns))return!1;if(r&&r.state&&!r.state.forEach)return console.warn("AG Grid: applyColumnState() - the state attribute should be an array, however an array was not found. Please provide an array of items (one for each col you want to change) for state."),!1;this.columnAnimationService.start();var c=this.compareColumnStatesAndRaiseEvents(a);this.autoGroupsNeedBuilding=!0;var f=this.primaryColumns.slice(),y=!0,w={},D={},O=[],I=this.rowGroupColumns.slice(),V=this.pivotColumns.slice();r.state&&r.state.forEach(function(ie){var de=ie.colId||"";if(f_(de,q.GROUP_AUTO_COLUMN_ID))O.push(ie);else{var Ee=u.getPrimaryColumn(de);Ee?(u.syncColumnWithStateItem(Ee,ie,r.defaultState,w,D,!1,a),ln(f,Ee)):y=!1}});var B=function(ie){return u.syncColumnWithStateItem(ie,null,r.defaultState,w,D,!1,a)};f.forEach(B);var z=function(ie,_e,de,le){var Ee=ie[de.getId()],ze=ie[le.getId()],wt=null!=Ee,Ze=null!=ze;if(wt&&Ze)return Ee-ze;if(wt)return-1;if(Ze)return 1;var ct=_e.indexOf(de),ei=_e.indexOf(le),Gt=ct>=0;return Gt&&ei>=0?ct-ei:Gt?-1:1};this.rowGroupColumns.sort(z.bind(this,w,I)),this.pivotColumns.sort(z.bind(this,D,V)),this.updateGridColumns();var ee=this.groupAutoColumns?this.groupAutoColumns.slice():[];return O.forEach(function(ie){var _e=u.getAutoColumn(ie.colId);ln(ee,_e),u.syncColumnWithStateItem(_e,ie,r.defaultState,null,null,!0,a)}),ee.forEach(B),this.applyOrderAfterApplyState(r),this.updateDisplayedColumns(a),this.dispatchEverythingChanged(a),c(),this.columnAnimationService.finish(),y},o.prototype.applyOrderAfterApplyState=function(r){if(this.gridColsArePrimary&&r.applyOrder&&r.state){var a=[],u={},c={};if(this.gridColumns.forEach(function(f){return c[f.getId()]=f}),r.state.forEach(function(f){if(f.colId&&!u[f.colId]){var y=c[f.colId];y&&(a.push(y),u[f.colId]=!0)}}),this.gridColumns.forEach(function(f){u[f.getColId()]||a.push(f)}),a=this.putFixedColumnsFirst(a),!this.doesMovePassMarryChildren(a))return void console.warn("AG Grid: Applying column order broke a group where columns should be married together. Applying new order has been discarded.");this.gridColumns=a}},o.prototype.compareColumnStatesAndRaiseEvents=function(r){var a=this;if(!this.columnDefs)return function(){};var c={rowGroupColumns:this.rowGroupColumns.slice(),pivotColumns:this.pivotColumns.slice(),valueColumns:this.valueColumns.slice()},f=this.getColumnState(),y={};return f.forEach(function(w){y[w.colId]=w}),function(){if(!a.gridOptionsWrapper.isSuppressColumnStateEvents()){var w=a.getPrimaryAndAutoGroupCols(),D=function(de,le,Ee,ze){Yl(le.map(ze),Ee.map(ze))||a.eventService.dispatchEvent({type:de,columns:Ee,column:1===Ee.length?Ee[0]:null,api:a.gridApi,columnApi:a.columnApi,source:r})},O=function(de){var le=[];return(w||[]).forEach(function(Ee){var ze=y[Ee.getColId()];ze&&de(ze,Ee)&&le.push(Ee)}),le},I=function(de){return de.getColId()};D(j.EVENT_COLUMN_ROW_GROUP_CHANGED,c.rowGroupColumns,a.rowGroupColumns,I),D(j.EVENT_COLUMN_PIVOT_CHANGED,c.pivotColumns,a.pivotColumns,I),O(function(de,le){var Ee=null!=de.aggFunc,ze=Ee!=le.isValueActive(),wt=Ee&&de.aggFunc!=le.getAggFunc();return ze||wt}).length>0&&a.fireColumnEvent(j.EVENT_COLUMN_VALUE_CHANGED,a.valueColumns,r),a.fireColumnResizedEvent(O(function(de,le){return de.width!=le.getActualWidth()}),!0,r),a.raiseColumnPinnedEvent(O(function(de,le){return de.pinned!=le.getPinned()}),r),a.raiseColumnVisibleEvent(O(function(de,le){return de.hide==le.isVisible()}),r),O(function(de,le){return de.sort!=le.getSort()||de.sortIndex!=le.getSortIndex()}).length>0&&a.sortController.dispatchSortChangedEvents(),a.raiseColumnMovedEvent(f,r)}}},o.prototype.raiseColumnPinnedEvent=function(r,a){if(r.length){var u=1===r.length?r[0]:null,c=this.getCommonValue(r,function(y){return y.getPinned()});this.eventService.dispatchEvent({type:j.EVENT_COLUMN_PINNED,pinned:null!=c?c:null,columns:r,column:u,api:this.gridApi,columnApi:this.columnApi,source:a})}},o.prototype.getCommonValue=function(r,a){if(r&&0!=r.length){for(var u=a(r[0]),c=1;c<r.length;c++)if(u!==a(r[c]))return;return u}},o.prototype.raiseColumnVisibleEvent=function(r,a){if(r.length){var u=1===r.length?r[0]:null,c=this.getCommonValue(r,function(y){return y.isVisible()});this.eventService.dispatchEvent({type:j.EVENT_COLUMN_VISIBLE,visible:c,columns:r,column:u,api:this.gridApi,columnApi:this.columnApi,source:a})}},o.prototype.raiseColumnMovedEvent=function(r,a){var u=this,c=this.getColumnState(),f={};c.forEach(function(V){return f[V.colId]=V});var y={};r.forEach(function(V){f[V.colId]&&(y[V.colId]=!0)});var w=yp(r,function(V){return y[V.colId]}),D=yp(c,function(V){return y[V.colId]}),O=[];D.forEach(function(V,B){var z=w&&w[B];if(z&&z.colId!==V.colId){var ee=u.getGridColumn(z.colId);ee&&O.push(ee)}}),O.length&&this.eventService.dispatchEvent({type:j.EVENT_COLUMN_MOVED,columns:O,column:null,api:this.gridApi,columnApi:this.columnApi,source:a})},o.prototype.syncColumnWithStateItem=function(r,a,u,c,f,y,w){if(r){var D=function(ei,Gt){var Pi=a,hr=u,Oo={value1:void 0,value2:void 0},Gn=!1;return Pi&&(void 0!==Pi[ei]&&(Oo.value1=Pi[ei],Gn=!0),ce(Gt)&&void 0!==Pi[Gt]&&(Oo.value2=Pi[Gt],Gn=!0)),!Gn&&hr&&(void 0!==hr[ei]&&(Oo.value1=hr[ei]),ce(Gt)&&void 0!==hr[Gt]&&(Oo.value2=hr[Gt])),Oo},O=D("hide").value1;void 0!==O&&r.setVisible(!O,w);var I=D("pinned").value1;void 0!==I&&r.setPinned(I);var V=this.columnUtils.calculateColMinWidth(r.getColDef()),B=D("flex").value1;if(void 0!==B&&r.setFlex(B),r.getFlex()<=0){var ee=D("width").value1;null!=ee&&null!=V&&ee>=V&&r.setActualWidth(ee,w)}var ie=D("sort").value1;void 0!==ie&&r.setSort(ie===q.SORT_DESC||ie===q.SORT_ASC?ie:void 0);var _e=D("sortIndex").value1;if(void 0!==_e&&r.setSortIndex(_e),!y){var de=D("aggFunc").value1;void 0!==de&&("string"==typeof de?(r.setAggFunc(de),r.isValueActive()||(r.setValueActive(!0,w),this.valueColumns.push(r))):(ce(de)&&console.warn("AG Grid: stateItem.aggFunc must be a string. if using your own aggregation functions, register the functions first before using them in get/set state. This is because it is intended for the column state to be stored and retrieved as simple JSON."),r.isValueActive()&&(r.setValueActive(!1,w),ln(this.valueColumns,r))));var le=D("rowGroup","rowGroupIndex"),Ee=le.value1,ze=le.value2;(void 0!==Ee||void 0!==ze)&&("number"==typeof ze||Ee?(r.isRowGroupActive()||(r.setRowGroupActive(!0,w),this.rowGroupColumns.push(r)),c&&"number"==typeof ze&&(c[r.getId()]=ze)):r.isRowGroupActive()&&(r.setRowGroupActive(!1,w),ln(this.rowGroupColumns,r)));var wt=D("pivot","pivotIndex"),Ze=wt.value1,ct=wt.value2;(void 0!==Ze||void 0!==ct)&&("number"==typeof ct||Ze?(r.isPivotActive()||(r.setPivotActive(!0,w),this.pivotColumns.push(r)),f&&"number"==typeof ct&&(f[r.getId()]=ct)):r.isPivotActive()&&(r.setPivotActive(!1,w),ln(this.pivotColumns,r)))}}},o.prototype.getGridColumns=function(r){return this.getColumns(r,this.getGridColumn.bind(this))},o.prototype.getColumns=function(r,a){var u=[];return r&&r.forEach(function(c){var f=a(c);f&&u.push(f)}),u},o.prototype.getColumnWithValidation=function(r){if(null==r)return null;var a=this.getGridColumn(r);return a||console.warn("AG Grid: could not find column "+r),a},o.prototype.getPrimaryColumn=function(r){return this.primaryColumns?this.getColumn(r,this.primaryColumns,this.primaryColumnsMap):null},o.prototype.getGridColumn=function(r){return this.getColumn(r,this.gridColumns,this.gridColumnsMap)},o.prototype.getColumn=function(r,a,u){if(!r)return null;if("string"==typeof r&&u[r])return u[r];for(var c=0;c<a.length;c++)if(this.columnsMatch(a[c],r))return a[c];return this.getAutoColumn(r)},o.prototype.getAutoColumn=function(r){var a=this;return this.groupAutoColumns&&ce(this.groupAutoColumns)&&!Ge(this.groupAutoColumns)?Un(this.groupAutoColumns,function(u){return a.columnsMatch(u,r)}):null},o.prototype.columnsMatch=function(r,a){var u=r===a,c=r.getColDef()===a,f=r.getColId()==a;return u||c||f},o.prototype.getDisplayNameForColumn=function(r,a,u){if(void 0===u&&(u=!1),!r)return null;var c=this.getHeaderName(r.getColDef(),r,null,null,a);return u?this.wrapHeaderNameWithAggFunc(r,c):c},o.prototype.getDisplayNameForOriginalColumnGroup=function(r,a,u){var c=a?a.getColGroupDef():null;return c?this.getHeaderName(c,null,r,a,u):null},o.prototype.getDisplayNameForColumnGroup=function(r,a){return this.getDisplayNameForOriginalColumnGroup(r,r.getOriginalColumnGroup(),a)},o.prototype.getHeaderName=function(r,a,u,c,f){var y=r.headerValueGetter;if(y){var w={colDef:r,column:a,columnGroup:u,originalColumnGroup:c,location:f,api:this.gridOptionsWrapper.getApi(),context:this.gridOptionsWrapper.getContext()};return"function"==typeof y?y(w):"string"==typeof y?this.expressionService.evaluate(y,w):(console.warn("ag-grid: headerValueGetter must be a function or a string"),"")}return null!=r.headerName?r.headerName:r.field?cg(r.field):""},o.prototype.wrapHeaderNameWithAggFunc=function(r,a){if(this.gridOptionsWrapper.isSuppressAggFuncInHeader())return a;var y,u=r.getColDef().pivotValueColumn,f=null;if(ce(u))f=u?u.getAggFunc():null,y=!0;else{var w=r.isValueActive(),D=this.pivotMode||!this.isRowGroupEmpty();w&&D?(f=r.getAggFunc(),y=!0):y=!1}if(y){var O="string"==typeof f?f:"func";return this.gridOptionsWrapper.getLocaleTextFunc()(O,O)+"("+a+")"}return a},o.prototype.getColumnGroup=function(r,a){if(!r)return null;if(r instanceof ar)return r;var u=this.getAllDisplayedTrees(),c="number"==typeof a,f=null;return this.columnUtils.depthFirstAllColumnTreeSearch(u,function(y){if(y instanceof ar){var w=y;(c?r===w.getGroupId()&&a===w.getInstanceId():r===w.getGroupId())&&(f=w)}}),f},o.prototype.isReady=function(){return this.ready},o.prototype.extractValueColumns=function(r,a){this.valueColumns=this.extractColumns(a,this.valueColumns,function(u,c){return u.setValueActive(c,r)},function(){},function(){},function(u){var c=u.aggFunc;return null===c||""===c?null:void 0!==c?!!c:void 0},function(u){return null!=u.initialAggFunc&&""!=u.initialAggFunc}),this.valueColumns.forEach(function(u){var c=u.getColDef();null!=c.aggFunc&&""!=c.aggFunc?u.setAggFunc(c.aggFunc):u.getAggFunc()||u.setAggFunc(c.initialAggFunc)})},o.prototype.extractRowGroupColumns=function(r,a){this.rowGroupColumns=this.extractColumns(a,this.rowGroupColumns,function(u,c){return u.setRowGroupActive(c,r)},function(u){return u.rowGroupIndex},function(u){return u.initialRowGroupIndex},function(u){return u.rowGroup},function(u){return u.initialRowGroup})},o.prototype.extractColumns=function(r,a,u,c,f,y,w){void 0===r&&(r=[]),void 0===a&&(a=[]);var D=[],O=[];(this.primaryColumns||[]).forEach(function(B){var z=r.indexOf(B)<0,ee=B.getColDef(),ie=ga(y(ee)),_e=ga(w(ee)),de=Tn(c(ee)),le=Tn(f(ee));(void 0!==ie?ie:void 0!==de?null!==de&&de>=0:z?void 0!==_e?_e:void 0!==le&&null!=le&&le>=0:a.indexOf(B)>=0)&&((z?null!=de||null!=le:null!=de)?D.push(B):O.push(B))});var I=function(B){var z=c(B.getColDef()),ee=f(B.getColDef());return null!=z?z:ee};D.sort(function(B,z){var ee=I(B),ie=I(z);return ee===ie?0:ee<ie?-1:1});var V=[].concat(D);return a.forEach(function(B){O.indexOf(B)>=0&&V.push(B)}),O.forEach(function(B){V.indexOf(B)<0&&V.push(B)}),a.forEach(function(B){V.indexOf(B)<0&&u(B,!1)}),V.forEach(function(B){a.indexOf(B)<0&&u(B,!0)}),V},o.prototype.extractPivotColumns=function(r,a){this.pivotColumns=this.extractColumns(a,this.pivotColumns,function(u,c){return u.setPivotActive(c,r)},function(u){return u.pivotIndex},function(u){return u.initialPivotIndex},function(u){return u.pivot},function(u){return u.initialPivot})},o.prototype.resetColumnGroupState=function(r){void 0===r&&(r="api");var a=[];this.columnUtils.depthFirstOriginalTreeSearch(null,this.primaryColumnTree,function(u){if(u instanceof ki){var c=u.getColGroupDef(),f={groupId:u.getGroupId(),open:c?c.openByDefault:void 0};a.push(f)}}),this.setColumnGroupState(a,r)},o.prototype.getColumnGroupState=function(){var r=[];return this.columnUtils.depthFirstOriginalTreeSearch(null,this.gridBalancedTree,function(a){if(a instanceof ki){var u=a;r.push({groupId:u.getGroupId(),open:u.isExpanded()})}}),r},o.prototype.setColumnGroupState=function(r,a){var u=this;void 0===a&&(a="api"),this.columnAnimationService.start();var c=[];r.forEach(function(f){var w=f.open,D=u.getOriginalColumnGroup(f.groupId);!D||D.isExpanded()!==w&&(u.logger.log("columnGroupOpened("+D.getGroupId()+","+w+")"),D.setExpanded(w),c.push(D))}),this.updateGroupsAndDisplayedColumns(a),this.setFirstRightAndLastLeftPinned(a),c.forEach(function(f){u.eventService.dispatchEvent({type:j.EVENT_COLUMN_GROUP_OPENED,columnGroup:f,api:u.gridApi,columnApi:u.columnApi})}),this.columnAnimationService.finish()},o.prototype.setColumnGroupOpened=function(r,a,u){var c;void 0===u&&(u="api"),c=r instanceof ki?r.getId():r||"",this.setColumnGroupState([{groupId:c,open:a}],u)},o.prototype.getOriginalColumnGroup=function(r){if(r instanceof ki)return r;"string"!=typeof r&&console.error("AG Grid: group key must be a string");var a=null;return this.columnUtils.depthFirstOriginalTreeSearch(null,this.gridBalancedTree,function(u){if(u instanceof ki){var c=u;c.getId()===r&&(a=c)}}),a},o.prototype.calculateColumnsForDisplay=function(){var r=this;return this.gridColumns.filter(this.pivotMode&&!this.secondaryColumnsPresent?function(u){var c=r.groupAutoColumns&&zn(r.groupAutoColumns,u),f=r.valueColumns&&zn(r.valueColumns,u);return c||f}:function(u){return r.groupAutoColumns&&zn(r.groupAutoColumns,u)||u.isVisible()})},o.prototype.checkColSpanActiveInCols=function(r){var a=!1;return r.forEach(function(u){ce(u.getColDef().colSpan)&&(a=!0)}),a},o.prototype.calculateColumnsForGroupDisplay=function(){var r=this;this.groupDisplayColumns=[];var a=function(u){var c=u.getColDef();c&&ce(c.showRowGroup)&&r.groupDisplayColumns.push(u)};this.gridColumns.forEach(a),this.groupAutoColumns&&this.groupAutoColumns.forEach(a)},o.prototype.getGroupDisplayColumns=function(){return this.groupDisplayColumns},o.prototype.updateDisplayedColumns=function(r){var a=this.calculateColumnsForDisplay();this.buildDisplayedTrees(a),this.calculateColumnsForGroupDisplay(),this.updateGroupsAndDisplayedColumns(r),this.setFirstRightAndLastLeftPinned(r)},o.prototype.isSecondaryColumnsPresent=function(){return this.secondaryColumnsPresent},o.prototype.setSecondaryColumns=function(r,a){void 0===a&&(a="api");var u=r&&r.length>0;if(u||this.secondaryColumnsPresent){if(u){this.processSecondaryColumnDefinitions(r);var c=this.columnFactory.createColumnTree(r,!1);this.secondaryBalancedTree=c.columnTree,this.secondaryHeaderRowCount=c.treeDept+1,this.secondaryColumns=this.getColumnsFromTree(this.secondaryBalancedTree),this.secondaryColumnsPresent=!0}else this.secondaryBalancedTree=null,this.secondaryHeaderRowCount=-1,this.secondaryColumns=null,this.secondaryColumnsPresent=!1;this.updateGridColumns(),this.updateDisplayedColumns(a)}},o.prototype.processSecondaryColumnDefinitions=function(r){var a=this.gridOptionsWrapper.getProcessSecondaryColDefFunc(),u=this.gridOptionsWrapper.getProcessSecondaryColGroupDefFunc();if(a||u){var c=function(f){f.forEach(function(y){if(ce(y.children)){var D=y;u&&u(D),c(D.children)}else a&&a(y)})};r&&c(r)}},o.prototype.updateGridColumns=function(){var r=this;this.gridColsArePrimary&&(this.lastPrimaryOrder=this.gridColumns),this.secondaryColumns&&this.secondaryBalancedTree?(this.gridBalancedTree=this.secondaryBalancedTree.slice(),this.gridHeaderRowCount=this.secondaryHeaderRowCount,this.gridColumns=this.secondaryColumns.slice(),this.gridColsArePrimary=!1):this.primaryColumns&&(this.gridBalancedTree=this.primaryColumnTree.slice(),this.gridHeaderRowCount=this.primaryHeaderRowCount,this.gridColumns=this.primaryColumns.slice(),this.gridColsArePrimary=!0,this.orderGridColsLikeLastPrimary()),this.addAutoGroupToGridColumns(),this.gridColumns=this.putFixedColumnsFirst(this.gridColumns),this.setupQuickFilterColumns(),this.clearDisplayedAndViewportColumns(),this.colSpanActive=this.checkColSpanActiveInCols(this.gridColumns),this.gridColumnsMap={},this.gridColumns.forEach(function(u){return r.gridColumnsMap[u.getId()]=u}),this.setAutoHeightActive(),this.eventService.dispatchEvent({type:j.EVENT_GRID_COLUMNS_CHANGED,api:this.gridApi,columnApi:this.columnApi})},o.prototype.setAutoHeightActive=function(){if(this.autoHeightActive=this.gridColumns.filter(function(c){return c.getColDef().autoHeight}).length>0,this.autoHeightActive){this.autoHeightActiveAtLeastOnce=!0;var r=this.rowModel.getType();r!==q.ROW_MODEL_TYPE_CLIENT_SIDE&&r!==q.ROW_MODEL_TYPE_SERVER_SIDE&&Mi(function(){return console.warn("AG Grid - autoHeight columns only work with Client Side Row Model and Server Side Row Model.")},"autoHeightActive.wrongRowModel")}},o.prototype.orderGridColsLikeLastPrimary=function(){if(!Ge(this.lastPrimaryOrder)){var r=Vs(this.lastPrimaryOrder.map(function(D,O){return[D,O]})),a=!0;if(this.gridColumns.forEach(function(D){r.has(D)&&(a=!1)}),!a){var u=Vs(this.gridColumns.map(function(D){return[D,!0]})),c=this.lastPrimaryOrder.filter(function(D){return u.has(D)}),f=Vs(c.map(function(D){return[D,!0]})),y=this.gridColumns.filter(function(D){return!f.has(D)}),w=c.slice();y.forEach(function(D){var O=D.getOriginalParent();if(O){for(var I=[];!I.length&&O;)O.getLeafColumns().forEach(function(ee){var ie=w.indexOf(ee)>=0,_e=I.indexOf(ee)<0;ie&&_e&&I.push(ee)}),O=O.getOriginalParent();if(I.length){var B=I.map(function(ee){return w.indexOf(ee)}),z=Math.max.apply(Math,B);Cc(w,D,z+1)}else w.push(D)}else w.push(D)}),this.gridColumns=w}}},o.prototype.isPrimaryColumnGroupsPresent=function(){return this.primaryHeaderRowCount>1},o.prototype.setupQuickFilterColumns=function(){this.groupAutoColumns?this.columnsForQuickFilter=(this.primaryColumns||[]).concat(this.groupAutoColumns):this.primaryColumns&&(this.columnsForQuickFilter=this.primaryColumns)},o.prototype.putFixedColumnsFirst=function(r){var a=r.filter(function(c){return c.getColDef().lockPosition}),u=r.filter(function(c){return!c.getColDef().lockPosition});return a.concat(u)},o.prototype.addAutoGroupToGridColumns=function(){if(this.createGroupAutoColumnsIfNeeded(),!Ge(this.groupAutoColumns)){this.gridColumns=this.groupAutoColumns?this.groupAutoColumns.concat(this.gridColumns):this.gridColumns;var r=this.columnFactory.createForAutoGroups(this.groupAutoColumns,this.gridBalancedTree);this.gridBalancedTree=r.concat(this.gridBalancedTree)}},o.prototype.clearDisplayedAndViewportColumns=function(){this.displayedTreeLeft=[],this.displayedTreeRight=[],this.displayedTreeCentre=[],this.viewportRowLeft={},this.viewportRowRight={},this.viewportRowCenter={},this.displayedColumnsLeft=[],this.displayedColumnsRight=[],this.displayedColumnsCenter=[],this.displayedColumns=[],this.viewportColumns=[]},o.prototype.updateGroupsAndDisplayedColumns=function(r){this.updateOpenClosedVisibilityInColumnGroups(),this.deriveDisplayedColumns(r),this.refreshFlexedColumns(),this.extractViewport(),this.updateBodyWidths(),this.eventService.dispatchEvent({type:j.EVENT_DISPLAYED_COLUMNS_CHANGED,api:this.gridApi,columnApi:this.columnApi})},o.prototype.deriveDisplayedColumns=function(r){this.derivedDisplayedColumnsFromDisplayedTree(this.displayedTreeLeft,this.displayedColumnsLeft),this.derivedDisplayedColumnsFromDisplayedTree(this.displayedTreeCentre,this.displayedColumnsCenter),this.derivedDisplayedColumnsFromDisplayedTree(this.displayedTreeRight,this.displayedColumnsRight),this.joinDisplayedColumns(),this.setLeftValues(r),this.displayedAutoHeightCols=this.displayedColumns.filter(function(a){return a.getColDef().autoHeight})},o.prototype.isAutoRowHeightActive=function(){return this.autoHeightActive},o.prototype.wasAutoRowHeightEverActive=function(){return this.autoHeightActiveAtLeastOnce},o.prototype.joinDisplayedColumns=function(){this.displayedColumns=this.gridOptionsWrapper.isEnableRtl()?this.displayedColumnsRight.concat(this.displayedColumnsCenter).concat(this.displayedColumnsLeft):this.displayedColumnsLeft.concat(this.displayedColumnsCenter).concat(this.displayedColumnsRight)},o.prototype.setLeftValues=function(r){this.setLeftValuesOfColumns(r),this.setLeftValuesOfGroups()},o.prototype.setLeftValuesOfColumns=function(r){var a=this;if(this.primaryColumns){var u=this.primaryColumns.slice(0),c=this.gridOptionsWrapper.isEnableRtl();[this.displayedColumnsLeft,this.displayedColumnsRight,this.displayedColumnsCenter].forEach(function(f){if(c){var y=a.getWidthOfColsInList(f);f.forEach(function(D){y-=D.getActualWidth(),D.setLeft(y,r)})}else{var w=0;f.forEach(function(D){D.setLeft(w,r),w+=D.getActualWidth()})}Zf(u,f)}),u.forEach(function(f){f.setLeft(null,r)})}},o.prototype.setLeftValuesOfGroups=function(){[this.displayedTreeLeft,this.displayedTreeRight,this.displayedTreeCentre].forEach(function(r){r.forEach(function(a){a instanceof ar&&a.checkLeft()})})},o.prototype.derivedDisplayedColumnsFromDisplayedTree=function(r,a){a.length=0,this.columnUtils.depthFirstDisplayedColumnTreeSearch(r,function(u){u instanceof jt&&a.push(u)})},o.prototype.extractViewportColumns=function(){this.viewportColumnsCenter=this.suppressColumnVirtualisation?this.displayedColumnsCenter:this.filterOutColumnsWithinViewport(),this.viewportColumns=this.viewportColumnsCenter.concat(this.displayedColumnsLeft).concat(this.displayedColumnsRight)},o.prototype.getVirtualHeaderGroupRow=function(r,a){var u;switch(r){case q.PINNED_LEFT:u=this.viewportRowLeft[a];break;case q.PINNED_RIGHT:u=this.viewportRowRight[a];break;default:u=this.viewportRowCenter[a]}return Ge(u)&&(u=[]),u},o.prototype.extractViewportRows=function(){this.viewportRowLeft={},this.viewportRowRight={},this.viewportRowCenter={};var r={};this.viewportColumns.forEach(function(u){return r[u.getId()]=!0});var a=function(u,c,f){for(var y=!1,w=0;w<u.length;w++){var D=u[w],O=!1;if(D instanceof jt)O=!0===r[D.getId()];else{var V=D.getDisplayedChildren();V&&(O=a(V,c,f+1))}O&&(y=!0,c[f]||(c[f]=[]),c[f].push(D))}return y};a(this.displayedTreeLeft,this.viewportRowLeft,0),a(this.displayedTreeRight,this.viewportRowRight,0),a(this.displayedTreeCentre,this.viewportRowCenter,0)},o.prototype.extractViewport=function(){this.extractViewportColumns(),this.extractViewportRows()},o.prototype.filterOutColumnsWithinViewport=function(){return this.displayedColumnsCenter.filter(this.isColumnInViewport.bind(this))},o.prototype.refreshFlexedColumns=function(r){var a=this;void 0===r&&(r={});var u=r.source?r.source:"flex";if(null!=r.viewportWidth&&(this.flexViewportWidth=r.viewportWidth),!this.flexViewportWidth)return[];var c=-1;r.resizingCols&&r.resizingCols.forEach(function(Ee){var ze=a.displayedColumnsCenter.indexOf(Ee);c<ze&&(c=ze)});var f=function(Ee){var ze=a.displayedColumnsCenter.indexOf(Ee)>c;return Ee.getFlex()&&ze},y=this.displayedColumnsCenter.filter(function(Ee){return!f(Ee)}),w=this.displayedColumnsCenter.filter(function(Ee){return f(Ee)}),D=[];if(!w.length)return[];var I,O=[];e:for(;;){var V=w.reduce(function(Ee,ze){return Ee+ze.getFlex()},0);I=this.flexViewportWidth-this.getWidthOfColsInList(y);for(var B=0;B<w.length;B++){var z=w[B],ee=I*z.getFlex()/V,ie=0,_e=z.getMinWidth(),de=z.getMaxWidth();if(ce(_e)&&ee<_e?ie=_e:ce(de)&&ee>de&&(ie=de),ie){z.setActualWidth(ie,u),ln(w,z),D.push(z),y.push(z);continue e}O[B]=Math.round(ee)}break}var le=I;return w.forEach(function(Ee,ze){Ee.setActualWidth(Math.min(O[ze],le),u),D.push(Ee),le-=O[ze]}),r.skipSetLeft||this.setLeftValues(u),r.updateBodyWidths&&this.updateBodyWidths(),r.fireResizedEvent&&this.fireColumnResizedEvent(D,!0,u,w),this.flexColsCalculatedAtLestOnce||(this.gridOptionsWrapper.isRowModelDefault()&&this.rowModel.resetRowHeights(),this.flexColsCalculatedAtLestOnce=!0),w},o.prototype.sizeColumnsToFit=function(r,a,u){void 0===a&&(a="sizeColumnsToFit");var c=this.getAllDisplayedColumns();if(!(r<=0)&&c.length){var f=[],y=[];c.forEach(function(le){!0===le.getColDef().suppressSizeToFit?y.push(le):f.push(le)});var w=f.slice(0),D=!1,O=function(le){ln(f,le),y.push(le)};for(f.forEach(function(le){return le.resetActualWidth(a)});!D;){D=!0;var I=r-this.getWidthOfColsInList(y);if(I<=0)f.forEach(function(le){le.setMinimum(a)});else for(var V=I/this.getWidthOfColsInList(f),B=I,z=f.length-1;z>=0;z--){var ee=f[z],ie=ee.getMinWidth(),_e=ee.getMaxWidth(),de=Math.round(ee.getActualWidth()*V);ce(ie)&&de<ie?(de=ie,O(ee),D=!1):ce(_e)&&ee.isGreaterThanMax(de)?(de=_e,O(ee),D=!1):0===z&&(de=B),ee.setActualWidth(de,a,!0),B-=de}}w.forEach(function(le){le.fireColumnWidthChangedEvent(a)}),this.setLeftValues(a),this.updateBodyWidths(),!u&&this.fireColumnResizedEvent(w,!0,a)}},o.prototype.buildDisplayedTrees=function(r){var a=[],u=[],c=[];r.forEach(function(y){switch(y.getPinned()){case"left":a.push(y);break;case"right":u.push(y);break;default:c.push(y)}});var f=new Qo;this.displayedTreeLeft=this.displayedGroupCreator.createDisplayedGroups(a,this.gridBalancedTree,f,q.PINNED_LEFT,this.displayedTreeLeft),this.displayedTreeRight=this.displayedGroupCreator.createDisplayedGroups(u,this.gridBalancedTree,f,q.PINNED_RIGHT,this.displayedTreeRight),this.displayedTreeCentre=this.displayedGroupCreator.createDisplayedGroups(c,this.gridBalancedTree,f,null,this.displayedTreeCentre),this.updateDisplayedMap()},o.prototype.updateDisplayedMap=function(){var r=this;this.displayedColumnsAndGroupsMap={};var a=function(u){r.displayedColumnsAndGroupsMap[u.getUniqueId()]=u};this.columnUtils.depthFirstAllColumnTreeSearch(this.displayedTreeCentre,a),this.columnUtils.depthFirstAllColumnTreeSearch(this.displayedTreeLeft,a),this.columnUtils.depthFirstAllColumnTreeSearch(this.displayedTreeRight,a)},o.prototype.isDisplayed=function(r){return this.displayedColumnsAndGroupsMap[r.getUniqueId()]===r},o.prototype.updateOpenClosedVisibilityInColumnGroups=function(){var r=this.getAllDisplayedTrees();this.columnUtils.depthFirstAllColumnTreeSearch(r,function(a){a instanceof ar&&a.calculateDisplayedColumns()})},o.prototype.getGroupAutoColumns=function(){return this.groupAutoColumns},o.prototype.createGroupAutoColumnsIfNeeded=function(){if(this.autoGroupsNeedBuilding){this.autoGroupsNeedBuilding=!1;var r=this.gridOptionsWrapper.isGroupUseEntireRow(this.pivotMode),a=this.pivotMode?this.gridOptionsWrapper.isPivotSuppressAutoColumn():this.gridOptionsWrapper.isGroupSuppressAutoColumn();if(!(this.rowGroupColumns.length>0||this.usingTreeData)||a||r)this.groupAutoColumns=null;else{var f=this.autoGroupColService.createAutoGroupColumns(this.rowGroupColumns);(!this.autoColsEqual(f,this.groupAutoColumns)||this.forceRecreateAutoGroups)&&(this.groupAutoColumns=f)}}},o.prototype.autoColsEqual=function(r,a){return Yl(r,a,function(u,c){return u.getColId()===c.getColId()})},o.prototype.getWidthOfColsInList=function(r){return r.reduce(function(a,u){return a+u.getActualWidth()},0)},o.prototype.getGridBalancedTree=function(){return this.gridBalancedTree},o.prototype.hasFloatingFilters=function(){return!!this.gridColumns&&this.gridColumns.some(function(a){return a.getColDef().floatingFilter})},o.prototype.getFirstDisplayedColumn=function(){var r=this.gridOptionsWrapper.isEnableRtl(),a=["getDisplayedLeftColumns","getDisplayedCenterColumns","getDisplayedRightColumns"];r&&a.reverse();for(var u=0;u<a.length;u++){var c=this[a[u]]();if(c.length)return r?Jt(c):c[0]}return null},_n([F("expressionService")],o.prototype,"expressionService",void 0),_n([F("columnFactory")],o.prototype,"columnFactory",void 0),_n([F("displayedGroupCreator")],o.prototype,"displayedGroupCreator",void 0),_n([F("autoWidthCalculator")],o.prototype,"autoWidthCalculator",void 0),_n([F("columnUtils")],o.prototype,"columnUtils",void 0),_n([F("columnAnimationService")],o.prototype,"columnAnimationService",void 0),_n([F("autoGroupColService")],o.prototype,"autoGroupColService",void 0),_n([et("aggFuncService")],o.prototype,"aggFuncService",void 0),_n([et("valueCache")],o.prototype,"valueCache",void 0),_n([et("animationFrameService")],o.prototype,"animationFrameService",void 0),_n([F("rowModel")],o.prototype,"rowModel",void 0),_n([F("columnApi")],o.prototype,"columnApi",void 0),_n([F("gridApi")],o.prototype,"gridApi",void 0),_n([F("sortController")],o.prototype,"sortController",void 0),_n([F("columnDefFactory")],o.prototype,"columnDefFactory",void 0),_n([ye],o.prototype,"init",null),_n([dg(0,br("loggerFactory"))],o.prototype,"setBeans",null),_n([Te("columnModel")],o)}(he);function Lo(d,o){return p_(d.toString(),o,"0")}function Jl(d,o){for(var r=[],a=d;a<=o;a++)r.push(a);return r}function wp(d){return""!==d&&!isNaN(parseFloat(d))&&isFinite(d)}function Lr(){return Number.MAX_SAFE_INTEGER||9007199254740991}function Dp(d){return"number"!=typeof d?"":d.toString().replace(/(\d)(?=(\d{3})+(?!\d))/g,"$1,")}var nS=Object.freeze({__proto__:null,padStartWidthZeros:Lo,createArrayOfNumbers:Jl,isNumeric:wp,getMaxSafeInteger:Lr,cleanNumber:function(d){return"string"==typeof d&&(d=parseInt(d,10)),"number"==typeof d?Math.floor(d):null},decToHex:function(d,o){for(var r="",a=0;a<o;a++)r+=String.fromCharCode(255&d),d>>>=8;return r},formatNumberTwoDecimalPlacesAndCommas:function(d){return"number"!=typeof d?"":Dp(Math.round(100*d)/100)},formatNumberCommas:Dp,sum:function(d){return null==d?null:d.reduce(function(o,r){return o+r},0)}}),__=function(){var d=function(o,r){return(d=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(a,u){a.__proto__=u}||function(a,u){for(var c in u)u.hasOwnProperty(c)&&(a[c]=u[c])})(o,r)};return function(o,r){function a(){this.constructor=o}d(o,r),o.prototype=null===r?Object.create(r):(a.prototype=r.prototype,new a)}}(),wr=function(d){function o(){return null!==d&&d.apply(this,arguments)||this}return __(o,d),o.prototype.calculateColMinWidth=function(r){return null!=r.minWidth?r.minWidth:this.gridOptionsWrapper.getMinColWidth()},o.prototype.calculateColMaxWidth=function(r){return null!=r.maxWidth?r.maxWidth:this.gridOptionsWrapper.getMaxColWidth()||Lr()},o.prototype.calculateColInitialWidth=function(r){var c,a=this.calculateColMinWidth(r),u=this.calculateColMaxWidth(r),f=Tn(r.width),y=Tn(r.initialWidth);return c=null!=f?f:null!=y?y:this.gridOptionsWrapper.getColWidth(),Math.max(Math.min(c,u),a)},o.prototype.getOriginalPathForColumn=function(r,a){var u=[],c=!1,f=function(y,w){for(var D=0;D<y.length;D++){if(c)return;var O=y[D];O instanceof ki?(f(O.getChildren(),w+1),u[w]=O):O===r&&(c=!0)}};return f(a,0),c?u:null},o.prototype.depthFirstOriginalTreeSearch=function(r,a,u){var c=this;!a||a.forEach(function(f){f instanceof ki&&c.depthFirstOriginalTreeSearch(f,f.getChildren(),u),u(f,r)})},o.prototype.depthFirstAllColumnTreeSearch=function(r,a){var u=this;!r||r.forEach(function(c){c instanceof ar&&u.depthFirstAllColumnTreeSearch(c.getChildren(),a),a(c)})},o.prototype.depthFirstDisplayedColumnTreeSearch=function(r,a){var u=this;!r||r.forEach(function(c){c instanceof ar&&u.depthFirstDisplayedColumnTreeSearch(c.getDisplayedChildren(),a),a(c)})},function(d,o,r,a){var f,u=arguments.length,c=u<3?o:null===a?a=Object.getOwnPropertyDescriptor(o,r):a;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)c=Reflect.decorate(d,o,r,a);else for(var y=d.length-1;y>=0;y--)(f=d[y])&&(c=(u<3?f(c):u>3?f(o,r,c):f(o,r))||c);return u>3&&c&&Object.defineProperty(o,r,c),c}([Te("columnUtils")],o)}(he),Dr=function(){var d=function(o,r){return(d=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(a,u){a.__proto__=u}||function(a,u){for(var c in u)u.hasOwnProperty(c)&&(a[c]=u[c])})(o,r)};return function(o,r){function a(){this.constructor=o}d(o,r),o.prototype=null===r?Object.create(r):(a.prototype=r.prototype,new a)}}(),wa=function(d){function o(){return null!==d&&d.apply(this,arguments)||this}return Dr(o,d),o.prototype.createDisplayedGroups=function(r,a,u,c,f){var D,O,y=this,w=[],I=this.mapOldGroupsById(f);return r.forEach(function(V){for(var B=y.getOriginalPathForColumn(a,V),z=[],ee=!O,ie=0;ie<B.length;ie++)if(ee||B[ie]!==O[ie]){var _e=y.createColumnGroup(B[ie],u,I,c);z[ie]=_e,0==ie?w.push(_e):z[ie-1].addChild(_e)}else z[ie]=D[ie];0===z.length?w.push(V):Jt(z).addChild(V),D=z,O=B}),this.setupParentsIntoColumns(w,null),w},o.prototype.createColumnGroup=function(r,a,u,c){var f=r.getGroupId(),y=a.getInstanceIdForKey(f),D=u[ar.createUniqueId(f,y)];return D&&D.getOriginalColumnGroup()!==r&&(D=null),ce(D)?D.reset():(D=new ar(r,f,y,c),this.context.createBean(D)),D},o.prototype.mapOldGroupsById=function(r){var a={},u=function(c){c.forEach(function(f){if(f instanceof ar){var y=f;a[f.getUniqueId()]=y,u(y.getChildren())}})};return r&&u(r),a},o.prototype.setupParentsIntoColumns=function(r,a){var u=this;r.forEach(function(c){if(c.setParent(a),c instanceof ar){var f=c;u.setupParentsIntoColumns(f.getChildren(),f)}})},o.prototype.getOriginalPathForColumn=function(r,a){var u=[],c=!1,f=function(y,w){for(var D=0;D<y.length;D++){if(c)return;var O=y[D];O instanceof ki?(f(O.getChildren(),w+1),u[w]=O):O===a&&(c=!0)}};return f(r,0),c?u:(console.warn("could not get path"),null)},function(d,o,r,a){var f,u=arguments.length,c=u<3?o:null===a?a=Object.getOwnPropertyDescriptor(o,r):a;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)c=Reflect.decorate(d,o,r,a);else for(var y=d.length-1;y>=0;y--)(f=d[y])&&(c=(u<3?f(c):u>3?f(o,r,c):f(o,r))||c);return u>3&&c&&Object.defineProperty(o,r,c),c}([Te("displayedGroupCreator")],o)}(he),Jo=function(){function d(){}return d.STRING_PROPERTIES=["sortingOrder","rowClass","rowSelection","overlayLoadingTemplate","overlayNoRowsTemplate","quickFilterText","rowModelType","editType","domLayout","clipboardDeliminator","rowGroupPanelShow","multiSortKey","pivotColumnGroupTotals","pivotRowTotals","pivotPanelShow","fillHandleDirection","serverSideStoreType","groupDisplayType","treeDataDisplayType"],d.OBJECT_PROPERTIES=["components","frameworkComponents","rowStyle","context","autoGroupColumnDef","localeText","icons","datasource","serverSideDatasource","viewportDatasource","groupRowRendererParams","aggFuncs","fullWidthCellRendererParams","defaultColGroupDef","defaultColDef","defaultExportParams","defaultCsvExportParams","defaultExcelExportParams","columnTypes","rowClassRules","detailCellRendererParams","loadingCellRendererParams","loadingOverlayComponentParams","noRowsOverlayComponentParams","popupParent","colResizeDefault","statusBar","sideBar","chartThemeOverrides","customChartThemes"],d.ARRAY_PROPERTIES=["alignedGrids","rowData","columnDefs","excelStyles","pinnedTopRowData","pinnedBottomRowData","chartThemes"],d.NUMBER_PROPERTIES=["rowHeight","detailRowHeight","rowBuffer","colWidth","headerHeight","groupHeaderHeight","floatingFiltersHeight","pivotHeaderHeight","pivotGroupHeaderHeight","groupDefaultExpanded","minColWidth","maxColWidth","viewportRowModelPageSize","viewportRowModelBufferSize","autoSizePadding","maxBlocksInCache","maxConcurrentDatasourceRequests","tooltipShowDelay","cacheOverflowSize","paginationPageSize","cacheBlockSize","infiniteInitialRowCount","scrollbarWidth","batchUpdateWaitMillis","asyncTransactionWaitMillis","blockLoadDebounceMillis","keepDetailRowsCount","undoRedoCellEditingLimit","cellFlashDelay","cellFadeDelay","tabIndex"],d.BOOLEAN_PROPERTIES=["suppressMakeColumnVisibleAfterUnGroup","suppressRowClickSelection","suppressCellSelection","suppressHorizontalScroll","alwaysShowHorizontalScroll","alwaysShowVerticalScroll","debug","enableBrowserTooltips","enableCellExpressions","angularCompileRows","angularCompileFilters","groupSuppressAutoColumn","groupSelectsChildren","groupIncludeFooter","groupIncludeTotalFooter","groupUseEntireRow","groupSuppressBlankHeader","suppressMenuHide","suppressRowDeselection","unSortIcon","suppressMultiSort","singleClickEdit","suppressLoadingOverlay","suppressNoRowsOverlay","suppressAutoSize","skipHeaderOnAutoSize","suppressParentsInRowNodes","suppressColumnMoveAnimation","suppressMovableColumns","suppressFieldDotNotation","enableRangeSelection","enableRangeHandle","enableFillHandle","suppressClearOnFillReduction","deltaSort","suppressTouch","suppressAsyncEvents","allowContextMenuWithControlKey","suppressContextMenu","rememberGroupStateWhenNewData","enableCellChangeFlash","suppressDragLeaveHidesColumns","suppressMiddleClickScrolls","suppressPreventDefaultOnMouseWheel","suppressCopyRowsToClipboard","copyHeadersToClipboard","pivotMode","suppressAggFuncInHeader","suppressColumnVirtualisation","suppressAggAtRootLevel","suppressFocusAfterRefresh","functionsPassive","functionsReadOnly","animateRows","groupSelectsFiltered","groupRemoveSingleChildren","groupRemoveLowestSingleChildren","enableRtl","suppressClickEdit","rowDragEntireRow","rowDragManaged","suppressRowDrag","suppressMoveWhenRowDragging","rowDragMultiRow","enableGroupEdit","embedFullWidthRows","deprecatedEmbedFullWidthRows","suppressPaginationPanel","floatingFilter","groupHideOpenParents","groupMultiAutoColumn","pagination","stopEditingWhenGridLosesFocus","paginationAutoPageSize","suppressScrollOnNewData","suppressScrollWhenPopupsAreOpen","purgeClosedRowNodes","cacheQuickFilter","deltaRowDataMode","ensureDomOrder","accentedSort","suppressChangeDetection","valueCache","valueCacheNeverExpires","aggregateOnlyChangedColumns","suppressAnimationFrame","suppressExcelExport","suppressCsvExport","treeData","masterDetail","suppressMultiRangeSelection","enterMovesDownAfterEdit","enterMovesDown","suppressPropertyNamesCheck","rowMultiSelectWithClick","suppressEnterpriseResetOnNewColumns","enableOldSetFilterModel","suppressRowHoverHighlight","suppressRowTransform","suppressClipboardPaste","suppressLastEmptyLineOnPaste","serverSideSortingAlwaysResets","suppressSetColumnStateEvents","suppressColumnStateEvents","enableCharts","deltaColumnMode","suppressMaintainUnsortedOrder","enableCellTextSelection","suppressBrowserResizeObserver","suppressMaxRenderedRowRestriction","excludeChildrenWhenTreeDataFiltering","tooltipMouseTrack","keepDetailRows","paginateChildRows","preventDefaultOnContextMenu","undoRedoCellEditing","allowDragFromColumnsToolPanel","immutableData","immutableColumns","pivotSuppressAutoColumn","suppressExpandablePivotGroups","applyColumnDefOrder","debounceVerticalScrollbar","detailRowAutoHeight","serverSideFilteringAlwaysResets","suppressAggFilteredOnly","showOpenedGroup","suppressClipboardApi","suppressModelUpdateAfterUpdateTransaction","stopEditingWhenCellsLoseFocus","maintainColumnOrder","groupMaintainOrder","columnHoverHighlight","reactUi"],d.ALL_PROPERTIES=function(){for(var d=0,o=0,r=arguments.length;o<r;o++)d+=arguments[o].length;var a=Array(d),u=0;for(o=0;o<r;o++)for(var c=arguments[o],f=0,y=c.length;f<y;f++,u++)a[u]=c[f];return a}(d.ARRAY_PROPERTIES,d.OBJECT_PROPERTIES,d.STRING_PROPERTIES,d.NUMBER_PROPERTIES,d.FUNCTION_PROPERTIES=["localeTextFunc","groupRowInnerRenderer","groupRowInnerRendererFramework","groupRowRenderer","groupRowRendererFramework","isExternalFilterPresent","getRowHeight","doesExternalFilterPass","getRowClass","getRowStyle","getContextMenuItems","getMainMenuItems","processRowPostCreate","processCellForClipboard","groupRowAggNodes","getRowNodeId","isFullWidthCell","fullWidthCellRenderer","fullWidthCellRendererFramework","processSecondaryColDef","processSecondaryColGroupDef","getBusinessKeyForNode","sendToClipboard","navigateToNextHeader","tabToNextHeader","navigateToNextCell","tabToNextCell","processCellFromClipboard","getDocument","postProcessPopup","getChildCount","getDataPath","loadingCellRenderer","loadingCellRendererFramework","loadingOverlayComponent","loadingOverlayComponentFramework","noRowsOverlayComponent","noRowsOverlayComponentFramework","detailCellRenderer","detailCellRendererFramework","isRowMaster","isRowSelectable","postSort","processHeaderForClipboard","paginationNumberFormatter","processDataFromClipboard","getServerSideGroupKey","isServerSideGroup","suppressKeyboardEvent","createChartContainer","getChartToolbarItems","fillOperation","isApplyServerSideTransaction","getServerSideStoreParams","isServerSideGroupOpenByDefault","isGroupOpenByDefault","defaultGroupSortComparator","defaultGroupOrderComparator","loadingCellRendererSelector"],d.BOOLEAN_PROPERTIES),d.FRAMEWORK_PROPERTIES=["__ob__","__v_skip","__metadata__","mappedColumnProperties","hasChildColumns","toColDef","createColDefFromGridColumn"],d}(),Vr=function(){return(Vr=Object.assign||function(d){for(var o,r=1,a=arguments.length;r<a;r++)for(var u in o=arguments[r])Object.prototype.hasOwnProperty.call(o,u)&&(d[u]=o[u]);return d}).apply(this,arguments)},Ae=function(){for(var d=0,o=0,r=arguments.length;o<r;o++)d+=arguments[o].length;var a=Array(d),u=0;for(o=0;o<r;o++)for(var c=arguments[o],f=0,y=c.length;f<y;f++,u++)a[u]=c[f];return a},tt=function(){function d(){}return d.getEventCallbacks=function(){return d.EVENT_CALLBACKS||(d.EVENT_CALLBACKS=d.EVENTS.map(function(o){return d.getCallbackForEvent(o)})),d.EVENT_CALLBACKS},d.copyAttributesToGridOptions=function(o,r,a){"object"!=typeof o&&(o={});var u=o,c=function(f){return void 0!==r[f]};return Ae(d.ARRAY_PROPERTIES,d.STRING_PROPERTIES,d.OBJECT_PROPERTIES,d.FUNCTION_PROPERTIES,d.getEventCallbacks()).filter(c).forEach(function(f){return u[f]=r[f]}),d.BOOLEAN_PROPERTIES.filter(c).forEach(function(f){return u[f]=d.toBoolean(r[f])}),d.NUMBER_PROPERTIES.filter(c).forEach(function(f){return u[f]=d.toNumber(r[f])}),o},d.getCallbackForEvent=function(o){return!o||o.length<2?o:"on"+o[0].toUpperCase()+o.substr(1)},d.processOnChange=function(o,r,a,u){if(o){var c=Vr({},o),f=r,y=function(O){return c[O]};Ae(d.ARRAY_PROPERTIES,d.OBJECT_PROPERTIES,d.STRING_PROPERTIES,d.getEventCallbacks()).filter(y).forEach(function(O){return f[O]=c[O].currentValue}),d.BOOLEAN_PROPERTIES.filter(y).forEach(function(O){return f[O]=d.toBoolean(c[O].currentValue)}),d.NUMBER_PROPERTIES.filter(y).forEach(function(O){return f[O]=d.toNumber(c[O].currentValue)}),c.enableCellTextSelection&&(a.setEnableCellTextSelection(d.toBoolean(c.enableCellTextSelection.currentValue)),delete c.enableCellTextSelection),c.quickFilterText&&(a.setQuickFilter(c.quickFilterText.currentValue),delete c.quickFilterText),c.autoGroupColumnDef&&(a.setAutoGroupColumnDef(c.autoGroupColumnDef.currentValue,"gridOptionsChanged"),delete c.autoGroupColumnDef),c.columnDefs&&(a.setColumnDefs(c.columnDefs.currentValue,"gridOptionsChanged"),delete c.columnDefs),c.paginationPageSize&&(a.paginationSetPageSize(d.toNumber(c.paginationPageSize.currentValue)),delete c.paginationPageSize),c.pivotMode&&(u.setPivotMode(d.toBoolean(c.pivotMode.currentValue)),delete c.pivotMode),c.groupRemoveSingleChildren&&(a.setGroupRemoveSingleChildren(d.toBoolean(c.groupRemoveSingleChildren.currentValue)),delete c.groupRemoveSingleChildren),c.suppressRowDrag&&(a.setSuppressRowDrag(d.toBoolean(c.suppressRowDrag.currentValue)),delete c.suppressRowDrag),c.suppressMoveWhenRowDragging&&(a.setSuppressMoveWhenRowDragging(d.toBoolean(c.suppressMoveWhenRowDragging.currentValue)),delete c.suppressMoveWhenRowDragging),c.suppressRowClickSelection&&(a.setSuppressRowClickSelection(d.toBoolean(c.suppressRowClickSelection.currentValue)),delete c.suppressRowClickSelection),c.suppressClipboardPaste&&(a.setSuppressClipboardPaste(d.toBoolean(c.suppressClipboardPaste.currentValue)),delete c.suppressClipboardPaste),c.headerHeight&&(a.setHeaderHeight(d.toNumber(c.headerHeight.currentValue)),delete c.headerHeight);var w=a;Object.keys(c).forEach(function(O){var I="set"+O.charAt(0).toUpperCase()+O.substring(1);w[I]&&w[I](o[O].currentValue)});var D={type:j.EVENT_COMPONENT_STATE_CHANGED,api:r.api,columnApi:r.columnApi};zt(o,function(O,I){D[O]=I}),a.dispatchEvent(D)}},d.toBoolean=function(o){return"boolean"==typeof o?o:"string"==typeof o&&("TRUE"===o.toUpperCase()||""==o)},d.toNumber=function(o){return"number"==typeof o?o:"string"==typeof o?Number(o):void 0},d.EVENTS=[],d.PUBLIC_EVENTS=[],d.EXCLUDED_INTERNAL_EVENTS=[],d.STRING_PROPERTIES=Jo.STRING_PROPERTIES,d.OBJECT_PROPERTIES=Jo.OBJECT_PROPERTIES,d.ARRAY_PROPERTIES=Jo.ARRAY_PROPERTIES,d.NUMBER_PROPERTIES=Jo.NUMBER_PROPERTIES,d.BOOLEAN_PROPERTIES=Jo.BOOLEAN_PROPERTIES,d.FUNCTION_PROPERTIES=Jo.FUNCTION_PROPERTIES,d.ALL_PROPERTIES=Jo.ALL_PROPERTIES,d}();tt.EVENTS=$l(j),tt.EXCLUDED_INTERNAL_EVENTS=[j.EVENT_SCROLLBAR_WIDTH_CHANGED,j.EVENT_CHECKBOX_CHANGED,j.EVENT_HEIGHT_SCALE_CHANGED,j.EVENT_BODY_HEIGHT_CHANGED,j.EVENT_DISPLAYED_COLUMNS_WIDTH_CHANGED,j.EVENT_SCROLL_VISIBILITY_CHANGED,j.EVENT_COLUMN_HOVER_CHANGED,j.EVENT_FLASH_CELLS,j.EVENT_PAGINATION_PIXEL_OFFSET_CHANGED,j.EVENT_DISPLAYED_ROWS_CHANGED,j.EVENT_LEFT_PINNED_WIDTH_CHANGED,j.EVENT_RIGHT_PINNED_WIDTH_CHANGED,j.EVENT_ROW_CONTAINER_HEIGHT_CHANGED,j.EVENT_POPUP_TO_FRONT,j.EVENT_KEYBOARD_FOCUS,j.EVENT_MOUSE_FOCUS,j.EVENT_STORE_UPDATED,j.EVENT_COLUMN_PANEL_ITEM_DRAG_START,j.EVENT_COLUMN_PANEL_ITEM_DRAG_END,j.EVENT_FILL_START,j.EVENT_FILL_END],tt.PUBLIC_EVENTS=tt.EVENTS.filter(function(d){return!zn(tt.EXCLUDED_INTERNAL_EVENTS,d)});var Gi=function(){var d=function(o,r){return(d=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(a,u){a.__proto__=u}||function(a,u){for(var c in u)u.hasOwnProperty(c)&&(a[c]=u[c])})(o,r)};return function(o,r){function a(){this.constructor=o}d(o,r),o.prototype=null===r?Object.create(r):(a.prototype=r.prototype,new a)}}(),Da=function(d){function o(){var r=null!==d&&d.apply(this,arguments)||this;return r.componentsMappedByName={},r}return Gi(o,d),o.prototype.setupComponents=function(r){var a=this;r&&r.forEach(function(u){return a.addComponent(u)})},o.prototype.addComponent=function(r){var u=r.componentName.replace(/([a-z])([A-Z])/g,"$1-$2").toLowerCase().toUpperCase();this.componentsMappedByName[u]=r.componentClass},o.prototype.getComponentClass=function(r){return this.componentsMappedByName[r]},function(d,o,r,a){var f,u=arguments.length,c=u<3?o:null===a?a=Object.getOwnPropertyDescriptor(o,r):a;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)c=Reflect.decorate(d,o,r,a);else for(var y=d.length-1;y>=0;y--)(f=d[y])&&(c=(u<3?f(c):u>3?f(o,r,c):f(o,r))||c);return u>3&&c&&Object.defineProperty(o,r,c),c}([Te("agStackComponentsRegistry")],o)}(he),ks=function(){function d(){}return d.STRING_PROPERTIES=["headerName","columnGroupShow","headerClass","toolPanelClass","headerValueGetter","pivotKeys","groupId","colId","sort","initialSort","field","type","tooltipComponent","tooltipField","headerTooltip","cellClass","showRowGroup","template","templateUrl","filter","initialAggFunc","aggFunc","cellRenderer","cellEditor","pinned","initialPinned","chartDataType","cellEditorPopupPosition"],d.OBJECT_PROPERTIES=["headerGroupComponent","headerGroupComponentFramework","headerGroupComponentParams","cellStyle","cellRendererParams","cellEditorFramework","cellEditorParams","pinnedRowCellRendererFramework","pinnedRowCellRendererParams","filterFramework","filterParams","pivotValueColumn","headerComponent","headerComponentFramework","headerComponentParams","floatingFilterComponent","floatingFilterComponentParams","floatingFilterComponentFramework","tooltipComponent","tooltipComponentParams","tooltipComponentFramework","refData","columnsMenuParams"],d.ARRAY_PROPERTIES=["children","sortingOrder","allowedAggFuncs","menuTabs","pivotTotalColumnIds","cellClassRules","icons"],d.NUMBER_PROPERTIES=["sortedAt","sortIndex","initialSortIndex","flex","initialFlex","width","initialWidth","minWidth","maxWidth","rowGroupIndex","initialRowGroupIndex","pivotIndex","initialPivotIndex"],d.BOOLEAN_PROPERTIES=["suppressCellFlash","suppressColumnsToolPanel","suppressFiltersToolPanel","openByDefault","marryChildren","hide","initialHide","rowGroup","initialRowGroup","pivot","initialPivot","checkboxSelection","headerCheckboxSelection","headerCheckboxSelectionFilteredOnly","suppressMenu","suppressMovable","lockPosition","lockVisible","lockPinned","unSortIcon","suppressSizeToFit","suppressAutoSize","enableRowGroup","enablePivot","enableValue","editable","suppressPaste","suppressNavigable","enableCellChangeFlash","rowDrag","dndSource","autoHeight","wrapText","sortable","resizable","singleClickEdit","floatingFilter","cellEditorPopup","suppressFillHandle"],d.ALL_PROPERTIES=function(){for(var d=0,o=0,r=arguments.length;o<r;o++)d+=arguments[o].length;var a=Array(d),u=0;for(o=0;o<r;o++)for(var c=arguments[o],f=0,y=c.length;f<y;f++,u++)a[u]=c[f];return a}(d.ARRAY_PROPERTIES,d.OBJECT_PROPERTIES,d.STRING_PROPERTIES,d.NUMBER_PROPERTIES,d.FUNCTION_PROPERTIES=["dndSourceOnRowDrag","valueGetter","valueSetter","filterValueGetter","keyCreator","cellRenderer","cellRendererFramework","pinnedRowCellRenderer","valueFormatter","pinnedRowValueFormatter","valueParser","comparator","equals","pivotComparator","suppressKeyboardEvent","suppressHeaderKeyboardEvent","colSpan","rowSpan","getQuickFilterText","newValueHandler","onCellValueChanged","onCellClicked","onCellDoubleClicked","onCellContextMenu","rowDragText","tooltipValueGetter","tooltipComponent","tooltipComponentFramework","cellRendererSelector","cellEditorSelector"],d.BOOLEAN_PROPERTIES),d.FRAMEWORK_PROPERTIES=["__ob__","__v_skip","__metadata__","mappedColumnProperties","hasChildColumns","toColDef","createColDefFromGridColumn"],d}(),xi=function(){function d(o,r,a,u){void 0===u&&(u=1),this.r=Math.min(1,Math.max(0,o||0)),this.g=Math.min(1,Math.max(0,r||0)),this.b=Math.min(1,Math.max(0,a||0)),this.a=Math.min(1,Math.max(0,u||0))}return d.fromString=function(o){if(o.indexOf("#")>=0)return d.fromHexString(o);var r=d.nameToHex[o];if(r)return d.fromHexString(r);if(o.indexOf("rgb")>=0)return d.fromRgbaString(o);throw new Error("Invalid color string: '"+o+"'")},d.parseHex=function(o){var r;switch((o=o.replace(/ /g,"").slice(1)).length){case 6:case 8:r=[];for(var a=0;a<o.length;a+=2)r.push(parseInt(""+o[a]+o[a+1],16));break;case 3:case 4:r=o.split("").map(function(u){return parseInt(u,16)}).map(function(u){return u+16*u})}if(r.length>=3&&r.every(function(u){return u>=0}))return 3===r.length&&r.push(255),r},d.fromHexString=function(o){var r=d.parseHex(o);if(r)return new d(r[0]/255,r[1]/255,r[2]/255,r[3]/255);throw new Error("Malformed hexadecimal color string: '"+o+"'")},d.stringToRgba=function(o){for(var r=[NaN,NaN],a=r[0],u=r[1],c=0;c<o.length;c++){var f=o[c];if(a||"("!==f){if(")"===f){u=c;break}}else a=c}var y=a&&u&&o.substring(a+1,u);if(y){var w=y.split(","),D=[];for(c=0;c<w.length;c++){var O=w[c],I=parseFloat(O);if(isNaN(I))return;O.indexOf("%")>=0?(I=Math.max(0,Math.min(100,I)),I/=100):3===c?I=Math.max(0,Math.min(1,I)):(I=Math.max(0,Math.min(255,I)),I/=255),D.push(I)}return D}},d.fromRgbaString=function(o){var r=d.stringToRgba(o);if(r){if(3===r.length)return new d(r[0],r[1],r[2]);if(4===r.length)return new d(r[0],r[1],r[2],r[3])}throw new Error("Malformed rgb/rgba color string: '"+o+"'")},d.fromArray=function(o){if(4===o.length)return new d(o[0],o[1],o[2],o[3]);if(3===o.length)return new d(o[0],o[1],o[2]);throw new Error("The given array should contain 3 or 4 color components (numbers).")},d.fromHSB=function(o,r,a,u){void 0===u&&(u=1);var c=d.HSBtoRGB(o,r,a);return new d(c[0],c[1],c[2],u)},d.padHex=function(o){return 1===o.length?"0"+o:o},d.prototype.toHexString=function(){var o="#"+d.padHex(Math.round(255*this.r).toString(16))+d.padHex(Math.round(255*this.g).toString(16))+d.padHex(Math.round(255*this.b).toString(16));return this.a<1&&(o+=d.padHex(Math.round(255*this.a).toString(16))),o},d.prototype.toRgbaString=function(o){void 0===o&&(o=3);var r=[Math.round(255*this.r),Math.round(255*this.g),Math.round(255*this.b)],a=Math.pow(10,o);return 1!==this.a?(r.push(Math.round(this.a*a)/a),"rgba("+r.join(", ")+")"):"rgb("+r.join(", ")+")"},d.prototype.toString=function(){return 1===this.a?this.toHexString():this.toRgbaString()},d.prototype.toHSB=function(){return d.RGBtoHSB(this.r,this.g,this.b)},d.RGBtoHSB=function(o,r,a){var u=Math.min(o,r,a),c=Math.max(o,r,a),y=NaN;if(u!==c){var w=c-u,D=(c-o)/w,O=(c-r)/w,I=(c-a)/w;y=o===c?I-O:r===c?2+D-I:4+O-D,(y/=6)<0&&(y+=1)}return[360*y,0!==c?(c-u)/c:0,c]},d.HSBtoRGB=function(o,r,a){isNaN(o)&&(o=0),o=(o%360+360)%360/360;var u=0,c=0,f=0;if(0===r)u=c=f=a;else{var y=6*(o-Math.floor(o)),w=y-Math.floor(y),D=a*(1-r),O=a*(1-r*w),I=a*(1-r*(1-w));switch(y>>0){case 0:u=a,c=I,f=D;break;case 1:u=O,c=a,f=D;break;case 2:u=D,c=a,f=I;break;case 3:u=D,c=O,f=a;break;case 4:u=I,c=D,f=a;break;case 5:u=a,c=D,f=O}}return[u,c,f]},d.prototype.derive=function(o,r,a,u){var c=d.RGBtoHSB(this.r,this.g,this.b),f=c[2];0==f&&a>1&&(f=.05);var y=((c[0]+o)%360+360)%360,w=Math.max(Math.min(c[1]*r,1),0);f=Math.max(Math.min(f*a,1),0);var D=Math.max(Math.min(this.a*u,1),0),O=d.HSBtoRGB(y,w,f);return O.push(D),d.fromArray(O)},d.prototype.brighter=function(){return this.derive(0,1,1/.7,1)},d.prototype.darker=function(){return this.derive(0,1,.7,1)},d.nameToHex=Object.freeze({aliceblue:"#F0F8FF",antiquewhite:"#FAEBD7",aqua:"#00FFFF",aquamarine:"#7FFFD4",azure:"#F0FFFF",beige:"#F5F5DC",bisque:"#FFE4C4",black:"#000000",blanchedalmond:"#FFEBCD",blue:"#0000FF",blueviolet:"#8A2BE2",brown:"#A52A2A",burlywood:"#DEB887",cadetblue:"#5F9EA0",chartreuse:"#7FFF00",chocolate:"#D2691E",coral:"#FF7F50",cornflowerblue:"#6495ED",cornsilk:"#FFF8DC",crimson:"#DC143C",cyan:"#00FFFF",darkblue:"#00008B",darkcyan:"#008B8B",darkgoldenrod:"#B8860B",darkgray:"#A9A9A9",darkgreen:"#006400",darkgrey:"#A9A9A9",darkkhaki:"#BDB76B",darkmagenta:"#8B008B",darkolivegreen:"#556B2F",darkorange:"#FF8C00",darkorchid:"#9932CC",darkred:"#8B0000",darksalmon:"#E9967A",darkseagreen:"#8FBC8F",darkslateblue:"#483D8B",darkslategray:"#2F4F4F",darkslategrey:"#2F4F4F",darkturquoise:"#00CED1",darkviolet:"#9400D3",deeppink:"#FF1493",deepskyblue:"#00BFFF",dimgray:"#696969",dimgrey:"#696969",dodgerblue:"#1E90FF",firebrick:"#B22222",floralwhite:"#FFFAF0",forestgreen:"#228B22",fuchsia:"#FF00FF",gainsboro:"#DCDCDC",ghostwhite:"#F8F8FF",gold:"#FFD700",goldenrod:"#DAA520",gray:"#808080",green:"#008000",greenyellow:"#ADFF2F",grey:"#808080",honeydew:"#F0FFF0",hotpink:"#FF69B4",indianred:"#CD5C5C",indigo:"#4B0082",ivory:"#FFFFF0",khaki:"#F0E68C",lavender:"#E6E6FA",lavenderblush:"#FFF0F5",lawngreen:"#7CFC00",lemonchiffon:"#FFFACD",lightblue:"#ADD8E6",lightcoral:"#F08080",lightcyan:"#E0FFFF",lightgoldenrodyellow:"#FAFAD2",lightgray:"#D3D3D3",lightgreen:"#90EE90",lightgrey:"#D3D3D3",lightpink:"#FFB6C1",lightsalmon:"#FFA07A",lightseagreen:"#20B2AA",lightskyblue:"#87CEFA",lightslategray:"#778899",lightslategrey:"#778899",lightsteelblue:"#B0C4DE",lightyellow:"#FFFFE0",lime:"#00FF00",limegreen:"#32CD32",linen:"#FAF0E6",magenta:"#FF00FF",maroon:"#800000",mediumaquamarine:"#66CDAA",mediumblue:"#0000CD",mediumorchid:"#BA55D3",mediumpurple:"#9370DB",mediumseagreen:"#3CB371",mediumslateblue:"#7B68EE",mediumspringgreen:"#00FA9A",mediumturquoise:"#48D1CC",mediumvioletred:"#C71585",midnightblue:"#191970",mintcream:"#F5FFFA",mistyrose:"#FFE4E1",moccasin:"#FFE4B5",navajowhite:"#FFDEAD",navy:"#000080",oldlace:"#FDF5E6",olive:"#808000",olivedrab:"#6B8E23",orange:"#FFA500",orangered:"#FF4500",orchid:"#DA70D6",palegoldenrod:"#EEE8AA",palegreen:"#98FB98",paleturquoise:"#AFEEEE",palevioletred:"#DB7093",papayawhip:"#FFEFD5",peachpuff:"#FFDAB9",peru:"#CD853F",pink:"#FFC0CB",plum:"#DDA0DD",powderblue:"#B0E0E6",purple:"#800080",rebeccapurple:"#663399",red:"#FF0000",rosybrown:"#BC8F8F",royalblue:"#4169E1",saddlebrown:"#8B4513",salmon:"#FA8072",sandybrown:"#F4A460",seagreen:"#2E8B57",seashell:"#FFF5EE",sienna:"#A0522D",silver:"#C0C0C0",skyblue:"#87CEEB",slateblue:"#6A5ACD",slategray:"#708090",slategrey:"#708090",snow:"#FFFAFA",springgreen:"#00FF7F",steelblue:"#4682B4",tan:"#D2B48C",teal:"#008080",thistle:"#D8BFD8",tomato:"#FF6347",turquoise:"#40E0D0",violet:"#EE82EE",wheat:"#F5DEB3",white:"#FFFFFF",whitesmoke:"#F5F5F5",yellow:"#FFFF00",yellowgreen:"#9ACD32"}),d}();var yt,iu,Sa,xc,Ea,lr,ll,xa,tu=Object.freeze({__proto__:null,stringToArray:function(d,o){void 0===o&&(o=",");var r=[],a=function(V){return"\r"===V||"\n"===V},u=!1;if(""===d)return[[""]];for(var f,y,w,c=function(V,B,z){var ee=d[z-1],ie=d[z],_e=d[z+1],de=function(){r[V]||(r[V]=[]),r[V][B]||(r[V][B]="")};if(de(),'"'===ie){if(u)return'"'===_e?(r[V][B]+='"',z++):u=!1,f=V,y=B,w=z,"continue";if(void 0===ee||ee===o||a(ee))return u=!0,f=V,y=B,w=z,"continue"}if(!u){if(ie===o)return B++,de(),f=V,y=B,w=z,"continue";if(a(ie))return B=0,V++,de(),"\r"===ie&&"\n"===_e&&z++,f=V,y=B,w=z,"continue"}r[V][B]+=ie,f=V,y=B,w=z},D=0,O=0,I=0;I<d.length;I++)c(D,O,I),D=f,O=y,I=w;return r}});function Ji(){return void 0===iu&&(iu=!!document.documentMode),iu}function ui(){return void 0===Sa&&(Sa=!Ji()&&!!window.StyleMedia),Sa}function Sp(){return void 0===yt&&(yt=/^((?!chrome|android).)*safari/i.test(navigator.userAgent)),yt}function Oc(){if(void 0===xc){var d=window;xc=!!d.chrome&&(!!d.chrome.webstore||!!d.chrome.runtime)||/Chrome/.test(navigator.userAgent)&&/Google Inc/.test(navigator.vendor)}return xc}function nu(){if(void 0===Ea){var d=window;Ea=void 0!==d.InstallTrigger}return Ea}function Oa(){return void 0===lr&&(lr=(/iPad|iPhone|iPod/.test(navigator.platform)||"MacIntel"===navigator.platform&&navigator.maxTouchPoints>1)&&!window.MSStream),lr}function Pa(d){if(!d)return null;var o=d.tabIndex,r=d.getAttribute("tabIndex");return Ji()&&0===o&&null===r?!0==={a:!0,body:!0,button:!0,frame:!0,iframe:!0,img:!0,input:!0,isindex:!0,object:!0,select:!0,textarea:!0}[d.nodeName.toLowerCase()]?"0":null:-1!==o||null!==r&&(""!==r||nu())?o.toString():null}function Pc(){if(!document.body)return-1;var d=1e6,o=navigator.userAgent.toLowerCase().match(/firefox/)?6e6:1e9,r=document.createElement("div");for(document.body.appendChild(r);;){var a=2*d;if(r.style.height=a+"px",a>o||r.clientHeight!==a)break;d=a}return document.body.removeChild(r),d}function Ra(){return null==xa&&Kn(),xa}function Kn(){var d=document.body,o=document.createElement("div");o.style.width=o.style.height="100px",o.style.opacity="0",o.style.overflow="scroll",o.style.msOverflowStyle="scrollbar",o.style.position="absolute",d.appendChild(o);var r=o.offsetWidth-o.clientWidth;0===r&&0===o.clientWidth&&(r=null),o.parentNode&&o.parentNode.removeChild(o),null!=r&&(xa=r,ll=0===r)}function b_(){return null==ll&&Kn(),ll}function yo(){return document.body?document.body.clientWidth:window.innerHeight?window.innerWidth:document.documentElement&&document.documentElement.clientWidth?document.documentElement.clientWidth:-1}function Ep(){return document.body?document.body.clientHeight:window.innerHeight?window.innerHeight:document.documentElement&&document.documentElement.clientHeight?document.documentElement.clientHeight:-1}var ul,xp=Object.freeze({__proto__:null,isBrowserIE:Ji,isBrowserEdge:ui,isBrowserSafari:Sp,isBrowserChrome:Oc,isBrowserFirefox:nu,isIOSUserAgent:Oa,getTabIndex:Pa,getMaxDivHeight:Pc,getScrollbarWidth:Ra,isInvisibleScrollbar:b_,hasOverflowScrolling:function(){var d=["webkit","moz","o","ms"],o=document.createElement("div"),a=!1;document.getElementsByTagName("body")[0].appendChild(o),o.setAttribute("style",d.map(function(w){return"-"+w+"-overflow-scrolling: touch"}).concat("overflow-scrolling: touch").join(";"));var c=window.getComputedStyle(o);if("touch"===c.overflowScrolling&&(a=!0),!a)for(var f=0,y=d;f<y.length;f++)if("touch"===c[y[f]+"OverflowScrolling"]){a=!0;break}return o.parentNode&&o.parentNode.removeChild(o),a},getBodyWidth:yo,getBodyHeight:Ep});function Me(d,o){if(d&&o&&0!==o.length){if(o.indexOf(" ")>=0)return void o.split(" ").forEach(function(a){return Me(d,a)});if(d.classList)d.classList.add(o);else if(d.className&&d.className.length>0){var r=d.className.split(" ");r.indexOf(o)<0&&(r.push(o),d.setAttribute("class",r.join(" ")))}else d.setAttribute("class",o);return d}}function Xn(d,o){if(d&&o&&0!==o.length){if(o.indexOf(" ")>=0)return void o.split(" ").forEach(function(a){return Xn(d,a)});if(d.classList)d.classList.remove(o);else if(d.className&&d.className.length>0){var r=d.className.split(" ").filter(function(a){return a!==o}).join(" ");d.setAttribute("class",r)}}}function Ke(d,o,r){r?Me(d,o):Xn(d,o)}function ts(d,o){if(d.classList)return d.classList.contains(o);if(d.className){var r=d.className===o,a=d.className.indexOf(" "+o+" ")>=0,u=0===d.className.indexOf(o+" "),c=d.className.lastIndexOf(" "+o)===d.className.length-o.length-1;return r||a||u||c}return!1}function oS(d){var o=Element.prototype.matches||Element.prototype.msMatchesSelector,r=o.call(d,q.INPUT_SELECTOR),a=o.call(d,q.FOCUSABLE_EXCLUDE),u=Tc(d);return r&&!a&&u}function Oi(d,o){Ke(d,"ag-hidden",!o)}function sS(d,o){Ke(d,"ag-invisible",!o)}function Rc(d,o){var r="disabled",a=o?function(u){return u.setAttribute(r,"")}:function(u){return u.removeAttribute(r)};a(d),tn(d.querySelectorAll("input"),function(u){return a(u)})}function pg(d,o,r){for(var a=0;d;){if(ts(d,o))return!0;if(d=d.parentElement,r&&++a>r)break}return!1}function Op(d){var o=window.getComputedStyle(d),a=o.width,u=o.paddingTop,c=o.paddingRight,f=o.paddingBottom,y=o.paddingLeft,w=o.marginTop,D=o.marginRight,O=o.marginBottom,I=o.marginLeft,V=o.boxSizing;return{height:parseFloat(o.height),width:parseFloat(a),paddingTop:parseFloat(u),paddingRight:parseFloat(c),paddingBottom:parseFloat(f),paddingLeft:parseFloat(y),marginTop:parseFloat(w),marginRight:parseFloat(D),marginBottom:parseFloat(O),marginLeft:parseFloat(I),boxSizing:V}}function Pp(d){var o=Op(d);return"border-box"===o.boxSizing?o.height-o.paddingTop-o.paddingBottom:o.height}function hg(d){var o=Op(d);return"border-box"===o.boxSizing?o.width-o.paddingLeft-o.paddingRight:o.width}function C_(d){var o=Op(d);return Math.ceil(d.offsetHeight+(o.marginBottom+o.marginTop))}function fg(d){var o=Op(d);return Math.ceil(d.offsetWidth+(o.marginLeft+o.marginRight))}function Rp(){if("boolean"==typeof ul)return ul;var d=document.createElement("div");return d.style.direction="rtl",d.style.width="1px",d.style.height="1px",d.style.position="fixed",d.style.top="0px",d.style.overflow="hidden",d.dir="rtl",d.innerHTML='<div style="width: 2px">\n            <span style="display: inline-block; width: 1px"></span>\n            <span style="display: inline-block; width: 1px"></span>\n        </div>',document.body.appendChild(d),d.scrollLeft=1,ul=0===Math.floor(d.scrollLeft),document.body.removeChild(d),ul}function Tp(d,o){var r=d.scrollLeft;return o&&(r=Math.abs(r),Oc()&&!Rp()&&(r=d.scrollWidth-d.clientWidth-r)),r}function gg(d,o,r){r&&(Rp()?o*=-1:(Sp()||Oc())&&(o=d.scrollWidth-d.clientWidth-o)),d.scrollLeft=o}function mo(d){for(;d&&d.firstChild;)d.removeChild(d.firstChild)}function Vo(d){d&&d.parentNode&&d.parentNode.removeChild(d)}function Tc(d){return null!==d.offsetParent}function Gs(d){var o=document.createElement("div");return o.innerHTML=(d||"").trim(),o.firstChild}function Ap(d){return d&&d.clientHeight?d.clientHeight:0}function en(d){return d&&d.clientWidth?d.clientWidth:0}function Ip(d,o,r){r&&r.nextSibling===o||(r?r.nextSibling?d.insertBefore(o,r.nextSibling):d.appendChild(o):d.firstChild&&d.firstChild!==o&&d.insertAdjacentElement("afterbegin",o))}function vg(d,o){for(var r=0;r<o.length;r++){var a=o[r],u=d.children[r];u!==a&&d.insertBefore(a,u)}}function D_(d,o,r){r?r.insertAdjacentElement("afterend",o):d.firstChild?d.insertAdjacentElement("afterbegin",o):d.appendChild(o)}function Mp(d,o){!o||Object.keys(o).forEach(function(r){var a=mn(r);a&&(d.style[a]=o[r])})}function yg(d){return d.clientWidth<d.scrollWidth}function Fp(d){return d.clientHeight<d.scrollHeight}function Ac(d,o){"flex"===o?(d.style.removeProperty("width"),d.style.removeProperty("minWidth"),d.style.removeProperty("maxWidth"),d.style.flex="1 1 auto"):un(d,o)}function un(d,o){o=Ic(o),d.style.width=o.toString(),d.style.maxWidth=o.toString(),d.style.minWidth=o.toString()}function Ta(d,o){o=Ic(o),d.style.height=o.toString(),d.style.maxHeight=o.toString(),d.style.minHeight=o.toString()}function Ic(d){return"number"==typeof d?d+"px":d}function x_(d){return"function"==typeof Node?d instanceof Node:d&&"object"==typeof d&&"number"==typeof d.nodeType&&"string"==typeof d.nodeName}function Np(d){return"function"==typeof HTMLElement?d instanceof HTMLElement:d&&ql(d)&&1===d.nodeType&&"string"==typeof d.nodeName}function mg(d){return x_(d)||Np(d)}function Ui(d){if(null==d)return[];var o=[];return tn(d,function(r){return o.push(r)}),o}function aS(d,o){if(d)for(var r=0;r<d.length;r++){var a=d[r];o(a.name,a.value)}}function Mc(d,o,r){null==r?d.removeAttribute(o):d.setAttribute(o,r.toString())}function tn(d,o){if(null!=d)for(var r=0;r<d.length;r++)o(d[r])}var lS=Object.freeze({__proto__:null,addCssClass:Me,removeCssClass:Xn,addOrRemoveCssClass:Ke,radioCssClass:function(d,o,r){for(var a=d.parentElement,u=a&&a.firstChild;u;)o&&Ke(u,o,u===d),r&&Ke(u,r,u!==d),u=u.nextSibling},containsClass:ts,isFocusableFormField:oS,setDisplayed:Oi,setVisible:sS,setDisabled:Rc,isElementChildOfClass:pg,getElementSize:Op,getInnerHeight:Pp,getInnerWidth:hg,getAbsoluteHeight:C_,getAbsoluteWidth:fg,isRtlNegativeScroll:Rp,getScrollLeft:Tp,setScrollLeft:gg,clearElement:mo,removeElement:function(d,o){Vo(d.querySelector(o))},removeFromParent:Vo,isVisible:Tc,loadTemplate:Gs,appendHtml:function(d,o){d.lastChild?d.insertAdjacentHTML("afterbegin",o):d.innerHTML=o},getElementAttribute:function(d,o){return d.attributes&&d.attributes[o]?d.attributes[o].value:null},offsetHeight:Ap,offsetWidth:en,ensureDomOrder:Ip,setDomChildOrder:vg,insertWithDomOrder:D_,prependDC:function(d,o){ce(d.firstChild)?d.insertBefore(o,d.firstChild):d.appendChild(o)},addStylesToElement:Mp,isHorizontalScrollShowing:yg,isVerticalScrollShowing:Fp,setElementWidth:Ac,setFixedWidth:un,setElementHeight:function(d,o){"flex"===o?(d.style.removeProperty("height"),d.style.removeProperty("minHeight"),d.style.removeProperty("maxHeight"),d.style.flex="1 1 auto"):Ta(d,o)},setFixedHeight:Ta,formatSize:Ic,isNode:x_,isElement:Np,isNodeOrElement:mg,copyNodeList:Ui,iterateNamedNodeMap:aS,setCheckboxState:function(d,o){"boolean"==typeof o?(d.checked=o,d.indeterminate=!1):d.indeterminate=!0},addOrRemoveAttribute:Mc,nodeListForEach:tn}),ru=Object.freeze({__proto__:null,getNameOfClass:function(d){var r=d.toString(),a=/function (.{1,})\(/.exec(r);return a&&a.length>1?a[1]:""},findLineByLeastSquares:function(d){var o=d.length,r=0;if(o<=1)return d;for(var a=0;a<d.length;a++){var u=d[a],c=u.toString().split("e-");c.length>1?r=Math.max(r,parseInt(c[1],10)):Math.floor(u)!==u&&(r=Math.max(r,u.toString().split(".")[1].length))}for(var f=0,y=0,w=0,D=0,O=0,I=0;I<o;I++)f+=I,y+=O=d[I],D+=I*I,w+=I*O;var V=(o*w-f*y)/(o*D-f*f),B=y/o-V*f/o,z=[];for(I=0;I<=o;I++)z.push(parseFloat((I*V+B).toFixed(r)));return z},cssStyleObjectToMarkup:function(d){if(!d)return"";var o=[];return zt(d,function(r,a){var u=tS(r);o.push(u+": "+a+";")}),o.join(" ")},message:function(d){var o=document.createElement("div"),r=document.querySelector("#__ag__message");o.innerHTML=d,r||(r=Gs('<div id="__ag__message" style="display: inline-block; position: absolute; top: 0px; left: 0px; color: white; background-color: black; z-index: 20; padding: 2px; border: 1px solid darkred; height: 200px; overflow-y: auto;"></div>'),document.body&&document.body.appendChild(r)),r.insertBefore(o,r.children[0])},bindCellRendererToHtmlElement:function(d,o){d.then(function(r){var a=r.getGui();null!=a&&("object"==typeof a?o.appendChild(a):o.innerHTML=a)})}});function ci(d,o,r){d.setAttribute(Vp(o),r.toString())}function dl(d,o){d.removeAttribute(Vp(o))}function Vp(d){return"aria-"+d}function Sr(d,o){o?d.setAttribute("role",o):d.removeAttribute("role")}function Hs(d){return d.isSortAscending()?"ascending":d.isSortDescending()?"descending":"none"}function kp(d){return parseInt(d.getAttribute("aria-posinset"),10)}function ou(d,o){var r="label";o?ci(d,r,o):dl(d,r)}function bg(d,o){var r="labelledby";o?ci(d,r,o):dl(d,r)}function Gp(d,o){var r="describedby";o?ci(d,r,o):dl(d,r)}function su(d,o){ci(d,"disabled",o)}function Hp(d,o){ci(d,"expanded",o)}function fe(d,o){ci(d,"setsize",o)}function kt(d,o){ci(d,"posinset",o)}function is(d,o){ci(d,"multiselectable",o)}function bn(d,o){ci(d,"rowcount",o)}function Bp(d,o){ci(d,"rowindex",o)}function au(d,o){ci(d,"colcount",o)}function bo(d,o){ci(d,"colindex",o)}function jp(d,o){ci(d,"colspan",o)}function Wp(d,o){ci(d,"sort",o)}function pS(d){dl(d,"sort")}function lu(d,o){var r="selected";o?ci(d,r,o):dl(d,r)}function Fc(d,o){ci(d,"checked",void 0===o?"mixed":o)}var Up=Object.freeze({__proto__:null,setAriaRole:Sr,getAriaSortState:Hs,getAriaLevel:function(d){return parseInt(d.getAttribute("aria-level"),10)},getAriaPosInSet:kp,getAriaDescribedBy:function(d){return d.getAttribute("aria-describedby")||""},setAriaLabel:ou,setAriaLabelledBy:bg,setAriaDescribedBy:Gp,setAriaLevel:function(d,o){ci(d,"level",o)},setAriaDisabled:su,setAriaExpanded:Hp,removeAriaExpanded:function(d){dl(d,"expanded")},setAriaSetSize:fe,setAriaPosInSet:kt,setAriaMultiSelectable:is,setAriaRowCount:bn,setAriaRowIndex:Bp,setAriaColCount:au,setAriaColIndex:bo,setAriaColSpan:jp,setAriaSort:Wp,removeAriaSort:pS,setAriaSelected:lu,setAriaChecked:Fc});function nn(d,o,r){if(void 0===o&&(o=!0),void 0===r&&(r="-"),!d)return null;var a=[d.getFullYear(),d.getMonth()+1,d.getDate()].map(function(u){return Lo(u,2)}).join(r);return o&&(a+=" "+[d.getHours(),d.getMinutes(),d.getSeconds()].map(function(u){return Lo(u,2)}).join(":")),a}function qn(d){if(!d)return null;var o=d.split(" "),r=o[0],a=o[1];if(!r)return null;var u=r.split("-").map(function(B){return parseInt(B,10)});if(3!==u.filter(function(B){return!isNaN(B)}).length)return null;var c=u[0],f=u[1],y=u[2],w=new Date(c,f-1,y);if(w.getFullYear()!==c||w.getMonth()!==f-1||w.getDate()!==y)return null;if(!a||"00:00:00"===a)return w;var D=a.split(":").map(function(B){return parseInt(B,10)}),O=D[0],I=D[1],V=D[2];return O>=0&&O<24&&w.setHours(O),I>=0&&I<60&&w.setMinutes(I),V>=0&&V<60&&w.setSeconds(V),w}var R_=Object.freeze({__proto__:null,serialiseDate:nn,parseDateTimeFromString:qn});function pl(d,o,r){var a={},u=d.filter(function(c){return!o.some(function(f){return f===c})});return u.length>0&&u.forEach(function(c){return a[c]=ns(c,r)}),a}function ns(d,o,r,a){var u=a?T_:wg,c=o.map(function(f){return{value:f,relevance:u(d.toLowerCase(),f.toLocaleLowerCase())}});return c.sort(function(f,y){return y.relevance-f.relevance}),r&&(c=c.filter(function(f){return 0!==f.relevance})),c.map(function(f){return f.value})}function Cg(d){var a,u,c,o=d.toLowerCase(),r=new Array(o.length-1);for(a=u=0,c=r.length;u<=c;a=u+=1)r[a]=o.slice(a,a+2);return r}function wg(d,o){if(0===d.length&&0===o.length)return 0;var f,y,r=Cg(d),a=Cg(o),u=r.length+a.length,c=0;for(f=0,y=r.length;f<y;f++){var O,w=r[f],D=void 0;for(D=0,O=a.length;D<O;D++)w===a[D]&&c++}return c>0?2*c/u:0}function T_(d,o){for(var r=d.replace(/\s/g,""),a=o.replace(/\s/g,""),u=0,c=0,f=0;f<r.length;f++){var y=a.indexOf(r[f],c);-1!==y&&(u+=100-100*(c=y)/1e4*100)}return u}var hS=Object.freeze({__proto__:null,fuzzyCheckStrings:pl,fuzzySuggestions:ns,get_bigrams:Cg,string_distances:wg,string_weighted_distances:T_}),zp={columnGroupOpened:"expanded",columnGroupClosed:"contracted",columnSelectClosed:"tree-closed",columnSelectOpen:"tree-open",columnSelectIndeterminate:"tree-indeterminate",columnMovePin:"pin",columnMoveHide:"eye-slash",columnMoveMove:"arrows",columnMoveLeft:"left",columnMoveRight:"right",columnMoveGroup:"group",columnMoveValue:"aggregation",columnMovePivot:"pivot",dropNotAllowed:"not-allowed",groupContracted:"tree-closed",groupExpanded:"tree-open",chart:"chart",close:"cross",cancel:"cancel",check:"tick",first:"first",previous:"previous",next:"next",last:"last",linked:"linked",unlinked:"unlinked",colorPicker:"color-picker",groupLoading:"loading",menu:"menu",filter:"filter",columns:"columns",maximize:"maximize",minimize:"minimize",menuPin:"pin",menuValue:"aggregation",menuAddRowGroup:"group",menuRemoveRowGroup:"group",clipboardCopy:"copy",clipboardPaste:"paste",pivotPanel:"pivot",rowGroupPanel:"group",valuePanel:"aggregation",columnDrag:"grip",rowDrag:"grip",save:"save",csvExport:"csv",excelExport:"excel",smallDown:"small-down",smallLeft:"small-left",smallRight:"small-right",smallUp:"small-up",sortAscending:"asc",sortDescending:"desc",sortUnSort:"none"};function kr(d,o,r){var a=An(d,o,r);if(a&&a.className.indexOf("ag-icon")>-1)return a;var u=document.createElement("span");return u.appendChild(a),u}function An(d,o,r,a){var u=null,c=r&&r.getColDef().icons;if(c&&(u=c[d]),o&&!u){var f=o.getIcons();f&&(u=f[d])}if(!u){var w=document.createElement("span"),D=zp[d];return D||(a?D=d:(console.warn("AG Grid: Did not find icon "+d),D="")),w.setAttribute("class","ag-icon ag-icon-"+D),w.setAttribute("unselectable","on"),Sr(w,"presentation"),w}var y=void 0;if("function"==typeof u)y=u();else{if("string"!=typeof u)throw new Error("icon from grid options needs to be a string or a function");y=u}return"string"==typeof y?Gs(y):mg(y)?y:void console.warn("AG Grid: iconRenderer should return back a string or a dom object")}var Dg=Object.freeze({__proto__:null,iconNameClassMap:zp,createIcon:kr,createIconNoSpan:An});function uu(d,o){return(d.which||d.keyCode)===o}function Sg(d){if(d.altKey||d.ctrlKey||d.metaKey)return!1;var o=1===d.key.length,r=function(d){return(ui()||Ji())&&"Del"===d.key&&46===d.charCode}(d);return o||r}function Nc(d,o,r,a,u){var c=d.getSuppressKeyboardEventFunc(),f=a?a.getColDef().suppressKeyboardEvent:void 0;if(!c&&!f)return!1;var y={event:o,editing:u,column:a,api:d.getApi(),node:r,data:r.data,colDef:a.getColDef(),context:d.getContext(),columnApi:d.getColumnApi()};return!(!f||!f(y))||!!c&&c(y)}function Eg(d,o,r,a){var u=a.getDefinition(),c=u&&u.suppressHeaderKeyboardEvent;return!!ce(c)&&!!c({api:d.getApi(),columnApi:d.getColumnApi(),context:d.getContext(),colDef:u,column:a,headerRowIndex:r,event:o})}var $p=Object.freeze({__proto__:null,isKeyPressed:uu,isEventFromPrintableCharacter:Sg,isUserSuppressingKeyboardEvent:Nc,isUserSuppressingHeaderKeyboardEvent:Eg});function Zn(d,o,r){if(0===r)return!1;var a=Math.abs(d.clientX-o.clientX),u=Math.abs(d.clientY-o.clientY);return Math.max(a,u)<=r}var Aa=Object.freeze({__proto__:null,normalizeWheel:function(d){var u=0,c=0,f=0,y=0;return"detail"in d&&(c=d.detail),"wheelDelta"in d&&(c=-d.wheelDelta/120),"wheelDeltaY"in d&&(c=-d.wheelDeltaY/120),"wheelDeltaX"in d&&(u=-d.wheelDeltaX/120),"axis"in d&&d.axis===d.HORIZONTAL_AXIS&&(u=c,c=0),f=10*u,y=10*c,"deltaY"in d&&(y=d.deltaY),"deltaX"in d&&(f=d.deltaX),(f||y)&&d.deltaMode&&(1==d.deltaMode?(f*=40,y*=40):(f*=800,y*=800)),f&&!u&&(u=f<1?-1:1),y&&!c&&(c=y<1?-1:1),{spinX:u,spinY:c,pixelX:f,pixelY:y}},isLeftClick:function(d){return"buttons"in d?1==d.buttons:1==(d.which||d.button)},areEventsNear:Zn}),mS=Object.freeze({__proto__:null,sortRowNodesByOrder:function(d,o){if(d){for(var r=function(y,w){var D=o[y.id],O=o[w.id],I=void 0!==D,V=void 0!==O;return I&&V?D-O:I||V?I?1:-1:y.__objectId-w.__objectId},c=!1,f=0;f<d.length-1;f++)if(r(d[f],d[f+1])>0){c=!0;break}c&&d.sort(r)}},traverseNodesWithKey:function(d,o){var r=[];!function a(u){!u||u.forEach(function(c){if(c.group||c.hasChildren()){r.push(c.key);var f=r.join("|");o(c,f),a(c.childrenAfterGroup),r.pop()}})}(d)}});function xg(d){var o=new Set;return d.forEach(function(r){return o.add(r)}),o}var _S=Object.freeze({__proto__:null,convertToSet:xg}),on=function(){return(on=Object.assign||function(d){for(var o,r=1,a=arguments.length;r<a;r++)for(var u in o=arguments[r])Object.prototype.hasOwnProperty.call(o,u)&&(d[u]=o[u]);return d}).apply(this,arguments)},Ie=on(on(on(on(on(on(on(on(on(on(on(on(on(on(on(on(on(on(on(on({},ru),Up),YD),xp),tu),R_),lS),u_),$t),hS),Ci),Dg),$p),gi),Aa),nS),eg),mS),_S),oi),rs=function(){function d(o,r){void 0===o&&(o=0),void 0===r&&(r=1),this.nextValue=o,this.step=r}return d.prototype.next=function(){var o=this.nextValue;return this.nextValue+=this.step,o},d.prototype.peek=function(){return this.nextValue},d.prototype.skip=function(o){this.nextValue+=o},d}();!function(d){d[d.IN_PROGRESS=0]="IN_PROGRESS",d[d.RESOLVED=1]="RESOLVED"}(H.Ws0||(H.Ws0={}));var Qn=function(){function d(o){var r=this;this.status=H.Ws0.IN_PROGRESS,this.resolution=null,this.waiters=[],o(function(a){return r.onDone(a)},function(a){return r.onReject(a)})}return d.all=function(o){return new d(function(r){var a=o.length,u=new Array(a);Wi(o,function(c,f){c.then(function(y){u[f]=y,0==--a&&r(u)})})})},d.resolve=function(o){return void 0===o&&(o=null),new d(function(r){return r(o)})},d.prototype.then=function(o){var r=this;return new d(function(a){r.status===H.Ws0.RESOLVED?a(o(r.resolution)):r.waiters.push(function(u){return a(o(u))})})},d.prototype.resolveNow=function(o,r){return this.status===H.Ws0.RESOLVED?r(this.resolution):o},d.prototype.onDone=function(o){this.status=H.Ws0.RESOLVED,this.resolution=o,Wi(this.waiters,function(r){return r(o)})},d.prototype.onReject=function(o){console.warn("TBI")},d}(),M_=(function(){function d(){this.timestamp=(new Date).getTime()}d.prototype.print=function(o){var r=(new Date).getTime()-this.timestamp;console.info(o+" = "+r),this.timestamp=(new Date).getTime()}}(),function(){var d=function(o,r){return(d=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(a,u){a.__proto__=u}||function(a,u){for(var c in u)u.hasOwnProperty(c)&&(a[c]=u[c])})(o,r)};return function(o,r){function a(){this.constructor=o}d(o,r),o.prototype=null===r?Object.create(r):(a.prototype=r.prototype,new a)}}()),Pg=function(){return(Pg=Object.assign||function(d){for(var o,r=1,a=arguments.length;r<a;r++)for(var u in o=arguments[r])Object.prototype.hasOwnProperty.call(o,u)&&(d[u]=o[u]);return d}).apply(this,arguments)},Co=function(d,o,r,a){var f,u=arguments.length,c=u<3?o:null===a?a=Object.getOwnPropertyDescriptor(o,r):a;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)c=Reflect.decorate(d,o,r,a);else for(var y=d.length-1;y>=0;y--)(f=d[y])&&(c=(u<3?f(c):u>3?f(o,r,c):f(o,r))||c);return u>3&&c&&Object.defineProperty(o,r,c),c},ur=(()=>(function(d){d[d.NOTHING=0]="NOTHING",d[d.WAITING_TO_SHOW=1]="WAITING_TO_SHOW",d[d.SHOWING=2]="SHOWING"}(ur||(ur={})),ur))(),Rg=function(d){function o(r){var a=d.call(this)||this;return a.DEFAULT_HIDE_TOOLTIP_TIMEOUT=1e4,a.SHOW_QUICK_TOOLTIP_DIFF=1e3,a.FADE_OUT_TOOLTIP_TIMEOUT=1e3,a.state=ur.NOTHING,a.tooltipInstanceCount=0,a.tooltipMouseTrack=!1,a.parentComp=r,a}return M_(o,d),o.prototype.postConstruct=function(){this.tooltipShowDelay=this.gridOptionsWrapper.getTooltipShowDelay()||2e3,this.tooltipMouseTrack=this.gridOptionsWrapper.isTooltipMouseTrack();var r=this.parentComp.getGui();this.addManagedListener(r,"mouseenter",this.onMouseEnter.bind(this)),this.addManagedListener(r,"mouseleave",this.onMouseLeave.bind(this)),this.addManagedListener(r,"mousemove",this.onMouseMove.bind(this)),this.addManagedListener(r,"mousedown",this.onMouseDown.bind(this)),this.addManagedListener(r,"keydown",this.onKeyDown.bind(this))},o.prototype.destroy=function(){this.setToDoNothing(),d.prototype.destroy.call(this)},o.prototype.onMouseEnter=function(r){if(!Oa()&&this.state==ur.NOTHING){var a=this.isLastTooltipHiddenRecently()?200:this.tooltipShowDelay;this.showTooltipTimeoutId=window.setTimeout(this.showTooltip.bind(this),a),this.lastMouseEvent=r,this.state=ur.WAITING_TO_SHOW}},o.prototype.onMouseLeave=function(){this.setToDoNothing()},o.prototype.onKeyDown=function(){this.setToDoNothing()},o.prototype.setToDoNothing=function(){this.state===ur.SHOWING&&this.hideTooltip(),this.clearTimeouts(),this.state=ur.NOTHING},o.prototype.onMouseMove=function(r){this.lastMouseEvent=r,this.tooltipMouseTrack&&this.state===ur.SHOWING&&this.tooltipComp&&this.positionTooltipUnderLastMouseEvent()},o.prototype.onMouseDown=function(){this.setToDoNothing()},o.prototype.hideTooltip=function(){this.tooltipComp&&(this.destroyTooltipComp(),o.lastTooltipHideTime=(new Date).getTime()),this.state=ur.NOTHING},o.prototype.destroyTooltipComp=function(){var r=this;Me(this.tooltipComp.getGui(),"ag-tooltip-hiding");var a=this.tooltipPopupDestroyFunc,u=this.tooltipComp;window.setTimeout(function(){a(),r.getContext().destroyBean(u)},this.FADE_OUT_TOOLTIP_TIMEOUT),this.tooltipPopupDestroyFunc=void 0,this.tooltipComp=void 0},o.prototype.isLastTooltipHiddenRecently=function(){return(new Date).getTime()-o.lastTooltipHideTime<this.SHOW_QUICK_TOOLTIP_DIFF},o.prototype.showTooltip=function(){var r=Pg({api:this.gridApi,columnApi:this.columnApi,context:this.gridOptionsWrapper.getContext()},this.parentComp.getTooltipParams());if(ce(r.value)){this.state=ur.SHOWING,this.tooltipInstanceCount++;var a=this.newTooltipComponentCallback.bind(this,this.tooltipInstanceCount);this.userComponentFactory.getTooltipCompDetails(r).newAgStackInstance().then(a)}else this.setToDoNothing()},o.prototype.newTooltipComponentCallback=function(r,a){if(this.state!==ur.SHOWING||this.tooltipInstanceCount!==r)this.getContext().destroyBean(a);else{var c=a.getGui();this.tooltipComp=a,ts(c,"ag-tooltip")||Me(c,"ag-tooltip-custom"),this.gridOptionsWrapper.isReactUi()&&Me(c,"ag-tooltip-reactui");var f=this.gridOptionsWrapper.getLocaleTextFunc(),y=this.popupService.addPopup({eChild:c,ariaLabel:f("ariaLabelTooltip","Tooltip")});y&&(this.tooltipPopupDestroyFunc=y.hideFunc),this.positionTooltipUnderLastMouseEvent(),this.hideTooltipTimeoutId=window.setTimeout(this.hideTooltip.bind(this),this.DEFAULT_HIDE_TOOLTIP_TIMEOUT)}},o.prototype.positionTooltipUnderLastMouseEvent=function(){this.popupService.positionPopupUnderMouseEvent({type:"tooltip",mouseEvent:this.lastMouseEvent,ePopup:this.tooltipComp.getGui(),nudgeY:18})},o.prototype.clearTimeouts=function(){this.showTooltipTimeoutId&&(window.clearTimeout(this.showTooltipTimeoutId),this.showTooltipTimeoutId=void 0),this.hideTooltipTimeoutId&&(window.clearTimeout(this.hideTooltipTimeoutId),this.hideTooltipTimeoutId=void 0)},Co([F("popupService")],o.prototype,"popupService",void 0),Co([F("userComponentFactory")],o.prototype,"userComponentFactory",void 0),Co([F("columnApi")],o.prototype,"columnApi",void 0),Co([F("gridApi")],o.prototype,"gridApi",void 0),Co([ye],o.prototype,"postConstruct",null),o}(he),CS=function(){var d=function(o,r){return(d=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(a,u){a.__proto__=u}||function(a,u){for(var c in u)u.hasOwnProperty(c)&&(a[c]=u[c])})(o,r)};return function(o,r){function a(){this.constructor=o}d(o,r),o.prototype=null===r?Object.create(r):(a.prototype=r.prototype,new a)}}(),hl=function(d,o,r,a){var f,u=arguments.length,c=u<3?o:null===a?a=Object.getOwnPropertyDescriptor(o,r):a;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)c=Reflect.decorate(d,o,r,a);else for(var y=d.length-1;y>=0;y--)(f=d[y])&&(c=(u<3?f(c):u>3?f(o,r,c):f(o,r))||c);return u>3&&c&&Object.defineProperty(o,r,c),c},Tg=new rs,_t=function(d){function o(r){var a=d.call(this)||this;return a.displayed=!0,a.visible=!0,a.compId=Tg.next(),a.cssClassStates={},r&&a.setTemplate(r),a}return CS(o,d),o.prototype.preConstructOnComponent=function(){this.usingBrowserTooltips=this.gridOptionsWrapper.isEnableBrowserTooltips()},o.prototype.getCompId=function(){return this.compId},o.prototype.getTooltipParams=function(){return{value:this.tooltipText,location:"UNKNOWN"}},o.prototype.setTooltip=function(r){var a=this;this.tooltipText!=r&&(this.tooltipText&&(a.usingBrowserTooltips?a.getGui().removeAttribute("title"):a.tooltipFeature=a.destroyBean(a.tooltipFeature)),null!=r&&(this.tooltipText=r,this.tooltipText&&(a.usingBrowserTooltips?a.getGui().setAttribute("title",a.tooltipText):a.tooltipFeature=a.createBean(new Rg(a)))))},o.prototype.createChildComponentsFromTags=function(r,a){var u=this;Wi(Ui(r.childNodes),function(f){if(f instanceof HTMLElement){var y=u.createComponentFromElement(f,function(D){D.getGui()&&u.copyAttributesFromNode(f,D.getGui())},a);if(y){if(y.addItems&&f.children.length){u.createChildComponentsFromTags(f,a);var w=Array.prototype.slice.call(f.children);y.addItems(w)}u.swapComponentForNode(y,r,f)}else f.childNodes&&u.createChildComponentsFromTags(f,a)}})},o.prototype.createComponentFromElement=function(r,a,u){var c=r.nodeName,f=u?u[r.getAttribute("ref")]:void 0,y=this.agStackComponentsRegistry.getComponentClass(c);if(y){o.elementGettingCreated=r;var w=new y(f);return w.setParentComponent(this),this.createBean(w,null,a),w}return null},o.prototype.copyAttributesFromNode=function(r,a){aS(r.attributes,function(u,c){return a.setAttribute(u,c)})},o.prototype.swapComponentForNode=function(r,a,u){var c=r.getGui();a.replaceChild(c,u),a.insertBefore(document.createComment(u.nodeName),c),this.addDestroyFunc(this.destroyBean.bind(this,r)),this.swapInComponentForQuerySelectors(r,u)},o.prototype.swapInComponentForQuerySelectors=function(r,a){var u=this;this.iterateOverQuerySelectors(function(c){u[c.attributeName]===a&&(u[c.attributeName]=r)})},o.prototype.iterateOverQuerySelectors=function(r){for(var a=Object.getPrototypeOf(this);null!=a;){var u=a.__agComponentMetaData,c=_p(a.constructor);u&&u[c]&&u[c].querySelectors&&Wi(u[c].querySelectors,function(f){return r(f)}),a=Object.getPrototypeOf(a)}},o.prototype.setTemplate=function(r,a){var u=Gs(r);this.setTemplateFromElement(u,a)},o.prototype.setTemplateFromElement=function(r,a){this.eGui=r,this.eGui.__agComponent=this,this.wireQuerySelectors(),this.getContext()&&this.createChildComponentsFromTags(this.getGui(),a)},o.prototype.createChildComponentsPreConstruct=function(){this.getGui()&&this.createChildComponentsFromTags(this.getGui())},o.prototype.wireQuerySelectors=function(){var r=this;if(this.eGui){var a=this;this.iterateOverQuerySelectors(function(u){var c=function(w){return a[u.attributeName]=w};if(u.refSelector&&r.eGui.getAttribute("ref")===u.refSelector)c(r.eGui);else{var y=r.eGui.querySelector(u.querySelector);y&&c(y.__agComponent||y)}})}},o.prototype.getGui=function(){return this.eGui},o.prototype.getFocusableElement=function(){return this.eGui},o.prototype.setParentComponent=function(r){this.parentComponent=r},o.prototype.getParentComponent=function(){return this.parentComponent},o.prototype.setGui=function(r){this.eGui=r},o.prototype.queryForHtmlElement=function(r){return this.eGui.querySelector(r)},o.prototype.queryForHtmlInputElement=function(r){return this.eGui.querySelector(r)},o.prototype.appendChild=function(r,a){if(a||(a=this.eGui),null!=r)if(mg(r))a.appendChild(r);else{var u=r;a.appendChild(u.getGui()),this.addDestroyFunc(this.destroyBean.bind(this,u))}},o.prototype.isDisplayed=function(){return this.displayed},o.prototype.setVisible=function(r){r!==this.visible&&(this.visible=r,sS(this.eGui,r))},o.prototype.setDisplayed=function(r){r!==this.displayed&&(this.displayed=r,Oi(this.eGui,r),this.dispatchEvent({type:o.EVENT_DISPLAYED_CHANGED,visible:this.displayed}))},o.prototype.destroy=function(){this.tooltipFeature&&(this.tooltipFeature=this.destroyBean(this.tooltipFeature)),d.prototype.destroy.call(this)},o.prototype.addGuiEventListener=function(r,a){var u=this;this.eGui.addEventListener(r,a),this.addDestroyFunc(function(){return u.eGui.removeEventListener(r,a)})},o.prototype.addCssClass=function(r){!0!==this.cssClassStates[r]&&(Me(this.eGui,r),this.cssClassStates[r]=!0)},o.prototype.removeCssClass=function(r){!1!==this.cssClassStates[r]&&(Xn(this.eGui,r),this.cssClassStates[r]=!1)},o.prototype.addOrRemoveCssClass=function(r,a){this.cssClassStates[r]!==a&&(Ke(this.eGui,r,a),this.cssClassStates[r]=a)},o.prototype.getAttribute=function(r){var a=this.eGui;return a?a.getAttribute(r):null},o.prototype.getRefElement=function(r){return this.queryForHtmlElement('[ref="'+r+'"]')},o.EVENT_DISPLAYED_CHANGED="displayedChanged",hl([F("agStackComponentsRegistry")],o.prototype,"agStackComponentsRegistry",void 0),hl([n_],o.prototype,"preConstructOnComponent",null),hl([n_],o.prototype,"createChildComponentsPreConstruct",null),o}(he);function pe(d){return DS.bind(this,"[ref="+d+"]",d)}function DS(d,o,r,a,u){null!==d?"number"!=typeof u?function(d,o,r){var a=function(d,o){return d.__agComponentMetaData||(d.__agComponentMetaData={}),d.__agComponentMetaData[o]||(d.__agComponentMetaData[o]={}),d.__agComponentMetaData[o]}(d,_p(d.constructor));a[o]||(a[o]=[]),a[o].push(r)}(r,"querySelectors",{attributeName:a,querySelector:d,refSelector:o}):console.error("AG Grid: QuerySelector should be on an attribute"):console.error("AG Grid: QuerySelector selector should not be null")}var Ag=function(){var d=function(o,r){return(d=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(a,u){a.__proto__=u}||function(a,u){for(var c in u)u.hasOwnProperty(c)&&(a[c]=u[c])})(o,r)};return function(o,r){function a(){this.constructor=o}d(o,r),o.prototype=null===r?Object.create(r):(a.prototype=r.prototype,new a)}}(),Lc=function(d,o,r,a){var f,u=arguments.length,c=u<3?o:null===a?a=Object.getOwnPropertyDescriptor(o,r):a;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)c=Reflect.decorate(d,o,r,a);else for(var y=d.length-1;y>=0;y--)(f=d[y])&&(c=(u<3?f(c):u>3?f(o,r,c):f(o,r))||c);return u>3&&c&&Object.defineProperty(o,r,c),c},N_=function(d){function o(){return d.call(this,'\n            <div class="ag-floating-filter-input" role="presentation">\n                <ag-input-text-field ref="eFloatingFilterText"></ag-input-text-field>\n            </div>')||this}return Ag(o,d),o.prototype.destroy=function(){d.prototype.destroy.call(this)},o.prototype.init=function(r){this.params=r;var a=this.columnModel.getDisplayNameForColumn(r.column,"header",!0),u=this.gridOptionsWrapper.getLocaleTextFunc();this.eFloatingFilterText.setDisabled(!0).setInputAriaLabel(a+" "+u("ariaFilterInput","Filter Input"))},o.prototype.onParentModelChanged=function(r){var a=this;r?this.params.parentFilterInstance(function(u){if(u.getModelAsString){var c=u.getModelAsString(r);a.eFloatingFilterText.setValue(c)}}):this.eFloatingFilterText.setValue("")},Lc([pe("eFloatingFilterText")],o.prototype,"eFloatingFilterText",void 0),Lc([F("columnModel")],o.prototype,"columnModel",void 0),o}(_t),Ig=function(){function d(o,r,a,u){var c=this;this.alive=!0,this.context=o,this.eParent=u,r.getDateCompDetails(a).newAgStackInstance().then(function(w){c.alive?(c.dateComp=w,w&&(u.appendChild(w.getGui()),w.afterGuiAttached&&w.afterGuiAttached(),c.tempValue&&w.setDate(c.tempValue),null!=c.disabled&&c.setDateCompDisabled(c.disabled))):o.destroyBean(w)})}return d.prototype.destroy=function(){this.alive=!1,this.dateComp=this.context.destroyBean(this.dateComp)},d.prototype.getDate=function(){return this.dateComp?this.dateComp.getDate():this.tempValue},d.prototype.setDate=function(o){this.dateComp?this.dateComp.setDate(o):this.tempValue=o},d.prototype.setDisabled=function(o){this.dateComp?this.setDateCompDisabled(o):this.disabled=o},d.prototype.setDisplayed=function(o){Oi(this.eParent,o)},d.prototype.setInputPlaceholder=function(o){this.dateComp&&this.dateComp.setInputPlaceholder&&this.dateComp.setInputPlaceholder(o)},d.prototype.setInputAriaLabel=function(o){this.dateComp&&this.dateComp.setInputAriaLabel&&this.dateComp.setInputAriaLabel(o)},d.prototype.afterGuiAttached=function(o){this.dateComp&&"function"==typeof this.dateComp.afterGuiAttached&&this.dateComp.afterGuiAttached(o)},d.prototype.setDateCompDisabled=function(o){null!=this.dateComp&&null!=this.dateComp.setDisabled&&this.dateComp.setDisabled(o)},d}(),Ia=function(){return(Ia=Object.assign||function(d){for(var o,r=1,a=arguments.length;r<a;r++)for(var u in o=arguments[r])Object.prototype.hasOwnProperty.call(o,u)&&(d[u]=o[u]);return d}).apply(this,arguments)},L_=function(){function d(){this.customFilterOptions={}}return d.prototype.init=function(o,r){this.filterOptions=o.filterOptions||r,this.mapCustomOptions(),this.selectDefaultItem(o),this.checkForDeprecatedParams()},d.prototype.checkForDeprecatedParams=function(){Ie.some(this.filterOptions,function(o){return"string"!=typeof o&&null!=o.test})&&console.warn("AG Grid: [IFilterOptionDef] since v26.2.0, test() has been replaced with predicate()."),Ie.some(this.filterOptions,function(o){return"string"!=typeof o&&null!=o.hideFilterInput})&&console.warn("AG Grid: [IFilterOptionDef] since v26.2.0, useOfHideFilterInput has been replaced with numberOfInputs.")},d.prototype.getFilterOptions=function(){return this.filterOptions},d.prototype.mapCustomOptions=function(){var o=this;!this.filterOptions||this.filterOptions.forEach(function(r){if("string"!=typeof r){if(!wc([["displayKey"],["displayName"],["predicate","test"]],function(y){return!!qr(y,function(w){return null!=r[w]})||(console.warn("AG Grid: ignoring FilterOptionDef as it doesn't contain one of '"+y+"'"),!1)}))return void(o.filterOptions=Ie.filter(o.filterOptions,function(y){return y===r})||[]);var c=r.test,f=Ia({},r);null!=c&&null==r.predicate&&(f.predicate=function(y,w){return c(y[0],w)},delete f.test),f.hideFilterInput&&null==f.numberOfInputs&&(f.numberOfInputs=0,delete f.hideFilterInput),o.customFilterOptions[r.displayKey]=f}})},d.prototype.selectDefaultItem=function(o){if(o.defaultOption)this.defaultOption=o.defaultOption;else if(this.filterOptions.length>=1){var r=this.filterOptions[0];"string"==typeof r?this.defaultOption=r:r.displayKey?this.defaultOption=r.displayKey:console.warn("AG Grid: invalid FilterOptionDef supplied as it doesn't contain a 'displayKey'")}else console.warn("AG Grid: no filter options for filter")},d.prototype.getDefaultOption=function(){return this.defaultOption},d.prototype.getCustomOption=function(o){return this.customFilterOptions[o]},d}(),cu={applyFilter:"Apply",clearFilter:"Clear",resetFilter:"Reset",cancelFilter:"Cancel",textFilter:"Text Filter",numberFilter:"Number Filter",dateFilter:"Date Filter",setFilter:"Set Filter",filterOoo:"Filter...",empty:"Choose One",equals:"Equals",notEqual:"Not equal",lessThan:"Less than",greaterThan:"Greater than",inRange:"In range",inRangeStart:"From",inRangeEnd:"To",lessThanOrEqual:"Less than or equals",greaterThanOrEqual:"Greater than or equals",contains:"Contains",notContains:"Not contains",startsWith:"Starts with",endsWith:"Ends with",andCondition:"AND",orCondition:"OR",dateFormatOoo:"yyyy-mm-dd"},me=function(){function d(){}return d.BACKSPACE=8,d.TAB=9,d.ENTER=13,d.SHIFT=16,d.ESCAPE=27,d.SPACE=32,d.LEFT=37,d.UP=38,d.RIGHT=39,d.DOWN=40,d.DELETE=46,d.A=65,d.C=67,d.V=86,d.D=68,d.Z=90,d.Y=89,d.F2=113,d.PAGE_UP=33,d.PAGE_DOWN=34,d.PAGE_HOME=36,d.PAGE_END=35,d}(),Kp=function(){var d=function(o,r){return(d=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(a,u){a.__proto__=u}||function(a,u){for(var c in u)u.hasOwnProperty(c)&&(a[c]=u[c])})(o,r)};return function(o,r){function a(){this.constructor=o}d(o,r),o.prototype=null===r?Object.create(r):(a.prototype=r.prototype,new a)}}(),V_=function(){return(V_=Object.assign||function(d){for(var o,r=1,a=arguments.length;r<a;r++)for(var u in o=arguments[r])Object.prototype.hasOwnProperty.call(o,u)&&(d[u]=o[u]);return d}).apply(this,arguments)},Mg=function(d,o,r,a){var f,u=arguments.length,c=u<3?o:null===a?a=Object.getOwnPropertyDescriptor(o,r):a;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)c=Reflect.decorate(d,o,r,a);else for(var y=d.length-1;y>=0;y--)(f=d[y])&&(c=(u<3?f(c):u>3?f(o,r,c):f(o,r))||c);return u>3&&c&&Object.defineProperty(o,r,c),c},os=function(d){function o(r,a){void 0===a&&(a={});var u=d.call(this)||this;return u.eFocusableElement=r,u.callbacks=a,u.callbacks=V_({shouldStopEventPropagation:function(){return!1},onTabKeyDown:function(c){if(!c.defaultPrevented){var f=u.focusService.findNextFocusableElement(u.eFocusableElement,!1,c.shiftKey);!f||(f.focus(),c.preventDefault())}}},a),u}return Kp(o,d),o.prototype.postConstruct=function(){Me(this.eFocusableElement,o.FOCUS_MANAGED_CLASS),this.addKeyDownListeners(this.eFocusableElement),this.callbacks.onFocusIn&&this.addManagedListener(this.eFocusableElement,"focusin",this.callbacks.onFocusIn),this.callbacks.onFocusOut&&this.addManagedListener(this.eFocusableElement,"focusout",this.callbacks.onFocusOut)},o.prototype.addKeyDownListeners=function(r){var a=this;this.addManagedListener(r,"keydown",function(u){if(!u.defaultPrevented&&!Ls(u)){if(a.callbacks.shouldStopEventPropagation(u))return void ri(u);u.keyCode===me.TAB?a.callbacks.onTabKeyDown(u):a.callbacks.handleKeyDown&&a.callbacks.handleKeyDown(u)}})},o.FOCUS_MANAGED_CLASS="ag-focus-managed",Mg([F("focusService")],o.prototype,"focusService",void 0),Mg([ye],o.prototype,"postConstruct",null),o}(he),SS=function(){var d=function(o,r){return(d=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(a,u){a.__proto__=u}||function(a,u){for(var c in u)u.hasOwnProperty(c)&&(a[c]=u[c])})(o,r)};return function(o,r){function a(){this.constructor=o}d(o,r),o.prototype=null===r?Object.create(r):(a.prototype=r.prototype,new a)}}(),k_=function(d,o,r,a){var f,u=arguments.length,c=u<3?o:null===a?a=Object.getOwnPropertyDescriptor(o,r):a;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)c=Reflect.decorate(d,o,r,a);else for(var y=d.length-1;y>=0;y--)(f=d[y])&&(c=(u<3?f(c):u>3?f(o,r,c):f(o,r))||c);return u>3&&c&&Object.defineProperty(o,r,c),c},Bs=function(d){function o(r){var a=d.call(this)||this;return a.filterNameKey=r,a.applyActive=!1,a.hidePopup=null,a.appliedModel=null,a}return SS(o,d),o.prototype.postConstruct=function(){this.resetTemplate(),this.createManagedBean(new os(this.getFocusableElement(),{handleKeyDown:this.handleKeyDown.bind(this)}))},o.prototype.handleKeyDown=function(r){},o.prototype.getFilterTitle=function(){return this.translate(this.filterNameKey)},o.prototype.onFilterChanged=function(){console.warn("AG Grid: you should not call onFilterChanged() directly on the filter, please call\n        gridApi.onFilterChanged() instead. onFilterChanged is not part of the exposed filter interface (it was\n        a method that existed on an old version of the filters that was not intended for public use."),this.providedFilterParams.filterChangedCallback()},o.prototype.isFilterActive=function(){return!!this.appliedModel},o.prototype.resetTemplate=function(r){var a='\n            <div class="ag-filter-wrapper">\n                <div class="ag-filter-body-wrapper ag-'+this.getCssIdentifier()+'-body-wrapper">\n                    '+this.createBodyTemplate()+"\n                </div>\n            </div>";this.setTemplate(a,r)},o.prototype.isReadOnly=function(){return!!this.providedFilterParams.readOnly},o.prototype.init=function(r){var a=this;this.setParams(r),this.resetUiToDefaults(!0).then(function(){a.updateUiVisibility(),a.setupOnBtApplyDebounce()})},o.prototype.setParams=function(r){o.checkForDeprecatedParams(r),this.providedFilterParams=r,this.newRowsActionKeep="keep"===r.newRowsAction||"clear"!==r.newRowsAction&&[q.ROW_MODEL_TYPE_SERVER_SIDE,q.ROW_MODEL_TYPE_INFINITE].indexOf(this.rowModel.getType())>=0,this.applyActive=o.isUseApplyButton(r),this.createButtonPanel()},o.prototype.createButtonPanel=function(){var r=this,a=this.providedFilterParams.buttons;if(!(!a||a.length<1||this.isReadOnly())){var u=document.createElement("div");Me(u,"ag-filter-apply-panel"),xg(a).forEach(function(f){return function(f){var y,w;switch(f){case"apply":y=r.translate("applyFilter"),w=function(O){return r.onBtApply(!1,!1,O)};break;case"clear":y=r.translate("clearFilter"),w=function(){return r.onBtClear()};break;case"reset":y=r.translate("resetFilter"),w=function(){return r.onBtReset()};break;case"cancel":y=r.translate("cancelFilter"),w=function(O){r.onBtCancel(O)};break;default:return void console.warn("Unknown button type specified")}var D=Gs('<button\n                    type="button"\n                    ref="'+f+'FilterButton"\n                    class="ag-standard-button ag-filter-apply-panel-button"\n                >'+y+"\n                </button>");u.appendChild(D),r.addManagedListener(D,"click",w)}(f)}),this.getGui().appendChild(u)}},o.checkForDeprecatedParams=function(r){var a=r.buttons||[];if(!(a.length>0)){var u=r.applyButton,c=r.resetButton;r.clearButton&&(console.warn("AG Grid: as of AG Grid v23.2, filterParams.clearButton is deprecated. Please use filterParams.buttons instead"),a.push("clear")),c&&(console.warn("AG Grid: as of AG Grid v23.2, filterParams.resetButton is deprecated. Please use filterParams.buttons instead"),a.push("reset")),u&&(console.warn("AG Grid: as of AG Grid v23.2, filterParams.applyButton is deprecated. Please use filterParams.buttons instead"),a.push("apply")),r.apply&&(console.warn("AG Grid: as of AG Grid v21, filterParams.apply is deprecated. Please use filterParams.buttons instead"),a.push("apply")),r.buttons=a}},o.prototype.getDefaultDebounceMs=function(){return 0},o.prototype.setupOnBtApplyDebounce=function(){var r=o.getDebounceMs(this.providedFilterParams,this.getDefaultDebounceMs());this.onBtApplyDebounce=qo(this.onBtApply.bind(this),r)},o.prototype.getModel=function(){return this.appliedModel},o.prototype.setModel=function(r){var a=this;return(r?this.setModelIntoUi(r):this.resetUiToDefaults()).then(function(){a.updateUiVisibility(),a.applyModel()})},o.prototype.onBtCancel=function(r){var a=this,u=this.getModel(),c=function(){a.onUiChanged(!1,"prevent"),a.providedFilterParams.closeOnApply&&a.close(r)};null!=u?this.setModelIntoUi(u).then(c):this.resetUiToDefaults().then(c)},o.prototype.onBtClear=function(){var r=this;this.resetUiToDefaults().then(function(){return r.onUiChanged()})},o.prototype.onBtReset=function(){this.onBtClear(),this.onBtApply()},o.prototype.applyModel=function(){var r=this.getModelFromUi();if(!this.isModelValid(r))return!1;var a=this.appliedModel;return this.appliedModel=r,!this.areModelsEqual(a,r)},o.prototype.isModelValid=function(r){return!0},o.prototype.onBtApply=function(r,a,u){void 0===r&&(r=!1),void 0===a&&(a=!1),this.applyModel()&&this.providedFilterParams.filterChangedCallback({afterFloatingFilter:r,afterDataChange:a}),this.providedFilterParams.closeOnApply&&this.applyActive&&!r&&!a&&this.close(u)},o.prototype.onNewRowsLoaded=function(){var r=this;this.newRowsActionKeep||this.resetUiToDefaults().then(function(){return r.appliedModel=null})},o.prototype.close=function(r){if(this.hidePopup){var c,u=r&&r.key;("Enter"===u||"Space"===u)&&(c={keyboardEvent:r}),this.hidePopup(c),this.hidePopup=null}},o.prototype.isNewRowsActionKeep=function(){return this.newRowsActionKeep},o.prototype.onUiChanged=function(r,a){if(void 0===r&&(r=!1),this.updateUiVisibility(),this.providedFilterParams.filterModifiedCallback(),this.applyActive&&!this.isReadOnly){var u=this.isModelValid(this.getModelFromUi());Rc(this.getRefElement("applyFilterButton"),!u)}r&&!a||"immediately"===a?this.onBtApply(r):(!this.applyActive&&!a||"debounce"===a)&&this.onBtApplyDebounce()},o.prototype.afterGuiAttached=function(r){null!=r&&(this.hidePopup=r.hidePopup)},o.getDebounceMs=function(r,a){return o.isUseApplyButton(r)?(null!=r.debounceMs&&console.warn("AG Grid: debounceMs is ignored when apply button is present"),0):null!=r.debounceMs?r.debounceMs:a},o.isUseApplyButton=function(r){return o.checkForDeprecatedParams(r),!!r.buttons&&r.buttons.indexOf("apply")>=0},o.prototype.destroy=function(){this.hidePopup=null,d.prototype.destroy.call(this)},o.prototype.translate=function(r){return this.gridOptionsWrapper.getLocaleTextFunc()(r,cu[r])},o.prototype.getCellValue=function(r){return this.providedFilterParams.valueGetter(r)},k_([F("rowModel")],o.prototype,"rowModel",void 0),k_([ye],o.prototype,"postConstruct",null),o}(_t),Fg=function(){var d=function(o,r){return(d=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(a,u){a.__proto__=u}||function(a,u){for(var c in u)u.hasOwnProperty(c)&&(a[c]=u[c])})(o,r)};return function(o,r){function a(){this.constructor=o}d(o,r),o.prototype=null===r?Object.create(r):(a.prototype=r.prototype,new a)}}(),du=function(d){function o(r,a){var u=d.call(this,a)||this;return u.labelSeparator="",u.labelAlignment="left",u.label="",u.config=r||{},u}return Fg(o,d),o.prototype.postConstruct=function(){Me(this.getGui(),"ag-labeled"),Me(this.eLabel,"ag-label");var r=this.config,a=r.labelSeparator,u=r.label,c=r.labelWidth,f=r.labelAlignment;null!=a&&this.setLabelSeparator(a),null!=u&&this.setLabel(u),null!=c&&this.setLabelWidth(c),this.setLabelAlignment(f||this.labelAlignment),this.refreshLabel()},o.prototype.refreshLabel=function(){mo(this.eLabel),"string"==typeof this.label?this.eLabel.innerText=this.label+this.labelSeparator:this.label&&this.eLabel.appendChild(this.label),""===this.label?(Me(this.eLabel,"ag-hidden"),Sr(this.eLabel,"presentation")):(Xn(this.eLabel,"ag-hidden"),Sr(this.eLabel,null))},o.prototype.setLabelSeparator=function(r){return this.labelSeparator===r||(this.labelSeparator=r,null!=this.label&&this.refreshLabel()),this},o.prototype.getLabelId=function(){return this.eLabel.id=this.eLabel.id||"ag-"+this.getCompId()+"-label",this.eLabel.id},o.prototype.getLabel=function(){return this.label},o.prototype.setLabel=function(r){return this.label===r||(this.label=r,this.refreshLabel()),this},o.prototype.setLabelAlignment=function(r){var a=this.getGui();return Ke(a,"ag-label-align-left","left"===r),Ke(a,"ag-label-align-right","right"===r),Ke(a,"ag-label-align-top","top"===r),this},o.prototype.setLabelWidth=function(r){return null==this.label||Ac(this.eLabel,r),this},function(d,o,r,a){var f,u=arguments.length,c=u<3?o:null===a?a=Object.getOwnPropertyDescriptor(o,r):a;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)c=Reflect.decorate(d,o,r,a);else for(var y=d.length-1;y>=0;y--)(f=d[y])&&(c=(u<3?f(c):u>3?f(o,r,c):f(o,r))||c);u>3&&c&&Object.defineProperty(o,r,c)}([ye],o.prototype,"postConstruct",null),o}(_t),Xp=function(){var d=function(o,r){return(d=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(a,u){a.__proto__=u}||function(a,u){for(var c in u)u.hasOwnProperty(c)&&(a[c]=u[c])})(o,r)};return function(o,r){function a(){this.constructor=o}d(o,r),o.prototype=null===r?Object.create(r):(a.prototype=r.prototype,new a)}}(),ss=function(d){function o(r,a,u){var c=d.call(this,r,a)||this;return c.className=u,c.disabled=!1,c}return Xp(o,d),o.prototype.postConstruct=function(){d.prototype.postConstruct.call(this),this.className&&Me(this.getGui(),this.className)},o.prototype.onValueChange=function(r){var a=this;return this.addManagedListener(this,o.EVENT_CHANGED,function(){return r(a.getValue())}),this},o.prototype.getWidth=function(){return this.getGui().clientWidth},o.prototype.setWidth=function(r){return un(this.getGui(),r),this},o.prototype.getPreviousValue=function(){return this.previousValue},o.prototype.getValue=function(){return this.value},o.prototype.setValue=function(r,a){return this.value===r||(this.previousValue=this.value,this.value=r,a||this.dispatchEvent({type:o.EVENT_CHANGED})),this},o.prototype.setDisabled=function(r){r=!!r;var a=this.getGui();return Rc(a,r),Ke(a,"ag-disabled",r),this.disabled=r,this},o.prototype.isDisabled=function(){return!!this.disabled},o.EVENT_CHANGED="valueChange",o}(du),G_=function(){var d=function(o,r){return(d=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(a,u){a.__proto__=u}||function(a,u){for(var c in u)u.hasOwnProperty(c)&&(a[c]=u[c])})(o,r)};return function(o,r){function a(){this.constructor=o}d(o,r),o.prototype=null===r?Object.create(r):(a.prototype=r.prototype,new a)}}(),Vc=function(d,o,r,a){var f,u=arguments.length,c=u<3?o:null===a?a=Object.getOwnPropertyDescriptor(o,r):a;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)c=Reflect.decorate(d,o,r,a);else for(var y=d.length-1;y>=0;y--)(f=d[y])&&(c=(u<3?f(c):u>3?f(o,r,c):f(o,r))||c);return u>3&&c&&Object.defineProperty(o,r,c),c},Lg=function(d){function o(r,a,u,c){var f=d.call(this,r,'<div class="ag-picker-field" role="presentation">\n                <div ref="eLabel"></div>\n                <div ref="eWrapper"\n                    class="ag-wrapper ag-picker-field-wrapper"\n                    tabIndex="-1"\n                    '+(c?'aria-haspopup="'+c+'"':"")+'\n                >\n                    <div ref="eDisplayField" class="ag-picker-field-display"></div>\n                    <div ref="eIcon" class="ag-picker-field-icon" aria-hidden="true"></div>\n                </div>\n            </div>',a)||this;return f.pickerIcon=u,f.isPickerDisplayed=!1,f.isDestroyingPicker=!1,f.skipClick=!1,f}return G_(o,d),o.prototype.postConstruct=function(){var r=this;d.prototype.postConstruct.call(this);var a=this.getCompId()+"-display";this.eDisplayField.setAttribute("id",a),Gp(this.eWrapper,a);var u=function(){r.skipClick?r.skipClick=!1:r.isDisabled()||(r.pickerComponent=r.showPicker())},c=this.getGui();if(this.addManagedListener(c,"mousedown",function(y){!r.skipClick&&r.pickerComponent&&r.pickerComponent.isAlive()&&Tc(r.pickerComponent.getGui())&&c.contains(y.target)&&(r.skipClick=!0)}),this.addManagedListener(c,"keydown",function(y){switch(y.keyCode){case me.UP:case me.DOWN:case me.ENTER:case me.SPACE:u();case me.ESCAPE:r.isPickerDisplayed&&y.preventDefault()}}),this.addManagedListener(this.eWrapper,"click",u),this.addManagedListener(this.eLabel,"click",u),this.pickerIcon){var f=An(this.pickerIcon,this.gridOptionsWrapper);f&&this.eIcon.appendChild(f)}},o.prototype.refreshLabel=function(){ce(this.getLabel())?bg(this.eWrapper,this.getLabelId()):this.eWrapper.removeAttribute("aria-labelledby"),d.prototype.refreshLabel.call(this)},o.prototype.setAriaLabel=function(r){return ou(this.eWrapper,r),this},o.prototype.setInputWidth=function(r){return Ac(this.eWrapper,r),this},o.prototype.getFocusableElement=function(){return this.eWrapper},Vc([pe("eLabel")],o.prototype,"eLabel",void 0),Vc([pe("eWrapper")],o.prototype,"eWrapper",void 0),Vc([pe("eDisplayField")],o.prototype,"eDisplayField",void 0),Vc([pe("eIcon")],o.prototype,"eIcon",void 0),o}(ss),H_=function(){var d=function(o,r){return(d=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(a,u){a.__proto__=u}||function(a,u){for(var c in u)u.hasOwnProperty(c)&&(a[c]=u[c])})(o,r)};return function(o,r){function a(){this.constructor=o}d(o,r),o.prototype=null===r?Object.create(r):(a.prototype=r.prototype,new a)}}(),B_=function(d){function o(r){void 0===r&&(r="default");var a=d.call(this,'<div class="ag-list ag-'+r+'-list" role="listbox"></div>')||this;return a.cssIdentifier=r,a.options=[],a.itemEls=[],a}return H_(o,d),o.prototype.init=function(){this.addManagedListener(this.getGui(),"keydown",this.handleKeyDown.bind(this))},o.prototype.handleKeyDown=function(r){var a=r.keyCode;switch(a){case me.ENTER:if(this.highlightedEl){var u=this.itemEls.indexOf(this.highlightedEl);this.setValueByIndex(u)}else this.setValue(this.getValue());break;case me.DOWN:case me.UP:var c=a===me.DOWN,f=void 0;if(r.preventDefault(),this.highlightedEl){var w=this.itemEls.indexOf(this.highlightedEl)+(c?1:-1);w=Math.min(Math.max(w,0),this.itemEls.length-1),f=this.itemEls[w]}else f=this.itemEls[c?0:this.itemEls.length-1];this.highlightItem(f)}},o.prototype.addOptions=function(r){var a=this;return r.forEach(function(u){return a.addOption(u)}),this},o.prototype.addOption=function(r){var a=r.value,c=No(r.text||a);return this.options.push({value:a,text:c}),this.renderOption(a,c),this},o.prototype.renderOption=function(r,a){var u=this,c=document.createElement("div");Sr(c,"option"),Me(c,"ag-list-item"),Me(c,"ag-"+this.cssIdentifier+"-list-item"),c.innerHTML="<span>"+a+"</span>",c.tabIndex=-1,this.itemEls.push(c),this.addManagedListener(c,"mouseover",function(){return u.highlightItem(c)}),this.addManagedListener(c,"mouseleave",function(){return u.clearHighlighted()}),this.addManagedListener(c,"click",function(){return u.setValue(r)}),this.getGui().appendChild(c)},o.prototype.setValue=function(r,a){if(this.value===r)return this.fireItemSelected(),this;if(null==r)return this.reset(),this;var u=va(this.options,function(f){return f.value===r});if(-1!==u){var c=this.options[u];this.value=c.value,this.displayValue=null!=c.text?c.text:c.value,this.highlightItem(this.itemEls[u]),a||this.fireChangeEvent()}return this},o.prototype.setValueByIndex=function(r){return this.setValue(this.options[r].value)},o.prototype.getValue=function(){return this.value},o.prototype.getDisplayValue=function(){return this.displayValue},o.prototype.refreshHighlighted=function(){var r=this;this.clearHighlighted();var a=va(this.options,function(u){return u.value===r.value});-1!==a&&this.highlightItem(this.itemEls[a])},o.prototype.reset=function(){this.value=null,this.displayValue=null,this.clearHighlighted(),this.fireChangeEvent()},o.prototype.highlightItem=function(r){!r.offsetParent||(this.clearHighlighted(),this.highlightedEl=r,Me(this.highlightedEl,o.ACTIVE_CLASS),lu(this.highlightedEl,!0),this.highlightedEl.focus())},o.prototype.clearHighlighted=function(){!this.highlightedEl||!this.highlightedEl.offsetParent||(Xn(this.highlightedEl,o.ACTIVE_CLASS),lu(this.highlightedEl,!1),this.highlightedEl=null)},o.prototype.fireChangeEvent=function(){this.dispatchEvent({type:ss.EVENT_CHANGED}),this.fireItemSelected()},o.prototype.fireItemSelected=function(){this.dispatchEvent({type:o.EVENT_ITEM_SELECTED})},o.EVENT_ITEM_SELECTED="selectedItem",o.ACTIVE_CLASS="ag-active-item",function(d,o,r,a){var f,u=arguments.length,c=u<3?o:null===a?a=Object.getOwnPropertyDescriptor(o,r):a;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)c=Reflect.decorate(d,o,r,a);else for(var y=d.length-1;y>=0;y--)(f=d[y])&&(c=(u<3?f(c):u>3?f(o,r,c):f(o,r))||c);u>3&&c&&Object.defineProperty(o,r,c)}([ye],o.prototype,"init",null),o}(_t),qp=function(){var d=function(o,r){return(d=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(a,u){a.__proto__=u}||function(a,u){for(var c in u)u.hasOwnProperty(c)&&(a[c]=u[c])})(o,r)};return function(o,r){function a(){this.constructor=o}d(o,r),o.prototype=null===r?Object.create(r):(a.prototype=r.prototype,new a)}}(),pu=function(d,o,r,a){var f,u=arguments.length,c=u<3?o:null===a?a=Object.getOwnPropertyDescriptor(o,r):a;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)c=Reflect.decorate(d,o,r,a);else for(var y=d.length-1;y>=0;y--)(f=d[y])&&(c=(u<3?f(c):u>3?f(o,r,c):f(o,r))||c);return u>3&&c&&Object.defineProperty(o,r,c),c},Vg=function(d){function o(r){return d.call(this,r,"ag-select","smallDown","listbox")||this}return qp(o,d),o.prototype.init=function(){var r=this;this.listComponent=this.createBean(new B_("select")),this.listComponent.setParentComponent(this),this.eWrapper.tabIndex=0,this.listComponent.addManagedListener(this.listComponent,B_.EVENT_ITEM_SELECTED,function(){r.hideList&&r.hideList()}),this.listComponent.addManagedListener(this.listComponent,ss.EVENT_CHANGED,function(){r.setValue(r.listComponent.getValue(),!1,!0),r.hideList&&r.hideList()})},o.prototype.showPicker=function(){var r=this,a=this.listComponent.getGui(),u=this.addManagedListener(document.body,"wheel",function(w){!a.contains(w.target)&&r.hideList&&r.hideList()}),c=this.addManagedListener(a,"focusout",function(w){!a.contains(w.relatedTarget)&&r.hideList&&r.hideList()}),f=this.gridOptionsWrapper.getLocaleTextFunc(),y=this.popupService.addPopup({modal:!0,eChild:a,closeOnEsc:!0,closedCallback:function(){r.hideList=null,r.isPickerDisplayed=!1,c(),u(),r.isAlive()&&r.getFocusableElement().focus()},ariaLabel:f("ariaLabelSelectField","Select Field")});return y&&(this.hideList=y.hideFunc),this.isPickerDisplayed=!0,Ac(a,fg(this.eWrapper)),a.style.maxHeight=Pp(this.popupService.getPopupParent())+"px",a.style.position="absolute",this.popupService.positionPopupUnderComponent({type:"ag-list",eventSource:this.eWrapper,ePopup:a,keepWithinBounds:!0}),this.listComponent.refreshHighlighted(),this.listComponent},o.prototype.addOptions=function(r){var a=this;return r.forEach(function(u){return a.addOption(u)}),this},o.prototype.addOption=function(r){return this.listComponent.addOption(r),this},o.prototype.setValue=function(r,a,u){return this.value===r?this:(u||this.listComponent.setValue(r,!0),this.listComponent.getValue()===this.getValue()?this:(this.eDisplayField.innerHTML=this.listComponent.getDisplayValue(),d.prototype.setValue.call(this,r,a)))},o.prototype.destroy=function(){this.hideList&&this.hideList(),this.destroyBean(this.listComponent),d.prototype.destroy.call(this)},pu([F("popupService")],o.prototype,"popupService",void 0),pu([ye],o.prototype,"init",null),o}(Lg),j_=function(){var d=function(o,r){return(d=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(a,u){a.__proto__=u}||function(a,u){for(var c in u)u.hasOwnProperty(c)&&(a[c]=u[c])})(o,r)};return function(o,r){function a(){this.constructor=o}d(o,r),o.prototype=null===r?Object.create(r):(a.prototype=r.prototype,new a)}}(),Zp=function(d,o,r,a){var f,u=arguments.length,c=u<3?o:null===a?a=Object.getOwnPropertyDescriptor(o,r):a;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)c=Reflect.decorate(d,o,r,a);else for(var y=d.length-1;y>=0;y--)(f=d[y])&&(c=(u<3?f(c):u>3?f(o,r,c):f(o,r))||c);return u>3&&c&&Object.defineProperty(o,r,c),c},Gr=function(d){function o(r,a,u,c){void 0===u&&(u="text"),void 0===c&&(c="input");var f=d.call(this,r,'\n            <div role="presentation">\n                <div ref="eLabel" class="ag-input-field-label"></div>\n                <div ref="eWrapper" class="ag-wrapper ag-input-wrapper" role="presentation">\n                    <'+c+' ref="eInput" class="ag-input-field-input"></'+c+">\n                </div>\n            </div>",a)||this;return f.inputType=u,f.displayFieldTag=c,f}return j_(o,d),o.prototype.postConstruct=function(){d.prototype.postConstruct.call(this),this.setInputType(),Me(this.eLabel,this.className+"-label"),Me(this.eWrapper,this.className+"-input-wrapper"),Me(this.eInput,this.className+"-input"),Me(this.getGui(),"ag-input-field"),this.eInput.id=this.eInput.id||"ag-"+this.getCompId()+"-input";var r=this.config,a=r.width,u=r.value;null!=a&&this.setWidth(a),null!=u&&this.setValue(u),this.addInputListeners()},o.prototype.refreshLabel=function(){ce(this.getLabel())?bg(this.eInput,this.getLabelId()):this.eInput.removeAttribute("aria-labelledby"),d.prototype.refreshLabel.call(this)},o.prototype.addInputListeners=function(){var r=this;this.addManagedListener(this.eInput,"input",function(a){return r.setValue(a.target.value)})},o.prototype.setInputType=function(){"input"===this.displayFieldTag&&this.eInput.setAttribute("type",this.inputType)},o.prototype.getInputElement=function(){return this.eInput},o.prototype.setInputWidth=function(r){return Ac(this.eWrapper,r),this},o.prototype.setInputName=function(r){return this.getInputElement().setAttribute("name",r),this},o.prototype.getFocusableElement=function(){return this.eInput},o.prototype.setMaxLength=function(r){return this.eInput.maxLength=r,this},o.prototype.setInputPlaceholder=function(r){return Mc(this.eInput,"placeholder",r),this},o.prototype.setInputAriaLabel=function(r){return ou(this.eInput,r),this},o.prototype.setDisabled=function(r){return Rc(this.eInput,r),d.prototype.setDisabled.call(this,r)},Zp([pe("eLabel")],o.prototype,"eLabel",void 0),Zp([pe("eWrapper")],o.prototype,"eWrapper",void 0),Zp([pe("eInput")],o.prototype,"eInput",void 0),o}(ss),Jr=function(){var d=function(o,r){return(d=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(a,u){a.__proto__=u}||function(a,u){for(var c in u)u.hasOwnProperty(c)&&(a[c]=u[c])})(o,r)};return function(o,r){function a(){this.constructor=o}d(o,r),o.prototype=null===r?Object.create(r):(a.prototype=r.prototype,new a)}}(),js=function(d,o,r,a){var f,u=arguments.length,c=u<3?o:null===a?a=Object.getOwnPropertyDescriptor(o,r):a;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)c=Reflect.decorate(d,o,r,a);else for(var y=d.length-1;y>=0;y--)(f=d[y])&&(c=(u<3?f(c):u>3?f(o,r,c):f(o,r))||c);return u>3&&c&&Object.defineProperty(o,r,c),c},zi=(()=>(function(d){d[d.One=0]="One",d[d.Two=1]="Two"}(zi||(zi={})),zi))(),Cn=function(d){function o(){return null!==d&&d.apply(this,arguments)||this}return Jr(o,d),o.prototype.getNumberOfInputs=function(r){var a=this.optionsFactory.getCustomOption(r);if(a){var u=a.numberOfInputs;return null!=u?u:1}return r===o.EMPTY?0:r===o.IN_RANGE?2:1},o.prototype.onFloatingFilterChanged=function(r,a){this.setTypeFromFloatingFilter(r),this.setValueFromFloatingFilter(a),this.onUiChanged(!0)},o.prototype.setTypeFromFloatingFilter=function(r){this.eType1.setValue(r),this.eType2.setValue(this.optionsFactory.getDefaultOption()),(this.isDefaultOperator("AND")?this.eJoinOperatorAnd:this.eJoinOperatorOr).setValue(!0)},o.prototype.getModelFromUi=function(){return this.isConditionUiComplete(zi.One)?this.isAllowTwoConditions()&&this.isConditionUiComplete(zi.Two)?{filterType:this.getFilterType(),operator:this.getJoinOperator(),condition1:this.createCondition(zi.One),condition2:this.createCondition(zi.Two)}:this.createCondition(zi.One):null},o.prototype.getConditionTypes=function(){return[this.eType1.getValue(),this.eType2.getValue()]},o.prototype.getJoinOperator=function(){return!0===this.eJoinOperatorOr.getValue()?"OR":"AND"},o.prototype.areModelsEqual=function(r,a){if(!r&&!a)return!0;if(!r&&a||r&&!a)return!1;var y,u=!r.operator,c=!a.operator;if(!u&&c||u&&!c)return!1;if(u)y=this.areSimpleModelsEqual(r,a);else{var O=r,I=a;y=O.operator===I.operator&&this.areSimpleModelsEqual(O.condition1,I.condition1)&&this.areSimpleModelsEqual(O.condition2,I.condition2)}return y},o.prototype.setModelIntoUi=function(r){if(r.operator){var u=r,c="OR"===u.operator;this.eJoinOperatorAnd.setValue(!c),this.eJoinOperatorOr.setValue(c),this.eType1.setValue(u.condition1.type),this.eType2.setValue(u.condition2.type),this.setConditionIntoUi(u.condition1,zi.One),this.setConditionIntoUi(u.condition2,zi.Two)}else{var f=r;this.eJoinOperatorAnd.setValue(this.isDefaultOperator("AND")),this.eJoinOperatorOr.setValue(this.isDefaultOperator("OR")),this.eType1.setValue(f.type),this.eType2.setValue(this.optionsFactory.getDefaultOption()),this.setConditionIntoUi(f,zi.One),this.setConditionIntoUi(null,zi.Two)}return Qn.resolve()},o.prototype.doesFilterPass=function(r){var a=this,u=this.getModel();if(null==u)return!0;var c=u.operator,f=[];return c?f.push(u.condition1,u.condition2):f.push(u),(c&&"OR"===c?qr:wc)(f,function(D){return a.individualConditionPasses(r,D)})},o.prototype.setParams=function(r){d.prototype.setParams.call(this,r),this.optionsFactory=new L_,this.optionsFactory.init(r,this.getDefaultFilterOptions()),this.allowTwoConditions=!r.suppressAndOrCondition,this.alwaysShowBothConditions=!!r.alwaysShowBothConditions,this.defaultJoinOperator=this.getDefaultJoinOperator(r.defaultJoinOperator),this.putOptionsIntoDropdown(),this.addChangedListeners()},o.prototype.getDefaultJoinOperator=function(r){return zn(["AND","OR"],r)?r:"AND"},o.prototype.putOptionsIntoDropdown=function(){var r=this,a=this.optionsFactory.getFilterOptions(),u=[this.eType1,this.eType2];Wi(a,function(c){var f="string"==typeof c?r.createBoilerplateListOption(c):r.createCustomListOption(c);Wi(u,function(y){return y.addOption(f)})}),Wi(u,function(c){return c.setDisabled(a.length<=1)})},o.prototype.createBoilerplateListOption=function(r){return{value:r,text:this.translate(r)}},o.prototype.createCustomListOption=function(r){var a=r.displayKey,u=this.optionsFactory.getCustomOption(r.displayKey);return{value:a,text:u?this.gridOptionsWrapper.getLocaleTextFunc()(u.displayKey,u.displayName):this.translate(a)}},o.prototype.isAllowTwoConditions=function(){return this.allowTwoConditions},o.prototype.createBodyTemplate=function(){return'\n            <ag-select class="ag-filter-select" ref="eOptions1"></ag-select>\n            '+this.createValueTemplate(zi.One)+'\n            <div class="ag-filter-condition" ref="eJoinOperatorPanel">\n               <ag-radio-button ref="eJoinOperatorAnd" class="ag-filter-condition-operator ag-filter-condition-operator-and"></ag-radio-button>\n               <ag-radio-button ref="eJoinOperatorOr" class="ag-filter-condition-operator ag-filter-condition-operator-or"></ag-radio-button>\n            </div>\n            <ag-select class="ag-filter-select" ref="eOptions2"></ag-select>\n            '+this.createValueTemplate(zi.Two)},o.prototype.getCssIdentifier=function(){return"simple-filter"},o.prototype.updateUiVisibility=function(){var r=this,u=[this.eCondition1Body,this.eCondition2Body];Wi([[this.eType1],[this.eType2,this.eJoinOperatorPanel,this.eJoinOperatorAnd,this.eJoinOperatorOr]],function(c,f){var y=r.isConditionVisible(f),w=r.isConditionDisabled(f);Wi(c,function(D){D instanceof Gr||D instanceof Vg?(D.setDisabled(w),D.setDisplayed(y)):(Rc(D,w),Oi(D,y))})}),Wi(u,function(c,f){Oi(c,r.isConditionBodyVisible(f))}),this.forEachInput(function(c,f,y,w){r.setElementDisplayed(c,f<w),r.setElementDisabled(c,r.isConditionDisabled(y))}),this.resetPlaceholder()},o.prototype.afterGuiAttached=function(r){if(d.prototype.afterGuiAttached.call(this,r),this.resetPlaceholder(),!r||!r.suppressFocus&&!this.isReadOnly()){var a=this.getInputs()[0][0];if(!a)return;a instanceof Gr&&a.getInputElement().focus()}},o.prototype.resetPlaceholder=function(){var r=this,a=this.gridOptionsWrapper.getLocaleTextFunc();this.forEachInput(function(u,c,f,y){if(u instanceof Gr){var w=0===c&&y>1?"inRangeStart":0===c?"filterOoo":"inRangeEnd",D=0===c&&y>1?a("ariaFilterFromValue","Filter from value"):0===c?a("ariaFilterValue","Filter Value"):a("ariaFilterToValue","Filter to Value");u.setInputPlaceholder(r.translate(w)),u.setInputAriaLabel(D)}})},o.prototype.setElementValue=function(r,a,u){r instanceof Gr&&r.setValue(a?String(a):null,u)},o.prototype.setElementDisplayed=function(r,a){r instanceof _t&&Oi(r.getGui(),a)},o.prototype.setElementDisabled=function(r,a){r instanceof _t&&Rc(r.getGui(),a)},o.prototype.attachElementOnChange=function(r,a){r instanceof Gr&&r.onValueChange(a)},o.prototype.forEachInput=function(r){var a=this,u=this.getInputs();this.getConditionTypes().forEach(function(c,f){for(var y=a.getNumberOfInputs(c),w=0;w<u[f].length;w++){var D=u[f][w];null!=D&&r(D,w,f,y)}})},o.prototype.isConditionVisible=function(r){return 0===r||!!this.allowTwoConditions&&(this.isReadOnly()?this.isConditionUiComplete(r):!!this.alwaysShowBothConditions||this.isConditionUiComplete(r-1))},o.prototype.isConditionDisabled=function(r){return!(!this.isReadOnly()&&this.isConditionVisible(r))||0!==r&&!this.isConditionUiComplete(r-1)},o.prototype.isConditionBodyVisible=function(r){if(!this.isConditionVisible(r))return!1;var a=this.getConditionTypes()[r];return this.getNumberOfInputs(a)>0},o.prototype.isConditionUiComplete=function(r){return!(this.getConditionTypes()[r]===o.EMPTY||Ie.some(this.getValues(r),function(u){return null==u}))},o.prototype.resetUiToDefaults=function(r){var a=this,c=this.gridOptionsWrapper.getLocaleTextFunc()("ariaFilteringOperator","Filtering operator"),f="ag-simple-filter-and-or-"+this.getCompId(),y=this.optionsFactory.getDefaultOption();return this.eType1.setValue(y,r).setAriaLabel(c).setDisabled(this.isReadOnly()),this.eType2.setValue(this.optionsFactory.getDefaultOption(),r).setAriaLabel(c).setDisabled(this.isReadOnly()),this.eJoinOperatorAnd.setValue(this.isDefaultOperator("AND"),r).setName(f).setLabel(this.translate("andCondition")).setDisabled(this.isReadOnly()),this.eJoinOperatorOr.setValue(this.isDefaultOperator("OR"),r).setName(f).setLabel(this.translate("orCondition")).setDisabled(this.isReadOnly()),this.forEachInput(function(w){a.setElementValue(w,null,r),a.setElementDisabled(w,a.isReadOnly())}),this.resetPlaceholder(),Qn.resolve()},o.prototype.setConditionIntoUi=function(r,a){var u=this,c=this.mapValuesFromModel(r);this.forEachInput(function(f,y,w,D){w===a&&u.setElementValue(f,c[y]?c[y]:null)})},o.prototype.setValueFromFloatingFilter=function(r){var a=this;this.forEachInput(function(u,c,f,y){a.setElementValue(u,0===c&&0===f?r:null)})},o.prototype.isDefaultOperator=function(r){return r===this.defaultJoinOperator},o.prototype.addChangedListeners=function(){var r=this;if(!this.isReadOnly()){var a=function(){return r.onUiChanged()};this.eType1.onValueChange(a),this.eType2.onValueChange(a),this.eJoinOperatorOr.onValueChange(a),this.eJoinOperatorAnd.onValueChange(a),this.forEachInput(function(u){r.attachElementOnChange(u,a)})}},o.prototype.individualConditionPasses=function(r,a){var u=this.getCellValue(r.node),c=this.mapValuesFromModel(a),f=this.optionsFactory.getCustomOption(a.type),y=this.evaluateCustomFilter(f,c,u);return null!=y?y:null==u?this.evaluateNullValue(a.type):this.evaluateNonNullValue(c,u,a)},o.prototype.evaluateCustomFilter=function(r,a,u){if(null!=r){var c=r.predicate;if(null!=c&&!Ie.some(a,function(f){return null==f}))return c(a,u)}},o.EMPTY="empty",o.EQUALS="equals",o.NOT_EQUAL="notEqual",o.LESS_THAN="lessThan",o.LESS_THAN_OR_EQUAL="lessThanOrEqual",o.GREATER_THAN="greaterThan",o.GREATER_THAN_OR_EQUAL="greaterThanOrEqual",o.IN_RANGE="inRange",o.CONTAINS="contains",o.NOT_CONTAINS="notContains",o.STARTS_WITH="startsWith",o.ENDS_WITH="endsWith",js([pe("eOptions1")],o.prototype,"eType1",void 0),js([pe("eOptions2")],o.prototype,"eType2",void 0),js([pe("eJoinOperatorPanel")],o.prototype,"eJoinOperatorPanel",void 0),js([pe("eJoinOperatorAnd")],o.prototype,"eJoinOperatorAnd",void 0),js([pe("eJoinOperatorOr")],o.prototype,"eJoinOperatorOr",void 0),js([pe("eCondition1Body")],o.prototype,"eCondition1Body",void 0),js([pe("eCondition2Body")],o.prototype,"eCondition2Body",void 0),o}(Bs),hu=function(){var d=function(o,r){return(d=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(a,u){a.__proto__=u}||function(a,u){for(var c in u)u.hasOwnProperty(c)&&(a[c]=u[c])})(o,r)};return function(o,r){function a(){this.constructor=o}d(o,r),o.prototype=null===r?Object.create(r):(a.prototype=r.prototype,new a)}}(),wn=function(d){function o(){return null!==d&&d.apply(this,arguments)||this}return hu(o,d),o.prototype.setParams=function(r){d.prototype.setParams.call(this,r),this.scalarFilterParams=r,this.checkDeprecatedParams()},o.prototype.checkDeprecatedParams=function(){this.scalarFilterParams.nullComparator&&(console.warn("AG Grid: Since v21.0, the property filterParams.nullComparator is deprecated. Please use filterParams.includeBlanksInEquals, filterParams.includeBlanksInLessThan and filterParams.includeBlanksInGreaterThan instead."),this.scalarFilterParams.includeBlanksInEquals=this.scalarFilterParams.nullComparator.equals,this.scalarFilterParams.includeBlanksInLessThan=this.scalarFilterParams.nullComparator.lessThan,this.scalarFilterParams.includeBlanksInGreaterThan=this.scalarFilterParams.nullComparator.greaterThan)},o.prototype.evaluateNullValue=function(r){switch(r){case o.EQUALS:case o.NOT_EQUAL:if(this.scalarFilterParams.includeBlanksInEquals)return!0;break;case o.GREATER_THAN:case o.GREATER_THAN_OR_EQUAL:if(this.scalarFilterParams.includeBlanksInGreaterThan)return!0;break;case o.LESS_THAN:case o.LESS_THAN_OR_EQUAL:if(this.scalarFilterParams.includeBlanksInLessThan)return!0;break;case o.IN_RANGE:if(this.scalarFilterParams.includeBlanksInRange)return!0}return!1},o.prototype.evaluateNonNullValue=function(r,a,u){var c=this.comparator(),f=c(r[0],a);switch(u.type){case o.EQUALS:return 0===f;case o.NOT_EQUAL:return 0!==f;case o.GREATER_THAN:return f>0;case o.GREATER_THAN_OR_EQUAL:return f>=0;case o.LESS_THAN:return f<0;case o.LESS_THAN_OR_EQUAL:return f<=0;case o.IN_RANGE:var y=c(r[1],a);return this.scalarFilterParams.inRangeInclusive?f>=0&&y<=0:f>0&&y<0;default:return console.warn('AG Grid: Unexpected type of filter "'+u.type+'", it looks like the filter was configured with incorrect Filter Options'),!0}},o}(Cn),kc=function(){var d=function(o,r){return(d=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(a,u){a.__proto__=u}||function(a,u){for(var c in u)u.hasOwnProperty(c)&&(a[c]=u[c])})(o,r)};return function(o,r){function a(){this.constructor=o}d(o,r),o.prototype=null===r?Object.create(r):(a.prototype=r.prototype,new a)}}(),Gc=function(){return(Gc=Object.assign||function(d){for(var o,r=1,a=arguments.length;r<a;r++)for(var u in o=arguments[r])Object.prototype.hasOwnProperty.call(o,u)&&(d[u]=o[u]);return d}).apply(this,arguments)},ko=function(d,o,r,a){var f,u=arguments.length,c=u<3?o:null===a?a=Object.getOwnPropertyDescriptor(o,r):a;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)c=Reflect.decorate(d,o,r,a);else for(var y=d.length-1;y>=0;y--)(f=d[y])&&(c=(u<3?f(c):u>3?f(o,r,c):f(o,r))||c);return u>3&&c&&Object.defineProperty(o,r,c),c},kg=function(d){function o(){var r=d.call(this,"dateFilter")||this;return r.minValidYear=1e3,r.maxValidYear=1/0,r}return kc(o,d),o.prototype.afterGuiAttached=function(r){d.prototype.afterGuiAttached.call(this,r),this.dateCondition1FromComp.afterGuiAttached(r)},o.prototype.mapValuesFromModel=function(r){var a=r||{},u=a.dateFrom,c=a.dateTo,f=a.type;return[u&&qn(u)||null,c&&qn(c)||null].slice(0,this.getNumberOfInputs(f))},o.prototype.comparator=function(){return this.dateFilterParams.comparator?this.dateFilterParams.comparator:this.defaultComparator.bind(this)},o.prototype.defaultComparator=function(r,a){return null==a||a<r?-1:a>r?1:0},o.prototype.setParams=function(r){d.prototype.setParams.call(this,r),this.dateFilterParams=r;var a=function(u,c){if(null!=r[u]){if(!isNaN(r[u]))return null==r[u]?c:Number(r[u]);console.warn("AG Grid: DateFilter "+u+" is not a number")}return c};this.minValidYear=a("minValidYear",1e3),this.maxValidYear=a("maxValidYear",1/0),this.minValidYear>this.maxValidYear&&console.warn("AG Grid: DateFilter minValidYear should be <= maxValidYear"),this.createDateComponents()},o.prototype.createDateComponents=function(){var r=this,a=function(u){return new Ig(r.getContext(),r.userComponentFactory,{onDateChanged:function(){return r.onUiChanged()},filterParams:r.dateFilterParams},u)};this.dateCondition1FromComp=a(this.eCondition1PanelFrom),this.dateCondition1ToComp=a(this.eCondition1PanelTo),this.dateCondition2FromComp=a(this.eCondition2PanelFrom),this.dateCondition2ToComp=a(this.eCondition2PanelTo),this.addDestroyFunc(function(){r.forEachInput(function(u){return u.destroy()})})},o.prototype.setElementValue=function(r,a,u){r.setDate(a)},o.prototype.setElementDisplayed=function(r,a){r.setDisplayed(a)},o.prototype.setElementDisabled=function(r,a){r.setDisabled(a)},o.prototype.getDefaultFilterOptions=function(){return o.DEFAULT_FILTER_OPTIONS},o.prototype.createValueTemplate=function(r){var a=r===zi.One?"1":"2";return'\n            <div class="ag-filter-body" ref="eCondition'+a+'Body">\n                <div class="ag-filter-from ag-filter-date-from" ref="eCondition'+a+'PanelFrom"></div>\n                <div class="ag-filter-to ag-filter-date-to" ref="eCondition'+a+'PanelTo"></div>\n            </div>'},o.prototype.isConditionUiComplete=function(r){var a=this;if(!d.prototype.isConditionUiComplete.call(this,r))return!1;var c=!0;return this.forEachInput(function(f,y,w,D){w!==r||!c||y>=D||(c=c&&function(f){return null!=f&&f.getUTCFullYear()>=a.minValidYear&&f.getUTCFullYear()<=a.maxValidYear}(f.getDate()))}),c},o.prototype.areSimpleModelsEqual=function(r,a){return r.dateFrom===a.dateFrom&&r.dateTo===a.dateTo&&r.type===a.type},o.prototype.getFilterType=function(){return"date"},o.prototype.createCondition=function(r){var a=this.getConditionTypes()[r],u={},c=this.getValues(r);return c.length>0&&(u.dateFrom=nn(c[0])),c.length>1&&(u.dateTo=nn(c[1])),Gc({dateFrom:null,dateTo:null,filterType:this.getFilterType(),type:a},u)},o.prototype.resetPlaceholder=function(){var r=this.gridOptionsWrapper.getLocaleTextFunc(),a=this.translate("dateFormatOoo"),u=r("ariaFilterValue","Filter Value");this.forEachInput(function(c){c.setInputPlaceholder(a),c.setInputAriaLabel(u)})},o.prototype.getInputs=function(){return[[this.dateCondition1FromComp,this.dateCondition1ToComp],[this.dateCondition2FromComp,this.dateCondition2ToComp]]},o.prototype.getValues=function(r){var a=[];return this.forEachInput(function(u,c,f,y){r===f&&c<y&&a.push(u.getDate())}),a},o.DEFAULT_FILTER_OPTIONS=[wn.EQUALS,wn.GREATER_THAN,wn.LESS_THAN,wn.NOT_EQUAL,wn.IN_RANGE],ko([pe("eCondition1PanelFrom")],o.prototype,"eCondition1PanelFrom",void 0),ko([pe("eCondition1PanelTo")],o.prototype,"eCondition1PanelTo",void 0),ko([pe("eCondition2PanelFrom")],o.prototype,"eCondition2PanelFrom",void 0),ko([pe("eCondition2PanelTo")],o.prototype,"eCondition2PanelTo",void 0),ko([F("userComponentFactory")],o.prototype,"userComponentFactory",void 0),o}(wn),DA=function(){var d=function(o,r){return(d=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(a,u){a.__proto__=u}||function(a,u){for(var c in u)u.hasOwnProperty(c)&&(a[c]=u[c])})(o,r)};return function(o,r){function a(){this.constructor=o}d(o,r),o.prototype=null===r?Object.create(r):(a.prototype=r.prototype,new a)}}(),W_=function(d){function o(){return null!==d&&d.apply(this,arguments)||this}return DA(o,d),o.prototype.getDefaultDebounceMs=function(){return 0},o.prototype.destroy=function(){d.prototype.destroy.call(this)},o.prototype.getTextFromModel=function(r){if(!r)return null;if(null!=r.operator){var u=r,c=u||{},f=c.condition1,y=c.condition2,w=this.optionsFactory.getCustomOption(f.type),D=this.optionsFactory.getCustomOption(y.type);return[this.conditionToString(f,w),u.operator,this.conditionToString(y,D)].join(" ")}var O=r,I=this.optionsFactory.getCustomOption(O.type),V=I||{},B=V.displayKey,z=V.displayName;return B&&z&&0===V.numberOfInputs?(this.gridOptionsWrapper.getLocaleTextFunc()(B,z),z):this.conditionToString(O,I)},o.prototype.isEventFromFloatingFilter=function(r){return r&&r.afterFloatingFilter},o.prototype.getLastType=function(){return this.lastType},o.prototype.isReadOnly=function(){return this.readOnly},o.prototype.setLastTypeFromModel=function(r){r?this.lastType=(r.operator?r.condition1:r).type:this.lastType=this.optionsFactory.getDefaultOption()},o.prototype.canWeEditAfterModelFromParentFilter=function(r){return r?!r.operator&&this.isTypeEditable(r.type):this.isTypeEditable(this.lastType)},o.prototype.init=function(r){this.optionsFactory=new L_,this.optionsFactory.init(r.filterParams,this.getDefaultFilterOptions()),this.lastType=this.optionsFactory.getDefaultOption(),this.readOnly=!!r.filterParams.readOnly;var a=this.isTypeEditable(this.lastType);this.setEditable(a)},o.prototype.doesFilterHaveSingleInput=function(r){var u=(this.optionsFactory.getCustomOption(r)||{}).numberOfInputs;return null==u||1==u},o.prototype.isTypeEditable=function(r){return!!r&&!this.isReadOnly()&&this.doesFilterHaveSingleInput(r)&&r!==Cn.IN_RANGE&&r!==Cn.EMPTY},o}(_t),Pt=function(){var d=function(o,r){return(d=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(a,u){a.__proto__=u}||function(a,u){for(var c in u)u.hasOwnProperty(c)&&(a[c]=u[c])})(o,r)};return function(o,r){function a(){this.constructor=o}d(o,r),o.prototype=null===r?Object.create(r):(a.prototype=r.prototype,new a)}}(),Hc=function(d,o,r,a){var f,u=arguments.length,c=u<3?o:null===a?a=Object.getOwnPropertyDescriptor(o,r):a;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)c=Reflect.decorate(d,o,r,a);else for(var y=d.length-1;y>=0;y--)(f=d[y])&&(c=(u<3?f(c):u>3?f(o,r,c):f(o,r))||c);return u>3&&c&&Object.defineProperty(o,r,c),c},U_=function(d){function o(){return d.call(this,'\n            <div class="ag-floating-filter-input" role="presentation">\n                <ag-input-text-field ref="eReadOnlyText"></ag-input-text-field>\n                <div ref="eDateWrapper" style="display: flex;"></div>\n            </div>')||this}return Pt(o,d),o.prototype.getDefaultFilterOptions=function(){return kg.DEFAULT_FILTER_OPTIONS},o.prototype.conditionToString=function(r,a){var u=r.type,f=u==Cn.IN_RANGE||2===(a||{}).numberOfInputs,y=qn(r.dateFrom),w=qn(r.dateTo);return f?nn(y,!1)+"-"+nn(w,!1):null!=y?""+nn(y,!1):""+u},o.prototype.init=function(r){d.prototype.init.call(this,r),this.params=r,this.createDateComponent();var a=this.gridOptionsWrapper.getLocaleTextFunc();this.eReadOnlyText.setDisabled(!0).setInputAriaLabel(a("ariaDateFilterInput","Date Filter Input"))},o.prototype.setEditable=function(r){Oi(this.eDateWrapper,r),Oi(this.eReadOnlyText.getGui(),!r)},o.prototype.onParentModelChanged=function(r,a){if(!this.isEventFromFloatingFilter(a)){d.prototype.setLastTypeFromModel.call(this,r);var u=!this.isReadOnly()&&this.canWeEditAfterModelFromParentFilter(r);this.setEditable(u),u?(this.dateComp.setDate(r?qn(r.dateFrom):null),this.eReadOnlyText.setValue("")):(this.eReadOnlyText.setValue(this.getTextFromModel(r)),this.dateComp.setDate(null))}},o.prototype.onDateChanged=function(){var r=this,u=nn(this.dateComp.getDate());this.params.parentFilterInstance(function(c){c&&c.onFloatingFilterChanged(r.getLastType(),qn(u))})},o.prototype.createDateComponent=function(){var r=this,a=Bs.getDebounceMs(this.params.filterParams,this.getDefaultDebounceMs()),u={onDateChanged:qo(this.onDateChanged.bind(this),a),filterParams:this.params.column.getColDef().filterParams};this.dateComp=new Ig(this.getContext(),this.userComponentFactory,u,this.eDateWrapper),this.addDestroyFunc(function(){return r.dateComp.destroy()})},Hc([F("userComponentFactory")],o.prototype,"userComponentFactory",void 0),Hc([pe("eReadOnlyText")],o.prototype,"eReadOnlyText",void 0),Hc([pe("eDateWrapper")],o.prototype,"eDateWrapper",void 0),o}(W_),OS=function(){var d=function(o,r){return(d=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(a,u){a.__proto__=u}||function(a,u){for(var c in u)u.hasOwnProperty(c)&&(a[c]=u[c])})(o,r)};return function(o,r){function a(){this.constructor=o}d(o,r),o.prototype=null===r?Object.create(r):(a.prototype=r.prototype,new a)}}(),z_=function(d){function o(){return d.call(this,'\n            <div class="ag-filter-filter">\n                <ag-input-text-field class="ag-date-filter" ref="eDateInput"></ag-input-text-field>\n            </div>')||this}return OS(o,d),o.prototype.destroy=function(){d.prototype.destroy.call(this)},o.prototype.init=function(r){var a=this,u=this.eDateInput.getInputElement();this.shouldUseBrowserDatePicker(r)&&(Ji()?console.warn("ag-grid: browserDatePicker is specified to true, but it is not supported in IE 11; reverting to text date picker"):u.type="date"),this.addManagedListener(u,"mousedown",function(){a.eDateInput.isDisabled()||u.focus()}),this.addManagedListener(u,"input",function(w){w.target===document.activeElement&&(a.eDateInput.isDisabled()||r.onDateChanged())});var c=r.filterParams||{},f=c.minValidYear,y=c.maxValidYear;f&&(u.min=f+"-01-01"),y&&(u.max=y+"-12-31")},o.prototype.getDate=function(){return qn(this.eDateInput.getValue())},o.prototype.setDate=function(r){this.eDateInput.setValue(nn(r,!1))},o.prototype.setInputPlaceholder=function(r){this.eDateInput.setInputPlaceholder(r)},o.prototype.setDisabled=function(r){this.eDateInput.setDisabled(r)},o.prototype.afterGuiAttached=function(r){(!r||!r.suppressFocus)&&this.eDateInput.getInputElement().focus()},o.prototype.shouldUseBrowserDatePicker=function(r){return r.filterParams&&null!=r.filterParams.browserDatePicker?r.filterParams.browserDatePicker:Oc()||nu()},function(d,o,r,a){var f,u=arguments.length,c=u<3?o:null===a?a=Object.getOwnPropertyDescriptor(o,r):a;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)c=Reflect.decorate(d,o,r,a);else for(var y=d.length-1;y>=0;y--)(f=d[y])&&(c=(u<3?f(c):u>3?f(o,r,c):f(o,r))||c);u>3&&c&&Object.defineProperty(o,r,c)}([pe("eDateInput")],o.prototype,"eDateInput",void 0),o}(_t),EA=function(){var d=function(o,r){return(d=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(a,u){a.__proto__=u}||function(a,u){for(var c in u)u.hasOwnProperty(c)&&(a[c]=u[c])})(o,r)};return function(o,r){function a(){this.constructor=o}d(o,r),o.prototype=null===r?Object.create(r):(a.prototype=r.prototype,new a)}}(),Gg=function(d,o,r,a){var f,u=arguments.length,c=u<3?o:null===a?a=Object.getOwnPropertyDescriptor(o,r):a;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)c=Reflect.decorate(d,o,r,a);else for(var y=d.length-1;y>=0;y--)(f=d[y])&&(c=(u<3?f(c):u>3?f(o,r,c):f(o,r))||c);return u>3&&c&&Object.defineProperty(o,r,c),c},$_=function(d){function o(){return d.call(this,"numberFilter")||this}return EA(o,d),o.prototype.mapValuesFromModel=function(r){var a=r||{};return[a.filter||null,a.filterTo||null].slice(0,this.getNumberOfInputs(a.type))},o.prototype.getDefaultDebounceMs=function(){return 500},o.prototype.comparator=function(){return function(r,a){return r===a?0:r<a?1:-1}},o.prototype.setParams=function(r){this.numberFilterParams=r;var a=this.getAllowedCharPattern();if(a){var u={allowedCharPattern:a};this.resetTemplate({eValueFrom1:u,eValueTo1:u,eValueFrom2:u,eValueTo2:u})}d.prototype.setParams.call(this,r)},o.prototype.getDefaultFilterOptions=function(){return o.DEFAULT_FILTER_OPTIONS},o.prototype.createValueTemplate=function(r){var a=r===zi.One?"1":"2",c=this.getAllowedCharPattern()?"ag-input-text-field":"ag-input-number-field";return'\n            <div class="ag-filter-body" ref="eCondition'+a+'Body" role="presentation">\n                <'+c+' class="ag-filter-from ag-filter-filter" ref="eValue-index0-'+a+'"></'+c+">\n                <"+c+' class="ag-filter-to ag-filter-filter" ref="eValue-index1-'+a+'"></'+c+">\n            </div>"},o.prototype.getValues=function(r){var a=this,u=[];return this.forEachInput(function(c,f,y,w){r===y&&f<w&&u.push(a.stringToFloat(c.getValue()))}),u},o.prototype.areSimpleModelsEqual=function(r,a){return r.filter===a.filter&&r.filterTo===a.filterTo&&r.type===a.type},o.prototype.getFilterType=function(){return"number"},o.prototype.stringToFloat=function(r){if("number"==typeof r)return r;var a=_r(r);return null!=a&&""===a.trim()&&(a=null),this.numberFilterParams.numberParser?this.numberFilterParams.numberParser(a):null==a||"-"===a.trim()?null:parseFloat(a)},o.prototype.createCondition=function(r){var a=this.getConditionTypes()[r],u={filterType:this.getFilterType(),type:a},c=this.getValues(r);return c.length>0&&(u.filter=c[0]),c.length>1&&(u.filterTo=c[1]),u},o.prototype.getInputs=function(){return[[this.eValueFrom1,this.eValueTo1],[this.eValueFrom2,this.eValueTo2]]},o.prototype.getAllowedCharPattern=function(){return(this.numberFilterParams||{}).allowedCharPattern||(Oc()||ui()?null:"\\d\\-\\.")},o.DEFAULT_FILTER_OPTIONS=[wn.EQUALS,wn.NOT_EQUAL,wn.LESS_THAN,wn.LESS_THAN_OR_EQUAL,wn.GREATER_THAN,wn.GREATER_THAN_OR_EQUAL,wn.IN_RANGE],Gg([pe("eValue-index0-1")],o.prototype,"eValueFrom1",void 0),Gg([pe("eValue-index1-1")],o.prototype,"eValueTo1",void 0),Gg([pe("eValue-index0-2")],o.prototype,"eValueFrom2",void 0),Gg([pe("eValue-index1-2")],o.prototype,"eValueTo2",void 0),o}(wn),xA=function(){var d=function(o,r){return(d=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(a,u){a.__proto__=u}||function(a,u){for(var c in u)u.hasOwnProperty(c)&&(a[c]=u[c])})(o,r)};return function(o,r){function a(){this.constructor=o}d(o,r),o.prototype=null===r?Object.create(r):(a.prototype=r.prototype,new a)}}(),Hg=function(d,o,r,a){var f,u=arguments.length,c=u<3?o:null===a?a=Object.getOwnPropertyDescriptor(o,r):a;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)c=Reflect.decorate(d,o,r,a);else for(var y=d.length-1;y>=0;y--)(f=d[y])&&(c=(u<3?f(c):u>3?f(o,r,c):f(o,r))||c);return u>3&&c&&Object.defineProperty(o,r,c),c},Bg=function(d){function o(){return d.call(this,"textFilter")||this}return xA(o,d),o.trimInput=function(r){var a=r&&r.trim();return""===a?r:a},o.prototype.getDefaultDebounceMs=function(){return 500},o.prototype.setParams=function(r){d.prototype.setParams.call(this,r),this.textFilterParams=r,this.comparator=this.textFilterParams.textCustomComparator||o.DEFAULT_COMPARATOR,this.formatter=this.textFilterParams.textFormatter||(this.textFilterParams.caseSensitive?o.DEFAULT_FORMATTER:o.DEFAULT_LOWERCASE_FORMATTER)},o.prototype.createCondition=function(r){var a=this.getConditionTypes()[r],u={filterType:this.getFilterType(),type:a},c=this.getValues(r);return c.length>0&&(u.filter=c[0]),c.length>1&&(u.filterTo=c[1]),u},o.prototype.getFilterType=function(){return"text"},o.prototype.areSimpleModelsEqual=function(r,a){return r.filter===a.filter&&r.filterTo===a.filterTo&&r.type===a.type},o.prototype.getInputs=function(){return[[this.eValueFrom1,this.eValueTo1],[this.eValueFrom2,this.eValueTo2]]},o.prototype.getValues=function(r){var a=this,u=[];return this.forEachInput(function(c,f,y,w){if(r===y&&f<w){var D=_r(c.getValue()),O=(a.textFilterParams.trimInput?o.trimInput(D):D)||null;u.push(O),c.setValue(O,!0)}}),u},o.prototype.getDefaultFilterOptions=function(){return o.DEFAULT_FILTER_OPTIONS},o.prototype.createValueTemplate=function(r){var a=r===zi.One?"1":"2";return'\n            <div class="ag-filter-body" ref="eCondition'+a+'Body" role="presentation">\n                <ag-input-text-field class=".ag-filter-from ag-filter-filter" ref="eValue-index0-'+a+'"></ag-input-text-field>\n                <ag-input-text-field class="ag-filter-to ag-filter-filter" ref="eValue-index1-'+a+'"></ag-input-text-field>\n            </div>'},o.prototype.mapValuesFromModel=function(r){var a=r||{};return[a.filter||null,a.filterTo||null].slice(0,this.getNumberOfInputs(a.type))},o.prototype.evaluateNullValue=function(r){return r===Cn.NOT_EQUAL||r===Cn.NOT_CONTAINS},o.prototype.evaluateNonNullValue=function(r,a,u){var c=this,f=Ie.map(r,function(w){return c.formatter(w)})||[],y=this.formatter(a);return Ie.some(f,function(w){return c.comparator(u.type,y,w)})},o.DEFAULT_FILTER_OPTIONS=[Cn.CONTAINS,Cn.NOT_CONTAINS,Cn.EQUALS,Cn.NOT_EQUAL,Cn.STARTS_WITH,Cn.ENDS_WITH],o.DEFAULT_FORMATTER=function(r){return r},o.DEFAULT_LOWERCASE_FORMATTER=function(r){return null==r?null:r.toString().toLowerCase()},o.DEFAULT_COMPARATOR=function(r,a,u){switch(r){case o.CONTAINS:return a.indexOf(u)>=0;case o.NOT_CONTAINS:return a.indexOf(u)<0;case o.EQUALS:return a===u;case o.NOT_EQUAL:return a!=u;case o.STARTS_WITH:return 0===a.indexOf(u);case o.ENDS_WITH:var c=a.lastIndexOf(u);return c>=0&&c===a.length-u.length;default:return!1}},Hg([pe("eValue-index0-1")],o.prototype,"eValueFrom1",void 0),Hg([pe("eValue-index1-1")],o.prototype,"eValueTo1",void 0),Hg([pe("eValue-index0-2")],o.prototype,"eValueFrom2",void 0),Hg([pe("eValue-index1-2")],o.prototype,"eValueTo2",void 0),o}(Cn),Bc=function(){var d=function(o,r){return(d=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(a,u){a.__proto__=u}||function(a,u){for(var c in u)u.hasOwnProperty(c)&&(a[c]=u[c])})(o,r)};return function(o,r){function a(){this.constructor=o}d(o,r),o.prototype=null===r?Object.create(r):(a.prototype=r.prototype,new a)}}(),Y_=function(d,o,r,a){var f,u=arguments.length,c=u<3?o:null===a?a=Object.getOwnPropertyDescriptor(o,r):a;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)c=Reflect.decorate(d,o,r,a);else for(var y=d.length-1;y>=0;y--)(f=d[y])&&(c=(u<3?f(c):u>3?f(o,r,c):f(o,r))||c);return u>3&&c&&Object.defineProperty(o,r,c),c},Dn=function(d){function o(){return null!==d&&d.apply(this,arguments)||this}return Bc(o,d),o.prototype.postConstruct=function(){this.setTemplate('\n            <div class="ag-floating-filter-input" role="presentation">\n                <ag-input-text-field ref="eFloatingFilterInput"></ag-input-text-field>\n            </div>')},o.prototype.getDefaultDebounceMs=function(){return 500},o.prototype.onParentModelChanged=function(r,a){this.isEventFromFloatingFilter(a)||(this.setLastTypeFromModel(r),this.eFloatingFilterInput.setValue(this.getTextFromModel(r)),this.setEditable(this.canWeEditAfterModelFromParentFilter(r)))},o.prototype.init=function(r){if(d.prototype.init.call(this,r),this.params=r,this.applyActive=Bs.isUseApplyButton(this.params.filterParams),!this.isReadOnly()){var a=Bs.getDebounceMs(this.params.filterParams,this.getDefaultDebounceMs()),u=qo(this.syncUpWithParentFilter.bind(this),a),c=this.eFloatingFilterInput.getGui();this.addManagedListener(c,"input",u),this.addManagedListener(c,"keypress",u),this.addManagedListener(c,"keydown",u)}var f=r.column.getDefinition();(this.isReadOnly()||f.filterParams&&f.filterParams.filterOptions&&1===f.filterParams.filterOptions.length&&"inRange"===f.filterParams.filterOptions[0])&&this.eFloatingFilterInput.setDisabled(!0);var y=this.columnModel.getDisplayNameForColumn(r.column,"header",!0),w=this.gridOptionsWrapper.getLocaleTextFunc();this.eFloatingFilterInput.setInputAriaLabel(y+" "+w("ariaFilterInput","Filter Input"))},o.prototype.syncUpWithParentFilter=function(r){var a=this,u=uu(r,me.ENTER);if(!this.applyActive||u){var c=this.eFloatingFilterInput.getValue();this.params.filterParams.trimInput&&(c=Bg.trimInput(c),this.eFloatingFilterInput.setValue(c,!0)),this.params.parentFilterInstance(function(f){f&&f.onFloatingFilterChanged(a.getLastType(),c||null)})}},o.prototype.conditionToString=function(r,a){return r.type==Cn.IN_RANGE||2===(a||{}).numberOfInputs?r.filter+"-"+r.filterTo:null!=r.filter?""+r.filter:""+r.type},o.prototype.setEditable=function(r){this.eFloatingFilterInput.setDisabled(!r)},Y_([F("columnModel")],o.prototype,"columnModel",void 0),Y_([pe("eFloatingFilterInput")],o.prototype,"eFloatingFilterInput",void 0),Y_([ye],o.prototype,"postConstruct",null),o}(W_),Jp=function(){var d=function(o,r){return(d=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(a,u){a.__proto__=u}||function(a,u){for(var c in u)u.hasOwnProperty(c)&&(a[c]=u[c])})(o,r)};return function(o,r){function a(){this.constructor=o}d(o,r),o.prototype=null===r?Object.create(r):(a.prototype=r.prototype,new a)}}(),eh=function(d){function o(){return null!==d&&d.apply(this,arguments)||this}return Jp(o,d),o.prototype.getDefaultFilterOptions=function(){return $_.DEFAULT_FILTER_OPTIONS},o}(Dn),OA=function(){var d=function(o,r){return(d=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(a,u){a.__proto__=u}||function(a,u){for(var c in u)u.hasOwnProperty(c)&&(a[c]=u[c])})(o,r)};return function(o,r){function a(){this.constructor=o}d(o,r),o.prototype=null===r?Object.create(r):(a.prototype=r.prototype,new a)}}(),K_=function(d){function o(){return null!==d&&d.apply(this,arguments)||this}return OA(o,d),o.prototype.getDefaultFilterOptions=function(){return Bg.DEFAULT_FILTER_OPTIONS},o}(Dn),$i=function(){function d(o,r){var a=this;void 0===r&&(r=!1),this.destroyFuncs=[],this.touching=!1,this.eventService=new ma,this.eElement=o,this.preventMouseClick=r;var u=this.onTouchStart.bind(this),c=this.onTouchMove.bind(this),f=this.onTouchEnd.bind(this);this.eElement.addEventListener("touchstart",u,{passive:!0}),this.eElement.addEventListener("touchmove",c,{passive:!0}),this.eElement.addEventListener("touchend",f,{passive:!1}),this.destroyFuncs.push(function(){a.eElement.removeEventListener("touchstart",u,{passive:!0}),a.eElement.removeEventListener("touchmove",c,{passive:!0}),a.eElement.removeEventListener("touchend",f,{passive:!1})})}return d.prototype.getActiveTouch=function(o){for(var r=0;r<o.length;r++)if(o[r].identifier===this.touchStart.identifier)return o[r];return null},d.prototype.addEventListener=function(o,r){this.eventService.addEventListener(o,r)},d.prototype.removeEventListener=function(o,r){this.eventService.removeEventListener(o,r)},d.prototype.onTouchStart=function(o){var r=this;if(!this.touching){this.touchStart=o.touches[0],this.touching=!0,this.moved=!1;var a=this.touchStart;window.setTimeout(function(){r.touching&&r.touchStart===a&&!r.moved&&(r.moved=!0,r.eventService.dispatchEvent({type:d.EVENT_LONG_TAP,touchStart:r.touchStart,touchEvent:o}))},500)}},d.prototype.onTouchMove=function(o){if(this.touching){var r=this.getActiveTouch(o.touches);r&&!Zn(r,this.touchStart,4)&&(this.moved=!0)}},d.prototype.onTouchEnd=function(o){this.touching&&(this.moved||(this.eventService.dispatchEvent({type:d.EVENT_TAP,touchStart:this.touchStart}),this.checkForDoubleTap()),this.preventMouseClick&&o.preventDefault(),this.touching=!1)},d.prototype.checkForDoubleTap=function(){var o=(new Date).getTime();this.lastTapTime&&this.lastTapTime>0&&o-this.lastTapTime>d.DOUBLE_TAP_MILLIS?(this.eventService.dispatchEvent({type:d.EVENT_DOUBLE_TAP,touchStart:this.touchStart}),this.lastTapTime=null):this.lastTapTime=o},d.prototype.destroy=function(){this.destroyFuncs.forEach(function(o){return o()})},d.EVENT_TAP="tap",d.EVENT_DOUBLE_TAP="doubleTap",d.EVENT_LONG_TAP="longTap",d.DOUBLE_TAP_MILLIS=500,d}(),as=function(){var d=function(o,r){return(d=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(a,u){a.__proto__=u}||function(a,u){for(var c in u)u.hasOwnProperty(c)&&(a[c]=u[c])})(o,r)};return function(o,r){function a(){this.constructor=o}d(o,r),o.prototype=null===r?Object.create(r):(a.prototype=r.prototype,new a)}}(),eo=function(d,o,r,a){var f,u=arguments.length,c=u<3?o:null===a?a=Object.getOwnPropertyDescriptor(o,r):a;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)c=Reflect.decorate(d,o,r,a);else for(var y=d.length-1;y>=0;y--)(f=d[y])&&(c=(u<3?f(c):u>3?f(o,r,c):f(o,r))||c);return u>3&&c&&Object.defineProperty(o,r,c),c},fl=function(d){function o(){var r=null!==d&&d.apply(this,arguments)||this;return r.lastMovingChanged=0,r}return as(o,d),o.prototype.destroy=function(){d.prototype.destroy.call(this)},o.prototype.refresh=function(r){return this.params=r,this.workOutTemplate()==this.currentTemplate&&this.workOutShowMenu()==this.currentShowMenu&&this.workOutSort()==this.currentSort&&(this.setDisplayName(r),!0)},o.prototype.workOutTemplate=function(){var r=Xf(this.params.template,o.TEMPLATE);return r&&r.trim?r.trim():r},o.prototype.init=function(r){this.params=r,this.currentTemplate=this.workOutTemplate(),this.setTemplate(this.currentTemplate),this.setupTap(),this.setupIcons(r.column),this.setMenu(),this.setupSort(),this.setupFilterIcon(),this.setDisplayName(r)},o.prototype.setDisplayName=function(r){if(this.currentDisplayName!=r.displayName){this.currentDisplayName=r.displayName;var a=No(this.currentDisplayName);this.eText&&(this.eText.innerHTML=a)}},o.prototype.setupIcons=function(r){this.addInIcon("sortAscending",this.eSortAsc,r),this.addInIcon("sortDescending",this.eSortDesc,r),this.addInIcon("sortUnSort",this.eSortNone,r),this.addInIcon("menu",this.eMenu,r),this.addInIcon("filter",this.eFilter,r)},o.prototype.addInIcon=function(r,a,u){if(null!=a){var c=An(r,this.gridOptionsWrapper,u);c&&a.appendChild(c)}},o.prototype.setupTap=function(){var r=this,a=this.gridOptionsWrapper;if(!a.isSuppressTouch()){var u=new $i(this.getGui(),!0),c=a.isSuppressMenuHide(),f=c&&ce(this.eMenu),y=f?new $i(this.eMenu,!0):u;this.params.enableMenu&&this.addManagedListener(y,$i[f?"EVENT_TAP":"EVENT_LONG_TAP"],function(I){a.getApi().showColumnMenuAfterMouseClick(r.params.column,I.touchStart)}),this.params.enableSorting&&this.addManagedListener(u,$i.EVENT_TAP,function(I){c&&r.eMenu.contains(I.touchStart.target)||r.sortController.progressSort(r.params.column,!1,"uiColumnSorted")}),this.addDestroyFunc(function(){return u.destroy()}),f&&this.addDestroyFunc(function(){return y.destroy()})}},o.prototype.workOutShowMenu=function(){var r=!this.gridOptionsWrapper.isSuppressMenuHide(),a=Oa()&&r;return this.params.enableMenu&&!a},o.prototype.setMenu=function(){var r=this;if(this.eMenu){if(this.currentShowMenu=this.workOutShowMenu(),!this.currentShowMenu)return void Vo(this.eMenu);var a=this.gridOptionsWrapper.isSuppressMenuHide();this.addManagedListener(this.eMenu,"click",function(){return r.showMenu(r.eMenu)}),Ke(this.eMenu,"ag-header-menu-always-show",a)}},o.prototype.showMenu=function(r){r||(r=this.eMenu),this.menuFactory.showMenuAfterButtonClick(this.params.column,r,"columnMenu")},o.prototype.removeSortIcons=function(){Vo(this.eSortAsc),Vo(this.eSortDesc),Vo(this.eSortNone),Vo(this.eSortOrder)},o.prototype.workOutSort=function(){return this.params.enableSorting},o.prototype.setupSort=function(){var r=this;if(this.currentSort=this.params.enableSorting,this.currentSort){var a=this.gridOptionsWrapper.isMultiSortKeyCtrl();this.addManagedListener(this.params.column,jt.EVENT_MOVING_CHANGED,function(){r.lastMovingChanged=(new Date).getTime()}),this.eLabel&&this.addManagedListener(this.eLabel,"click",function(u){var c=r.params.column.isMoving(),f=(new Date).getTime();c||f-r.lastMovingChanged<50||r.params.progressSort(a?u.ctrlKey||u.metaKey:u.shiftKey)}),this.addManagedListener(this.params.column,jt.EVENT_SORT_CHANGED,this.onSortChanged.bind(this)),this.onSortChanged(),this.addManagedListener(this.eventService,j.EVENT_SORT_CHANGED,this.setMultiSortOrder.bind(this)),this.setMultiSortOrder()}else this.removeSortIcons()},o.prototype.onSortChanged=function(){if(Ke(this.getGui(),"ag-header-cell-sorted-asc",this.params.column.isSortAscending()),Ke(this.getGui(),"ag-header-cell-sorted-desc",this.params.column.isSortDescending()),Ke(this.getGui(),"ag-header-cell-sorted-none",this.params.column.isSortNone()),this.eSortAsc&&Ke(this.eSortAsc,"ag-hidden",!this.params.column.isSortAscending()),this.eSortDesc&&Ke(this.eSortDesc,"ag-hidden",!this.params.column.isSortDescending()),this.eSortNone){var r=!this.params.column.getColDef().unSortIcon&&!this.gridOptionsWrapper.isUnSortIcon();Ke(this.eSortNone,"ag-hidden",r||!this.params.column.isSortNone())}},o.prototype.setMultiSortOrder=function(){if(this.eSortOrder){var r=this.params.column,a=this.sortController.getColumnsWithSortingOrdered(),u=a.indexOf(r),c=a.length>1,f=r.isSorting()&&c;Oi(this.eSortOrder,f),u>=0?this.eSortOrder.innerHTML=(u+1).toString():mo(this.eSortOrder)}},o.prototype.setupFilterIcon=function(){!this.eFilter||(this.addManagedListener(this.params.column,jt.EVENT_FILTER_CHANGED,this.onFilterChanged.bind(this)),this.onFilterChanged())},o.prototype.onFilterChanged=function(){var r=this.params.column.isFilterActive();Ke(this.eFilter,"ag-hidden",!r)},o.TEMPLATE='<div class="ag-cell-label-container" role="presentation">\n            <span ref="eMenu" class="ag-header-icon ag-header-cell-menu-button" aria-hidden="true"></span>\n            <div ref="eLabel" class="ag-header-cell-label" role="presentation" unselectable="on">\n                <span ref="eText" class="ag-header-cell-text" unselectable="on"></span>\n                <span ref="eFilter" class="ag-header-icon ag-header-label-icon ag-filter-icon" aria-hidden="true"></span>\n                <span ref="eSortOrder" class="ag-header-icon ag-header-label-icon ag-sort-order" aria-hidden="true"></span>\n                <span ref="eSortAsc" class="ag-header-icon ag-header-label-icon ag-sort-ascending-icon" aria-hidden="true"></span>\n                <span ref="eSortDesc" class="ag-header-icon ag-header-label-icon ag-sort-descending-icon" aria-hidden="true"></span>\n                <span ref="eSortNone" class="ag-header-icon ag-header-label-icon ag-sort-none-icon" aria-hidden="true"></span>\n            </div>\n        </div>',eo([F("sortController")],o.prototype,"sortController",void 0),eo([F("menuFactory")],o.prototype,"menuFactory",void 0),eo([pe("eFilter")],o.prototype,"eFilter",void 0),eo([pe("eSortAsc")],o.prototype,"eSortAsc",void 0),eo([pe("eSortDesc")],o.prototype,"eSortDesc",void 0),eo([pe("eSortNone")],o.prototype,"eSortNone",void 0),eo([pe("eSortOrder")],o.prototype,"eSortOrder",void 0),eo([pe("eMenu")],o.prototype,"eMenu",void 0),eo([pe("eLabel")],o.prototype,"eLabel",void 0),eo([pe("eText")],o.prototype,"eText",void 0),o}(_t),Ma=function(){var d=function(o,r){return(d=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(a,u){a.__proto__=u}||function(a,u){for(var c in u)u.hasOwnProperty(c)&&(a[c]=u[c])})(o,r)};return function(o,r){function a(){this.constructor=o}d(o,r),o.prototype=null===r?Object.create(r):(a.prototype=r.prototype,new a)}}(),th=function(d,o,r,a){var f,u=arguments.length,c=u<3?o:null===a?a=Object.getOwnPropertyDescriptor(o,r):a;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)c=Reflect.decorate(d,o,r,a);else for(var y=d.length-1;y>=0;y--)(f=d[y])&&(c=(u<3?f(c):u>3?f(o,r,c):f(o,r))||c);return u>3&&c&&Object.defineProperty(o,r,c),c},PS=function(d){function o(){return d.call(this,o.TEMPLATE)||this}return Ma(o,d),o.prototype.destroy=function(){d.prototype.destroy.call(this)},o.prototype.init=function(r){this.params=r,this.checkWarnings(),this.setupLabel(),this.addGroupExpandIcon(),this.setupExpandIcons()},o.prototype.checkWarnings=function(){this.params.template&&Mi(function(){return console.warn("A template was provided for Header Group Comp - templates are only supported for Header Comps (not groups)")},"HeaderGroupComp.templateNotSupported")},o.prototype.setupExpandIcons=function(){var r=this;this.addInIcon("columnGroupOpened","agOpened"),this.addInIcon("columnGroupClosed","agClosed");var a=function(f){if(!Ls(f)){var y=!r.params.columnGroup.isExpanded();r.columnModel.setColumnGroupOpened(r.params.columnGroup.getOriginalColumnGroup(),y,"uiColumnExpanded")}};this.addTouchAndClickListeners(this.eCloseIcon,a),this.addTouchAndClickListeners(this.eOpenIcon,a);var u=function(f){ri(f)};this.addManagedListener(this.eCloseIcon,"dblclick",u),this.addManagedListener(this.eOpenIcon,"dblclick",u),this.addManagedListener(this.getGui(),"dblclick",a),this.updateIconVisibility();var c=this.params.columnGroup.getOriginalColumnGroup();this.addManagedListener(c,ki.EVENT_EXPANDED_CHANGED,this.updateIconVisibility.bind(this)),this.addManagedListener(c,ki.EVENT_EXPANDABLE_CHANGED,this.updateIconVisibility.bind(this))},o.prototype.addTouchAndClickListeners=function(r,a){var u=new $i(r,!0);this.addManagedListener(u,$i.EVENT_TAP,a),this.addDestroyFunc(function(){return u.destroy()}),this.addManagedListener(r,"click",a)},o.prototype.updateIconVisibility=function(){if(this.params.columnGroup.isExpandable()){var a=this.params.columnGroup.isExpanded();Oi(this.eOpenIcon,a),Oi(this.eCloseIcon,!a)}else Oi(this.eOpenIcon,!1),Oi(this.eCloseIcon,!1)},o.prototype.addInIcon=function(r,a){var u=An(r,this.gridOptionsWrapper,null);u&&this.getRefElement(a).appendChild(u)},o.prototype.addGroupExpandIcon=function(){if(!this.params.columnGroup.isExpandable())return Oi(this.eOpenIcon,!1),void Oi(this.eCloseIcon,!1)},o.prototype.setupLabel=function(){var r=this.params.displayName;if(ce(r)){var a=No(r);this.getRefElement("agLabel").innerHTML=a}},o.TEMPLATE='<div class="ag-header-group-cell-label" ref="agContainer" role="presentation">\n            <span ref="agLabel" class="ag-header-group-text" role="presentation"></span>\n            <span ref="agOpened" class="ag-header-icon ag-header-expand-icon ag-header-expand-icon-expanded"></span>\n            <span ref="agClosed" class="ag-header-icon ag-header-expand-icon ag-header-expand-icon-collapsed"></span>\n        </div>',th([F("columnModel")],o.prototype,"columnModel",void 0),th([pe("agOpened")],o.prototype,"eOpenIcon",void 0),th([pe("agClosed")],o.prototype,"eCloseIcon",void 0),o}(_t),RS=function(){var d=function(o,r){return(d=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(a,u){a.__proto__=u}||function(a,u){for(var c in u)u.hasOwnProperty(c)&&(a[c]=u[c])})(o,r)};return function(o,r){function a(){this.constructor=o}d(o,r),o.prototype=null===r?Object.create(r):(a.prototype=r.prototype,new a)}}(),jc=function(d){function o(){return null!==d&&d.apply(this,arguments)||this}return RS(o,d),o.prototype.isPopup=function(){return!0},o.prototype.setParentComponent=function(r){Me(r.getGui(),"ag-has-popup"),d.prototype.setParentComponent.call(this,r)},o.prototype.destroy=function(){var r=this.parentComponent;r&&r.isAlive()&&Xn(r.getGui(),"ag-has-popup"),d.prototype.destroy.call(this)},o}(_t),PA=function(){var d=function(o,r){return(d=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(a,u){a.__proto__=u}||function(a,u){for(var c in u)u.hasOwnProperty(c)&&(a[c]=u[c])})(o,r)};return function(o,r){function a(){this.constructor=o}d(o,r),o.prototype=null===r?Object.create(r):(a.prototype=r.prototype,new a)}}(),Hr=function(d){function o(){return d.call(this,o.TEMPLATE)||this}return PA(o,d),o.prototype.init=function(r){this.params=r,this.focusAfterAttached=r.cellStartedEdit,this.eTextArea.setMaxLength(r.maxLength||200).setCols(r.cols||60).setRows(r.rows||10),ce(r.value)&&this.eTextArea.setValue(r.value.toString(),!0),this.addGuiEventListener("keydown",this.onKeyDown.bind(this))},o.prototype.onKeyDown=function(r){var a=r.which||r.keyCode;(a===me.LEFT||a===me.UP||a===me.RIGHT||a===me.DOWN||r.shiftKey&&a===me.ENTER)&&r.stopPropagation()},o.prototype.afterGuiAttached=function(){var r=this.gridOptionsWrapper.getLocaleTextFunc();this.eTextArea.setInputAriaLabel(r("ariaInputEditor","Input Editor")),this.focusAfterAttached&&this.eTextArea.getFocusableElement().focus()},o.prototype.getValue=function(){return this.params.parseValue(this.eTextArea.getValue())},o.TEMPLATE='<div class="ag-large-text" tabindex="0">\n            <ag-input-text-area ref="eTextArea" class="ag-large-text-input"></ag-input-text-area>\n        </div>',function(d,o,r,a){var f,u=arguments.length,c=u<3?o:null===a?a=Object.getOwnPropertyDescriptor(o,r):a;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)c=Reflect.decorate(d,o,r,a);else for(var y=d.length-1;y>=0;y--)(f=d[y])&&(c=(u<3?f(c):u>3?f(o,r,c):f(o,r))||c);u>3&&c&&Object.defineProperty(o,r,c)}([pe("eTextArea")],o.prototype,"eTextArea",void 0),o}(jc),jg=function(){var d=function(o,r){return(d=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(a,u){a.__proto__=u}||function(a,u){for(var c in u)u.hasOwnProperty(c)&&(a[c]=u[c])})(o,r)};return function(o,r){function a(){this.constructor=o}d(o,r),o.prototype=null===r?Object.create(r):(a.prototype=r.prototype,new a)}}(),gl=function(d,o,r,a){var f,u=arguments.length,c=u<3?o:null===a?a=Object.getOwnPropertyDescriptor(o,r):a;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)c=Reflect.decorate(d,o,r,a);else for(var y=d.length-1;y>=0;y--)(f=d[y])&&(c=(u<3?f(c):u>3?f(o,r,c):f(o,r))||c);return u>3&&c&&Object.defineProperty(o,r,c),c},q_=function(d){function o(){var r=d.call(this,'<div class="ag-cell-edit-wrapper"><ag-select class="ag-cell-editor" ref="eSelect"></ag-select></div>')||this;return r.startedByEnter=!1,r}return jg(o,d),o.prototype.init=function(r){var a=this;if(this.focusAfterAttached=r.cellStartedEdit,Ge(r.values))console.warn("AG Grid: no values found for select cellEditor");else{this.startedByEnter=r.keyPress===me.ENTER;var u=!1;r.values.forEach(function(c){var f={value:c},y=a.valueFormatterService.formatValue(r.column,null,null,c);f.text=null!=y?y:c,a.eSelect.addOption(f),u=u||r.value===c}),u?this.eSelect.setValue(r.value,!0):r.values.length&&this.eSelect.setValue(r.values[0],!0),this.gridOptionsWrapper.isFullRowEdit()||this.eSelect.onValueChange(function(){return r.stopEditing()})}},o.prototype.afterGuiAttached=function(){this.focusAfterAttached&&this.eSelect.getFocusableElement().focus(),this.startedByEnter&&this.eSelect.showPicker()},o.prototype.focusIn=function(){this.eSelect.getFocusableElement().focus()},o.prototype.getValue=function(){return this.eSelect.getValue()},o.prototype.isPopup=function(){return!1},gl([F("valueFormatterService")],o.prototype,"valueFormatterService",void 0),gl([pe("eSelect")],o.prototype,"eSelect",void 0),o}(jc),Z_=function(){var d=function(o,r){return(d=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(a,u){a.__proto__=u}||function(a,u){for(var c in u)u.hasOwnProperty(c)&&(a[c]=u[c])})(o,r)};return function(o,r){function a(){this.constructor=o}d(o,r),o.prototype=null===r?Object.create(r):(a.prototype=r.prototype,new a)}}(),Q_=function(d){function o(){return null!==d&&d.apply(this,arguments)||this}return Z_(o,d),o.prototype.isPopup=function(){return!0},o}(q_),TS=function(){var d=function(o,r){return(d=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(a,u){a.__proto__=u}||function(a,u){for(var c in u)u.hasOwnProperty(c)&&(a[c]=u[c])})(o,r)};return function(o,r){function a(){this.constructor=o}d(o,r),o.prototype=null===r?Object.create(r):(a.prototype=r.prototype,new a)}}(),ih=function(d){function o(){return d.call(this,o.TEMPLATE)||this}return TS(o,d),o.prototype.init=function(r){this.params=r;var u,a=this.eInput;r.cellStartedEdit?(this.focusAfterAttached=!0,r.keyPress===me.BACKSPACE||r.keyPress===me.DELETE?u="":r.charPress?u=r.charPress:(u=this.getStartValue(r),r.keyPress!==me.F2&&(this.highlightAllOnFocus=!0))):(this.focusAfterAttached=!1,u=this.getStartValue(r)),null!=u&&a.setValue(u,!0),this.addManagedListener(a.getGui(),"keydown",function(c){var f=c.keyCode;(f===me.PAGE_UP||f===me.PAGE_DOWN)&&c.preventDefault()})},o.prototype.afterGuiAttached=function(){var r=this.gridOptionsWrapper.getLocaleTextFunc(),a=this.eInput;if(a.setInputAriaLabel(r("ariaInputEditor","Input Editor")),this.focusAfterAttached){Sp()||a.getFocusableElement().focus();var u=a.getInputElement();if(this.highlightAllOnFocus)u.select();else{var c=a.getValue(),f=ce(c)&&c.length||0;f&&u.setSelectionRange(f,f)}}},o.prototype.focusIn=function(){var r=this.eInput,a=r.getFocusableElement(),u=r.getInputElement();a.focus(),u.select()},o.prototype.focusOut=function(){var r=this.eInput.getInputElement();Ji()&&r.setSelectionRange(0,0)},o.prototype.getValue=function(){return this.params.parseValue(this.eInput.getValue())},o.prototype.getStartValue=function(r){return r.useFormatter||r.column.getColDef().refData?r.formatValue(r.value):r.value},o.prototype.isPopup=function(){return!1},o.TEMPLATE='<div class="ag-cell-edit-wrapper"><ag-input-text-field class="ag-cell-editor" ref="eInput"></ag-input-text-field></div>',function(d,o,r,a){var f,u=arguments.length,c=u<3?o:null===a?a=Object.getOwnPropertyDescriptor(o,r):a;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)c=Reflect.decorate(d,o,r,a);else for(var y=d.length-1;y>=0;y--)(f=d[y])&&(c=(u<3?f(c):u>3?f(o,r,c):f(o,r))||c);u>3&&c&&Object.defineProperty(o,r,c)}([pe("eInput")],o.prototype,"eInput",void 0),o}(jc),IS=function(){var d=function(o,r){return(d=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(a,u){a.__proto__=u}||function(a,u){for(var c in u)u.hasOwnProperty(c)&&(a[c]=u[c])})(o,r)};return function(o,r){function a(){this.constructor=o}d(o,r),o.prototype=null===r?Object.create(r):(a.prototype=r.prototype,new a)}}(),fu=function(d){function o(){return null!==d&&d.apply(this,arguments)||this}return IS(o,d),o.prototype.isPopup=function(){return!0},o}(ih),Wg=function(){var d=function(o,r){return(d=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(a,u){a.__proto__=u}||function(a,u){for(var c in u)u.hasOwnProperty(c)&&(a[c]=u[c])})(o,r)};return function(o,r){function a(){this.constructor=o}d(o,r),o.prototype=null===r?Object.create(r):(a.prototype=r.prototype,new a)}}(),rh=function(d){function o(){var r=d.call(this,o.TEMPLATE)||this;return r.refreshCount=0,r}return Wg(o,d),o.prototype.init=function(r){this.eValue=this.queryForHtmlElement(".ag-value-change-value"),this.eDelta=this.queryForHtmlElement(".ag-value-change-delta"),this.refresh(r)},o.prototype.showDelta=function(r,a){var u=Math.abs(a),c=r.formatValue(u),f=ce(c)?c:u,y=a>=0;this.eDelta.innerHTML=y?"\u2191"+f:"\u2193"+f,Ke(this.eDelta,"ag-value-change-delta-up",y),Ke(this.eDelta,"ag-value-change-delta-down",!y)},o.prototype.setTimerToRemoveDelta=function(){var r=this;this.refreshCount++;var a=this.refreshCount;window.setTimeout(function(){a===r.refreshCount&&r.hideDeltaValue()},2e3)},o.prototype.hideDeltaValue=function(){Xn(this.eValue,"ag-value-change-value-highlight"),mo(this.eDelta)},o.prototype.refresh=function(r){var a=r.value;return a!==this.lastValue&&(ce(r.valueFormatted)?this.eValue.innerHTML=r.valueFormatted:ce(r.value)?this.eValue.innerHTML=a:mo(this.eValue),!this.filterManager.isSuppressFlashingCellsBecauseFiltering())&&("number"==typeof a&&"number"==typeof this.lastValue&&this.showDelta(r,a-this.lastValue),this.lastValue&&Me(this.eValue,"ag-value-change-value-highlight"),this.setTimerToRemoveDelta(),this.lastValue=a,!0)},o.TEMPLATE='<span><span class="ag-value-change-delta"></span><span class="ag-value-change-value"></span></span>',function(d,o,r,a){var f,u=arguments.length,c=u<3?o:null===a?a=Object.getOwnPropertyDescriptor(o,r):a;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)c=Reflect.decorate(d,o,r,a);else for(var y=d.length-1;y>=0;y--)(f=d[y])&&(c=(u<3?f(c):u>3?f(o,r,c):f(o,r))||c);u>3&&c&&Object.defineProperty(o,r,c)}([F("filterManager")],o.prototype,"filterManager",void 0),o}(_t),gu=function(){var d=function(o,r){return(d=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(a,u){a.__proto__=u}||function(a,u){for(var c in u)u.hasOwnProperty(c)&&(a[c]=u[c])})(o,r)};return function(o,r){function a(){this.constructor=o}d(o,r),o.prototype=null===r?Object.create(r):(a.prototype=r.prototype,new a)}}(),J_=function(d){function o(){var r=d.call(this,o.TEMPLATE)||this;return r.refreshCount=0,r.eCurrent=r.queryForHtmlElement(".ag-value-slide-current"),r}return gu(o,d),o.prototype.init=function(r){this.refresh(r)},o.prototype.addSlideAnimation=function(){var r=this;this.refreshCount++;var a=this.refreshCount;this.ePrevious&&this.getGui().removeChild(this.ePrevious),this.ePrevious=Gs('<span class="ag-value-slide-previous ag-value-slide-out"></span>'),this.ePrevious.innerHTML=this.eCurrent.innerHTML,this.getGui().insertBefore(this.ePrevious,this.eCurrent),window.setTimeout(function(){a===r.refreshCount&&Me(r.ePrevious,"ag-value-slide-out-end")},50),window.setTimeout(function(){a===r.refreshCount&&(r.getGui().removeChild(r.ePrevious),r.ePrevious=null)},3e3)},o.prototype.refresh=function(r){var a=r.value;return Ge(a)&&(a=""),a!==this.lastValue&&!this.filterManager.isSuppressFlashingCellsBecauseFiltering()&&(this.addSlideAnimation(),this.lastValue=a,ce(r.valueFormatted)?this.eCurrent.innerHTML=r.valueFormatted:ce(r.value)?this.eCurrent.innerHTML=a:mo(this.eCurrent),!0)},o.TEMPLATE='<span>\n            <span class="ag-value-slide-current"></span>\n        </span>',function(d,o,r,a){var f,u=arguments.length,c=u<3?o:null===a?a=Object.getOwnPropertyDescriptor(o,r):a;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)c=Reflect.decorate(d,o,r,a);else for(var y=d.length-1;y>=0;y--)(f=d[y])&&(c=(u<3?f(c):u>3?f(o,r,c):f(o,r))||c);u>3&&c&&Object.defineProperty(o,r,c)}([F("filterManager")],o.prototype,"filterManager",void 0),o}(_t);!function(d){d[d.Above=0]="Above",d[d.Below=1]="Below"}(H.oh5||(H.oh5={}));var bt=function(){function d(o){this.rowIndex=null,this.key=null,this.childrenMapped={},this.displayed=!1,this.rowTop=null,this.oldRowTop=null,this.selectable=!0,this.__objectId=d.OBJECT_ID_SEQUENCE++,this.__autoHeights={},this.alreadyRendered=!1,this.highlighted=null,this.selected=!1,this.beans=o}return d.prototype.setData=function(o){this.setDataCommon(o,!1)},d.prototype.updateData=function(o){this.setDataCommon(o,!0)},d.prototype.setDataCommon=function(o,r){var a=this.data;this.data=o,this.beans.valueCache.onDataChanged(),this.updateDataOnDetailNode(),this.checkRowSelectable();var u=this.createDataChangedEvent(o,a,r);this.dispatchLocalEvent(u)},d.prototype.updateDataOnDetailNode=function(){this.detailNode&&(this.detailNode.data=this.data)},d.prototype.createDataChangedEvent=function(o,r,a){return{type:d.EVENT_DATA_CHANGED,node:this,oldData:r,newData:o,update:a}},d.prototype.createLocalRowEvent=function(o){return{type:o,node:this}},d.prototype.getRowIndexString=function(){return this.rowPinned===q.PINNED_TOP?"t-"+this.rowIndex:this.rowPinned===q.PINNED_BOTTOM?"b-"+this.rowIndex:this.rowIndex.toString()},d.prototype.createDaemonNode=function(){var o=new d(this.beans);return o.id=this.id,o.data=this.data,o.daemon=!0,o.selected=this.selected,o.level=this.level,o},d.prototype.setDataAndId=function(o,r){var a=ce(this.id)?this.createDaemonNode():null,u=this.data;this.data=o,this.updateDataOnDetailNode(),this.setId(r),this.beans.selectionService.syncInRowNode(this,a),this.checkRowSelectable();var c=this.createDataChangedEvent(o,u,!1);this.dispatchLocalEvent(c)},d.prototype.checkRowSelectable=function(){var o=this.beans.gridOptionsWrapper.getIsRowSelectableFunc();this.setRowSelectable(!o||o(this))},d.prototype.setRowSelectable=function(o){this.selectable!==o&&(this.selectable=o,this.eventService&&this.eventService.dispatchEvent(this.createLocalRowEvent(d.EVENT_SELECTABLE_CHANGED)))},d.prototype.setId=function(o){var r=this.beans.gridOptionsWrapper.getRowNodeIdFunc();r?this.data?(this.id=r(this.data),this.id&&"string"==typeof this.id&&f_(this.id,d.ID_PREFIX_ROW_GROUP)&&console.error("AG Grid: Row ID's cannot start with "+d.ID_PREFIX_ROW_GROUP+", this is a reserved prefix for AG Grid's row grouping feature."),this.id&&"string"!=typeof this.id&&(this.id=""+this.id)):this.id=void 0:this.id=o},d.prototype.isPixelInRange=function(o){return!(!ce(this.rowTop)||!ce(this.rowHeight))&&o>=this.rowTop&&o<this.rowTop+this.rowHeight},d.prototype.setFirstChild=function(o){this.firstChild!==o&&(this.firstChild=o,this.eventService&&this.eventService.dispatchEvent(this.createLocalRowEvent(d.EVENT_FIRST_CHILD_CHANGED)))},d.prototype.setLastChild=function(o){this.lastChild!==o&&(this.lastChild=o,this.eventService&&this.eventService.dispatchEvent(this.createLocalRowEvent(d.EVENT_LAST_CHILD_CHANGED)))},d.prototype.setChildIndex=function(o){this.childIndex!==o&&(this.childIndex=o,this.eventService&&this.eventService.dispatchEvent(this.createLocalRowEvent(d.EVENT_CHILD_INDEX_CHANGED)))},d.prototype.setRowTop=function(o){this.oldRowTop=this.rowTop,this.rowTop!==o&&(this.rowTop=o,this.eventService&&this.eventService.dispatchEvent(this.createLocalRowEvent(d.EVENT_TOP_CHANGED)),this.setDisplayed(null!==o))},d.prototype.clearRowTopAndRowIndex=function(){this.oldRowTop=null,this.setRowTop(null),this.setRowIndex(null)},d.prototype.setDisplayed=function(o){this.displayed!==o&&(this.displayed=o,this.eventService&&this.eventService.dispatchEvent(this.createLocalRowEvent(d.EVENT_DISPLAYED_CHANGED)))},d.prototype.setDragging=function(o){this.dragging!==o&&(this.dragging=o,this.eventService&&this.eventService.dispatchEvent(this.createLocalRowEvent(d.EVENT_DRAGGING_CHANGED)))},d.prototype.setHighlighted=function(o){o!==this.highlighted&&(this.highlighted=o,this.eventService&&this.eventService.dispatchEvent(this.createLocalRowEvent(d.EVENT_HIGHLIGHT_CHANGED)))},d.prototype.setAllChildrenCount=function(o){this.allChildrenCount!==o&&(this.allChildrenCount=o,this.eventService&&this.eventService.dispatchEvent(this.createLocalRowEvent(d.EVENT_ALL_CHILDREN_COUNT_CHANGED)))},d.prototype.setMaster=function(o){this.master!==o&&(this.master&&!o&&(this.expanded=!1),this.master=o,this.eventService&&this.eventService.dispatchEvent(this.createLocalRowEvent(d.EVENT_MASTER_CHANGED)))},d.prototype.setRowHeight=function(o,r){void 0===r&&(r=!1),this.rowHeight=o,this.rowHeightEstimated=r,this.eventService&&this.eventService.dispatchEvent(this.createLocalRowEvent(d.EVENT_HEIGHT_CHANGED))},d.prototype.setRowAutoHeight=function(o,r){this.__autoHeights||(this.__autoHeights={}),this.__autoHeights[r.getId()]=o,null!=o&&(null==this.checkAutoHeightsDebounced&&(this.checkAutoHeightsDebounced=qo(this.checkAutoHeights.bind(this),1)),this.checkAutoHeightsDebounced())},d.prototype.checkAutoHeights=function(){var o=!1,r=!0,a=0,u=this.__autoHeights;if(null!=u&&(this.beans.columnModel.getAllDisplayedAutoHeightCols().forEach(function(y){var w=u[y.getId()];null!=w?(r=!1,w>a&&(a=w)):o=!0}),!o&&((r||a<10)&&(a=this.beans.gridOptionsWrapper.getRowHeightForNode(this).height),a!=this.rowHeight))){this.setRowHeight(a);var f=this.beans.rowModel;f.onRowHeightChanged&&f.onRowHeightChanged()}},d.prototype.setRowIndex=function(o){this.rowIndex!==o&&(this.rowIndex=o,this.eventService&&this.eventService.dispatchEvent(this.createLocalRowEvent(d.EVENT_ROW_INDEX_CHANGED)))},d.prototype.setUiLevel=function(o){this.uiLevel!==o&&(this.uiLevel=o,this.eventService&&this.eventService.dispatchEvent(this.createLocalRowEvent(d.EVENT_UI_LEVEL_CHANGED)))},d.prototype.setExpanded=function(o){if(this.expanded!==o){this.expanded=o,this.eventService&&this.eventService.dispatchEvent(this.createLocalRowEvent(d.EVENT_EXPANDED_CHANGED));var r=rr({},this.createGlobalRowEvent(j.EVENT_ROW_GROUP_OPENED),{expanded:o});this.beans.rowNodeEventThrottle.dispatchExpanded(r),this.beans.gridOptionsWrapper.isGroupIncludeFooter()&&this.beans.rowRenderer.refreshCells({rowNodes:[this]})}},d.prototype.createGlobalRowEvent=function(o){return{type:o,node:this,data:this.data,rowIndex:this.rowIndex,rowPinned:this.rowPinned,context:this.beans.gridOptionsWrapper.getContext(),api:this.beans.gridOptionsWrapper.getApi(),columnApi:this.beans.gridOptionsWrapper.getColumnApi()}},d.prototype.dispatchLocalEvent=function(o){this.eventService&&this.eventService.dispatchEvent(o)},d.prototype.setDataValue=function(o,r,a){var u=this.beans.columnModel.getPrimaryColumn(o),c=this.beans.valueService.getValue(u,this);this.beans.valueService.setValue(this,u,r,a),this.dispatchCellChangedEvent(u,r,c)},d.prototype.setGroupValue=function(o,r){var a=this.beans.columnModel.getGridColumn(o);Ge(this.groupData)&&(this.groupData={});var u=a.getColId(),c=this.groupData[u];c!==r&&(this.groupData[u]=r,this.dispatchCellChangedEvent(a,r,c))},d.prototype.setAggData=function(o){var r=this,a=XD([this.aggData,o]),u=this.aggData;this.aggData=o,this.eventService&&a.forEach(function(c){var f=r.beans.columnModel.getGridColumn(c);r.dispatchCellChangedEvent(f,r.aggData?r.aggData[c]:void 0,u?u[c]:void 0)})},d.prototype.updateHasChildren=function(){var o=this.group&&!this.footer||this.childrenAfterGroup&&this.childrenAfterGroup.length>0;o!==this.__hasChildren&&(this.__hasChildren=!!o,this.eventService&&this.eventService.dispatchEvent(this.createLocalRowEvent(d.EVENT_HAS_CHILDREN_CHANGED)))},d.prototype.hasChildren=function(){return null==this.__hasChildren&&this.updateHasChildren(),this.__hasChildren},d.prototype.isEmptyRowGroupNode=function(){return this.group&&Vn(this.childrenAfterGroup)},d.prototype.dispatchCellChangedEvent=function(o,r,a){this.dispatchLocalEvent({type:d.EVENT_CELL_CHANGED,node:this,column:o,newValue:r,oldValue:a})},d.prototype.resetQuickFilterAggregateText=function(){this.quickFilterAggregateText=null},d.prototype.isExpandable=function(){return!!(this.hasChildren()&&!this.footer||this.master)},d.prototype.isSelected=function(){return this.footer?this.sibling.isSelected():this.selected},d.prototype.depthFirstSearch=function(o){this.childrenAfterGroup&&this.childrenAfterGroup.forEach(function(r){return r.depthFirstSearch(o)}),o(this)},d.prototype.calculateSelectedFromChildren=function(){var o=!1,r=!1,a=!1;if(this.childrenAfterGroup)for(var c=0;c<this.childrenAfterGroup.length;c++){var f=this.childrenAfterGroup[c];if(f.selectable)switch(f.isSelected()){case!0:o=!0;break;case!1:r=!0;break;default:a=!0}}this.selectThisNode(a?void 0:!(!o||r)||!(!o&&r)&&void 0)},d.prototype.setSelectedInitialValue=function(o){this.selected=o},d.prototype.setSelected=function(o,r,a){void 0===r&&(r=!1),void 0===a&&(a=!1),this.setSelectedParams({newValue:o,clearSelection:r,suppressFinishActions:a,rangeSelect:!1})},d.prototype.isRowPinned=function(){return this.rowPinned===q.PINNED_TOP||this.rowPinned===q.PINNED_BOTTOM},d.prototype.setSelectedParams=function(o){var r=this.beans.gridOptionsWrapper.isGroupSelectsChildren(),a=!0===o.newValue,u=!0===o.clearSelection,c=!0===o.suppressFinishActions,f=!0===o.rangeSelect,y=r&&!0===o.groupSelectsFiltered;if(void 0===this.id)return console.warn("AG Grid: cannot select node until id for node is known"),0;if(this.rowPinned)return console.warn("AG Grid: cannot select pinned rows"),0;if(this.footer)return this.sibling.setSelectedParams(o);if(f&&this.beans.selectionService.getLastSelectedNode()){var w=this.beans.selectionService.getLastSelectedNode()!==this,D=this.beans.gridOptionsWrapper.isRowSelectionMulti();if(w&&D){var O=this.doRowRangeSelection(o.newValue);return this.beans.selectionService.setLastSelectedNode(this),O}}var I=0;return y&&this.group||this.selectThisNode(a)&&I++,r&&this.group&&(I+=this.selectChildNodes(a,y)),c||(a&&(u||!this.beans.gridOptionsWrapper.isRowSelectionMulti())&&(I+=this.beans.selectionService.clearOtherNodes(this)),I>0&&(this.beans.selectionService.updateGroupsFromChildrenSelections(),this.beans.eventService.dispatchEvent({type:j.EVENT_SELECTION_CHANGED,api:this.beans.gridApi,columnApi:this.beans.columnApi})),a&&this.beans.selectionService.setLastSelectedNode(this)),I},d.prototype.doRowRangeSelection=function(o){var r=this;void 0===o&&(o=!0);var a=this.beans.gridOptionsWrapper.isGroupSelectsChildren(),u=this.beans.selectionService.getLastSelectedNode(),c=this.beans.rowModel.getNodesInRangeForSelection(this,u),f=0;return c.forEach(function(w){w.group&&a||!1===o&&r===w||w.selectThisNode(o)&&f++}),this.beans.selectionService.updateGroupsFromChildrenSelections(),this.beans.eventService.dispatchEvent({type:j.EVENT_SELECTION_CHANGED,api:this.beans.gridApi,columnApi:this.beans.columnApi}),f},d.prototype.isParentOfNode=function(o){for(var r=this.parent;r;){if(r===o)return!0;r=r.parent}return!1},d.prototype.selectThisNode=function(o){if(!this.selectable&&o||this.selected===o)return!1;this.selected=o,this.eventService&&this.dispatchLocalEvent(this.createLocalRowEvent(d.EVENT_ROW_SELECTED));var u=this.createGlobalRowEvent(j.EVENT_ROW_SELECTED);return this.beans.eventService.dispatchEvent(u),!0},d.prototype.selectChildNodes=function(o,r){var a=r?this.childrenAfterFilter:this.childrenAfterGroup;if(Ge(a))return 0;for(var u=0,c=0;c<a.length;c++)u+=a[c].setSelectedParams({newValue:o,clearSelection:!1,suppressFinishActions:!0,groupSelectsFiltered:r});return u},d.prototype.addEventListener=function(o,r){this.eventService||(this.eventService=new ma),this.eventService.addEventListener(o,r)},d.prototype.removeEventListener=function(o,r){!this.eventService||(this.eventService.removeEventListener(o,r),this.eventService.noRegisteredListenersExist()&&(this.eventService=null))},d.prototype.onMouseEnter=function(){this.dispatchLocalEvent(this.createLocalRowEvent(d.EVENT_MOUSE_ENTER))},d.prototype.onMouseLeave=function(){this.dispatchLocalEvent(this.createLocalRowEvent(d.EVENT_MOUSE_LEAVE))},d.prototype.getFirstChildOfFirstChild=function(o){for(var r=this,a=!0,u=!1,c=null;a&&!u;){var f=r.parent;ce(f)&&r.firstChild?f.rowGroupColumn===o&&(u=!0,c=f):a=!1,r=f}return u?c:null},d.prototype.isFullWidthCell=function(){var o=this.beans.gridOptionsWrapper.getIsFullWidthCellFunc();return!!o&&o(this)},d.prototype.getRoute=function(){if(null!=this.key){for(var o=[],r=this;null!=r.key;)o.push(r.key),r=r.parent;return o.reverse()}},d.ID_PREFIX_ROW_GROUP="row-group-",d.ID_PREFIX_TOP_PINNED="t-",d.ID_PREFIX_BOTTOM_PINNED="b-",d.OBJECT_ID_SEQUENCE=0,d.EVENT_ROW_SELECTED="rowSelected",d.EVENT_DATA_CHANGED="dataChanged",d.EVENT_CELL_CHANGED="cellChanged",d.EVENT_ALL_CHILDREN_COUNT_CHANGED="allChildrenCountChanged",d.EVENT_MASTER_CHANGED="masterChanged",d.EVENT_MOUSE_ENTER="mouseEnter",d.EVENT_MOUSE_LEAVE="mouseLeave",d.EVENT_HEIGHT_CHANGED="heightChanged",d.EVENT_TOP_CHANGED="topChanged",d.EVENT_DISPLAYED_CHANGED="displayedChanged",d.EVENT_FIRST_CHILD_CHANGED="firstChildChanged",d.EVENT_LAST_CHILD_CHANGED="lastChildChanged",d.EVENT_CHILD_INDEX_CHANGED="childIndexChanged",d.EVENT_ROW_INDEX_CHANGED="rowIndexChanged",d.EVENT_EXPANDED_CHANGED="expandedChanged",d.EVENT_HAS_CHILDREN_CHANGED="hasChildrenChanged",d.EVENT_SELECTABLE_CHANGED="selectableChanged",d.EVENT_UI_LEVEL_CHANGED="uiLevelChanged",d.EVENT_HIGHLIGHT_CHANGED="rowHighlightChanged",d.EVENT_DRAGGING_CHANGED="draggingChanged",d}(),Ug=function(){var d=function(o,r){return(d=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(a,u){a.__proto__=u}||function(a,u){for(var c in u)u.hasOwnProperty(c)&&(a[c]=u[c])})(o,r)};return function(o,r){function a(){this.constructor=o}d(o,r),o.prototype=null===r?Object.create(r):(a.prototype=r.prototype,new a)}}(),FS=function(d,o,r,a){var f,u=arguments.length,c=u<3?o:null===a?a=Object.getOwnPropertyDescriptor(o,r):a;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)c=Reflect.decorate(d,o,r,a);else for(var y=d.length-1;y>=0;y--)(f=d[y])&&(c=(u<3?f(c):u>3?f(o,r,c):f(o,r))||c);return u>3&&c&&Object.defineProperty(o,r,c),c},Uc=function(d){function o(){return d.call(this,'\n            <div class="ag-selection-checkbox" role="presentation">\n                <ag-checkbox role="presentation" ref="eCheckbox"></ag-checkbox>\n            </div>')||this}return Ug(o,d),o.prototype.postConstruct=function(){this.eCheckbox.setPassive(!0)},o.prototype.getCheckboxId=function(){return this.eCheckbox.getInputElement().id},o.prototype.onDataChanged=function(){this.onSelectionChanged()},o.prototype.onSelectableChanged=function(){this.showOrHideSelect()},o.prototype.onSelectionChanged=function(){var r=this.gridOptionsWrapper.getLocaleTextFunc(),a=this.rowNode.isSelected(),u=void 0===a?r("ariaIndeterminate","indeterminate"):!0===a?r("ariaChecked","checked"):r("ariaUnchecked","unchecked"),c=r("ariaRowToggleSelection","Press Space to toggle row selection");this.eCheckbox.setValue(a,!0),this.eCheckbox.setInputAriaLabel(c+" ("+u+")")},o.prototype.onCheckedClicked=function(r){var a=this.gridOptionsWrapper.isGroupSelectsFiltered();return this.rowNode.setSelectedParams({newValue:!1,rangeSelect:r.shiftKey,groupSelectsFiltered:a})},o.prototype.onUncheckedClicked=function(r){var a=this.gridOptionsWrapper.isGroupSelectsFiltered();return this.rowNode.setSelectedParams({newValue:!0,rangeSelect:r.shiftKey,groupSelectsFiltered:a})},o.prototype.init=function(r){var a=this;if(this.rowNode=r.rowNode,this.column=r.column,this.onSelectionChanged(),this.addGuiEventListener("click",function(y){return ri(y)}),this.addGuiEventListener("dblclick",function(y){return ri(y)}),this.addManagedListener(this.eCheckbox.getInputElement(),"click",function(y){var w=a.eCheckbox.getValue();void 0===a.eCheckbox.getPreviousValue()?0===a.onUncheckedClicked(y||{})&&a.onCheckedClicked(y):w?a.onCheckedClicked(y):a.onUncheckedClicked(y||{})}),this.addManagedListener(this.rowNode,bt.EVENT_ROW_SELECTED,this.onSelectionChanged.bind(this)),this.addManagedListener(this.rowNode,bt.EVENT_DATA_CHANGED,this.onDataChanged.bind(this)),this.addManagedListener(this.rowNode,bt.EVENT_SELECTABLE_CHANGED,this.onSelectableChanged.bind(this)),this.gridOptionsWrapper.getIsRowSelectableFunc()||this.checkboxCallbackExists()){var f=this.showOrHideSelect.bind(this);this.addManagedListener(this.eventService,j.EVENT_DISPLAYED_COLUMNS_CHANGED,f),this.addManagedListener(this.rowNode,bt.EVENT_DATA_CHANGED,f),this.addManagedListener(this.rowNode,bt.EVENT_CELL_CHANGED,f),this.showOrHideSelect()}this.eCheckbox.getInputElement().setAttribute("tabindex","-1")},o.prototype.showOrHideSelect=function(){var r=this.rowNode.selectable;r&&this.checkboxCallbackExists()&&(r=this.column.isCellCheckboxSelection(this.rowNode)),this.setVisible(r)},o.prototype.checkboxCallbackExists=function(){var r=this.column?this.column.getColDef():null;return!!r&&"function"==typeof r.checkboxSelection},FS([pe("eCheckbox")],o.prototype,"eCheckbox",void 0),FS([ye],o.prototype,"postConstruct",null),o}(_t),zc=function(){var d=function(o,r){return(d=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(a,u){a.__proto__=u}||function(a,u){for(var c in u)u.hasOwnProperty(c)&&(a[c]=u[c])})(o,r)};return function(o,r){function a(){this.constructor=o}d(o,r),o.prototype=null===r?Object.create(r):(a.prototype=r.prototype,new a)}}(),wo=function(d,o,r,a){var f,u=arguments.length,c=u<3?o:null===a?a=Object.getOwnPropertyDescriptor(o,r):a;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)c=Reflect.decorate(d,o,r,a);else for(var y=d.length-1;y>=0;y--)(f=d[y])&&(c=(u<3?f(c):u>3?f(o,r,c):f(o,r))||c);return u>3&&c&&Object.defineProperty(o,r,c),c};(function(d){d[d.ToolPanel=0]="ToolPanel",d[d.HeaderCell=1]="HeaderCell",d[d.RowDrag=2]="RowDrag",d[d.ChartPanel=3]="ChartPanel"})(H.rvo||(H.rvo={})),function(d){d[d.Up=0]="Up",d[d.Down=1]="Down"}(H.HO_||(H.HO_={})),function(d){d[d.Left=0]="Left",d[d.Right=1]="Right"}(H.poj||(H.poj={}));var Er=function(d){function o(){var a=null!==d&&d.apply(this,arguments)||this;return a.dragSourceAndParamsList=[],a.dropTargets=[],a}var r;return zc(o,d),r=o,o.prototype.init=function(){this.ePinnedIcon=kr("columnMovePin",this.gridOptionsWrapper,null),this.eHideIcon=kr("columnMoveHide",this.gridOptionsWrapper,null),this.eMoveIcon=kr("columnMoveMove",this.gridOptionsWrapper,null),this.eLeftIcon=kr("columnMoveLeft",this.gridOptionsWrapper,null),this.eRightIcon=kr("columnMoveRight",this.gridOptionsWrapper,null),this.eGroupIcon=kr("columnMoveGroup",this.gridOptionsWrapper,null),this.eAggregateIcon=kr("columnMoveValue",this.gridOptionsWrapper,null),this.ePivotIcon=kr("columnMovePivot",this.gridOptionsWrapper,null),this.eDropNotAllowedIcon=kr("dropNotAllowed",this.gridOptionsWrapper,null)},o.prototype.addDragSource=function(a,u){void 0===u&&(u=!1);var c={eElement:a.eElement,dragStartPixels:a.dragStartPixels,onDragStart:this.onDragStart.bind(this,a),onDragStop:this.onDragStop.bind(this),onDragging:this.onDragging.bind(this)};this.dragSourceAndParamsList.push({params:c,dragSource:a}),this.dragService.addDragSource(c,u)},o.prototype.removeDragSource=function(a){var u=Un(this.dragSourceAndParamsList,function(c){return c.dragSource===a});u&&(this.dragService.removeDragSource(u.params),ln(this.dragSourceAndParamsList,u))},o.prototype.clearDragSourceParamsList=function(){var a=this;this.dragSourceAndParamsList.forEach(function(u){return a.dragService.removeDragSource(u.params)}),this.dragSourceAndParamsList.length=0},o.prototype.nudge=function(){this.dragging&&this.onDragging(this.eventLastTime,!0)},o.prototype.onDragStart=function(a,u){this.dragging=!0,this.dragSource=a,this.eventLastTime=u,this.dragItem=this.dragSource.getDragItem(),this.lastDropTarget=this.dragSource.dragSourceDropTarget,this.dragSource.onDragStarted&&this.dragSource.onDragStarted(),this.createGhost()},o.prototype.onDragStop=function(a){if(this.eventLastTime=null,this.dragging=!1,this.dragSource.onDragStopped&&this.dragSource.onDragStopped(),this.lastDropTarget&&this.lastDropTarget.onDragStop){var u=this.createDropTargetEvent(this.lastDropTarget,a,null,null,!1);this.lastDropTarget.onDragStop(u)}this.lastDropTarget=null,this.dragItem=null,this.removeGhost()},o.prototype.onDragging=function(a,u){var c=this,f=this.getHorizontalDirection(a),y=this.getVerticalDirection(a);this.eventLastTime=a,this.positionGhost(a);var w=this.dropTargets.filter(function(V){return c.isMouseOnDropTarget(a,V)}),D=w.length,O=null;if(D>0&&(O=1===D?w[0]:w.reduce(function(V,B){if(!V)return B;var z=V.getContainer(),ee=B.getContainer();return z.contains(ee)?B:V})),O!==this.lastDropTarget)this.leaveLastTargetIfExists(a,f,y,u),this.enterDragTargetIfExists(O,a,f,y,u),this.lastDropTarget=O;else if(O&&O.onDragging){var I=this.createDropTargetEvent(O,a,f,y,u);O.onDragging(I)}},o.prototype.enterDragTargetIfExists=function(a,u,c,f,y){if(a){if(a.onDragEnter){var w=this.createDropTargetEvent(a,u,c,f,y);a.onDragEnter(w)}this.setGhostIcon(a.getIconName?a.getIconName():null)}},o.prototype.leaveLastTargetIfExists=function(a,u,c,f){if(this.lastDropTarget){if(this.lastDropTarget.onDragLeave){var y=this.createDropTargetEvent(this.lastDropTarget,a,u,c,f);this.lastDropTarget.onDragLeave(y)}this.setGhostIcon(null)}},o.prototype.getAllContainersFromDropTarget=function(a){var u=a.getSecondaryContainers?a.getSecondaryContainers():null,c=[[a.getContainer()]];return u?c.concat(u):c},o.prototype.allContainersIntersect=function(a,u){for(var c=0,f=u;c<f.length;c++){var w=f[c].getBoundingClientRect();if(0===w.width||0===w.height)return!1;if(!(a.clientX>=w.left&&a.clientX<w.right&&a.clientY>=w.top&&a.clientY<w.bottom))return!1}return!0},o.prototype.isMouseOnDropTarget=function(a,u){for(var f=!1,y=0,w=this.getAllContainersFromDropTarget(u);y<w.length;y++)if(this.allContainersIntersect(a,w[y])){f=!0;break}return f&&u.isInterestedIn(this.dragSource.type)},o.prototype.addDropTarget=function(a){this.dropTargets.push(a)},o.prototype.removeDropTarget=function(a){this.dropTargets=this.dropTargets.filter(function(u){return u.getContainer()!==a.getContainer()})},o.prototype.hasExternalDropZones=function(){return this.dropTargets.some(function(a){return a.external})},o.prototype.findExternalZone=function(a){return Un(this.dropTargets.filter(function(c){return c.external}),function(c){return c.getContainer()===a.getContainer()})},o.prototype.getHorizontalDirection=function(a){var u=this.eventLastTime&&this.eventLastTime.clientX,c=a.clientX;return u===c?null:u>c?H.poj.Left:H.poj.Right},o.prototype.getVerticalDirection=function(a){var u=this.eventLastTime&&this.eventLastTime.clientY,c=a.clientY;return u===c?null:u>c?H.HO_.Up:H.HO_.Down},o.prototype.createDropTargetEvent=function(a,u,c,f,y){var w=a.getContainer(),D=w.getBoundingClientRect(),O=this;return{event:u,x:u.clientX-D.left,y:u.clientY-D.top,vDirection:f,hDirection:c,dragSource:O.dragSource,fromNudge:y,dragItem:O.dragItem,api:O.gridApi,columnApi:O.columnApi,dropZoneTarget:w}},o.prototype.positionGhost=function(a){var u=this.eGhost;if(u){var f=u.getBoundingClientRect().height,y=yo()-2,w=Ep()-2,D=a.pageY-f/2,O=a.pageX-10,I=this.gridOptionsWrapper.getDocument(),V=window.pageYOffset||I.documentElement.scrollTop,B=window.pageXOffset||I.documentElement.scrollLeft;y>0&&O+u.clientWidth>y+B&&(O=y+B-u.clientWidth),O<0&&(O=0),w>0&&D+u.clientHeight>w+V&&(D=w+V-u.clientHeight),D<0&&(D=0),u.style.left=O+"px",u.style.top=D+"px"}},o.prototype.removeGhost=function(){this.eGhost&&this.eGhostParent&&this.eGhostParent.removeChild(this.eGhost),this.eGhost=null},o.prototype.createGhost=function(){this.eGhost=Gs(r.GHOST_TEMPLATE);var a=this.environment.getTheme().theme;a&&Me(this.eGhost,a),this.eGhostIcon=this.eGhost.querySelector(".ag-dnd-ghost-icon"),this.setGhostIcon(null);var u=this.eGhost.querySelector(".ag-dnd-ghost-label"),c=this.dragSource.dragItemName;ig(c)&&(c=c()),u.innerHTML=No(c)||"",this.eGhost.style.height="25px",this.eGhost.style.top="20px",this.eGhost.style.left="20px";var f=this.gridOptionsWrapper.getDocument(),y=f.fullscreenElement||f.querySelector("body");this.eGhostParent=y,this.eGhostParent?this.eGhostParent.appendChild(this.eGhost):console.warn("AG Grid: could not find document body, it is needed for dragging columns")},o.prototype.setGhostIcon=function(a,u){void 0===u&&(u=!1),mo(this.eGhostIcon);var c=null;switch(a||(a=this.dragSource.defaultIconName||r.ICON_NOT_ALLOWED),a){case r.ICON_PINNED:c=this.ePinnedIcon;break;case r.ICON_MOVE:c=this.eMoveIcon;break;case r.ICON_LEFT:c=this.eLeftIcon;break;case r.ICON_RIGHT:c=this.eRightIcon;break;case r.ICON_GROUP:c=this.eGroupIcon;break;case r.ICON_AGGREGATE:c=this.eAggregateIcon;break;case r.ICON_PIVOT:c=this.ePivotIcon;break;case r.ICON_NOT_ALLOWED:c=this.eDropNotAllowedIcon;break;case r.ICON_HIDE:c=this.eHideIcon}Ke(this.eGhostIcon,"ag-shake-left-to-right",u),(c!==this.eHideIcon||!this.gridOptionsWrapper.isSuppressDragLeaveHidesColumns())&&c&&this.eGhostIcon.appendChild(c)},o.ICON_PINNED="pinned",o.ICON_MOVE="move",o.ICON_LEFT="left",o.ICON_RIGHT="right",o.ICON_GROUP="group",o.ICON_AGGREGATE="aggregate",o.ICON_PIVOT="pivot",o.ICON_NOT_ALLOWED="notAllowed",o.ICON_HIDE="hide",o.GHOST_TEMPLATE='<div class="ag-dnd-ghost ag-unselectable">\n            <span class="ag-dnd-ghost-icon ag-shake-left-to-right"></span>\n            <div class="ag-dnd-ghost-label"></div>\n        </div>',wo([F("dragService")],o.prototype,"dragService",void 0),wo([F("environment")],o.prototype,"environment",void 0),wo([F("columnApi")],o.prototype,"columnApi",void 0),wo([F("gridApi")],o.prototype,"gridApi",void 0),wo([ye],o.prototype,"init",null),wo([or],o.prototype,"clearDragSourceParamsList",null),r=wo([Te("dragAndDropService")],o)}(he),Se=function(){var d=function(o,r){return(d=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(a,u){a.__proto__=u}||function(a,u){for(var c in u)u.hasOwnProperty(c)&&(a[c]=u[c])})(o,r)};return function(o,r){function a(){this.constructor=o}d(o,r),o.prototype=null===r?Object.create(r):(a.prototype=r.prototype,new a)}}(),vu=function(d,o,r,a){var f,u=arguments.length,c=u<3?o:null===a?a=Object.getOwnPropertyDescriptor(o,r):a;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)c=Reflect.decorate(d,o,r,a);else for(var y=d.length-1;y>=0;y--)(f=d[y])&&(c=(u<3?f(c):u>3?f(o,r,c):f(o,r))||c);return u>3&&c&&Object.defineProperty(o,r,c),c},zg=function(d){function o(r,a,u,c,f,y){var w=d.call(this)||this;return w.cellValueFn=r,w.rowNode=a,w.column=u,w.customGui=c,w.dragStartPixels=f,w.suppressVisibilityChange=y,w.dragSource=null,w}return Se(o,d),o.prototype.isCustomGui=function(){return null!=this.customGui},o.prototype.postConstruct=function(){if(this.customGui?this.setDragElement(this.customGui,this.dragStartPixels):(this.setTemplate('<div class="ag-drag-handle ag-row-drag" aria-hidden="true"></div>'),this.getGui().appendChild(An("rowDrag",this.beans.gridOptionsWrapper,null)),this.addDragSource()),this.checkCompatibility(),!this.suppressVisibilityChange){var r=this.beans.gridOptionsWrapper.isRowDragManaged()?new NS(this,this.beans,this.rowNode,this.column):new $c(this,this.beans,this.rowNode,this.column);this.createManagedBean(r,this.beans.context)}},o.prototype.setDragElement=function(r,a){this.setTemplateFromElement(r),this.addDragSource(a)},o.prototype.getSelectedCount=function(){if(!this.beans.gridOptionsWrapper.isRowDragMultiRow())return 1;var a=this.beans.selectionService.getSelectedNodes();return-1!==a.indexOf(this.rowNode)?a.length:1},o.prototype.checkCompatibility=function(){var r=this.beans.gridOptionsWrapper.isRowDragManaged();this.beans.gridOptionsWrapper.isTreeData()&&r&&Mi(function(){return console.warn("AG Grid: If using row drag with tree data, you cannot have rowDragManaged=true")},"RowDragComp.managedAndTreeData")},o.prototype.addDragSource=function(r){var a=this;void 0===r&&(r=4),this.dragSource&&this.removeDragSource();var u={rowNode:this.rowNode,columns:this.column?[this.column]:void 0,defaultTextValue:this.cellValueFn()},c=this.column&&this.column.getColDef().rowDragText;this.dragSource={type:H.rvo.RowDrag,eElement:this.getGui(),dragItemName:function(){var f=a.getSelectedCount();return c?c(u,f):1===f?a.cellValueFn():f+" rows"},getDragItem:function(){return u},dragStartPixels:r,dragSourceDomDataKey:this.beans.gridOptionsWrapper.getDomDataKey()},this.addMouseDownListenerIfNeeded(),this.beans.dragAndDropService.addDragSource(this.dragSource,!0)},o.prototype.addMouseDownListenerIfNeeded=function(){var r=this;this.customGui||!this.column||!this.gridOptionsWrapper.isEnableCellTextSelect()||this.addManagedListener(this.getGui(),"mousedown",function(a){a.preventDefault(),r.beans.focusService.setFocusedCell(r.rowNode.rowIndex,r.column,r.rowNode.rowPinned,!0)})},o.prototype.removeDragSource=function(){this.dragSource&&this.beans.dragAndDropService.removeDragSource(this.dragSource),this.dragSource=null},vu([F("beans")],o.prototype,"beans",void 0),vu([ye],o.prototype,"postConstruct",null),vu([or],o.prototype,"removeDragSource",null),o}(_t),Fa=function(d){function o(r,a,u){var c=d.call(this)||this;return c.parent=r,c.rowNode=a,c.column=u,c}return Se(o,d),o.prototype.setDisplayedOrVisible=function(r){if(r)this.parent.setDisplayed(!1);else{var a=!0,u=!1;this.column&&(a=this.column.isRowDrag(this.rowNode)||this.parent.isCustomGui(),u=ig(this.column.getColDef().rowDrag)),u?(this.parent.setDisplayed(!0),this.parent.setVisible(a)):(this.parent.setDisplayed(a),this.parent.setVisible(!0))}},o}(he),$c=function(d){function o(r,a,u,c){var f=d.call(this,r,u,c)||this;return f.beans=a,f}return Se(o,d),o.prototype.postConstruct=function(){this.addManagedListener(this.beans.gridOptionsWrapper,"suppressRowDrag",this.onSuppressRowDrag.bind(this)),this.addManagedListener(this.rowNode,bt.EVENT_DATA_CHANGED,this.workOutVisibility.bind(this)),this.addManagedListener(this.rowNode,bt.EVENT_CELL_CHANGED,this.workOutVisibility.bind(this)),this.addManagedListener(this.rowNode,bt.EVENT_CELL_CHANGED,this.workOutVisibility.bind(this)),this.addManagedListener(this.beans.eventService,j.EVENT_NEW_COLUMNS_LOADED,this.workOutVisibility.bind(this)),this.workOutVisibility()},o.prototype.onSuppressRowDrag=function(){this.workOutVisibility()},o.prototype.workOutVisibility=function(){var r=this.beans.gridOptionsWrapper.isSuppressRowDrag();this.setDisplayedOrVisible(r)},vu([ye],o.prototype,"postConstruct",null),o}(Fa),NS=function(d){function o(r,a,u,c){var f=d.call(this,r,u,c)||this;return f.beans=a,f}return Se(o,d),o.prototype.postConstruct=function(){this.addManagedListener(this.beans.eventService,j.EVENT_SORT_CHANGED,this.workOutVisibility.bind(this)),this.addManagedListener(this.beans.eventService,j.EVENT_FILTER_CHANGED,this.workOutVisibility.bind(this)),this.addManagedListener(this.beans.eventService,j.EVENT_COLUMN_ROW_GROUP_CHANGED,this.workOutVisibility.bind(this)),this.addManagedListener(this.beans.eventService,j.EVENT_NEW_COLUMNS_LOADED,this.workOutVisibility.bind(this)),this.addManagedListener(this.rowNode,bt.EVENT_DATA_CHANGED,this.workOutVisibility.bind(this)),this.addManagedListener(this.rowNode,bt.EVENT_CELL_CHANGED,this.workOutVisibility.bind(this)),this.addManagedListener(this.beans.gridOptionsWrapper,"suppressRowDrag",this.onSuppressRowDrag.bind(this)),this.workOutVisibility()},o.prototype.onSuppressRowDrag=function(){this.workOutVisibility()},o.prototype.workOutVisibility=function(){var a=this.beans.ctrlsService.getGridBodyCtrl().getRowDragFeature(),u=a&&a.shouldPreventRowMove(),c=this.beans.gridOptionsWrapper.isSuppressRowDrag(),f=this.beans.dragAndDropService.hasExternalDropZones();this.setDisplayedOrVisible(u&&!f||c)},vu([ye],o.prototype,"postConstruct",null),o}(Fa),eb=function(){var d=function(o,r){return(d=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(a,u){a.__proto__=u}||function(a,u){for(var c in u)u.hasOwnProperty(c)&&(a[c]=u[c])})(o,r)};return function(o,r){function a(){this.constructor=o}d(o,r),o.prototype=null===r?Object.create(r):(a.prototype=r.prototype,new a)}}(),Yc=function(){return(Yc=Object.assign||function(d){for(var o,r=1,a=arguments.length;r<a;r++)for(var u in o=arguments[r])Object.prototype.hasOwnProperty.call(o,u)&&(d[u]=o[u]);return d}).apply(this,arguments)},oh=function(d,o,r,a){var f,u=arguments.length,c=u<3?o:null===a?a=Object.getOwnPropertyDescriptor(o,r):a;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)c=Reflect.decorate(d,o,r,a);else for(var y=d.length-1;y>=0;y--)(f=d[y])&&(c=(u<3?f(c):u>3?f(o,r,c):f(o,r))||c);return u>3&&c&&Object.defineProperty(o,r,c),c},vl=function(d){function o(){return null!==d&&d.apply(this,arguments)||this}return eb(o,d),o.prototype.init=function(r,a,u,c,f,y,w){this.params=w,this.eGui=a,this.eCheckbox=u,this.eExpanded=c,this.eContracted=f,this.comp=r,this.compClass=y;var D=this.isTopLevelFooter(),O=this.isEmbeddedRowMismatch(),I=null==w.value,V=!1;if(this.gridOptionsWrapper.isGroupIncludeFooter()&&this.gridOptionsWrapper.isGroupHideOpenParents()){var B=w.node;B.footer&&(V=(w.colDef&&w.colDef.showRowGroup)!==(B.rowGroupColumn&&B.rowGroupColumn.getColId()))}this.cellIsBlank=!D&&(O||I||V),!this.cellIsBlank&&(this.setupShowingValueForOpenedParent(),this.findDisplayedGroupNode(),this.addFullWidthRowDraggerIfNeeded(),this.addExpandAndContract(),this.addCheckboxIfNeeded(),this.addValueElement(),this.setupIndent())},o.prototype.isTopLevelFooter=function(){if(!this.gridOptionsWrapper.isGroupIncludeTotalFooter()||null!=this.params.value||-1!=this.params.node.level)return!1;var r=this.params.colDef;if(null==r||!0===r.showRowGroup)return!0;var u=this.columnModel.getRowGroupColumns();return!u||0===u.length||u[0].getId()===r.showRowGroup},o.prototype.isEmbeddedRowMismatch=function(){if(!this.params.fullWidth||!this.gridOptionsWrapper.isEmbedFullWidthRows())return!1;var r=this.params.pinned===q.PINNED_LEFT,a=this.params.pinned===q.PINNED_RIGHT,u=!r&&!a;return this.gridOptionsWrapper.isEnableRtl()?this.columnModel.isPinningLeft()?!a:!u:this.columnModel.isPinningLeft()?!r:!u},o.prototype.findDisplayedGroupNode=function(){var r=this.params.column,a=this.params.node;if(this.showingValueForOpenedParent)for(var u=a.parent;null!=u;){if(u.rowGroupColumn&&r.isRowGroupDisplayed(u.rowGroupColumn.getId())){this.displayedGroupNode=u;break}u=u.parent}Ge(this.displayedGroupNode)&&(this.displayedGroupNode=a)},o.prototype.setupShowingValueForOpenedParent=function(){var r=this.params.node,a=this.params.column;if(this.gridOptionsWrapper.isGroupHideOpenParents())if(r.groupData){if(null!=r.rowGroupColumn){var c=r.rowGroupColumn.getId();if(a.isRowGroupDisplayed(c))return void(this.showingValueForOpenedParent=!1)}var y=null!=r.groupData[a.getId()];this.showingValueForOpenedParent=y}else this.showingValueForOpenedParent=!1;else this.showingValueForOpenedParent=!1},o.prototype.addValueElement=function(){this.displayedGroupNode.footer?this.addFooterValue():(this.addGroupValue(),this.addChildCount())},o.prototype.addGroupValue=function(){var r=this.adjustParamsWithDetailsFromRelatedColumn(),a=this.getInnerCompDetails(r),u=r.valueFormatted;this.comp.setInnerRenderer(a,null!=u?u:r.value)},o.prototype.adjustParamsWithDetailsFromRelatedColumn=function(){var r=this.displayedGroupNode.rowGroupColumn,a=this.params.column;if(!r)return this.params;if(null!=a&&!a.isRowGroupDisplayed(r.getId()))return this.params;var f=this.params,y=this.params,I=this.valueFormatterService.formatValue(r,y.node,y.scope,y.value);return Yc(Yc({},f),{valueFormatted:I})},o.prototype.addFooterValue=function(){var r=this.params.footerValueGetter,a="";if(r){var u=Dc(this.params);u.value=this.params.value,"function"==typeof r?a=r(u):"string"==typeof r?a=this.expressionService.evaluate(r,u):console.warn("AG Grid: footerValueGetter should be either a function or a string (expression)")}else a="Total "+(null!=this.params.value?this.params.value:"");var c=this.getInnerCompDetails(this.params);this.comp.setInnerRenderer(c,a)},o.prototype.getInnerCompDetails=function(r){var a=this;if(r.fullWidth)return this.userComponentFactory.getFullWidthGroupRowInnerCellRenderer(this.gridOptions.groupRowRendererParams,r);var u=this.userComponentFactory.getInnerRendererDetails(r,r),c=function(O){return O&&O.componentClass==a.compClass};if(u&&!c(u))return u;var f=this.displayedGroupNode.rowGroupColumn,y=f?f.getColDef():void 0;if(y){var w=this.userComponentFactory.getCellRendererDetails(y,r);if(w&&!c(w))return w;if(c(w)&&y.cellRendererParams&&y.cellRendererParams.innerRenderer)return this.userComponentFactory.getInnerRendererDetails(y.cellRendererParams,r)}},o.prototype.addChildCount=function(){this.params.suppressCount||(this.addManagedListener(this.displayedGroupNode,bt.EVENT_ALL_CHILDREN_COUNT_CHANGED,this.updateChildCount.bind(this)),this.updateChildCount())},o.prototype.updateChildCount=function(){var r=this.displayedGroupNode.allChildrenCount,a=this.isShowRowGroupForThisRow();this.comp.setChildCount(a&&null!=r&&r>=0?"("+r+")":"")},o.prototype.isShowRowGroupForThisRow=function(){if(this.gridOptionsWrapper.isTreeData())return!0;var r=this.displayedGroupNode.rowGroupColumn;if(!r)return!1;var a=this.params.column;return null==a||a.isRowGroupDisplayed(r.getId())},o.prototype.addExpandAndContract=function(){var r=this.params,a=An("groupExpanded",this.gridOptionsWrapper,null),u=An("groupContracted",this.gridOptionsWrapper,null);a&&this.eExpanded.appendChild(a),u&&this.eContracted.appendChild(u);var c=r.eGridCell;!this.gridOptionsWrapper.isEnableGroupEdit()&&this.isExpandable()&&!r.suppressDoubleClickExpand&&this.addManagedListener(c,"dblclick",this.onCellDblClicked.bind(this)),this.addManagedListener(this.eExpanded,"click",this.onExpandClicked.bind(this)),this.addManagedListener(this.eContracted,"click",this.onExpandClicked.bind(this)),this.addManagedListener(c,"keydown",this.onKeyDown.bind(this)),this.addManagedListener(r.node,bt.EVENT_EXPANDED_CHANGED,this.showExpandAndContractIcons.bind(this)),this.showExpandAndContractIcons();var f=this.onRowNodeIsExpandableChanged.bind(this);this.addManagedListener(this.displayedGroupNode,bt.EVENT_ALL_CHILDREN_COUNT_CHANGED,f),this.addManagedListener(this.displayedGroupNode,bt.EVENT_MASTER_CHANGED,f),this.addManagedListener(this.displayedGroupNode,bt.EVENT_HAS_CHILDREN_CHANGED,f)},o.prototype.onExpandClicked=function(r){Ls(r)||(ri(r),this.onExpandOrContract())},o.prototype.onExpandOrContract=function(){var r=this.displayedGroupNode;r.setExpanded(!r.expanded)},o.prototype.isExpandable=function(){if(this.showingValueForOpenedParent)return!0;var r=this.displayedGroupNode,a=this.columnModel.isPivotMode()&&r.leafGroup;if(!r.isExpandable()||r.footer||a)return!1;var c=this.params.column;return null==c||"string"!=typeof c.getColDef().showRowGroup||this.isShowRowGroupForThisRow()},o.prototype.showExpandAndContractIcons=function(){var r=this,u=r.displayedGroupNode,c=r.columnModel,f=r.params.node,y=this.isExpandable();if(y){var w=!!this.showingValueForOpenedParent||f.expanded;this.comp.setExpandedDisplayed(w),this.comp.setContractedDisplayed(!w)}else this.comp.setExpandedDisplayed(!1),this.comp.setContractedDisplayed(!1);var D=c.isPivotMode(),O=D&&u.leafGroup,I=y&&!O,V=f.footer&&-1===f.level;this.comp.addOrRemoveCssClass("ag-cell-expandable",I),this.comp.addOrRemoveCssClass("ag-row-group",I),D?this.comp.addOrRemoveCssClass("ag-pivot-leaf-group",O):V||this.comp.addOrRemoveCssClass("ag-row-group-leaf-indent",!I)},o.prototype.onRowNodeIsExpandableChanged=function(){this.showExpandAndContractIcons(),this.setIndent()},o.prototype.setupIndent=function(){this.params.suppressPadding||(this.addManagedListener(this.params.node,bt.EVENT_UI_LEVEL_CHANGED,this.setIndent.bind(this)),this.setIndent())},o.prototype.setIndent=function(){if(!this.gridOptionsWrapper.isGroupHideOpenParents()){var r=this.params,a=r.node,u=!!r.colDef,c=this.gridOptionsWrapper.isTreeData(),y=!u||c||!0===r.colDef.showRowGroup?a.uiLevel:0;r.padding>=0&&Mi(function(){return console.warn("AG Grid: cellRendererParams.padding no longer works, it was deprecated in since v14.2 and removed in v26, configuring padding for groupCellRenderer should be done with Sass variables and themes. Please see the AG Grid documentation page for Themes, in particular the property $row-group-indent-size.")},"groupCellRenderer->doDeprecatedWay"),this.indentClass&&this.comp.addOrRemoveCssClass(this.indentClass,!1),this.indentClass="ag-row-group-indent-"+y,this.comp.addOrRemoveCssClass(this.indentClass,!0)}},o.prototype.addFullWidthRowDraggerIfNeeded=function(){var r=this;if(this.params.fullWidth&&this.params.rowDrag){var a=new zg(function(){return r.params.value},this.params.node);this.createManagedBean(a,this.context),this.eGui.insertAdjacentElement("afterbegin",a.getGui())}},o.prototype.isUserWantsSelected=function(){var r=this.params.checkbox;return"function"==typeof r?r(this.params):!0===r},o.prototype.addCheckboxIfNeeded=function(){var r=this,a=this.displayedGroupNode,u=this.isUserWantsSelected()&&!a.footer&&!a.rowPinned&&!a.detail;if(u){var c=new Uc;this.getContext().createBean(c),c.init({rowNode:a,column:this.params.column}),this.eCheckbox.appendChild(c.getGui()),this.addDestroyFunc(function(){return r.getContext().destroyBean(c)})}this.comp.setCheckboxVisible(u)},o.prototype.onKeyDown=function(r){uu(r,me.ENTER)&&!this.params.suppressEnterExpand&&(this.params.column&&this.params.column.isCellEditable(this.params.node)||this.onExpandOrContract())},o.prototype.onCellDblClicked=function(r){Ls(r)||Vt(this.eExpanded,r)||Vt(this.eContracted,r)||this.onExpandOrContract()},oh([F("expressionService")],o.prototype,"expressionService",void 0),oh([F("valueFormatterService")],o.prototype,"valueFormatterService",void 0),oh([F("columnModel")],o.prototype,"columnModel",void 0),oh([F("userComponentFactory")],o.prototype,"userComponentFactory",void 0),oh([F("gridOptions")],o.prototype,"gridOptions",void 0),o}(he),Br=function(){var d=function(o,r){return(d=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(a,u){a.__proto__=u}||function(a,u){for(var c in u)u.hasOwnProperty(c)&&(a[c]=u[c])})(o,r)};return function(o,r){function a(){this.constructor=o}d(o,r),o.prototype=null===r?Object.create(r):(a.prototype=r.prototype,new a)}}(),Ws=function(d,o,r,a){var f,u=arguments.length,c=u<3?o:null===a?a=Object.getOwnPropertyDescriptor(o,r):a;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)c=Reflect.decorate(d,o,r,a);else for(var y=d.length-1;y>=0;y--)(f=d[y])&&(c=(u<3?f(c):u>3?f(o,r,c):f(o,r))||c);return u>3&&c&&Object.defineProperty(o,r,c),c},ls=function(d){function o(){return d.call(this,o.TEMPLATE)||this}return Br(o,d),o.prototype.init=function(r){var a=this,u={setInnerRenderer:function(w,D){return a.setRenderDetails(w,D)},setChildCount:function(w){return a.eChildCount.innerHTML=w},addOrRemoveCssClass:function(w,D){return a.addOrRemoveCssClass(w,D)},setContractedDisplayed:function(w){return Oi(a.eContracted,w)},setExpandedDisplayed:function(w){return Oi(a.eExpanded,w)},setCheckboxVisible:function(w){return Ke(a.eCheckbox,"ag-invisible",!w)}},c=this.createManagedBean(new vl),f=!r.colDef,y=this.getGui();c.init(u,y,this.eCheckbox,this.eExpanded,this.eContracted,this.constructor,r),f&&Sr(y,"gridcell")},o.prototype.setRenderDetails=function(r,a){var u=this;if(r){var c=r.newAgStackInstance();if(!c)return;c.then(function(f){if(f){var y=function(){return u.context.destroyBean(f)};u.isAlive()?(u.eValue.appendChild(f.getGui()),u.addDestroyFunc(y)):y()}})}else this.eValue.innerText=a},o.prototype.destroy=function(){this.getContext().destroyBean(this.innerCellRenderer),d.prototype.destroy.call(this)},o.prototype.refresh=function(){return!1},o.TEMPLATE='<span class="ag-cell-wrapper">\n            <span class="ag-group-expanded" ref="eExpanded"></span>\n            <span class="ag-group-contracted" ref="eContracted"></span>\n            <span class="ag-group-checkbox ag-invisible" ref="eCheckbox"></span>\n            <span class="ag-group-value" ref="eValue"></span>\n            <span class="ag-group-child-count" ref="eChildCount"></span>\n        </span>',Ws([F("userComponentFactory")],o.prototype,"userComponentFactory",void 0),Ws([pe("eExpanded")],o.prototype,"eExpanded",void 0),Ws([pe("eContracted")],o.prototype,"eContracted",void 0),Ws([pe("eCheckbox")],o.prototype,"eCheckbox",void 0),Ws([pe("eValue")],o.prototype,"eValue",void 0),Ws([pe("eChildCount")],o.prototype,"eChildCount",void 0),o}(_t),LS=function(){var d=function(o,r){return(d=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(a,u){a.__proto__=u}||function(a,u){for(var c in u)u.hasOwnProperty(c)&&(a[c]=u[c])})(o,r)};return function(o,r){function a(){this.constructor=o}d(o,r),o.prototype=null===r?Object.create(r):(a.prototype=r.prototype,new a)}}(),$g=function(d,o,r,a){var f,u=arguments.length,c=u<3?o:null===a?a=Object.getOwnPropertyDescriptor(o,r):a;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)c=Reflect.decorate(d,o,r,a);else for(var y=d.length-1;y>=0;y--)(f=d[y])&&(c=(u<3?f(c):u>3?f(o,r,c):f(o,r))||c);return u>3&&c&&Object.defineProperty(o,r,c),c},Yg=function(d){function o(){return d.call(this,o.TEMPLATE)||this}return LS(o,d),o.prototype.init=function(r){r.node.failedLoad?this.setupFailed():this.setupLoading()},o.prototype.setupFailed=function(){this.eLoadingText.innerText="ERR"},o.prototype.setupLoading=function(){var r=An("groupLoading",this.gridOptionsWrapper,null);r&&this.eLoadingIcon.appendChild(r);var a=this.gridOptionsWrapper.getLocaleTextFunc();this.eLoadingText.innerText=a("loadingOoo","Loading")},o.prototype.refresh=function(r){return!1},o.TEMPLATE='<div class="ag-loading">\n            <span class="ag-loading-icon" ref="eLoadingIcon"></span>\n            <span class="ag-loading-text" ref="eLoadingText"></span>\n        </div>',$g([pe("eLoadingIcon")],o.prototype,"eLoadingIcon",void 0),$g([pe("eLoadingText")],o.prototype,"eLoadingText",void 0),o}(_t),sh=function(){var d=function(o,r){return(d=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(a,u){a.__proto__=u}||function(a,u){for(var c in u)u.hasOwnProperty(c)&&(a[c]=u[c])})(o,r)};return function(o,r){function a(){this.constructor=o}d(o,r),o.prototype=null===r?Object.create(r):(a.prototype=r.prototype,new a)}}(),tb=function(d){function o(){return d.call(this)||this}return sh(o,d),o.prototype.destroy=function(){d.prototype.destroy.call(this)},o.prototype.init=function(r){var a=this.gridOptionsWrapper.getOverlayLoadingTemplate()?this.gridOptionsWrapper.getOverlayLoadingTemplate():o.DEFAULT_LOADING_OVERLAY_TEMPLATE,u=this.gridOptionsWrapper.getLocaleTextFunc(),c=a.replace("[LOADING...]",u("loadingOoo","Loading..."));this.setTemplate(c)},o.DEFAULT_LOADING_OVERLAY_TEMPLATE='<span class="ag-overlay-loading-center">[LOADING...]</span>',o}(_t),VS=function(){var d=function(o,r){return(d=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(a,u){a.__proto__=u}||function(a,u){for(var c in u)u.hasOwnProperty(c)&&(a[c]=u[c])})(o,r)};return function(o,r){function a(){this.constructor=o}d(o,r),o.prototype=null===r?Object.create(r):(a.prototype=r.prototype,new a)}}(),kS=function(d){function o(){return d.call(this)||this}return VS(o,d),o.prototype.destroy=function(){d.prototype.destroy.call(this)},o.prototype.init=function(r){var a=this.gridOptionsWrapper.getOverlayNoRowsTemplate()?this.gridOptionsWrapper.getOverlayNoRowsTemplate():o.DEFAULT_NO_ROWS_TEMPLATE,u=this.gridOptionsWrapper.getLocaleTextFunc(),c=a.replace("[NO_ROWS_TO_SHOW]",u("noRowsToShow","No Rows To Show"));this.setTemplate(c)},o.DEFAULT_NO_ROWS_TEMPLATE='<span class="ag-overlay-no-rows-center">[NO_ROWS_TO_SHOW]</span>',o}(_t),yu=function(){var d=function(o,r){return(d=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(a,u){a.__proto__=u}||function(a,u){for(var c in u)u.hasOwnProperty(c)&&(a[c]=u[c])})(o,r)};return function(o,r){function a(){this.constructor=o}d(o,r),o.prototype=null===r?Object.create(r):(a.prototype=r.prototype,new a)}}(),Kc=function(d){function o(){return d.call(this,'<div class="ag-tooltip"></div>')||this}return yu(o,d),o.prototype.init=function(r){var a=r.value;this.getGui().innerHTML=No(a)},o}(jc),GS=function(){var d=function(o,r){return(d=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(a,u){a.__proto__=u}||function(a,u){for(var c in u)u.hasOwnProperty(c)&&(a[c]=u[c])})(o,r)};return function(o,r){function a(){this.constructor=o}d(o,r),o.prototype=null===r?Object.create(r):(a.prototype=r.prototype,new a)}}(),ib=function(d,o,r,a){var f,u=arguments.length,c=u<3?o:null===a?a=Object.getOwnPropertyDescriptor(o,r):a;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)c=Reflect.decorate(d,o,r,a);else for(var y=d.length-1;y>=0;y--)(f=d[y])&&(c=(u<3?f(c):u>3?f(o,r,c):f(o,r))||c);return u>3&&c&&Object.defineProperty(o,r,c),c},Kg=function(d){function o(){var r=null!==d&&d.apply(this,arguments)||this;return r.agGridDefaults={agDateInput:z_,agColumnHeader:fl,agColumnGroupHeader:PS,agTextColumnFloatingFilter:K_,agNumberColumnFloatingFilter:eh,agDateColumnFloatingFilter:U_,agReadOnlyFloatingFilter:N_,agAnimateShowChangeCellRenderer:rh,agAnimateSlideCellRenderer:J_,agGroupCellRenderer:ls,agGroupRowRenderer:ls,agLoadingCellRenderer:Yg,agCellEditor:ih,agTextCellEditor:ih,agSelectCellEditor:q_,agPopupTextCellEditor:fu,agPopupSelectCellEditor:Q_,agLargeTextCellEditor:Hr,agTextColumnFilter:Bg,agNumberColumnFilter:$_,agDateColumnFilter:kg,agLoadingOverlay:tb,agNoRowsOverlay:kS,agTooltipComponent:Kc},r.agDeprecatedNames={set:{newComponentName:"agSetColumnFilter",propertyHolder:"filter"},text:{newComponentName:"agTextColumnFilter",propertyHolder:"filter"},number:{newComponentName:"agNumberColumnFilter",propertyHolder:"filter"},date:{newComponentName:"agDateColumnFilter",propertyHolder:"filter"},group:{newComponentName:"agGroupCellRenderer",propertyHolder:"cellRenderer"},animateShowChange:{newComponentName:"agAnimateShowChangeCellRenderer",propertyHolder:"cellRenderer"},animateSlide:{newComponentName:"agAnimateSlideCellRenderer",propertyHolder:"cellRenderer"},select:{newComponentName:"agSelectCellEditor",propertyHolder:"cellEditor"},largeText:{newComponentName:"agLargeTextCellEditor",propertyHolder:"cellEditor"},popupSelect:{newComponentName:"agPopupSelectCellEditor",propertyHolder:"cellEditor"},popupText:{newComponentName:"agPopupTextCellEditor",propertyHolder:"cellEditor"},richSelect:{newComponentName:"agRichSelectCellEditor",propertyHolder:"cellEditor"},headerComponent:{newComponentName:"agColumnHeader",propertyHolder:"headerComponent"}},r.jsComponents={},r.frameworkComponents={},r}return GS(o,d),o.prototype.init=function(){var r=this;null!=this.gridOptions.components&&zt(this.gridOptions.components,function(a,u){return r.registerComponent(a,u)}),null!=this.gridOptions.frameworkComponents&&zt(this.gridOptions.frameworkComponents,function(a,u){return r.registerFwComponent(a,u)})},o.prototype.registerDefaultComponent=function(r,a){var u=this.translateIfDeprecated(r);this.agGridDefaults[u]?console.error("Trying to overwrite a default component. You should call registerComponent"):this.agGridDefaults[u]=a},o.prototype.registerComponent=function(r,a){var u=this.translateIfDeprecated(r);this.frameworkComponents[u]?console.error("Trying to register a component that you have already registered for frameworks: "+u):this.jsComponents[u]=a},o.prototype.registerFwComponent=function(r,a){var u=this.translateIfDeprecated(r);this.jsComponents[u]?console.error("Trying to register a component that you have already registered for plain javascript: "+u):this.frameworkComponents[u]=a},o.prototype.retrieve=function(r){var a=this.translateIfDeprecated(r),u=this.frameworkComponents[a]||this.getFrameworkOverrides().frameworkComponent(a);if(u)return{componentFromFramework:!0,component:u};var c=this.jsComponents[a];if(c)return{componentFromFramework:!1,component:c};var f=this.agGridDefaults[a];return f?{componentFromFramework:!1,component:f}:(Object.keys(this.agGridDefaults).indexOf(a)<0&&console.warn("AG Grid: Looking for component ["+a+"] but it wasn't found."),null)},o.prototype.translateIfDeprecated=function(r){var a=this.agDeprecatedNames[r];return null!=a?(Mi(function(){console.warn("ag-grid. Since v15.0 component names have been renamed to be namespaced. You should rename "+a.propertyHolder+":"+r+" to "+a.propertyHolder+":"+a.newComponentName)},"DEPRECATE_COMPONENT_"+r),a.newComponentName):r},ib([F("gridOptions")],o.prototype,"gridOptions",void 0),ib([ye],o.prototype,"init",null),ib([Te("userComponentRegistry")],o)}(he),HS={propertyName:"dateComponent",isCellRenderer:function(){return!1}},TA={propertyName:"headerComponent",isCellRenderer:function(){return!1}},BS={propertyName:"headerGroupComponent",isCellRenderer:function(){return!1}},nb={propertyName:"cellRenderer",isCellRenderer:function(){return!0}},jS={propertyName:"cellEditor",isCellRenderer:function(){return!1}},Xc={propertyName:"innerRenderer",isCellRenderer:function(){return!0}},Xg={propertyName:"loadingOverlayComponent",isCellRenderer:function(){return!1}},mu={propertyName:"noRowsOverlayComponent",isCellRenderer:function(){return!1}},WS={propertyName:"tooltipComponent",isCellRenderer:function(){return!1}},US={propertyName:"filter",isCellRenderer:function(){return!1}},AA={propertyName:"floatingFilterComponent",isCellRenderer:function(){return!1}},ah={propertyName:"toolPanel",isCellRenderer:function(){return!1}},qg={propertyName:"statusPanel",isCellRenderer:function(){return!1}},rb=function(){var d=function(o,r){return(d=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(a,u){a.__proto__=u}||function(a,u){for(var c in u)u.hasOwnProperty(c)&&(a[c]=u[c])})(o,r)};return function(o,r){function a(){this.constructor=o}d(o,r),o.prototype=null===r?Object.create(r):(a.prototype=r.prototype,new a)}}(),yl=function(d,o,r,a){var f,u=arguments.length,c=u<3?o:null===a?a=Object.getOwnPropertyDescriptor(o,r):a;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)c=Reflect.decorate(d,o,r,a);else for(var y=d.length-1;y>=0;y--)(f=d[y])&&(c=(u<3?f(c):u>3?f(o,r,c):f(o,r))||c);return u>3&&c&&Object.defineProperty(o,r,c),c},Zg=function(d){function o(){return null!==d&&d.apply(this,arguments)||this}return rb(o,d),o.prototype.getHeaderCompDetails=function(r,a){return this.getCompDetails(r,TA,"agColumnHeader",a)},o.prototype.getHeaderGroupCompDetails=function(r){var a=r.columnGroup.getColGroupDef();return this.getCompDetails(a,BS,"agColumnGroupHeader",r)},o.prototype.getFullWidthCellRendererDetails=function(r,a,u){return this.getCompDetails(this.gridOptions,{propertyName:a,isCellRenderer:function(){return!0}},u,r)},o.prototype.getInnerRendererDetails=function(r,a){return this.getCompDetails(r,Xc,null,a)},o.prototype.getFullWidthGroupRowInnerCellRenderer=function(r,a){return this.getCompDetails(r,Xc,null,a)},o.prototype.getCellRendererDetails=function(r,a){return this.getCompDetails(r,nb,null,a)},o.prototype.getCellEditorDetails=function(r,a){return this.getCompDetails(r,jS,"agCellEditor",a,!0)},o.prototype.getFilterDetails=function(r,a,u){return this.getCompDetails(r,US,u,a,!0)},o.prototype.getDateCompDetails=function(r){return this.getCompDetails(this.gridOptions,HS,"agDateInput",r,!0)},o.prototype.getLoadingOverlayCompDetails=function(r){return this.getCompDetails(this.gridOptions,Xg,"agLoadingOverlay",r,!0)},o.prototype.getNoRowsOverlayCompDetails=function(r){return this.getCompDetails(this.gridOptions,mu,"agNoRowsOverlay",r,!0)},o.prototype.getTooltipCompDetails=function(r){return this.getCompDetails(r.colDef,WS,"agTooltipComponent",r,!0)},o.prototype.getSetFilterCellRendererDetails=function(r,a){return this.getCompDetails(r,nb,null,a)},o.prototype.getFloatingFilterCompDetails=function(r,a,u){return this.getCompDetails(r,AA,u,a)},o.prototype.getToolPanelCompDetails=function(r,a){return this.getCompDetails(r,ah,null,a,!0)},o.prototype.getStatusPanelCompDetails=function(r,a){return this.getCompDetails(r,qg,null,a,!0)},o.prototype.getCompDetails=function(r,a,u,c,f){var y=this;void 0===f&&(f=!1);var D,O,I,w=a.propertyName;if(r){var V=r,B=V[w+"Selector"],z=B?B(c):null;z?(D=z.component,O=z.frameworkComponent,I=z.params):(D=V[w],O=V[w+"Framework"]),!0===D&&(D=void 0)}var ee=function(ze){var wt=y.userComponentRegistry.retrieve(ze);wt?(D=wt.componentFromFramework?void 0:wt.component,O=wt.componentFromFramework?wt.component:void 0):(D=void 0,O=void 0)};if("string"==typeof D&&ee(D),null==D&&null==O&&null!=u&&ee(u),D&&!this.agComponentUtils.doesImplementIComponent(D)&&(D=this.agComponentUtils.adaptFunction(w,D)),D||O){var de=this.mergeParamsWithApplicationProvidedParams(r,w,c,I),le=null==D,Ee=D||O;return{componentFromFramework:le,componentClass:Ee,params:de,type:a,newAgStackInstance:function(ze){return y.newAgStackInstance(Ee,le,de,a,ze)}}}f&&console.error("Could not find component "+((r?r[w]:u)||u)+", did you forget to configure this component?")},o.prototype.newAgStackInstance=function(r,a,u,c,f){var w;if(a){var O=this.componentMetadataProvider.retrieve(c.propertyName);w=this.frameworkComponentWrapper.wrap(r,O.mandatoryMethodList,O.optionalMethodList,c,f)}else w=new r;var I=this.initComponent(w,u);return null==I?Qn.resolve(w):I.then(function(){return w})},o.prototype.mergeParamsWithApplicationProvidedParams=function(r,a,u,c){void 0===c&&(c=null);var f={};Fo(f,u);var y=r?r[a+"Params"]:null;return null!=y&&("function"==typeof y?Fo(f,y(u)):"object"==typeof y&&Fo(f,y)),Fo(f,c),f},o.prototype.initComponent=function(r,a){if(this.context.createBean(r),null!=r.init)return r.init(a)},yl([F("gridOptions")],o.prototype,"gridOptions",void 0),yl([F("agComponentUtils")],o.prototype,"agComponentUtils",void 0),yl([F("componentMetadataProvider")],o.prototype,"componentMetadataProvider",void 0),yl([F("userComponentRegistry")],o.prototype,"userComponentRegistry",void 0),yl([et("frameworkComponentWrapper")],o.prototype,"frameworkComponentWrapper",void 0),yl([Te("userComponentFactory")],o)}(he),Na=function(){function d(){}return d.parse=function(o){if(!o)return null;if(!0===o)return{toolPanels:[d.DEFAULT_COLUMN_COMP,d.DEFAULT_FILTER_COMP],defaultToolPanel:"columns"};if("string"==typeof o)return d.parse([o]);if(Array.isArray(o)){var r=[];return o.forEach(function(u){var c=d.DEFAULT_BY_KEY[u];c?r.push(c):console.warn("ag-grid: the key "+u+" is not a valid key for specifying a tool panel, valid keys are: "+Object.keys(d.DEFAULT_BY_KEY).join(","))}),0===r.length?null:{toolPanels:r,defaultToolPanel:r[0].id}}return{toolPanels:d.parseComponents(o.toolPanels),defaultToolPanel:o.defaultToolPanel,hiddenByDefault:o.hiddenByDefault,position:o.position}},d.parseComponents=function(o){var r=[];return o&&o.forEach(function(a){var u=null;if("string"==typeof a){var c=d.DEFAULT_BY_KEY[a];if(!c)return void console.warn("ag-grid: the key "+a+" is not a valid key for specifying a tool panel, valid keys are: "+Object.keys(d.DEFAULT_BY_KEY).join(","));u=c}else u=a;r.push(u)}),r},d.DEFAULT_BY_KEY={columns:d.DEFAULT_COLUMN_COMP={id:"columns",labelDefault:"Columns",labelKey:"columns",iconKey:"columns",toolPanel:"agColumnsToolPanel"},filters:d.DEFAULT_FILTER_COMP={id:"filters",labelDefault:"Filters",labelKey:"filters",iconKey:"filter",toolPanel:"agFiltersToolPanel"}},d}(),ml=function(d,o,r,a){var f,u=arguments.length,c=u<3?o:null===a?a=Object.getOwnPropertyDescriptor(o,r):a;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)c=Reflect.decorate(d,o,r,a);else for(var y=d.length-1;y>=0;y--)(f=d[y])&&(c=(u<3?f(c):u>3?f(o,r,c):f(o,r))||c);return u>3&&c&&Object.defineProperty(o,r,c),c},ob=function(d,o){return function(r,a){o(r,a,d)}},Qg=function(){for(var d=0,o=0,r=arguments.length;o<r;o++)d+=arguments[o].length;var a=Array(d),u=0;for(o=0;o<r;o++)for(var c=arguments[o],f=0,y=c.length;f<y;f++,u++)a[u]=c[f];return a};function se(d){return!0===d||"true"===d}function ab(d){return"number"==typeof d?d:"string"==typeof d?parseInt(d,10):void 0}function lb(d,o){var r=parseInt(d,10);return wp(r)&&r>0?r:o}var Fe=function(){function d(){this.propertyEventService=new ma,this.domDataKey="__AG_"+Math.random().toString(),this.destroyed=!1}var o;return o=d,d.prototype.agWire=function(r,a){this.gridOptions.api=r,this.gridOptions.columnApi=a,this.checkForDeprecated(),this.checkForViolations()},d.prototype.destroy=function(){this.gridOptions.api=null,this.gridOptions.columnApi=null,this.destroyed=!0},d.prototype.init=function(){var r=this;!0!==this.gridOptions.suppressPropertyNamesCheck&&(this.checkGridOptionsProperties(),this.checkColumnDefProperties()),null!=this.gridOptions.sideBar&&(this.gridOptions.sideBar=Na.parse(this.gridOptions.sideBar));var a=this.useAsyncEvents();if(this.eventService.addGlobalListener(this.globalEventHandler.bind(this),a),this.isGroupSelectsChildren()&&this.isSuppressParentsInRowNodes()&&console.warn("AG Grid: 'groupSelectsChildren' does not work with 'suppressParentsInRowNodes', this selection method needs the part in rowNode to work"),this.isGroupSelectsChildren()&&(this.isRowSelectionMulti()||console.warn("AG Grid: rowSelection must be 'multiple' for groupSelectsChildren to make sense"),this.isRowModelServerSide()&&console.warn("AG Grid: group selects children is NOT support for Server Side Row Model. This is because the rows are lazy loaded, so selecting a group is not possible asthe grid has no way of knowing what the children are.")),this.isGroupRemoveSingleChildren()&&this.isGroupHideOpenParents()&&console.warn("AG Grid: groupRemoveSingleChildren and groupHideOpenParents do not work with each other, you need to pick one. And don't ask us how to us these together on our support forum either you will get the same answer!"),this.isRowModelServerSide()){var u=function(f){return"AG Grid: '"+f+"' is not supported on the Server-Side Row Model"};ce(this.gridOptions.groupDefaultExpanded)&&console.warn(u("groupDefaultExpanded")),ce(this.gridOptions.groupDefaultExpanded)&&console.warn(u("groupIncludeFooter")),ce(this.gridOptions.groupDefaultExpanded)&&console.warn(u("groupIncludeTotalFooter"))}this.isEnableRangeSelection()&&ot.assertRegistered(H.GXE.RangeSelectionModule,"enableRangeSelection"),!this.isEnableRangeSelection()&&(this.isEnableRangeHandle()||this.isEnableFillHandle())&&console.warn("AG Grid: 'enableRangeHandle' and 'enableFillHandle' will not work unless 'enableRangeSelection' is set to true");var c=function(f){r.gridOptions.icons&&r.gridOptions.icons[f]&&console.warn("gridOptions.icons."+f+" is no longer supported. For information on how to style checkboxes and radio buttons, see https://www.ag-grid.com/javascript-grid-icons/")};c("radioButtonOff"),c("radioButtonOn"),c("checkboxChecked"),c("checkboxUnchecked"),c("checkboxIndeterminate"),this.getScrollbarWidth()},d.prototype.checkColumnDefProperties=function(){var r=this;null!=this.gridOptions.columnDefs&&this.gridOptions.columnDefs.forEach(function(a){var u=Object.getOwnPropertyNames(a),c=Qg(ks.ALL_PROPERTIES,ks.FRAMEWORK_PROPERTIES);r.checkProperties(u,c,c,"colDef","https://www.ag-grid.com/javascript-grid-column-properties/")})},d.prototype.checkGridOptionsProperties=function(){var r=Object.getOwnPropertyNames(this.gridOptions),a=Qg(Jo.ALL_PROPERTIES,Jo.FRAMEWORK_PROPERTIES,$l(j).map(function(c){return tt.getCallbackForEvent(c)})),u=Qg(a,["api","columnApi"]);this.checkProperties(r,u,a,"gridOptions","https://www.ag-grid.com/javascript-grid-properties/")},d.prototype.checkProperties=function(r,a,u,c,f){var y=pl(r,a,u);zt(y,function(w,D){console.warn("ag-grid: invalid "+c+" property '"+w+"' did you mean any of these: "+D.slice(0,8).join(", "))}),Object.keys(y).length>0&&console.warn("ag-grid: to see all the valid "+c+" properties please check: "+f)},d.prototype.getDomDataKey=function(){return this.domDataKey},d.prototype.getDomData=function(r,a){var u=r[this.getDomDataKey()];return u?u[a]:void 0},d.prototype.setDomData=function(r,a,u){var c=this.getDomDataKey(),f=r[c];Ge(f)&&(r[c]=f={}),f[a]=u},d.prototype.isRowSelection=function(){return"single"===this.gridOptions.rowSelection||"multiple"===this.gridOptions.rowSelection},d.prototype.isSuppressRowDeselection=function(){return se(this.gridOptions.suppressRowDeselection)},d.prototype.isRowSelectionMulti=function(){return"multiple"===this.gridOptions.rowSelection},d.prototype.isRowMultiSelectWithClick=function(){return se(this.gridOptions.rowMultiSelectWithClick)},d.prototype.getContext=function(){return this.gridOptions.context},d.prototype.isPivotMode=function(){return se(this.gridOptions.pivotMode)},d.prototype.isSuppressExpandablePivotGroups=function(){return se(this.gridOptions.suppressExpandablePivotGroups)},d.prototype.getPivotColumnGroupTotals=function(){return this.gridOptions.pivotColumnGroupTotals},d.prototype.getPivotRowTotals=function(){return this.gridOptions.pivotRowTotals},d.prototype.isRowModelInfinite=function(){return this.gridOptions.rowModelType===q.ROW_MODEL_TYPE_INFINITE},d.prototype.isRowModelViewport=function(){return this.gridOptions.rowModelType===q.ROW_MODEL_TYPE_VIEWPORT},d.prototype.isRowModelServerSide=function(){return this.gridOptions.rowModelType===q.ROW_MODEL_TYPE_SERVER_SIDE},d.prototype.isRowModelDefault=function(){return Ge(this.gridOptions.rowModelType)||this.gridOptions.rowModelType===q.ROW_MODEL_TYPE_CLIENT_SIDE},d.prototype.isFullRowEdit=function(){return"fullRow"===this.gridOptions.editType},d.prototype.isSuppressFocusAfterRefresh=function(){return se(this.gridOptions.suppressFocusAfterRefresh)},d.prototype.isSuppressBrowserResizeObserver=function(){return se(this.gridOptions.suppressBrowserResizeObserver)},d.prototype.isSuppressMaintainUnsortedOrder=function(){return se(this.gridOptions.suppressMaintainUnsortedOrder)},d.prototype.isSuppressClearOnFillReduction=function(){return se(this.gridOptions.suppressClearOnFillReduction)},d.prototype.isShowToolPanel=function(){return se(this.gridOptions.sideBar&&Array.isArray(this.getSideBar().toolPanels))},d.prototype.getSideBar=function(){return this.gridOptions.sideBar},d.prototype.isSuppressTouch=function(){return se(this.gridOptions.suppressTouch)},d.prototype.isMaintainColumnOrder=function(){return se(this.gridOptions.maintainColumnOrder)},d.prototype.isSuppressRowTransform=function(){return se(this.gridOptions.suppressRowTransform)},d.prototype.isSuppressColumnStateEvents=function(){return se(this.gridOptions.suppressColumnStateEvents)},d.prototype.isAllowDragFromColumnsToolPanel=function(){return se(this.gridOptions.allowDragFromColumnsToolPanel)},d.prototype.useAsyncEvents=function(){return!se(this.gridOptions.suppressAsyncEvents)},d.prototype.isEnableCellChangeFlash=function(){return se(this.gridOptions.enableCellChangeFlash)},d.prototype.getCellFlashDelay=function(){return this.gridOptions.cellFlashDelay||500},d.prototype.getCellFadeDelay=function(){return this.gridOptions.cellFadeDelay||1e3},d.prototype.isGroupSelectsChildren=function(){var r=se(this.gridOptions.groupSelectsChildren);return r&&this.isTreeData()?(console.warn("AG Grid: groupSelectsChildren does not work with tree data"),!1):r},d.prototype.isSuppressRowHoverHighlight=function(){return se(this.gridOptions.suppressRowHoverHighlight)},d.prototype.isColumnHoverHighlight=function(){return se(this.gridOptions.columnHoverHighlight)},d.prototype.isGroupSelectsFiltered=function(){return se(this.gridOptions.groupSelectsFiltered)},d.prototype.isGroupHideOpenParents=function(){return se(this.gridOptions.groupHideOpenParents)},d.prototype.isGroupMaintainOrder=function(){return se(this.gridOptions.groupMaintainOrder)},d.prototype.getAutoGroupColumnDef=function(){return this.gridOptions.autoGroupColumnDef},d.prototype.isGroupMultiAutoColumn=function(){return this.gridOptions.groupDisplayType?this.matchesGroupDisplayType("multipleColumns",this.gridOptions.groupDisplayType):se(this.gridOptions.groupHideOpenParents)},d.prototype.isGroupUseEntireRow=function(r){return!r&&!!this.gridOptions.groupDisplayType&&this.matchesGroupDisplayType("groupRows",this.gridOptions.groupDisplayType)},d.prototype.isGroupSuppressAutoColumn=function(){return!(!this.gridOptions.groupDisplayType||!this.matchesGroupDisplayType("custom",this.gridOptions.groupDisplayType))||!!this.gridOptions.treeDataDisplayType&&this.matchesTreeDataDisplayType("custom",this.gridOptions.treeDataDisplayType)},d.prototype.isGroupRemoveSingleChildren=function(){return se(this.gridOptions.groupRemoveSingleChildren)},d.prototype.isGroupRemoveLowestSingleChildren=function(){return se(this.gridOptions.groupRemoveLowestSingleChildren)},d.prototype.isGroupIncludeFooter=function(){return se(this.gridOptions.groupIncludeFooter)},d.prototype.isGroupIncludeTotalFooter=function(){return se(this.gridOptions.groupIncludeTotalFooter)},d.prototype.isGroupSuppressBlankHeader=function(){return se(this.gridOptions.groupSuppressBlankHeader)},d.prototype.isSuppressRowClickSelection=function(){return se(this.gridOptions.suppressRowClickSelection)},d.prototype.isSuppressCellSelection=function(){return se(this.gridOptions.suppressCellSelection)},d.prototype.isSuppressMultiSort=function(){return se(this.gridOptions.suppressMultiSort)},d.prototype.isMultiSortKeyCtrl=function(){return"ctrl"===this.gridOptions.multiSortKey},d.prototype.isPivotSuppressAutoColumn=function(){return se(this.gridOptions.pivotSuppressAutoColumn)},d.prototype.isSuppressDragLeaveHidesColumns=function(){return se(this.gridOptions.suppressDragLeaveHidesColumns)},d.prototype.isSuppressScrollOnNewData=function(){return se(this.gridOptions.suppressScrollOnNewData)},d.prototype.isSuppressScrollWhenPopupsAreOpen=function(){return se(this.gridOptions.suppressScrollWhenPopupsAreOpen)},d.prototype.isRowDragEntireRow=function(){return se(this.gridOptions.rowDragEntireRow)},d.prototype.isSuppressRowDrag=function(){return se(this.gridOptions.suppressRowDrag)},d.prototype.isRowDragManaged=function(){return se(this.gridOptions.rowDragManaged)},d.prototype.isSuppressMoveWhenRowDragging=function(){return se(this.gridOptions.suppressMoveWhenRowDragging)},d.prototype.isRowDragMultiRow=function(){return se(this.gridOptions.rowDragMultiRow)},d.prototype.getDomLayout=function(){var r=this.gridOptions.domLayout||q.DOM_LAYOUT_NORMAL;return-1===[q.DOM_LAYOUT_PRINT,q.DOM_LAYOUT_AUTO_HEIGHT,q.DOM_LAYOUT_NORMAL].indexOf(r)?(Mi(function(){return console.warn("AG Grid: "+r+" is not valid for DOM Layout, valid values are "+q.DOM_LAYOUT_NORMAL+", "+q.DOM_LAYOUT_AUTO_HEIGHT+" and "+q.DOM_LAYOUT_PRINT)},"warn about dom layout values"),q.DOM_LAYOUT_NORMAL):r},d.prototype.isSuppressHorizontalScroll=function(){return se(this.gridOptions.suppressHorizontalScroll)},d.prototype.isSuppressMaxRenderedRowRestriction=function(){return se(this.gridOptions.suppressMaxRenderedRowRestriction)},d.prototype.isExcludeChildrenWhenTreeDataFiltering=function(){return se(this.gridOptions.excludeChildrenWhenTreeDataFiltering)},d.prototype.isAlwaysShowHorizontalScroll=function(){return se(this.gridOptions.alwaysShowHorizontalScroll)},d.prototype.isAlwaysShowVerticalScroll=function(){return se(this.gridOptions.alwaysShowVerticalScroll)},d.prototype.isDebounceVerticalScrollbar=function(){return se(this.gridOptions.debounceVerticalScrollbar)},d.prototype.isSuppressLoadingOverlay=function(){return se(this.gridOptions.suppressLoadingOverlay)},d.prototype.isSuppressNoRowsOverlay=function(){return se(this.gridOptions.suppressNoRowsOverlay)},d.prototype.isSuppressFieldDotNotation=function(){return se(this.gridOptions.suppressFieldDotNotation)},d.prototype.getPinnedTopRowData=function(){return this.gridOptions.pinnedTopRowData},d.prototype.getPinnedBottomRowData=function(){return this.gridOptions.pinnedBottomRowData},d.prototype.isFunctionsPassive=function(){return se(this.gridOptions.functionsPassive)},d.prototype.isSuppressChangeDetection=function(){return se(this.gridOptions.suppressChangeDetection)},d.prototype.isSuppressAnimationFrame=function(){return se(this.gridOptions.suppressAnimationFrame)},d.prototype.getQuickFilterText=function(){return this.gridOptions.quickFilterText},d.prototype.isCacheQuickFilter=function(){return se(this.gridOptions.cacheQuickFilter)},d.prototype.isUnSortIcon=function(){return se(this.gridOptions.unSortIcon)},d.prototype.isSuppressMenuHide=function(){return se(this.gridOptions.suppressMenuHide)},d.prototype.isEnterMovesDownAfterEdit=function(){return se(this.gridOptions.enterMovesDownAfterEdit)},d.prototype.isEnterMovesDown=function(){return se(this.gridOptions.enterMovesDown)},d.prototype.isUndoRedoCellEditing=function(){return se(this.gridOptions.undoRedoCellEditing)},d.prototype.getUndoRedoCellEditingLimit=function(){return ab(this.gridOptions.undoRedoCellEditingLimit)},d.prototype.getRowStyle=function(){return this.gridOptions.rowStyle},d.prototype.getRowClass=function(){return this.gridOptions.rowClass},d.prototype.getRowStyleFunc=function(){return this.gridOptions.getRowStyle},d.prototype.getRowClassFunc=function(){return this.gridOptions.getRowClass},d.prototype.rowClassRules=function(){return this.gridOptions.rowClassRules},d.prototype.getServerSideStoreType=function(){return this.gridOptions.serverSideStoreType},d.prototype.getServerSideStoreParamsFunc=function(){return this.gridOptions.getServerSideStoreParams},d.prototype.getCreateChartContainerFunc=function(){return this.gridOptions.createChartContainer},d.prototype.getPopupParent=function(){return this.gridOptions.popupParent},d.prototype.getBlockLoadDebounceMillis=function(){return this.gridOptions.blockLoadDebounceMillis},d.prototype.getPostProcessPopupFunc=function(){return this.gridOptions.postProcessPopup},d.prototype.getPaginationNumberFormatterFunc=function(){return this.gridOptions.paginationNumberFormatter},d.prototype.getChildCountFunc=function(){return this.gridOptions.getChildCount},d.prototype.getIsApplyServerSideTransactionFunc=function(){return this.gridOptions.isApplyServerSideTransaction},d.prototype.getDefaultGroupOrderComparator=function(){return this.gridOptions.defaultGroupOrderComparator},d.prototype.getIsFullWidthCellFunc=function(){return this.gridOptions.isFullWidthCell},d.prototype.getFullWidthCellRendererParams=function(){return this.gridOptions.fullWidthCellRendererParams},d.prototype.isEmbedFullWidthRows=function(){return se(this.gridOptions.embedFullWidthRows)||se(this.gridOptions.deprecatedEmbedFullWidthRows)},d.prototype.isDetailRowAutoHeight=function(){return se(this.gridOptions.detailRowAutoHeight)},d.prototype.getSuppressKeyboardEventFunc=function(){return this.gridOptions.suppressKeyboardEvent},d.prototype.getBusinessKeyForNodeFunc=function(){return this.gridOptions.getBusinessKeyForNode},d.prototype.getApi=function(){return this.gridOptions.api},d.prototype.getColumnApi=function(){return this.gridOptions.columnApi},d.prototype.isImmutableData=function(){return se(this.gridOptions.immutableData)},d.prototype.isEnsureDomOrder=function(){return se(this.gridOptions.ensureDomOrder)},d.prototype.isEnableCharts=function(){return!!se(this.gridOptions.enableCharts)&&ot.assertRegistered(H.GXE.GridChartsModule,"enableCharts")},d.prototype.getColResizeDefault=function(){return this.gridOptions.colResizeDefault},d.prototype.isSingleClickEdit=function(){return se(this.gridOptions.singleClickEdit)},d.prototype.isSuppressClickEdit=function(){return se(this.gridOptions.suppressClickEdit)},d.prototype.isStopEditingWhenCellsLoseFocus=function(){return se(this.gridOptions.stopEditingWhenCellsLoseFocus)},d.prototype.getGroupDefaultExpanded=function(){return this.gridOptions.groupDefaultExpanded},d.prototype.getMaxConcurrentDatasourceRequests=function(){return this.gridOptions.maxConcurrentDatasourceRequests},d.prototype.getMaxBlocksInCache=function(){return this.gridOptions.maxBlocksInCache},d.prototype.getCacheOverflowSize=function(){return this.gridOptions.cacheOverflowSize},d.prototype.getPaginationPageSize=function(){return ab(this.gridOptions.paginationPageSize)},d.prototype.isPaginateChildRows=function(){return!(!this.isGroupRemoveSingleChildren()&&!this.isGroupRemoveLowestSingleChildren())||se(this.gridOptions.paginateChildRows)},d.prototype.getCacheBlockSize=function(){return lb(this.gridOptions.cacheBlockSize)},d.prototype.getInfiniteInitialRowCount=function(){return this.gridOptions.infiniteInitialRowCount},d.prototype.isPurgeClosedRowNodes=function(){return se(this.gridOptions.purgeClosedRowNodes)},d.prototype.isSuppressPaginationPanel=function(){return se(this.gridOptions.suppressPaginationPanel)},d.prototype.getRowData=function(){return this.gridOptions.rowData},d.prototype.isEnableRtl=function(){return se(this.gridOptions.enableRtl)},d.prototype.getRowGroupPanelShow=function(){return this.gridOptions.rowGroupPanelShow},d.prototype.getPivotPanelShow=function(){return this.gridOptions.pivotPanelShow},d.prototype.isAngularCompileRows=function(){return se(this.gridOptions.angularCompileRows)},d.prototype.isAngularCompileFilters=function(){return se(this.gridOptions.angularCompileFilters)},d.prototype.isDebug=function(){return se(this.gridOptions.debug)},d.prototype.getColumnDefs=function(){return this.gridOptions.columnDefs},d.prototype.getColumnTypes=function(){return this.gridOptions.columnTypes},d.prototype.getDatasource=function(){return this.gridOptions.datasource},d.prototype.getViewportDatasource=function(){return this.gridOptions.viewportDatasource},d.prototype.getServerSideDatasource=function(){return this.gridOptions.serverSideDatasource},d.prototype.isAccentedSort=function(){return se(this.gridOptions.accentedSort)},d.prototype.isEnableBrowserTooltips=function(){return se(this.gridOptions.enableBrowserTooltips)},d.prototype.isEnableCellExpressions=function(){return se(this.gridOptions.enableCellExpressions)},d.prototype.isEnableGroupEdit=function(){return se(this.gridOptions.enableGroupEdit)},d.prototype.isSuppressMiddleClickScrolls=function(){return se(this.gridOptions.suppressMiddleClickScrolls)},d.prototype.isPreventDefaultOnContextMenu=function(){return se(this.gridOptions.preventDefaultOnContextMenu)},d.prototype.isSuppressPreventDefaultOnMouseWheel=function(){return se(this.gridOptions.suppressPreventDefaultOnMouseWheel)},d.prototype.isSuppressColumnVirtualisation=function(){return se(this.gridOptions.suppressColumnVirtualisation)},d.prototype.isSuppressContextMenu=function(){return se(this.gridOptions.suppressContextMenu)},d.prototype.isAllowContextMenuWithControlKey=function(){return se(this.gridOptions.allowContextMenuWithControlKey)},d.prototype.isSuppressCopyRowsToClipboard=function(){return se(this.gridOptions.suppressCopyRowsToClipboard)},d.prototype.isCopyHeadersToClipboard=function(){return se(this.gridOptions.copyHeadersToClipboard)},d.prototype.isSuppressClipboardPaste=function(){return se(this.gridOptions.suppressClipboardPaste)},d.prototype.isSuppressLastEmptyLineOnPaste=function(){return se(this.gridOptions.suppressLastEmptyLineOnPaste)},d.prototype.isPagination=function(){return se(this.gridOptions.pagination)},d.prototype.isSuppressEnterpriseResetOnNewColumns=function(){return se(this.gridOptions.suppressEnterpriseResetOnNewColumns)},d.prototype.getProcessDataFromClipboardFunc=function(){return this.gridOptions.processDataFromClipboard},d.prototype.getAsyncTransactionWaitMillis=function(){return ce(this.gridOptions.asyncTransactionWaitMillis)?this.gridOptions.asyncTransactionWaitMillis:q.BATCH_WAIT_MILLIS},d.prototype.isSuppressMovableColumns=function(){return se(this.gridOptions.suppressMovableColumns)},d.prototype.isAnimateRows=function(){return!this.isEnsureDomOrder()&&se(this.gridOptions.animateRows)},d.prototype.isSuppressColumnMoveAnimation=function(){return se(this.gridOptions.suppressColumnMoveAnimation)},d.prototype.isSuppressAggFuncInHeader=function(){return se(this.gridOptions.suppressAggFuncInHeader)},d.prototype.isSuppressAggAtRootLevel=function(){return se(this.gridOptions.suppressAggAtRootLevel)},d.prototype.isSuppressAggFilteredOnly=function(){return se(this.gridOptions.suppressAggFilteredOnly)},d.prototype.isShowOpenedGroup=function(){return se(this.gridOptions.showOpenedGroup)},d.prototype.isReactUi=function(){return se(this.gridOptions.reactUi)},d.prototype.isEnableRangeSelection=function(){return ot.isRegistered(H.GXE.RangeSelectionModule)&&se(this.gridOptions.enableRangeSelection)},d.prototype.isEnableRangeHandle=function(){return se(this.gridOptions.enableRangeHandle)},d.prototype.isEnableFillHandle=function(){return se(this.gridOptions.enableFillHandle)},d.prototype.getFillHandleDirection=function(){var r=this.gridOptions.fillHandleDirection;return r?"x"!==r&&"y"!==r&&"xy"!==r?(Mi(function(){return console.warn("AG Grid: valid values for fillHandleDirection are 'x', 'y' and 'xy'. Default to 'xy'.")},"warn invalid fill direction"),"xy"):r:"xy"},d.prototype.getFillOperation=function(){return this.gridOptions.fillOperation},d.prototype.isSuppressMultiRangeSelection=function(){return se(this.gridOptions.suppressMultiRangeSelection)},d.prototype.isPaginationAutoPageSize=function(){return se(this.gridOptions.paginationAutoPageSize)},d.prototype.isRememberGroupStateWhenNewData=function(){return se(this.gridOptions.rememberGroupStateWhenNewData)},d.prototype.getIcons=function(){return this.gridOptions.icons},d.prototype.getAggFuncs=function(){return this.gridOptions.aggFuncs},d.prototype.getSortingOrder=function(){return this.gridOptions.sortingOrder},d.prototype.getAlignedGrids=function(){return this.gridOptions.alignedGrids},d.prototype.isMasterDetail=function(){return!!se(this.gridOptions.masterDetail)&&ot.assertRegistered(H.GXE.MasterDetailModule,"masterDetail")},d.prototype.isKeepDetailRows=function(){return se(this.gridOptions.keepDetailRows)},d.prototype.getKeepDetailRowsCount=function(){var r=this.gridOptions.keepDetailRowsCount;return ce(r)&&r>0?this.gridOptions.keepDetailRowsCount:10},d.prototype.getIsRowMasterFunc=function(){return this.gridOptions.isRowMaster},d.prototype.getIsRowSelectableFunc=function(){return this.gridOptions.isRowSelectable},d.prototype.getGroupRowRendererParams=function(){return this.gridOptions.groupRowRendererParams},d.prototype.getOverlayLoadingTemplate=function(){return this.gridOptions.overlayLoadingTemplate},d.prototype.getOverlayNoRowsTemplate=function(){return this.gridOptions.overlayNoRowsTemplate},d.prototype.isSuppressAutoSize=function(){return se(this.gridOptions.suppressAutoSize)},d.prototype.isEnableCellTextSelection=function(){return se(this.gridOptions.enableCellTextSelection)},d.prototype.isSuppressParentsInRowNodes=function(){return se(this.gridOptions.suppressParentsInRowNodes)},d.prototype.isSuppressClipboardApi=function(){return se(this.gridOptions.suppressClipboardApi)},d.prototype.isFunctionsReadOnly=function(){return se(this.gridOptions.functionsReadOnly)},d.prototype.isFloatingFilter=function(){return this.gridOptions.floatingFilter},d.prototype.isEnableCellTextSelect=function(){return se(this.gridOptions.enableCellTextSelection)},d.prototype.isEnableOldSetFilterModel=function(){return se(this.gridOptions.enableOldSetFilterModel)},d.prototype.getDefaultColDef=function(){return this.gridOptions.defaultColDef},d.prototype.getDefaultColGroupDef=function(){return this.gridOptions.defaultColGroupDef},d.prototype.getDefaultExportParams=function(r){return this.gridOptions.defaultExportParams?(console.warn("AG Grid: Since v25.2 `defaultExportParams`  has been replaced by `default"+h_(r)+"ExportParams`'"),this.gridOptions.defaultExportParams):"csv"===r&&this.gridOptions.defaultCsvExportParams?this.gridOptions.defaultCsvExportParams:"excel"===r&&this.gridOptions.defaultExcelExportParams?this.gridOptions.defaultExcelExportParams:void 0},d.prototype.isSuppressCsvExport=function(){return se(this.gridOptions.suppressCsvExport)},d.prototype.isAllowShowChangeAfterFilter=function(){return se(this.gridOptions.allowShowChangeAfterFilter)},d.prototype.isSuppressExcelExport=function(){return se(this.gridOptions.suppressExcelExport)},d.prototype.isSuppressMakeColumnVisibleAfterUnGroup=function(){return se(this.gridOptions.suppressMakeColumnVisibleAfterUnGroup)},d.prototype.getDataPathFunc=function(){return this.gridOptions.getDataPath},d.prototype.getIsServerSideGroupFunc=function(){return this.gridOptions.isServerSideGroup},d.prototype.getIsServerSideGroupOpenByDefaultFunc=function(){return this.gridOptions.isServerSideGroupOpenByDefault},d.prototype.getIsGroupOpenByDefaultFunc=function(){return this.gridOptions.isGroupOpenByDefault},d.prototype.getServerSideGroupKeyFunc=function(){return this.gridOptions.getServerSideGroupKey},d.prototype.getGroupRowAggNodesFunc=function(){return this.gridOptions.groupRowAggNodes},d.prototype.getContextMenuItemsFunc=function(){return this.gridOptions.getContextMenuItems},d.prototype.getMainMenuItemsFunc=function(){return this.gridOptions.getMainMenuItems},d.prototype.getRowNodeIdFunc=function(){return this.gridOptions.getRowNodeId},d.prototype.getNavigateToNextHeaderFunc=function(){return this.gridOptions.navigateToNextHeader},d.prototype.getTabToNextHeaderFunc=function(){return this.gridOptions.tabToNextHeader},d.prototype.getNavigateToNextCellFunc=function(){return this.gridOptions.navigateToNextCell},d.prototype.getTabToNextCellFunc=function(){return this.gridOptions.tabToNextCell},d.prototype.getGridTabIndex=function(){return(this.gridOptions.tabIndex||0).toString()},d.prototype.isTreeData=function(){return!!se(this.gridOptions.treeData)&&ot.assertRegistered(H.GXE.RowGroupingModule,"Tree Data")},d.prototype.isValueCache=function(){return se(this.gridOptions.valueCache)},d.prototype.isValueCacheNeverExpires=function(){return se(this.gridOptions.valueCacheNeverExpires)},d.prototype.isDeltaSort=function(){return se(this.gridOptions.deltaSort)},d.prototype.isAggregateOnlyChangedColumns=function(){return se(this.gridOptions.aggregateOnlyChangedColumns)},d.prototype.getProcessSecondaryColDefFunc=function(){return this.gridOptions.processSecondaryColDef},d.prototype.getProcessSecondaryColGroupDefFunc=function(){return this.gridOptions.processSecondaryColGroupDef},d.prototype.getSendToClipboardFunc=function(){return this.gridOptions.sendToClipboard},d.prototype.getProcessRowPostCreateFunc=function(){return this.gridOptions.processRowPostCreate},d.prototype.getProcessCellForClipboardFunc=function(){return this.gridOptions.processCellForClipboard},d.prototype.getProcessHeaderForClipboardFunc=function(){return this.gridOptions.processHeaderForClipboard},d.prototype.getProcessCellFromClipboardFunc=function(){return this.gridOptions.processCellFromClipboard},d.prototype.getViewportRowModelPageSize=function(){return lb(this.gridOptions.viewportRowModelPageSize,5)},d.prototype.getViewportRowModelBufferSize=function(){return function(d,o){return d>=0?d:5}(this.gridOptions.viewportRowModelBufferSize)},d.prototype.isServerSideSortingAlwaysResets=function(){return se(this.gridOptions.serverSideSortingAlwaysResets)},d.prototype.isServerSideFilteringAlwaysResets=function(){return se(this.gridOptions.serverSideFilteringAlwaysResets)},d.prototype.getPostSortFunc=function(){return this.gridOptions.postSort},d.prototype.getChartToolbarItemsFunc=function(){return this.gridOptions.getChartToolbarItems},d.prototype.getChartThemeOverrides=function(){return this.gridOptions.chartThemeOverrides},d.prototype.getCustomChartThemes=function(){return this.gridOptions.customChartThemes},d.prototype.getChartThemes=function(){return this.gridOptions.chartThemes||["ag-default","ag-material","ag-pastel","ag-vivid","ag-solar"]},d.prototype.getClipboardDeliminator=function(){return ce(this.gridOptions.clipboardDeliminator)?this.gridOptions.clipboardDeliminator:"\t"},d.prototype.setProperty=function(r,a,u){void 0===u&&(u=!1);var c=this.gridOptions,f=c[r];(u||f!==a)&&(c[r]=a,this.propertyEventService.dispatchEvent({type:r,currentValue:a,previousValue:f}))},d.prototype.addEventListener=function(r,a){this.propertyEventService.addEventListener(r,a)},d.prototype.removeEventListener=function(r,a){this.propertyEventService.removeEventListener(r,a)},d.prototype.isSkipHeaderOnAutoSize=function(){return!!this.gridOptions.skipHeaderOnAutoSize},d.prototype.getAutoSizePadding=function(){var r=this.gridOptions.autoSizePadding;return null!=r&&r>=0?r:20},d.prototype.getHeaderHeight=function(){return"number"==typeof this.gridOptions.headerHeight?this.gridOptions.headerHeight:this.getFromTheme(25,"headerHeight")},d.prototype.getFloatingFiltersHeight=function(){return"number"==typeof this.gridOptions.floatingFiltersHeight?this.gridOptions.floatingFiltersHeight:this.getFromTheme(25,"headerHeight")},d.prototype.getGroupHeaderHeight=function(){return"number"==typeof this.gridOptions.groupHeaderHeight?this.gridOptions.groupHeaderHeight:this.getHeaderHeight()},d.prototype.getPivotHeaderHeight=function(){return"number"==typeof this.gridOptions.pivotHeaderHeight?this.gridOptions.pivotHeaderHeight:this.getHeaderHeight()},d.prototype.getPivotGroupHeaderHeight=function(){return"number"==typeof this.gridOptions.pivotGroupHeaderHeight?this.gridOptions.pivotGroupHeaderHeight:this.getGroupHeaderHeight()},d.prototype.isExternalFilterPresent=function(){return"function"==typeof this.gridOptions.isExternalFilterPresent&&this.gridOptions.isExternalFilterPresent()},d.prototype.doesExternalFilterPass=function(r){return"function"==typeof this.gridOptions.doesExternalFilterPass&&this.gridOptions.doesExternalFilterPass(r)},d.prototype.getTooltipShowDelay=function(){var r=this.gridOptions.tooltipShowDelay;return ce(r)?(r<0&&console.warn("ag-grid: tooltipShowDelay should not be lower than 0"),Math.max(200,r)):null},d.prototype.isTooltipMouseTrack=function(){return se(this.gridOptions.tooltipMouseTrack)},d.prototype.isSuppressModelUpdateAfterUpdateTransaction=function(){return se(this.gridOptions.suppressModelUpdateAfterUpdateTransaction)},d.prototype.getDocument=function(){var r=null;return this.gridOptions.getDocument&&ce(this.gridOptions.getDocument)&&(r=this.gridOptions.getDocument()),r&&ce(r)?r:document},d.prototype.getMinColWidth=function(){var r=this.gridOptions.minColWidth;if(ce(r)&&r>o.MIN_COL_WIDTH)return this.gridOptions.minColWidth;var a=this.getFromTheme(null,"headerCellMinWidth");return ce(a)?Math.max(a,o.MIN_COL_WIDTH):o.MIN_COL_WIDTH},d.prototype.getMaxColWidth=function(){return this.gridOptions.maxColWidth&&this.gridOptions.maxColWidth>o.MIN_COL_WIDTH?this.gridOptions.maxColWidth:null},d.prototype.getColWidth=function(){return"number"!=typeof this.gridOptions.colWidth||this.gridOptions.colWidth<o.MIN_COL_WIDTH?200:this.gridOptions.colWidth},d.prototype.getRowBuffer=function(){var r=this.gridOptions.rowBuffer;return"number"==typeof r?r<0&&(Mi(function(){return console.warn("AG Grid: rowBuffer should not be negative")},"warn rowBuffer negative"),this.gridOptions.rowBuffer=r=0):r=q.ROW_BUFFER_SIZE,r},d.prototype.getRowBufferInPixels=function(){return this.getRowBuffer()*this.getRowHeightAsNumber()},d.prototype.getScrollbarWidth=function(){if(null==this.scrollbarWidth){var a="number"==typeof this.gridOptions.scrollbarWidth&&this.gridOptions.scrollbarWidth>=0?this.gridOptions.scrollbarWidth:Ra();null!=a&&(this.scrollbarWidth=a,this.eventService.dispatchEvent({type:j.EVENT_SCROLLBAR_WIDTH_CHANGED}))}return this.scrollbarWidth},d.prototype.checkForDeprecated=function(){var r=this.gridOptions;r.deprecatedEmbedFullWidthRows&&console.warn("AG Grid: since v21.2, deprecatedEmbedFullWidthRows has been replaced with embedFullWidthRows."),r.enableOldSetFilterModel&&console.warn("AG Grid: since v22.x, enableOldSetFilterModel is deprecated. Please move to the new Set Filter Model as the old one may not be supported in v23 onwards."),r.floatingFilter&&(console.warn("AG Grid: since v23.1, floatingFilter on the gridOptions is deprecated. Please use floatingFilter on the colDef instead."),r.defaultColDef||(r.defaultColDef={}),null==r.defaultColDef.floatingFilter&&(r.defaultColDef.floatingFilter=!0)),r.rowDeselection&&console.warn("AG Grid: since v24.x, rowDeselection is deprecated and the behaviour is true by default. Please use `suppressRowDeselection` to prevent rows from being deselected."),r.enableMultiRowDragging&&(r.rowDragMultiRow=!0,delete r.enableMultiRowDragging,console.warn("AG Grid: since v26.1, `enableMultiRowDragging` is deprecated. Please use `rowDragMultiRow`."));var a=function(f,y,w){null!=r[f]&&(console.warn("ag-grid: since version "+w+", '"+f+"' is deprecated / renamed, please use the new property name '"+y+"' instead."),null==r[y]&&(r[y]=r[f]))};if(a("batchUpdateWaitMillis","asyncTransactionWaitMillis","23.1.x"),a("deltaRowDataMode","immutableData","23.1.x"),(r.immutableColumns||r.deltaColumnMode)&&console.warn("AG Grid: since v24.0, immutableColumns and deltaColumnMode properties are gone. The grid now works like this as default. To keep column order maintained, set grid property applyColumnDefOrder=true"),a("suppressSetColumnStateEvents","suppressColumnStateEvents","24.0.x"),r.groupRowInnerRenderer||r.groupRowInnerRendererParams||r.groupRowInnerRendererFramework){console.warn("AG Grid: since v24.0, grid properties groupRowInnerRenderer, groupRowInnerRendererFramework and groupRowInnerRendererParams are no longer used."),console.warn("  Instead use the grid properties groupRowRendererParams.innerRenderer, groupRowRendererParams.innerRendererFramework and groupRowRendererParams.innerRendererParams."),console.warn("  For example instead of this:"),console.warn('    groupRowInnerRenderer: "myRenderer"'),console.warn("    groupRowInnerRendererParams: {x: a}"),console.warn("  Replace with this:"),console.warn("    groupRowRendererParams: {"),console.warn('      innerRenderer: "myRenderer",'),console.warn("      innerRendererParams: {x: a}"),console.warn("    }"),console.warn("  We have copied the properties over for you. However to stop this error message, please change your application code."),r.groupRowRendererParams||(r.groupRowRendererParams={});var u=r.groupRowRendererParams;r.groupRowInnerRenderer&&(u.innerRenderer=r.groupRowInnerRenderer),r.groupRowInnerRendererParams&&(u.innerRendererParams=r.groupRowInnerRendererParams),r.groupRowInnerRendererFramework&&(u.innerRendererFramework=r.groupRowInnerRendererFramework)}r.rememberGroupStateWhenNewData&&console.warn("AG Grid: since v24.0, grid property rememberGroupStateWhenNewData is deprecated. This feature was provided before Transaction Updates worked (which keep group state). Now that transaction updates are possible and they keep group state, this feature is no longer needed."),r.detailCellRendererParams&&r.detailCellRendererParams.autoHeight&&(console.warn("AG Grid: since v24.1, grid property detailCellRendererParams.autoHeight is replaced with grid property detailRowAutoHeight. This allows this feature to work when you provide a custom DetailCellRenderer"),r.detailRowAutoHeight=!0),r.suppressKeyboardEvent&&console.warn("AG Grid: since v24.1 suppressKeyboardEvent in the gridOptions has been deprecated and will be removed in\n                 future versions of AG Grid. If you need this to be set for every column use the defaultColDef property."),r.suppressEnterpriseResetOnNewColumns&&console.warn("AG Grid: since v25, grid property suppressEnterpriseResetOnNewColumns is deprecated. This was a temporary property to allow changing columns in Server Side Row Model without triggering a reload. Now that it is possible to dynamically change columns in the grid, this is no longer needed."),r.suppressColumnStateEvents&&console.warn('AG Grid: since v25, grid property suppressColumnStateEvents no longer works due to a refactor that we did. It should be possible to achieve similar using event.source, which would be "api" if the event was due to setting column state via the API'),r.defaultExportParams&&console.warn("AG Grid: since v25.2, the grid property `defaultExportParams` has been replaced by `defaultCsvExportParams` and `defaultExcelExportParams`."),r.stopEditingWhenGridLosesFocus&&(console.warn("AG Grid: since v25.2.2, the grid property `stopEditingWhenGridLosesFocus` has been replaced by `stopEditingWhenCellsLoseFocus`."),r.stopEditingWhenCellsLoseFocus=!0),r.applyColumnDefOrder&&console.warn("AG Grid: since v26.0, the grid property `applyColumnDefOrder` is no longer needed, as this is the default behaviour. To turn this behaviour off, set maintainColumnOrder=true"),r.groupMultiAutoColumn&&(console.warn("AG Grid: since v26.0, the grid property `groupMultiAutoColumn` has been replaced by `groupDisplayType = 'multipleColumns'`"),r.groupDisplayType="multipleColumns"),r.groupUseEntireRow&&(console.warn("AG Grid: since v26.0, the grid property `groupUseEntireRow` has been replaced by `groupDisplayType = 'groupRows'`"),r.groupDisplayType="groupRows"),r.groupSuppressAutoColumn&&(console.warn("AG Grid: since v26.0, the grid property `groupSuppressAutoColumn` has been replaced by `"+(r.treeData?"treeDataDisplayType":"groupDisplayType")+" = 'custom'`"),r.groupDisplayType="custom"),r.defaultGroupSortComparator&&(console.warn("AG Grid: since v26.0, the grid property `defaultGroupSortComparator` has been replaced by `defaultGroupOrderComparator`"),r.defaultGroupOrderComparator=r.defaultGroupSortComparator),r.colWidth&&console.warn("AG Grid: since v26.1, the grid property `colWidth` is deprecated and should be set via `defaultColDef.width`."),r.minColWidth&&console.warn("AG Grid: since v26.1, the grid property `minColWidth` is deprecated and should be set via `defaultColDef.minWidth`."),r.maxColWidth&&console.warn("AG Grid: since v26.1, the grid property `maxColWidth` is deprecated and should be set via `defaultColDef.maxWidth`.")},d.prototype.checkForViolations=function(){this.isTreeData()&&this.treeDataViolations()},d.prototype.treeDataViolations=function(){this.isRowModelDefault()&&Ge(this.getDataPathFunc())&&console.warn("AG Grid: property usingTreeData=true with rowModel=clientSide, but you did not provide getDataPath function, please provide getDataPath function if using tree data."),this.isRowModelServerSide()&&(Ge(this.getIsServerSideGroupFunc())&&console.warn("AG Grid: property usingTreeData=true with rowModel=serverSide, but you did not provide isServerSideGroup function, please provide isServerSideGroup function if using tree data."),Ge(this.getServerSideGroupKeyFunc())&&console.warn("AG Grid: property usingTreeData=true with rowModel=serverSide, but you did not provide getServerSideGroupKey function, please provide getServerSideGroupKey function if using tree data."))},d.prototype.getLocaleTextFunc=function(){if(this.gridOptions.localeTextFunc)return this.gridOptions.localeTextFunc;var r=this.gridOptions.localeText;return function(a,u){return r&&r[a]?r[a]:u}},d.prototype.globalEventHandler=function(r,a){if(!this.destroyed){var u=tt.getCallbackForEvent(r);"function"==typeof this.gridOptions[u]&&this.gridOptions[u](a)}},d.prototype.getRowHeightAsNumber=function(){return!this.gridOptions.rowHeight||Ge(this.gridOptions.rowHeight)?this.getDefaultRowHeight():this.gridOptions.rowHeight&&this.isNumeric(this.gridOptions.rowHeight)?this.gridOptions.rowHeight:(console.warn("AG Grid row height must be a number if not using standard row model"),this.getDefaultRowHeight())},d.prototype.getRowHeightForNode=function(r,a,u){if(void 0===a&&(a=!1),null==u&&(u=this.getDefaultRowHeight()),"function"==typeof this.gridOptions.getRowHeight){if(a)return{height:u,estimated:!0};var f=this.gridOptions.getRowHeight({node:r,data:r.data,api:this.gridOptions.api,context:this.gridOptions.context});if(this.isNumeric(f))return 0===f&&Mi(function(){return console.warn("AG Grid: The return of `getRowHeight` cannot be zero. If the intention is to hide rows, use a filter instead.")},"invalidRowHeight"),{height:Math.max(1,f),estimated:!1}}return r.detail&&this.isMasterDetail()?this.isNumeric(this.gridOptions.detailRowHeight)?{height:this.gridOptions.detailRowHeight,estimated:!1}:{height:300,estimated:!1}:{height:this.gridOptions.rowHeight&&this.isNumeric(this.gridOptions.rowHeight)?this.gridOptions.rowHeight:u,estimated:!1}},d.prototype.isDynamicRowHeight=function(){return"function"==typeof this.gridOptions.getRowHeight},d.prototype.getListItemHeight=function(){return this.getFromTheme(20,"listItemHeight")},d.prototype.chartMenuPanelWidth=function(){return this.environment.chartMenuPanelWidth()},d.prototype.isNumeric=function(r){return!isNaN(r)&&"number"==typeof r&&isFinite(r)},d.prototype.getFromTheme=function(r,a){var u=this.environment.getTheme().theme;return u&&0===u.indexOf("ag-theme")?this.environment.getSassVariable(u,a):r},d.prototype.getDefaultRowHeight=function(){return this.getFromTheme(25,"rowHeight")},d.prototype.matchesGroupDisplayType=function(r,a){var u=["groupRows","multipleColumns","custom","singleColumn"];return u.indexOf(a)<0?(console.warn("AG Grid: '"+a+"' is not a valid groupDisplayType value - possible values are: '"+u.join("', '")+"'"),!1):a===r},d.prototype.matchesTreeDataDisplayType=function(r,a){var u=["auto","custom"];return u.indexOf(a)<0?(console.warn("AG Grid: '"+a+"' is not a valid treeDataDisplayType value - possible values are: '"+u.join("', '")+"'"),!1):a===r},d.MIN_COL_WIDTH=10,d.PROP_HEADER_HEIGHT="headerHeight",d.PROP_GROUP_REMOVE_SINGLE_CHILDREN="groupRemoveSingleChildren",d.PROP_GROUP_REMOVE_LOWEST_SINGLE_CHILDREN="groupRemoveLowestSingleChildren",d.PROP_PIVOT_HEADER_HEIGHT="pivotHeaderHeight",d.PROP_SUPPRESS_CLIPBOARD_PASTE="suppressClipboardPaste",d.PROP_GROUP_HEADER_HEIGHT="groupHeaderHeight",d.PROP_PIVOT_GROUP_HEADER_HEIGHT="pivotGroupHeaderHeight",d.PROP_NAVIGATE_TO_NEXT_CELL="navigateToNextCell",d.PROP_TAB_TO_NEXT_CELL="tabToNextCell",d.PROP_NAVIGATE_TO_NEXT_HEADER="navigateToNextHeader",d.PROP_TAB_TO_NEXT_HEADER="tabToNextHeader",d.PROP_IS_EXTERNAL_FILTER_PRESENT="isExternalFilterPresent",d.PROP_DOES_EXTERNAL_FILTER_PASS="doesExternalFilterPass",d.PROP_FLOATING_FILTERS_HEIGHT="floatingFiltersHeight",d.PROP_SUPPRESS_ROW_CLICK_SELECTION="suppressRowClickSelection",d.PROP_SUPPRESS_ROW_DRAG="suppressRowDrag",d.PROP_SUPPRESS_MOVE_WHEN_ROW_DRAG="suppressMoveWhenRowDragging",d.PROP_GET_ROW_CLASS="getRowClass",d.PROP_GET_ROW_STYLE="getRowStyle",d.PROP_GET_ROW_HEIGHT="getRowHeight",d.PROP_POPUP_PARENT="popupParent",d.PROP_DOM_LAYOUT="domLayout",d.PROP_FILL_HANDLE_DIRECTION="fillHandleDirection",d.PROP_GROUP_ROW_AGG_NODES="groupRowAggNodes",d.PROP_GET_BUSINESS_KEY_FOR_NODE="getBusinessKeyForNode",d.PROP_GET_CHILD_COUNT="getChildCount",d.PROP_PROCESS_ROW_POST_CREATE="processRowPostCreate",d.PROP_GET_ROW_NODE_ID="getRowNodeId",d.PROP_IS_FULL_WIDTH_CELL="isFullWidthCell",d.PROP_IS_ROW_SELECTABLE="isRowSelectable",d.PROP_IS_ROW_MASTER="isRowMaster",d.PROP_POST_SORT="postSort",d.PROP_GET_DOCUMENT="getDocument",d.PROP_POST_PROCESS_POPUP="postProcessPopup",d.PROP_DEFAULT_GROUP_ORDER_COMPARATOR="defaultGroupOrderComparator",d.PROP_PAGINATION_NUMBER_FORMATTER="paginationNumberFormatter",d.PROP_GET_CONTEXT_MENU_ITEMS="getContextMenuItems",d.PROP_GET_MAIN_MENU_ITEMS="getMainMenuItems",d.PROP_PROCESS_CELL_FOR_CLIPBOARD="processCellForClipboard",d.PROP_PROCESS_CELL_FROM_CLIPBOARD="processCellFromClipboard",d.PROP_SEND_TO_CLIPBOARD="sendToClipboard",d.PROP_PROCESS_TO_SECONDARY_COLDEF="processSecondaryColDef",d.PROP_PROCESS_SECONDARY_COL_GROUP_DEF="processSecondaryColGroupDef",d.PROP_GET_CHART_TOOLBAR_ITEMS="getChartToolbarItems",d.PROP_GET_SERVER_SIDE_STORE_PARAMS="getServerSideStoreParams",d.PROP_IS_SERVER_SIDE_GROUPS_OPEN_BY_DEFAULT="isServerSideGroupOpenByDefault",d.PROP_IS_APPLY_SERVER_SIDE_TRANSACTION="isApplyServerSideTransaction",d.PROP_IS_SERVER_SIDE_GROUP="isServerSideGroup",d.PROP_GET_SERVER_SIDE_GROUP_KEY="getServerSideGroupKey",ml([F("gridOptions")],d.prototype,"gridOptions",void 0),ml([F("eventService")],d.prototype,"eventService",void 0),ml([F("environment")],d.prototype,"environment",void 0),ml([ob(0,br("gridApi")),ob(1,br("columnApi"))],d.prototype,"agWire",null),ml([or],d.prototype,"destroy",null),ml([ye],d.prototype,"init",null),o=ml([Te("gridOptionsWrapper")],d)}(),qc=function(){function d(o,r){this.active=!0,this.nodeIdsToColumns={},this.mapToItems={},this.keepingColumns=o,this.pathRoot={rowNode:r,children:null},this.mapToItems[r.id]=this.pathRoot}return d.prototype.setInactive=function(){this.active=!1},d.prototype.isActive=function(){return this.active},d.prototype.depthFirstSearchChangedPath=function(o,r){if(o.children)for(var a=0;a<o.children.length;a++)this.depthFirstSearchChangedPath(o.children[a],r);r(o.rowNode)},d.prototype.depthFirstSearchEverything=function(o,r,a){if(o.childrenAfterGroup)for(var u=0;u<o.childrenAfterGroup.length;u++){var c=o.childrenAfterGroup[u];c.childrenAfterGroup?this.depthFirstSearchEverything(o.childrenAfterGroup[u],r,a):a&&r(c)}r(o)},d.prototype.forEachChangedNodeDepthFirst=function(o,r){void 0===r&&(r=!1),this.active?this.depthFirstSearchChangedPath(this.pathRoot,o):this.depthFirstSearchEverything(this.pathRoot.rowNode,o,r)},d.prototype.executeFromRootNode=function(o){o(this.pathRoot.rowNode)},d.prototype.createPathItems=function(o){for(var r=o,a=0;!this.mapToItems[r.id];)this.mapToItems[r.id]={rowNode:r,children:null},a++,r=r.parent;return a},d.prototype.populateColumnsMap=function(o,r){var a=this;if(this.keepingColumns&&r)for(var u=o;u;)this.nodeIdsToColumns[u.id]||(this.nodeIdsToColumns[u.id]={}),r.forEach(function(c){return a.nodeIdsToColumns[u.id][c.getId()]=!0}),u=u.parent},d.prototype.linkPathItems=function(o,r){for(var a=o,u=0;u<r;u++){var c=this.mapToItems[a.id],f=this.mapToItems[a.parent.id];f.children||(f.children=[]),f.children.push(c),a=a.parent}},d.prototype.addParentNode=function(o,r){if(o&&!o.isRowPinned()){var a=this.createPathItems(o);this.linkPathItems(o,a),this.populateColumnsMap(o,r)}},d.prototype.canSkip=function(o){return this.active&&!this.mapToItems[o.id]},d.prototype.getValueColumnsForNode=function(o,r){if(!this.keepingColumns)return r;var a=this.nodeIdsToColumns[o.id];return r.filter(function(c){return a[c.getId()]})},d.prototype.getNotValueColumnsForNode=function(o,r){if(!this.keepingColumns)return null;var a=this.nodeIdsToColumns[o.id];return r.filter(function(c){return!a[c.getId()]})},d}(),KS=function(){var d=function(o,r){return(d=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(a,u){a.__proto__=u}||function(a,u){for(var c in u)u.hasOwnProperty(c)&&(a[c]=u[c])})(o,r)};return function(o,r){function a(){this.constructor=o}d(o,r),o.prototype=null===r?Object.create(r):(a.prototype=r.prototype,new a)}}(),_u=function(d,o,r,a){var f,u=arguments.length,c=u<3?o:null===a?a=Object.getOwnPropertyDescriptor(o,r):a;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)c=Reflect.decorate(d,o,r,a);else for(var y=d.length-1;y>=0;y--)(f=d[y])&&(c=(u<3?f(c):u>3?f(o,r,c):f(o,r))||c);return u>3&&c&&Object.defineProperty(o,r,c),c},XS=function(d,o){return function(r,a){o(r,a,d)}},ub=function(d){function o(){return null!==d&&d.apply(this,arguments)||this}return KS(o,d),o.prototype.setBeans=function(r){this.logger=r.create("selectionService"),this.reset(),this.gridOptionsWrapper.isRowModelDefault()&&this.addManagedListener(this.eventService,j.EVENT_ROW_DATA_CHANGED,this.reset.bind(this))},o.prototype.init=function(){this.groupSelectsChildren=this.gridOptionsWrapper.isGroupSelectsChildren(),this.addManagedListener(this.eventService,j.EVENT_ROW_SELECTED,this.onRowSelected.bind(this))},o.prototype.setLastSelectedNode=function(r){this.lastSelectedNode=r},o.prototype.getLastSelectedNode=function(){return this.lastSelectedNode},o.prototype.getSelectedNodes=function(){var r=[];return zt(this.selectedNodes,function(a,u){u&&r.push(u)}),r},o.prototype.getSelectedRows=function(){var r=[];return zt(this.selectedNodes,function(a,u){u&&u.data&&r.push(u.data)}),r},o.prototype.removeGroupsFromSelection=function(){var r=this;zt(this.selectedNodes,function(a,u){u&&u.group&&(r.selectedNodes[u.id]=void 0)})},o.prototype.updateGroupsFromChildrenSelections=function(r){if(this.gridOptionsWrapper.isGroupSelectsChildren()&&this.rowModel.getType()===q.ROW_MODEL_TYPE_CLIENT_SIDE){var u=this.rowModel.getRootNode();r||(r=new qc(!0,u)).setInactive(),r.forEachChangedNodeDepthFirst(function(c){c!==u&&c.calculateSelectedFromChildren()})}},o.prototype.getNodeForIdIfSelected=function(r){return this.selectedNodes[r]},o.prototype.clearOtherNodes=function(r){var a=this,u={},c=0;return zt(this.selectedNodes,function(f,y){y&&y.id!==r.id&&(c+=a.selectedNodes[y.id].setSelectedParams({newValue:!1,clearSelection:!1,suppressFinishActions:!0}),a.groupSelectsChildren&&y.parent&&(u[y.parent.id]=y.parent))}),zt(u,function(f,y){y.calculateSelectedFromChildren()}),c},o.prototype.onRowSelected=function(r){var a=r.node;this.groupSelectsChildren&&a.group||(this.selectedNodes[a.id]=a.isSelected()?a:void 0)},o.prototype.syncInRowNode=function(r,a){this.syncInOldRowNode(r,a),this.syncInNewRowNode(r)},o.prototype.syncInOldRowNode=function(r,a){ce(a)&&r.id!==a.id&&a&&this.selectedNodes[a.id]==r&&(this.selectedNodes[a.id]=a)},o.prototype.syncInNewRowNode=function(r){ce(this.selectedNodes[r.id])?(r.setSelectedInitialValue(!0),this.selectedNodes[r.id]=r):r.setSelectedInitialValue(!1)},o.prototype.reset=function(){this.logger.log("reset"),this.selectedNodes={},this.lastSelectedNode=null},o.prototype.getBestCostNodeSelection=function(){if(this.rowModel.getType()===q.ROW_MODEL_TYPE_CLIENT_SIDE){var a=this.rowModel.getTopLevelNodes();if(null!==a){var u=[];return function c(f){for(var y=0,w=f.length;y<w;y++){var D=f[y];D.isSelected()?u.push(D):D.group&&D.children&&c(D.children)}}(a),u}console.warn("selectAll not available doing rowModel=virtual")}else console.warn("getBestCostNodeSelection is only available when using normal row model")},o.prototype.setRowModel=function(r){this.rowModel=r},o.prototype.isEmpty=function(){var r=0;return zt(this.selectedNodes,function(a,u){u&&r++}),0===r},o.prototype.deselectAllRowNodes=function(r){void 0===r&&(r=!1);var a=function(y){return y.selectThisNode(!1)},u=this.rowModel.getType()===q.ROW_MODEL_TYPE_CLIENT_SIDE;if(r){if(!u)return void console.error("AG Grid: selecting just filtered only works with In Memory Row Model");this.rowModel.forEachNodeAfterFilter(a)}else zt(this.selectedNodes,function(y,w){w&&a(w)}),this.reset();u&&this.groupSelectsChildren&&this.updateGroupsFromChildrenSelections(),this.eventService.dispatchEvent({type:j.EVENT_SELECTION_CHANGED,api:this.gridApi,columnApi:this.columnApi})},o.prototype.selectAllRowNodes=function(r){if(void 0===r&&(r=!1),this.rowModel.getType()!==q.ROW_MODEL_TYPE_CLIENT_SIDE)throw new Error("selectAll only available with normal row model, ie not "+this.rowModel.getType());var a=this.rowModel,u=function(f){return f.selectThisNode(!0)};r?a.forEachNodeAfterFilter(u):a.forEachNode(u),this.rowModel.getType()===q.ROW_MODEL_TYPE_CLIENT_SIDE&&this.groupSelectsChildren&&this.updateGroupsFromChildrenSelections(),this.eventService.dispatchEvent({type:j.EVENT_SELECTION_CHANGED,api:this.gridApi,columnApi:this.columnApi})},o.prototype.selectNode=function(r,a){r&&r.setSelectedParams({newValue:!0,clearSelection:!a})},o.prototype.deselectIndex=function(r){var a=this.rowModel.getRow(r);this.deselectNode(a)},o.prototype.deselectNode=function(r){r&&r.setSelectedParams({newValue:!1,clearSelection:!1})},o.prototype.selectIndex=function(r,a){var u=this.rowModel.getRow(r);this.selectNode(u,a)},_u([F("rowModel")],o.prototype,"rowModel",void 0),_u([F("columnApi")],o.prototype,"columnApi",void 0),_u([F("gridApi")],o.prototype,"gridApi",void 0),_u([XS(0,br("loggerFactory"))],o.prototype,"setBeans",null),_u([ye],o.prototype,"init",null),_u([Te("selectionService")],o)}(he),cb=function(d,o,r,a){var f,u=arguments.length,c=u<3?o:null===a?a=Object.getOwnPropertyDescriptor(o,r):a;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)c=Reflect.decorate(d,o,r,a);else for(var y=d.length-1;y>=0;y--)(f=d[y])&&(c=(u<3?f(c):u>3?f(o,r,c):f(o,r))||c);return u>3&&c&&Object.defineProperty(o,r,c),c},db=function(){function d(){}return d.prototype.sizeColumnsToFit=function(o){void 0===o&&console.error("AG Grid: missing parameter to columnApi.sizeColumnsToFit(gridWidth)"),this.columnModel.sizeColumnsToFit(o,"api")},d.prototype.setColumnGroupOpened=function(o,r){this.columnModel.setColumnGroupOpened(o,r,"api")},d.prototype.getColumnGroup=function(o,r){return this.columnModel.getColumnGroup(o,r)},d.prototype.getOriginalColumnGroup=function(o){return this.columnModel.getOriginalColumnGroup(o)},d.prototype.getDisplayNameForColumn=function(o,r){return this.columnModel.getDisplayNameForColumn(o,r)||""},d.prototype.getDisplayNameForColumnGroup=function(o,r){return this.columnModel.getDisplayNameForColumnGroup(o,r)||""},d.prototype.getColumn=function(o){return this.columnModel.getPrimaryColumn(o)},d.prototype.applyColumnState=function(o){return this.columnModel.applyColumnState(o,"api")},d.prototype.getColumnState=function(){return this.columnModel.getColumnState()},d.prototype.resetColumnState=function(){this.columnModel.resetColumnState("api")},d.prototype.getColumnGroupState=function(){return this.columnModel.getColumnGroupState()},d.prototype.setColumnGroupState=function(o){this.columnModel.setColumnGroupState(o,"api")},d.prototype.resetColumnGroupState=function(){this.columnModel.resetColumnGroupState("api")},d.prototype.isPinning=function(){return this.columnModel.isPinningLeft()||this.columnModel.isPinningRight()},d.prototype.isPinningLeft=function(){return this.columnModel.isPinningLeft()},d.prototype.isPinningRight=function(){return this.columnModel.isPinningRight()},d.prototype.getDisplayedColAfter=function(o){return this.columnModel.getDisplayedColAfter(o)},d.prototype.getDisplayedColBefore=function(o){return this.columnModel.getDisplayedColBefore(o)},d.prototype.setColumnVisible=function(o,r){this.columnModel.setColumnVisible(o,r,"api")},d.prototype.setColumnsVisible=function(o,r){this.columnModel.setColumnsVisible(o,r,"api")},d.prototype.setColumnPinned=function(o,r){this.columnModel.setColumnPinned(o,r,"api")},d.prototype.setColumnsPinned=function(o,r){this.columnModel.setColumnsPinned(o,r,"api")},d.prototype.getAllColumns=function(){return this.columnModel.getAllPrimaryColumns()},d.prototype.getAllGridColumns=function(){return this.columnModel.getAllGridColumns()},d.prototype.getDisplayedLeftColumns=function(){return this.columnModel.getDisplayedLeftColumns()},d.prototype.getDisplayedCenterColumns=function(){return this.columnModel.getDisplayedCenterColumns()},d.prototype.getDisplayedRightColumns=function(){return this.columnModel.getDisplayedRightColumns()},d.prototype.getAllDisplayedColumns=function(){return this.columnModel.getAllDisplayedColumns()},d.prototype.getAllDisplayedVirtualColumns=function(){return this.columnModel.getViewportColumns()},d.prototype.moveColumn=function(o,r){"number"==typeof o?(console.warn("AG Grid: you are using moveColumn(fromIndex, toIndex) - moveColumn takes a column key and a destination index, not two indexes, to move with indexes use moveColumnByIndex(from,to) instead"),this.columnModel.moveColumnByIndex(o,r,"api")):this.columnModel.moveColumn(o,r,"api")},d.prototype.moveColumnByIndex=function(o,r){this.columnModel.moveColumnByIndex(o,r,"api")},d.prototype.moveColumns=function(o,r){this.columnModel.moveColumns(o,r,"api")},d.prototype.moveRowGroupColumn=function(o,r){this.columnModel.moveRowGroupColumn(o,r)},d.prototype.setColumnAggFunc=function(o,r){this.columnModel.setColumnAggFunc(o,r)},d.prototype.setColumnWidth=function(o,r,a,u){void 0===a&&(a=!0),this.columnModel.setColumnWidths([{key:o,newWidth:r}],!1,a,u)},d.prototype.setColumnWidths=function(o,r,a){void 0===r&&(r=!0),this.columnModel.setColumnWidths(o,!1,r,a)},d.prototype.setPivotMode=function(o){this.columnModel.setPivotMode(o)},d.prototype.isPivotMode=function(){return this.columnModel.isPivotMode()},d.prototype.getSecondaryPivotColumn=function(o,r){return this.columnModel.getSecondaryPivotColumn(o,r)},d.prototype.setValueColumns=function(o){this.columnModel.setValueColumns(o,"api")},d.prototype.getValueColumns=function(){return this.columnModel.getValueColumns()},d.prototype.removeValueColumn=function(o){this.columnModel.removeValueColumn(o,"api")},d.prototype.removeValueColumns=function(o){this.columnModel.removeValueColumns(o,"api")},d.prototype.addValueColumn=function(o){this.columnModel.addValueColumn(o,"api")},d.prototype.addValueColumns=function(o){this.columnModel.addValueColumns(o,"api")},d.prototype.setRowGroupColumns=function(o){this.columnModel.setRowGroupColumns(o,"api")},d.prototype.removeRowGroupColumn=function(o){this.columnModel.removeRowGroupColumn(o,"api")},d.prototype.removeRowGroupColumns=function(o){this.columnModel.removeRowGroupColumns(o,"api")},d.prototype.addRowGroupColumn=function(o){this.columnModel.addRowGroupColumn(o,"api")},d.prototype.addRowGroupColumns=function(o){this.columnModel.addRowGroupColumns(o,"api")},d.prototype.getRowGroupColumns=function(){return this.columnModel.getRowGroupColumns()},d.prototype.setPivotColumns=function(o){this.columnModel.setPivotColumns(o,"api")},d.prototype.removePivotColumn=function(o){this.columnModel.removePivotColumn(o,"api")},d.prototype.removePivotColumns=function(o){this.columnModel.removePivotColumns(o,"api")},d.prototype.addPivotColumn=function(o){this.columnModel.addPivotColumn(o,"api")},d.prototype.addPivotColumns=function(o){this.columnModel.addPivotColumns(o,"api")},d.prototype.getPivotColumns=function(){return this.columnModel.getPivotColumns()},d.prototype.getLeftDisplayedColumnGroups=function(){return this.columnModel.getDisplayedTreeLeft()},d.prototype.getCenterDisplayedColumnGroups=function(){return this.columnModel.getDisplayedTreeCentre()},d.prototype.getRightDisplayedColumnGroups=function(){return this.columnModel.getDisplayedTreeRight()},d.prototype.getAllDisplayedColumnGroups=function(){return this.columnModel.getAllDisplayedTrees()},d.prototype.autoSizeColumn=function(o,r){return this.columnModel.autoSizeColumn(o,r,"api")},d.prototype.autoSizeColumns=function(o,r){return this.columnModel.autoSizeColumns(o,r,"api")},d.prototype.autoSizeAllColumns=function(o){this.columnModel.autoSizeAllColumns(o,"api")},d.prototype.setSecondaryColumns=function(o){this.columnModel.setSecondaryColumns(o,"api")},d.prototype.getSecondaryColumns=function(){return this.columnModel.getSecondaryColumns()},d.prototype.getPrimaryColumns=function(){return this.columnModel.getAllPrimaryColumns()},d.prototype.cleanDownReferencesToAvoidMemoryLeakInCaseApplicationIsKeepingReferenceToDestroyedGrid=function(){setTimeout(Ie.removeAllReferences.bind(window,this,"Column API"),100)},d.prototype.columnGroupOpened=function(o,r){console.error("AG Grid: columnGroupOpened no longer exists, use setColumnGroupOpened"),this.setColumnGroupOpened(o,r)},d.prototype.hideColumns=function(o,r){console.error("AG Grid: hideColumns is deprecated, use setColumnsVisible"),this.columnModel.setColumnsVisible(o,!r,"api")},d.prototype.hideColumn=function(o,r){console.error("AG Grid: hideColumn is deprecated, use setColumnVisible"),this.columnModel.setColumnVisible(o,!r,"api")},d.prototype.setState=function(o){return console.error("AG Grid: setState is deprecated, use setColumnState"),this.setColumnState(o)},d.prototype.getState=function(){return console.error("AG Grid: getState is deprecated, use getColumnState"),this.getColumnState()},d.prototype.resetState=function(){console.error("AG Grid: resetState is deprecated, use resetColumnState"),this.resetColumnState()},d.prototype.getAggregationColumns=function(){return console.error("AG Grid: getAggregationColumns is deprecated, use getValueColumns"),this.columnModel.getValueColumns()},d.prototype.removeAggregationColumn=function(o){console.error("AG Grid: removeAggregationColumn is deprecated, use removeValueColumn"),this.columnModel.removeValueColumn(o,"api")},d.prototype.removeAggregationColumns=function(o){console.error("AG Grid: removeAggregationColumns is deprecated, use removeValueColumns"),this.columnModel.removeValueColumns(o,"api")},d.prototype.addAggregationColumn=function(o){console.error("AG Grid: addAggregationColumn is deprecated, use addValueColumn"),this.columnModel.addValueColumn(o,"api")},d.prototype.addAggregationColumns=function(o){console.error("AG Grid: addAggregationColumns is deprecated, use addValueColumns"),this.columnModel.addValueColumns(o,"api")},d.prototype.setColumnAggFunction=function(o,r){console.error("AG Grid: setColumnAggFunction is deprecated, use setColumnAggFunc"),this.columnModel.setColumnAggFunc(o,r,"api")},d.prototype.getDisplayNameForCol=function(o){return console.error("AG Grid: getDisplayNameForCol is deprecated, use getDisplayNameForColumn"),this.getDisplayNameForColumn(o,null)},d.prototype.setColumnState=function(o){return console.error("AG Grid: setColumnState is deprecated, use applyColumnState"),this.columnModel.applyColumnState({state:o,applyOrder:!0},"api")},cb([F("columnModel")],d.prototype,"columnModel",void 0),cb([or],d.prototype,"cleanDownReferencesToAvoidMemoryLeakInCaseApplicationIsKeepingReferenceToDestroyedGrid",null),cb([Te("columnApi")],d)}();(function(d){d[d.FILL=0]="FILL",d[d.RANGE=1]="RANGE"})(H.Lm6||(H.Lm6={})),function(d){d[d.VALUE=0]="VALUE",d[d.DIMENSION=1]="DIMENSION"}(H.StC||(H.StC={}));var Us="ag-cell-range-selected",FA=function(){function d(o,r){this.beans=o,this.cellCtrl=r}return d.prototype.setComp=function(o){this.cellComp=o,this.onRangeSelectionChanged()},d.prototype.onRangeSelectionChanged=function(){this.rangeCount=this.beans.rangeService.getCellRangeCount(this.cellCtrl.getCellPosition()),this.hasChartRange=this.getHasChartRange(),this.cellComp.addOrRemoveCssClass(Us,0!==this.rangeCount),this.cellComp.addOrRemoveCssClass(Us+"-1",1===this.rangeCount),this.cellComp.addOrRemoveCssClass(Us+"-2",2===this.rangeCount),this.cellComp.addOrRemoveCssClass(Us+"-3",3===this.rangeCount),this.cellComp.addOrRemoveCssClass(Us+"-4",this.rangeCount>=4),this.cellComp.addOrRemoveCssClass("ag-cell-range-chart",this.hasChartRange),this.cellComp.setAriaSelected(this.rangeCount>0||void 0),this.cellComp.addOrRemoveCssClass("ag-cell-range-single-cell",this.isSingleCell()),this.updateRangeBorders(),this.refreshHandle()},d.prototype.updateRangeBorders=function(){var o=this.getRangeBorders(),r=this.isSingleCell(),u=!r&&o.right,c=!r&&o.bottom,f=!r&&o.left;this.cellComp.addOrRemoveCssClass("ag-cell-range-top",!r&&o.top),this.cellComp.addOrRemoveCssClass("ag-cell-range-right",u),this.cellComp.addOrRemoveCssClass("ag-cell-range-bottom",c),this.cellComp.addOrRemoveCssClass("ag-cell-range-left",f)},d.prototype.isSingleCell=function(){var o=this.beans.rangeService;return 1===this.rangeCount&&o&&!o.isMoreThanOneCell()},d.prototype.getHasChartRange=function(){var o=this.beans.rangeService;if(!this.rangeCount||!o)return!1;var r=o.getCellRanges();return r.length>0&&r.every(function(a){return zn([H.StC.DIMENSION,H.StC.VALUE],a.type)})},d.prototype.updateRangeBordersIfRangeCount=function(){this.rangeCount>0&&(this.updateRangeBorders(),this.refreshHandle())},d.prototype.getRangeBorders=function(){var I,V,o=this,r=this.beans.gridOptionsWrapper.isEnableRtl(),a=!1,u=!1,c=!1,f=!1,y=this.cellCtrl.getCellPosition().column,w=this.beans,D=w.rangeService,O=w.columnModel;r?(I=O.getDisplayedColAfter(y),V=O.getDisplayedColBefore(y)):(I=O.getDisplayedColBefore(y),V=O.getDisplayedColAfter(y));var B=D.getCellRanges().filter(function(de){return D.isCellInSpecificRange(o.cellCtrl.getCellPosition(),de)});I||(f=!0),V||(u=!0);for(var z=0;z<B.length&&!(a&&u&&c&&f);z++){var ee=B[z],ie=D.getRangeStartRow(ee),_e=D.getRangeEndRow(ee);!a&&this.beans.rowPositionUtils.sameRow(ie,this.cellCtrl.getCellPosition())&&(a=!0),!c&&this.beans.rowPositionUtils.sameRow(_e,this.cellCtrl.getCellPosition())&&(c=!0),!f&&I&&ee.columns.indexOf(I)<0&&(f=!0),!u&&V&&ee.columns.indexOf(V)<0&&(u=!0)}return{top:a,right:u,bottom:c,left:f}},d.prototype.refreshHandle=function(){if(this.beans.rangeService){var o=this.shouldHaveSelectionHandle();this.selectionHandle&&!o&&(this.selectionHandle=this.beans.context.destroyBean(this.selectionHandle)),o&&this.addSelectionHandle(),this.cellComp.addOrRemoveCssClass("ag-cell-range-handle",!!this.selectionHandle)}},d.prototype.shouldHaveSelectionHandle=function(){var o=this.beans,r=o.gridOptionsWrapper,a=o.rangeService,u=a.getCellRanges(),c=u.length;if(this.rangeCount<1||c<1)return!1;var f=Jt(u),y=this.cellCtrl.getCellPosition(),w=r.isEnableFillHandle()&&!this.cellCtrl.isSuppressFillHandle(),D=r.isEnableRangeHandle(),O=1===c&&!this.cellCtrl.isEditing()&&(w||D);if(this.hasChartRange){var V=u[0].type===H.StC.DIMENSION&&a.isCellInSpecificRange(y,u[0]);this.cellComp.addOrRemoveCssClass("ag-cell-range-chart-category",V),O=f.type===H.StC.VALUE}return O&&null!=f.endRow&&a.isContiguousRange(f)&&a.isBottomRightCell(f,y)},d.prototype.addSelectionHandle=function(){var o=this.beans,r=o.gridOptionsWrapper,u=Jt(o.rangeService.getCellRanges()).type,f=r.isEnableFillHandle()&&Ge(u)?H.Lm6.FILL:H.Lm6.RANGE;this.selectionHandle&&this.selectionHandle.getType()!==f&&(this.selectionHandle=this.beans.context.destroyBean(this.selectionHandle)),this.selectionHandle||(this.selectionHandle=this.beans.selectionHandleFactory.createSelectionHandle(f)),this.selectionHandle.refresh(this.cellCtrl)},d.prototype.destroy=function(){this.beans.context.destroyBean(this.selectionHandle)},d}(),Jg=function(){var d=function(o,r){return(d=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(a,u){a.__proto__=u}||function(a,u){for(var c in u)u.hasOwnProperty(c)&&(a[c]=u[c])})(o,r)};return function(o,r){function a(){this.constructor=o}d(o,r),o.prototype=null===r?Object.create(r):(a.prototype=r.prototype,new a)}}(),ev=function(d){function o(r,a){var u=d.call(this)||this;return u.cellCtrl=r,u.beans=a,u.column=r.getColumn(),u.rowNode=r.getRowNode(),u.setupColSpan(),u.setupRowSpan(),u}return Jg(o,d),o.prototype.setupRowSpan=function(){this.rowSpan=this.column.getRowSpan(this.rowNode)},o.prototype.setComp=function(r){this.cellComp=r,this.onLeftChanged(),this.onWidthChanged(),this.applyRowSpan()},o.prototype.onDisplayColumnsChanged=function(){var r=this.getColSpanningList();Yl(this.colsSpanning,r)||(this.colsSpanning=r,this.onWidthChanged(),this.onLeftChanged())},o.prototype.setupColSpan=function(){null!=this.column.getColDef().colSpan&&(this.colsSpanning=this.getColSpanningList(),this.addManagedListener(this.beans.eventService,j.EVENT_DISPLAYED_COLUMNS_CHANGED,this.onDisplayColumnsChanged.bind(this)),this.addManagedListener(this.beans.eventService,j.EVENT_DISPLAYED_COLUMNS_WIDTH_CHANGED,this.onWidthChanged.bind(this)))},o.prototype.onWidthChanged=function(){if(this.cellComp){var r=this.getCellWidth();this.cellComp.setWidth(r+"px")}},o.prototype.getCellWidth=function(){return this.colsSpanning?this.colsSpanning.reduce(function(r,a){return r+a.getActualWidth()},0):this.column.getActualWidth()},o.prototype.getColSpanningList=function(){var r=this.column.getColSpan(this.rowNode),a=[];if(1===r)a.push(this.column);else for(var u=this.column,c=this.column.getPinned(),f=0;u&&f<r&&(a.push(u),(u=this.beans.columnModel.getDisplayedColAfter(u))&&!Ge(u)&&c===u.getPinned());f++);return a},o.prototype.onLeftChanged=function(){if(this.cellComp){var r=this.modifyLeftForPrintLayout(this.getCellLeft());this.cellComp.setLeft(r+"px")}},o.prototype.getCellLeft=function(){return(this.beans.gridOptionsWrapper.isEnableRtl()&&this.colsSpanning?Jt(this.colsSpanning):this.column).getLeft()},o.prototype.modifyLeftForPrintLayout=function(r){if(!this.cellCtrl.isPrintLayout()||this.column.getPinned()===q.PINNED_LEFT)return r;var a=this.beans.columnModel.getDisplayedColumnsLeftWidth();return this.column.getPinned()===q.PINNED_RIGHT?a+this.beans.columnModel.getBodyContainerWidth()+(r||0):a+(r||0)},o.prototype.applyRowSpan=function(){if(1!==this.rowSpan){var r=this.beans.gridOptionsWrapper.getRowHeightAsNumber();this.cellComp.setHeight(r*this.rowSpan+"px"),this.cellComp.setZIndex("1")}},o.prototype.destroy=function(){d.prototype.destroy.call(this)},o}(he),tv=function(){var d=function(o,r){return(d=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(a,u){a.__proto__=u}||function(a,u){for(var c in u)u.hasOwnProperty(c)&&(a[c]=u[c])})(o,r)};return function(o,r){function a(){this.constructor=o}d(o,r),o.prototype=null===r?Object.create(r):(a.prototype=r.prototype,new a)}}(),NA=function(d){function o(r,a){var u=d.call(this)||this;return u.staticClasses=[],u.cellCtrl=r,u.beans=a,u.column=r.getColumn(),u.rowNode=r.getRowNode(),u}return tv(o,d),o.prototype.setComp=function(r,a){this.cellComp=r,this.scope=a,this.applyUserStyles(),this.applyCellClassRules(),this.applyClassesFromColDef()},o.prototype.applyCellClassRules=function(){var r=this,a=this.column.getColDef(),u={value:this.cellCtrl.getValue(),data:this.rowNode.data,node:this.rowNode,colDef:a,rowIndex:this.rowNode.rowIndex,api:this.beans.gridOptionsWrapper.getApi(),columnApi:this.beans.gridOptionsWrapper.getColumnApi(),$scope:this.scope,context:this.beans.gridOptionsWrapper.getContext()};this.beans.stylingService.processClassRules(a.cellClassRules,u,function(c){return r.cellComp.addOrRemoveCssClass(c,!0)},function(c){return r.cellComp.addOrRemoveCssClass(c,!1)})},o.prototype.applyUserStyles=function(){var r=this.column.getColDef();if(r.cellStyle){var a;if("function"==typeof r.cellStyle){var u={column:this.column,value:this.cellCtrl.getValue(),colDef:r,data:this.rowNode.data,node:this.rowNode,rowIndex:this.rowNode.rowIndex,$scope:this.scope,api:this.beans.gridOptionsWrapper.getApi(),columnApi:this.beans.gridOptionsWrapper.getColumnApi(),context:this.beans.gridOptionsWrapper.getContext()};a=(0,r.cellStyle)(u)}else a=r.cellStyle;this.cellComp.setUserStyles(a)}},o.prototype.applyClassesFromColDef=function(){var r=this,a=this.column.getColDef(),u={value:this.cellCtrl.getValue(),data:this.rowNode.data,node:this.rowNode,colDef:a,rowIndex:this.rowNode.rowIndex,$scope:this.scope,api:this.beans.gridOptionsWrapper.getApi(),columnApi:this.beans.gridOptionsWrapper.getColumnApi(),context:this.beans.gridOptionsWrapper.getContext()};this.staticClasses.length&&this.staticClasses.forEach(function(c){return r.cellComp.addOrRemoveCssClass(c,!1)}),this.staticClasses=this.beans.stylingService.getStaticCellClasses(a,u),this.staticClasses.length&&this.staticClasses.forEach(function(c){return r.cellComp.addOrRemoveCssClass(c,!0)})},o.prototype.destroy=function(){d.prototype.destroy.call(this)},o}(he),LA=function(){var d=function(o,r){return(d=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(a,u){a.__proto__=u}||function(a,u){for(var c in u)u.hasOwnProperty(c)&&(a[c]=u[c])})(o,r)};return function(o,r){function a(){this.constructor=o}d(o,r),o.prototype=null===r?Object.create(r):(a.prototype=r.prototype,new a)}}(),lh=function(d){function o(r,a){var u=d.call(this)||this;return u.ctrl=r,u.beans=a,u}return LA(o,d),o.prototype.setComp=function(r){this.comp=r,this.setupTooltip()},o.prototype.setupTooltip=function(){this.browserTooltips=this.beans.gridOptionsWrapper.isEnableBrowserTooltips(),this.updateTooltipText(),this.browserTooltips?this.comp.setTitle(null!=this.tooltipSanatised?this.tooltipSanatised:void 0):this.createTooltipFeatureIfNeeded()},o.prototype.updateTooltipText=function(){this.tooltip=this.ctrl.getTooltipValue(),this.tooltipSanatised=No(this.tooltip)},o.prototype.createTooltipFeatureIfNeeded=function(){var r=this;null==this.genericTooltipFeature&&(this.genericTooltipFeature=this.createManagedBean(new Rg({getTooltipParams:function(){return r.getTooltipParams()},getGui:function(){return r.ctrl.getGui()}}),this.beans.context))},o.prototype.refreshToolTip=function(){this.updateTooltipText(),this.browserTooltips&&this.comp.setTitle(null!=this.tooltipSanatised?this.tooltipSanatised:void 0)},o.prototype.getTooltipParams=function(){var r=this.ctrl,a=r.getColumn?r.getColumn():void 0,u=r.getColDef?r.getColDef():void 0,c=r.getRowNode?r.getRowNode():void 0;return{location:r.getLocation(),colDef:u,column:a,rowIndex:r.getRowIndex?r.getRowIndex():void 0,node:c,data:c?c.data:void 0,value:this.getTooltipText(),valueFormatted:r.getValueFormatted?r.getValueFormatted():void 0}},o.prototype.getTooltipText=function(){return this.tooltip},o.prototype.destroy=function(){d.prototype.destroy.call(this)},o}(he),dt=function(d,o,r,a){var f,u=arguments.length,c=u<3?o:null===a?a=Object.getOwnPropertyDescriptor(o,r):a;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)c=Reflect.decorate(d,o,r,a);else for(var y=d.length-1;y>=0;y--)(f=d[y])&&(c=(u<3?f(c):u>3?f(o,r,c):f(o,r))||c);return u>3&&c&&Object.defineProperty(o,r,c),c},iv=function(){function d(){}return d.prototype.postConstruct=function(){this.doingMasterDetail=this.gridOptionsWrapper.isMasterDetail(),this.gridOptionsWrapper.isRowModelDefault()&&(this.clientSideRowModel=this.rowModel),this.gridOptionsWrapper.isRowModelServerSide()&&(this.serverSideRowModel=this.rowModel)},dt([F("resizeObserverService")],d.prototype,"resizeObserverService",void 0),dt([F("paginationProxy")],d.prototype,"paginationProxy",void 0),dt([F("context")],d.prototype,"context",void 0),dt([F("columnApi")],d.prototype,"columnApi",void 0),dt([F("gridApi")],d.prototype,"gridApi",void 0),dt([F("gridOptionsWrapper")],d.prototype,"gridOptionsWrapper",void 0),dt([F("expressionService")],d.prototype,"expressionService",void 0),dt([F("rowRenderer")],d.prototype,"rowRenderer",void 0),dt([F("$compile")],d.prototype,"$compile",void 0),dt([F("templateService")],d.prototype,"templateService",void 0),dt([F("valueService")],d.prototype,"valueService",void 0),dt([F("eventService")],d.prototype,"eventService",void 0),dt([F("columnModel")],d.prototype,"columnModel",void 0),dt([F("headerNavigationService")],d.prototype,"headerNavigationService",void 0),dt([F("navigationService")],d.prototype,"navigationService",void 0),dt([F("columnAnimationService")],d.prototype,"columnAnimationService",void 0),dt([et("rangeService")],d.prototype,"rangeService",void 0),dt([F("focusService")],d.prototype,"focusService",void 0),dt([et("contextMenuFactory")],d.prototype,"contextMenuFactory",void 0),dt([F("popupService")],d.prototype,"popupService",void 0),dt([F("valueFormatterService")],d.prototype,"valueFormatterService",void 0),dt([F("stylingService")],d.prototype,"stylingService",void 0),dt([F("columnHoverService")],d.prototype,"columnHoverService",void 0),dt([F("userComponentFactory")],d.prototype,"userComponentFactory",void 0),dt([F("userComponentRegistry")],d.prototype,"userComponentRegistry",void 0),dt([F("animationFrameService")],d.prototype,"animationFrameService",void 0),dt([F("dragAndDropService")],d.prototype,"dragAndDropService",void 0),dt([F("sortController")],d.prototype,"sortController",void 0),dt([F("filterManager")],d.prototype,"filterManager",void 0),dt([F("rowContainerHeightService")],d.prototype,"rowContainerHeightService",void 0),dt([F("frameworkOverrides")],d.prototype,"frameworkOverrides",void 0),dt([F("cellPositionUtils")],d.prototype,"cellPositionUtils",void 0),dt([F("rowPositionUtils")],d.prototype,"rowPositionUtils",void 0),dt([F("selectionService")],d.prototype,"selectionService",void 0),dt([et("selectionHandleFactory")],d.prototype,"selectionHandleFactory",void 0),dt([F("rowCssClassCalculator")],d.prototype,"rowCssClassCalculator",void 0),dt([F("rowModel")],d.prototype,"rowModel",void 0),dt([F("ctrlsService")],d.prototype,"ctrlsService",void 0),dt([F("ctrlsFactory")],d.prototype,"ctrlsFactory",void 0),dt([F("agStackComponentsRegistry")],d.prototype,"agStackComponentsRegistry",void 0),dt([F("valueCache")],d.prototype,"valueCache",void 0),dt([F("rowNodeEventThrottle")],d.prototype,"rowNodeEventThrottle",void 0),dt([ye],d.prototype,"postConstruct",null),dt([Te("beans")],d)}(),qS=function(){var d=function(o,r){return(d=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(a,u){a.__proto__=u}||function(a,u){for(var c in u)u.hasOwnProperty(c)&&(a[c]=u[c])})(o,r)};return function(o,r){function a(){this.constructor=o}d(o,r),o.prototype=null===r?Object.create(r):(a.prototype=r.prototype,new a)}}(),ZS=function(d){function o(r,a,u){var c=d.call(this)||this;return c.cellCtrl=r,c.beans=a,c.column=u,c}return qS(o,d),o.prototype.onMouseEvent=function(r,a){if(!Ls(a))switch(r){case"click":this.onCellClicked(a);break;case"mousedown":case"touchstart":this.onMouseDown(a);break;case"dblclick":this.onCellDoubleClicked(a);break;case"mouseout":this.onMouseOut(a);break;case"mouseover":this.onMouseOver(a)}},o.prototype.onCellClicked=function(r){if(this.isDoubleClickOnIPad())return this.onCellDoubleClicked(r),void r.preventDefault();var a=this.beans,u=a.eventService,c=a.gridOptionsWrapper,f=this.cellCtrl.createEvent(r,j.EVENT_CELL_CLICKED);u.dispatchEvent(f);var y=this.column.getColDef();y.onCellClicked&&window.setTimeout(function(){return y.onCellClicked(f)},0),(c.isSingleClickEdit()||y.singleClickEdit)&&!c.isSuppressClickEdit()&&this.cellCtrl.startRowOrCellEdit()},o.prototype.isDoubleClickOnIPad=function(){if(!Oa()||s_("dblclick"))return!1;var r=(new Date).getTime(),a=r-this.lastIPadMouseClickEvent<200;return this.lastIPadMouseClickEvent=r,a},o.prototype.onCellDoubleClicked=function(r){var a=this.column.getColDef(),u=this.cellCtrl.createEvent(r,j.EVENT_CELL_DOUBLE_CLICKED);this.beans.eventService.dispatchEvent(u),"function"==typeof a.onCellDoubleClicked&&window.setTimeout(function(){return a.onCellDoubleClicked(u)},0),!this.beans.gridOptionsWrapper.isSingleClickEdit()&&!this.beans.gridOptionsWrapper.isSuppressClickEdit()&&this.cellCtrl.startRowOrCellEdit()},o.prototype.onMouseDown=function(r){var a=r.ctrlKey,u=r.metaKey,c=r.shiftKey,f=r.target,y=this.beans,w=y.eventService,D=y.rangeService;if(!this.isRightClickInExistingRange(r)){var O=D&&0!=D.getCellRanges().length;if(!c||!O){var I=(Ji()||ui())&&!this.cellCtrl.isEditing()&&!oS(f);this.cellCtrl.focusCell(I)}if(c&&O&&r.preventDefault(),!this.containsWidget(f)){if(D){var V=this.cellCtrl.getCellPosition();c?D.extendLatestRangeToCell(V):D.setRangeToCell(V,a||u)}w.dispatchEvent(this.cellCtrl.createEvent(r,j.EVENT_CELL_MOUSE_DOWN))}}},o.prototype.isRightClickInExistingRange=function(r){var a=this.beans.rangeService;return!(!a||!a.isCellInAnyRange(this.cellCtrl.getCellPosition())||2!==r.button)},o.prototype.containsWidget=function(r){return pg(r,"ag-selection-checkbox",3)},o.prototype.onMouseOut=function(r){if(!this.mouseStayingInsideCell(r)){var a=this.cellCtrl.createEvent(r,j.EVENT_CELL_MOUSE_OUT);this.beans.eventService.dispatchEvent(a),this.beans.columnHoverService.clearMouseOver()}},o.prototype.onMouseOver=function(r){if(!this.mouseStayingInsideCell(r)){var a=this.cellCtrl.createEvent(r,j.EVENT_CELL_MOUSE_OVER);this.beans.eventService.dispatchEvent(a),this.beans.columnHoverService.setMouseOver([this.column])}},o.prototype.mouseStayingInsideCell=function(r){if(!r.target||!r.relatedTarget)return!1;var a=this.cellCtrl.getGui(),u=a.contains(r.target),c=a.contains(r.relatedTarget);return u&&c},o.prototype.destroy=function(){},o}(iv),vb=function(){var d=function(o,r){return(d=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(a,u){a.__proto__=u}||function(a,u){for(var c in u)u.hasOwnProperty(c)&&(a[c]=u[c])})(o,r)};return function(o,r){function a(){this.constructor=o}d(o,r),o.prototype=null===r?Object.create(r):(a.prototype=r.prototype,new a)}}(),uh=function(d){function o(r,a,u,c,f,y){var w=d.call(this)||this;return w.cellCtrl=r,w.beans=a,w.column=u,w.rowNode=c,w.rowCtrl=y,w}return vb(o,d),o.prototype.setComp=function(r){this.eGui=r},o.prototype.onKeyDown=function(r){var a=r.which||r.keyCode;switch(a){case me.ENTER:this.onEnterKeyDown(r);break;case me.F2:this.onF2KeyDown();break;case me.ESCAPE:this.onEscapeKeyDown();break;case me.TAB:this.onTabKeyDown(r);break;case me.BACKSPACE:case me.DELETE:this.onBackspaceOrDeleteKeyPressed(a);break;case me.DOWN:case me.UP:case me.RIGHT:case me.LEFT:this.onNavigationKeyPressed(r,a)}},o.prototype.onNavigationKeyPressed=function(r,a){this.cellCtrl.isEditing()||(r.shiftKey&&this.cellCtrl.isRangeSelectionEnabled()?this.onShiftRangeSelect(a):this.beans.navigationService.navigateToNextCell(r,a,this.cellCtrl.getCellPosition(),!0),r.preventDefault())},o.prototype.onShiftRangeSelect=function(r){if(this.beans.rangeService){var a=this.beans.rangeService.extendLatestRangeInDirection(r);a&&this.beans.navigationService.ensureCellVisible(a)}},o.prototype.onTabKeyDown=function(r){this.beans.navigationService.onTabKeyDown(this.cellCtrl,r)},o.prototype.onBackspaceOrDeleteKeyPressed=function(r){this.cellCtrl.isEditing()||this.cellCtrl.startRowOrCellEdit(r)},o.prototype.onEnterKeyDown=function(r){this.cellCtrl.isEditing()||this.rowCtrl.isEditing()?this.cellCtrl.stopEditingAndFocus():this.beans.gridOptionsWrapper.isEnterMovesDown()?this.beans.navigationService.navigateToNextCell(null,me.DOWN,this.cellCtrl.getCellPosition(),!1):(this.cellCtrl.startRowOrCellEdit(me.ENTER),this.cellCtrl.isEditing()&&r.preventDefault())},o.prototype.onF2KeyDown=function(){this.cellCtrl.isEditing()||this.cellCtrl.startRowOrCellEdit(me.F2)},o.prototype.onEscapeKeyDown=function(){this.cellCtrl.isEditing()&&(this.cellCtrl.stopRowOrCellEdit(!0),this.cellCtrl.focusCell(!0))},o.prototype.onKeyPress=function(r){if(Ec(r)===this.eGui&&!this.cellCtrl.isEditing()){var c=String.fromCharCode(r.charCode);" "===c?this.onSpaceKeyPressed(r):Sg(r)&&(this.cellCtrl.startRowOrCellEdit(null,c),r.preventDefault())}},o.prototype.onSpaceKeyPressed=function(r){var a=this.beans.gridOptionsWrapper;if(!this.cellCtrl.isEditing()&&a.isRowSelection()){var u=this.rowNode.isSelected(),c=!u;if(c||!a.isSuppressRowDeselection()){var f=this.beans.gridOptionsWrapper.isGroupSelectsFiltered(),y=this.rowNode.setSelectedParams({newValue:c,rangeSelect:r.shiftKey,groupSelectsFiltered:f});void 0===u&&0===y&&this.rowNode.setSelectedParams({newValue:!1,rangeSelect:r.shiftKey,groupSelectsFiltered:f})}}r.preventDefault()},o.prototype.destroy=function(){},o}(he),yb=function(){var d=function(o,r){return(d=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(a,u){a.__proto__=u}||function(a,u){for(var c in u)u.hasOwnProperty(c)&&(a[c]=u[c])})(o,r)};return function(o,r){function a(){this.constructor=o}d(o,r),o.prototype=null===r?Object.create(r):(a.prototype=r.prototype,new a)}}(),QS=function(d){function o(r,a,u,c){var f=d.call(this,'<div class="ag-drag-handle ag-row-drag" draggable="true"></div>')||this;return f.rowNode=r,f.column=a,f.beans=u,f.eCell=c,f}return yb(o,d),o.prototype.postConstruct=function(){this.getGui().appendChild(An("rowDrag",this.beans.gridOptionsWrapper,null)),this.addGuiEventListener("mousedown",function(a){a.stopPropagation()}),this.addDragSource(),this.checkVisibility()},o.prototype.addDragSource=function(){this.addGuiEventListener("dragstart",this.onDragStart.bind(this))},o.prototype.onDragStart=function(r){var a=this,u=this.column.getColDef().dndSourceOnRowDrag,c=Ji();c||r.dataTransfer.setDragImage(this.eCell,0,0),u?u({rowNode:this.rowNode,dragEvent:r}):function(){try{var y=JSON.stringify(a.rowNode.data);c?r.dataTransfer.setData("text",y):(r.dataTransfer.setData("application/json",y),r.dataTransfer.setData("text/plain",y))}catch(w){}}()},o.prototype.checkVisibility=function(){var r=this.column.isDndSource(this.rowNode);this.setDisplayed(r)},function(d,o,r,a){var f,u=arguments.length,c=u<3?o:null===a?a=Object.getOwnPropertyDescriptor(o,r):a;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)c=Reflect.decorate(d,o,r,a);else for(var y=d.length-1;y>=0;y--)(f=d[y])&&(c=(u<3?f(c):u>3?f(o,r,c):f(o,r))||c);u>3&&c&&Object.defineProperty(o,r,c)}([ye],o.prototype,"postConstruct",null),o}(_t),wi=function(){var d=function(o,r){return(d=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(a,u){a.__proto__=u}||function(a,u){for(var c in u)u.hasOwnProperty(c)&&(a[c]=u[c])})(o,r)};return function(o,r){function a(){this.constructor=o}d(o,r),o.prototype=null===r?Object.create(r):(a.prototype=r.prototype,new a)}}(),ch=function(){return(ch=Object.assign||function(d){for(var o,r=1,a=arguments.length;r<a;r++)for(var u in o=arguments[r])Object.prototype.hasOwnProperty.call(o,u)&&(d[u]=o[u]);return d}).apply(this,arguments)},_b="ag-cell-not-inline-editing",xr=0,ds=function(d){function o(r,a,u,c){var f=d.call(this)||this;return f.suppressRefreshCell=!1,f.column=r,f.rowNode=a,f.beans=u,f.rowCtrl=c,f.instanceId=r.getId()+"-"+xr++,f.createCellPosition(),f.addFeatures(),f}return wi(o,d),o.prototype.addFeatures=function(){var r=this;this.cellPositionFeature=new ev(this,this.beans),this.addDestroyFunc(function(){return r.cellPositionFeature.destroy()}),this.cellCustomStyleFeature=new NA(this,this.beans),this.addDestroyFunc(function(){return r.cellCustomStyleFeature.destroy()}),this.cellMouseListenerFeature=new ZS(this,this.beans,this.column),this.addDestroyFunc(function(){return r.cellMouseListenerFeature.destroy()}),this.cellKeyboardListenerFeature=new uh(this,this.beans,this.column,this.rowNode,this.scope,this.rowCtrl),this.addDestroyFunc(function(){return r.cellKeyboardListenerFeature.destroy()}),this.beans.rangeService&&this.beans.gridOptionsWrapper.isEnableRangeSelection()&&(this.cellRangeFeature=new FA(this.beans,this),this.addDestroyFunc(function(){return r.cellRangeFeature.destroy()})),this.addTooltipFeature()},o.prototype.addTooltipFeature=function(){var r=this;this.tooltipFeature=new lh({getColumn:function(){return r.column},getColDef:function(){return r.column.getColDef()},getRowIndex:function(){return r.cellPosition.rowIndex},getRowNode:function(){return r.rowNode},getGui:function(){return r.getGui()},getLocation:function(){return"cell"},getTooltipValue:function(){var c=r.column.getColDef(),f=r.rowNode.data;if(c.tooltipField&&ce(f))return ya(f,c.tooltipField,r.column.isTooltipFieldContainsDots());var y=c.tooltipValueGetter;return y?y({location:"cell",api:r.beans.gridOptionsWrapper.getApi(),columnApi:r.beans.gridOptionsWrapper.getColumnApi(),context:r.beans.gridOptionsWrapper.getContext(),colDef:r.column.getColDef(),column:r.column,rowIndex:r.cellPosition.rowIndex,node:r.rowNode,data:r.rowNode.data,value:r.value,valueFormatted:r.valueFormatted}):null},getValueFormatted:function(){return r.valueFormatted}},this.beans),this.addDestroyFunc(function(){return r.tooltipFeature.destroy()})},o.prototype.setComp=function(r,a,u,c,f){this.cellComp=r,this.gow=this.beans.gridOptionsWrapper,this.scope=a,this.eGui=u,this.printLayout=c,this.updateAndFormatValue(!0),this.addDomData(),this.onCellFocused(),this.applyStaticCssClasses(),this.setWrapText(),this.onFirstRightPinnedChanged(),this.onLastLeftPinnedChanged(),this.onColumnHover(),this.setupControlComps(),this.setupAriaExpanded(),this.setupAutoHeight();var y=No(this.column.getId()),w=this.beans.columnModel.getAriaColumnIndex(this.column);this.cellComp.setTabIndex(-1),this.cellComp.setRole("gridcell"),this.cellComp.setAriaColIndex(w),this.cellComp.setColId(y),this.cellComp.setUnselectable(this.beans.gridOptionsWrapper.isEnableCellTextSelection()?null:"on"),this.cellPositionFeature.setComp(r),this.cellCustomStyleFeature.setComp(r,a),this.tooltipFeature.setComp(r),this.cellKeyboardListenerFeature.setComp(this.eGui),this.cellRangeFeature&&this.cellRangeFeature.setComp(r),f&&this.isCellEditable()?this.startEditing():this.showValue()},o.prototype.setupAutoHeight=function(){var r=this;if(this.column.getColDef().autoHeight){var a=function(f){var y=r.beans.gridOptionsWrapper.getDocument();y&&y.contains(r.eGui)||!(f<5)?r.rowNode.setRowAutoHeight(r.eGui.offsetHeight,r.column):r.beans.frameworkOverrides.setTimeout(function(){return a(f++)},0)},u=function(){return a(0)};u();var c=this.beans.resizeObserverService.observeResize(this.eGui,u);this.addDestroyFunc(function(){c(),r.rowNode.setRowAutoHeight(void 0,r.column)})}},o.prototype.getInstanceId=function(){return this.instanceId},o.prototype.showValue=function(r){void 0===r&&(r=!1);var a=null!=this.valueFormatted?this.valueFormatted:this.value,u=this.createCellRendererParams(),c=this.beans.userComponentFactory.getCellRendererDetails(this.column.getColDef(),u);this.cellComp.setRenderDetails(c,a,r),this.refreshHandle()},o.prototype.setupControlComps=function(){var r=this.column.getColDef();this.includeSelection=this.isIncludeControl(r.checkboxSelection),this.includeRowDrag=this.isIncludeControl(r.rowDrag),this.includeDndSource=this.isIncludeControl(r.dndSource);var a=this.beans.gridOptionsWrapper.isEnableCellTextSelection()||1==this.column.getColDef().autoHeight;this.cellComp.setIncludeSelection(this.includeSelection),this.cellComp.setIncludeDndSource(this.includeDndSource),this.cellComp.setIncludeRowDrag(this.includeRowDrag),this.cellComp.setForceWrapper(a)},o.prototype.isIncludeControl=function(r){return!(null!=this.rowNode.rowPinned||"function"!=typeof r&&!0!==r)},o.prototype.setupAriaExpanded=function(){var r=this,a=this.column.getColDef();if(this.rowNode.isExpandable()){var u=a.showRowGroup,c=this.rowNode.rowGroupColumn,f=!0===u,y=c&&c.getColId()===u;if(f||y){var D=function(){r.cellComp.setAriaExpanded(!!r.rowNode.expanded)};this.addManagedListener(this.rowNode,bt.EVENT_EXPANDED_CHANGED,D),D()}}},o.prototype.refreshShouldDestroy=function(){var r=this.column.getColDef(),a=this.includeSelection!=this.isIncludeControl(r.checkboxSelection),u=this.includeRowDrag!=this.isIncludeControl(r.rowDrag),c=this.includeDndSource!=this.isIncludeControl(r.dndSource);return a||u||c},o.prototype.startEditing=function(r,a,u){if(void 0===r&&(r=null),void 0===a&&(a=null),void 0===u&&(u=!1),this.isCellEditable()&&!this.editing){var c=this.createCellEditorParams(r,a,u),f=this.column.getColDef(),y=this.beans.userComponentFactory.getCellEditorDetails(f,c),w=!!f.cellEditorPopup,D=f.cellEditorPopupPosition;this.setEditing(!0,w),this.cellComp.setEditDetails(y,w,D);var O=this.createEvent(null,j.EVENT_CELL_EDITING_STARTED);this.beans.eventService.dispatchEvent(O)}},o.prototype.setEditing=function(r,a){void 0===a&&(a=!1),this.editing!==r&&(this.editing=r,this.editingInPopup=a,this.setInlineEditingClass())},o.prototype.stopRowOrCellEdit=function(r){void 0===r&&(r=!1),this.beans.gridOptionsWrapper.isFullRowEdit()?this.rowCtrl.stopRowEditing(r):this.stopEditing(r)},o.prototype.onPopupEditorClosed=function(){!this.isEditing()||this.stopEditingAndFocus()},o.prototype.takeValueFromCellEditor=function(r){var a={newValueExists:!1};if(r)return a;var u=this.cellComp.getCellEditor();return u?u.isCancelAfterEnd&&u.isCancelAfterEnd()?a:{newValue:u.getValue(),newValueExists:!0}:a},o.prototype.saveNewValue=function(r,a){a!==r&&(this.suppressRefreshCell=!0,this.rowNode.setDataValue(this.column,a),this.suppressRefreshCell=!1)},o.prototype.stopEditing=function(r){if(void 0===r&&(r=!1),this.editing){var a=this.takeValueFromCellEditor(r),u=a.newValue,c=a.newValueExists,f=this.getValueFromValueService();c&&this.saveNewValue(f,u),this.setEditing(!1),this.cellComp.setEditDetails(),this.updateAndFormatValue(),this.refreshCell({forceRefresh:!0,suppressFlash:!0}),this.dispatchEditingStoppedEvent(f,u)}},o.prototype.dispatchEditingStoppedEvent=function(r,a){var u=ch(ch({},this.createEvent(null,j.EVENT_CELL_EDITING_STOPPED)),{oldValue:r,newValue:a});this.beans.eventService.dispatchEvent(u)},o.prototype.setInlineEditingClass=function(){if(this.isAlive()){var r=this.editing&&!this.editingInPopup,a=this.editing&&this.editingInPopup;this.cellComp.addOrRemoveCssClass("ag-cell-inline-editing",r),this.cellComp.addOrRemoveCssClass(_b,!r),this.cellComp.addOrRemoveCssClass("ag-cell-popup-editing",a),this.rowCtrl.setInlineEditingCss(this.editing)}},o.prototype.hackSayEditingInPopup=function(){this.editingInPopup||(this.editingInPopup=!0,this.setInlineEditingClass())},o.prototype.createCellEditorParams=function(r,a,u){var c={value:this.getValueFromValueService(),keyPress:r,charPress:a,column:this.column,colDef:this.column.getColDef(),rowIndex:this.getCellPosition().rowIndex,node:this.rowNode,data:this.rowNode.data,api:this.beans.gridOptionsWrapper.getApi(),cellStartedEdit:u,columnApi:this.beans.gridOptionsWrapper.getColumnApi(),context:this.beans.gridOptionsWrapper.getContext(),onKeyDown:this.onKeyDown.bind(this),stopEditing:this.stopEditingAndFocus.bind(this),eGridCell:this.getGui(),parseValue:this.parseValue.bind(this),formatValue:this.formatValue.bind(this)};return this.scope&&(c.$scope=this.scope),c},o.prototype.createCellRendererParams=function(){var r=this,u={value:this.value,valueFormatted:this.valueFormatted,getValue:this.getValueFromValueService.bind(this),setValue:function(c){return r.beans.valueService.setValue(r.rowNode,r.column,c)},formatValue:this.formatValue.bind(this),data:this.rowNode.data,node:this.rowNode,colDef:this.column.getColDef(),column:this.column,rowIndex:this.getCellPosition().rowIndex,api:this.beans.gridOptionsWrapper.getApi(),columnApi:this.beans.gridOptionsWrapper.getColumnApi(),context:this.beans.gridOptionsWrapper.getContext(),refreshCell:this.refreshCell.bind(this),eGridCell:this.getGui(),eParentOfValue:this.cellComp.getParentOfValue(),registerRowDragger:function(c,f,y,w){return r.registerRowDragger(c,f,w)},addRowCompListener:function(c,f){console.warn("AG Grid: since AG Grid v26, params.addRowCompListener() is deprecated. If you need this functionality, please contact AG Grid support and advise why so that we can revert with an appropriate workaround, as we dont have any valid use cases for it. This method was originally provided as a work around to know when cells were destroyed in AG Grid before custom Cell Renderers could be provided."),r.rowCtrl.addEventListener(c,f)}};return this.scope&&(u.$scope=this.scope),u},o.prototype.parseValue=function(r){var a=this.column.getColDef(),u={node:this.rowNode,data:this.rowNode.data,oldValue:this.getValue(),newValue:r,colDef:a,column:this.column,api:this.beans.gridOptionsWrapper.getApi(),columnApi:this.beans.gridOptionsWrapper.getColumnApi(),context:this.beans.gridOptionsWrapper.getContext()},c=a.valueParser;return ce(c)?this.beans.expressionService.evaluate(c,u):r},o.prototype.setFocusOutOnEditor=function(){if(this.editing){var r=this.cellComp.getCellEditor();r&&r.focusOut&&r.focusOut()}},o.prototype.setFocusInOnEditor=function(){if(this.editing){var r=this.cellComp.getCellEditor();r&&r.focusIn?r.focusIn():this.focusCell(!0)}},o.prototype.onCellChanged=function(r){r.column===this.column&&this.refreshCell({})},o.prototype.refreshCell=function(r){if(!this.suppressRefreshCell&&!this.editing){var a=this.column.getColDef(),u=null!=r&&!!r.newData,c=null!=r&&!!r.suppressFlash||!!a.suppressCellFlash,y=r&&r.forceRefresh||null==a.field&&null==a.valueGetter&&null==a.showRowGroup||u,w=this.updateAndFormatValue();if(y||w){this.showValue(u);var O=this.beans.filterManager.isSuppressFlashingCellsBecauseFiltering();!c&&!O&&(this.beans.gridOptionsWrapper.isEnableCellChangeFlash()||a.enableCellChangeFlash)&&this.flashCell(),this.cellCustomStyleFeature.applyUserStyles(),this.cellCustomStyleFeature.applyClassesFromColDef()}this.refreshToolTip(),this.cellCustomStyleFeature.applyCellClassRules()}},o.prototype.stopEditingAndFocus=function(r){void 0===r&&(r=!1),this.stopRowOrCellEdit(),this.focusCell(!0),r||this.navigateAfterEdit()},o.prototype.navigateAfterEdit=function(){this.beans.gridOptionsWrapper.isFullRowEdit()||this.beans.gridOptionsWrapper.isEnterMovesDownAfterEdit()&&this.beans.navigationService.navigateToNextCell(null,me.DOWN,this.getCellPosition(),!1)},o.prototype.flashCell=function(r){this.animateCell("data-changed",r&&r.flashDelay,r&&r.fadeDelay)},o.prototype.animateCell=function(r,a,u){var c=this,f="ag-cell-"+r,y="ag-cell-"+r+"-animation",w=this.beans.gridOptionsWrapper;a||(a=w.getCellFlashDelay()),ce(u)||(u=w.getCellFadeDelay()),this.cellComp.addOrRemoveCssClass(f,!0),this.cellComp.addOrRemoveCssClass(y,!1),window.setTimeout(function(){c.cellComp.addOrRemoveCssClass(f,!1),c.cellComp.addOrRemoveCssClass(y,!0),c.cellComp.setTransition("background-color "+u+"ms"),window.setTimeout(function(){c.cellComp.addOrRemoveCssClass(y,!1),c.cellComp.setTransition("transition")},u)},a)},o.prototype.onFlashCells=function(r){var a=this.beans.cellPositionUtils.createId(this.getCellPosition());r.cells[a]&&this.animateCell("highlight")},o.prototype.isCellEditable=function(){return this.column.isCellEditable(this.rowNode)},o.prototype.isSuppressFillHandle=function(){return this.column.isSuppressFillHandle()},o.prototype.formatValue=function(r){var a=this.callValueFormatter(r);return null!=a?a:r},o.prototype.callValueFormatter=function(r){return this.beans.valueFormatterService.formatValue(this.column,this.rowNode,this.scope,r)},o.prototype.updateAndFormatValue=function(r){void 0===r&&(r=!1);var a=this.value,u=this.valueFormatted;return this.value=this.getValueFromValueService(),this.valueFormatted=this.callValueFormatter(this.value),!!r||!this.valuesAreEqual(a,this.value)||this.valueFormatted!=u},o.prototype.valuesAreEqual=function(r,a){var u=this.column.getColDef();return u.equals?u.equals(r,a):r===a},o.prototype.getComp=function(){return this.cellComp},o.prototype.getValueFromValueService=function(){var r=this.rowNode.leafGroup&&this.beans.columnModel.isPivotMode(),a=this.rowNode.group&&this.rowNode.expanded&&!this.rowNode.footer&&!r,u=this.beans.gridOptionsWrapper.isGroupIncludeFooter(),c=this.beans.gridOptionsWrapper.isGroupSuppressBlankHeader();return this.beans.valueService.getValue(this.column,this.rowNode,!1,a&&u&&!c)},o.prototype.getValue=function(){return this.value},o.prototype.getValueFormatted=function(){return this.valueFormatted},o.prototype.addDomData=function(){var r=this,a=this.getGui();this.beans.gridOptionsWrapper.setDomData(a,o.DOM_DATA_KEY_CELL_CTRL,this),this.addDestroyFunc(function(){return r.beans.gridOptionsWrapper.setDomData(a,o.DOM_DATA_KEY_CELL_CTRL,null)})},o.prototype.createEvent=function(r,a){var u={type:a,node:this.rowNode,data:this.rowNode.data,value:this.value,column:this.column,colDef:this.column.getColDef(),context:this.beans.gridOptionsWrapper.getContext(),api:this.beans.gridApi,columnApi:this.beans.columnApi,rowPinned:this.rowNode.rowPinned,event:r,rowIndex:this.rowNode.rowIndex};return this.scope&&(u.$scope=this.scope),u},o.prototype.onKeyPress=function(r){this.cellKeyboardListenerFeature.onKeyPress(r)},o.prototype.onKeyDown=function(r){this.cellKeyboardListenerFeature.onKeyDown(r)},o.prototype.onMouseEvent=function(r,a){this.cellMouseListenerFeature.onMouseEvent(r,a)},o.prototype.getGui=function(){return this.eGui},o.prototype.refreshToolTip=function(){this.tooltipFeature.refreshToolTip()},o.prototype.getColSpanningList=function(){return this.cellPositionFeature.getColSpanningList()},o.prototype.onLeftChanged=function(){this.cellPositionFeature.onLeftChanged(),this.refreshAriaIndex()},o.prototype.refreshAriaIndex=function(){var r=this.beans.columnModel.getAriaColumnIndex(this.column);this.cellComp.setAriaColIndex(r)},o.prototype.isSuppressNavigable=function(){return this.column.isSuppressNavigable(this.rowNode)},o.prototype.onWidthChanged=function(){return this.cellPositionFeature.onWidthChanged()},o.prototype.getColumn=function(){return this.column},o.prototype.getRowNode=function(){return this.rowNode},o.prototype.getBeans=function(){return this.beans},o.prototype.isPrintLayout=function(){return this.printLayout},o.prototype.appendChild=function(r){this.eGui.appendChild(r)},o.prototype.refreshHandle=function(){this.editing||this.cellRangeFeature&&this.cellRangeFeature.refreshHandle()},o.prototype.getCellPosition=function(){return this.cellPosition},o.prototype.isEditing=function(){return this.editing},o.prototype.startRowOrCellEdit=function(r,a){this.beans.gridOptionsWrapper.isFullRowEdit()?this.rowCtrl.startRowEditing(r,a,this):this.startEditing(r,a,!0)},o.prototype.getRowCtrl=function(){return this.rowCtrl},o.prototype.getRowPosition=function(){return{rowIndex:this.cellPosition.rowIndex,rowPinned:this.cellPosition.rowPinned}},o.prototype.updateRangeBordersIfRangeCount=function(){this.cellRangeFeature&&this.cellRangeFeature.updateRangeBordersIfRangeCount()},o.prototype.onRangeSelectionChanged=function(){this.cellRangeFeature&&this.cellRangeFeature.onRangeSelectionChanged()},o.prototype.isRangeSelectionEnabled=function(){return null!=this.cellRangeFeature},o.prototype.focusCell=function(r){void 0===r&&(r=!1),this.beans.focusService.setFocusedCell(this.getCellPosition().rowIndex,this.column,this.rowNode.rowPinned,r)},o.prototype.onRowIndexChanged=function(){this.createCellPosition(),this.onCellFocused(),this.cellRangeFeature&&this.cellRangeFeature.onRangeSelectionChanged()},o.prototype.onFirstRightPinnedChanged=function(){if(this.cellComp){var r=this.column.isFirstRightPinned();this.cellComp.addOrRemoveCssClass("ag-cell-first-right-pinned",r)}},o.prototype.onLastLeftPinnedChanged=function(){if(this.cellComp){var r=this.column.isLastLeftPinned();this.cellComp.addOrRemoveCssClass("ag-cell-last-left-pinned",r)}},o.prototype.onCellFocused=function(r){if(this.cellComp){var a=this.beans.focusService.isCellFocused(this.cellPosition);if(this.gow.isSuppressCellSelection()||this.cellComp.addOrRemoveCssClass("ag-cell-focus",a),a&&r&&r.forceBrowserFocus){var u=this.cellComp.getFocusableElement();u.focus(),(!document.activeElement||document.activeElement===document.body)&&u.focus()}var c=this.beans.gridOptionsWrapper.isFullRowEdit();!a&&!c&&this.editing&&this.stopRowOrCellEdit()}},o.prototype.createCellPosition=function(){this.cellPosition={rowIndex:this.rowNode.rowIndex,rowPinned:this.rowNode.rowPinned,column:this.column}},o.prototype.applyStaticCssClasses=function(){this.cellComp.addOrRemoveCssClass("ag-cell",!0),this.cellComp.addOrRemoveCssClass(_b,!0);var r=1==this.column.getColDef().autoHeight;this.cellComp.addOrRemoveCssClass("ag-cell-auto-height",r),this.cellComp.addOrRemoveCssClass("ag-cell-normal-height",!r)},o.prototype.onColumnHover=function(){if(this.cellComp&&this.beans.gridOptionsWrapper.isColumnHoverHighlight()){var r=this.beans.columnHoverService.isHovered(this.column);this.cellComp.addOrRemoveCssClass("ag-column-hover",r)}},o.prototype.onNewColumnsLoaded=function(){!this.cellComp||(this.setWrapText(),this.editing||this.refreshCell({forceRefresh:!0,suppressFlash:!0}))},o.prototype.setWrapText=function(){var r=1==this.column.getColDef().wrapText;this.cellComp.addOrRemoveCssClass("ag-cell-wrap-text",r)},o.prototype.dispatchCellContextMenuEvent=function(r){var a=this.column.getColDef(),u=this.createEvent(r,j.EVENT_CELL_CONTEXT_MENU);this.beans.eventService.dispatchEvent(u),a.onCellContextMenu&&window.setTimeout(function(){return a.onCellContextMenu(u)},0)},o.prototype.getCellRenderer=function(){return this.cellComp?this.cellComp.getCellRenderer():null},o.prototype.getCellEditor=function(){return this.cellComp?this.cellComp.getCellEditor():null},o.prototype.destroy=function(){d.prototype.destroy.call(this)},o.prototype.createSelectionCheckbox=function(){var r=new Uc;return this.beans.context.createBean(r),r.init({rowNode:this.rowNode,column:this.column}),r},o.prototype.createDndSource=function(){var r=new QS(this.rowNode,this.column,this.beans,this.eGui);return this.beans.context.createBean(r),r},o.prototype.registerRowDragger=function(r,a,u){var c=this;if(this.customRowDragComp)this.customRowDragComp.setDragElement(r,a);else{var f=this.createRowDragComp(r,a,u);f&&(this.customRowDragComp=f,this.addDestroyFunc(function(){return c.beans.context.destroyBean(f)}))}},o.prototype.createRowDragComp=function(r,a,u){var c=this,f=this.beans.gridOptionsWrapper.isPagination(),y=this.beans.gridOptionsWrapper.isRowDragManaged(),w=this.beans.gridOptionsWrapper.isRowModelDefault();if(y){if(!w)return void Mi(function(){return console.warn("AG Grid: managed row dragging is only allowed in the Client Side Row Model")},"CellComp.addRowDragging");if(f)return void Mi(function(){return console.warn("AG Grid: managed row dragging is not possible when doing pagination")},"CellComp.addRowDragging")}var D=new zg(function(){return c.value},this.rowNode,this.column,r,a,u);return this.beans.context.createBean(D),D},o.DOM_DATA_KEY_CELL_CTRL="cellCtrl",o}(he),dh=function(){return(dh=Object.assign||function(d){for(var o,r=1,a=arguments.length;r<a;r++)for(var u in o=arguments[r])Object.prototype.hasOwnProperty.call(o,u)&&(d[u]=o[u]);return d}).apply(this,arguments)},bb=function(){function d(){}return d.createChildScopeOrNull=function(o,r,a){if(!a.isAngularCompileRows())return null;var c=r.$new();return c.data=dh({},o.data),c.rowNode=o,c.context=a.getContext(),{scope:c,scopeDestroyFunc:function(){c.$destroy(),c.data=null,c.rowNode=null,c.context=null}}},d}(),cr=function(){var d=function(o,r){return(d=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(a,u){a.__proto__=u}||function(a,u){for(var c in u)u.hasOwnProperty(c)&&(a[c]=u[c])})(o,r)};return function(o,r){function a(){this.constructor=o}d(o,r),o.prototype=null===r?Object.create(r):(a.prototype=r.prototype,new a)}}(),Sn=(()=>(function(d){d.Normal="Normal",d.FullWidth="FullWidth",d.FullWidthLoading="FullWidthLoading",d.FullWidthGroup="FullWidthGroup",d.FullWidthDetail="FullWidthDetail"}(Sn||(Sn={})),Sn))(),rE=Vs([[Sn.FullWidthLoading,"agLoadingCellRenderer"],[Sn.FullWidthGroup,"agGroupRowRenderer"],[Sn.FullWidthDetail,"agDetailCellRenderer"]]),oE=Vs([[Sn.FullWidth,"fullWidthCellRenderer"],[Sn.FullWidthLoading,"loadingCellRenderer"],[Sn.FullWidthGroup,"groupRowRenderer"],[Sn.FullWidthDetail,"detailCellRenderer"]]),Cb=0,La=function(d){function o(r,a,u,c,f,y){var w=d.call(this)||this;return w.allRowGuis=[],w.active=!0,w.centerCellCtrls={list:[],map:{}},w.leftCellCtrls={list:[],map:{}},w.rightCellCtrls={list:[],map:{}},w.lastMouseDownOnDragger=!1,w.updateColumnListsPending=!1,w.parentScope=r,w.beans=u,w.rowNode=a,w.paginationPage=w.beans.paginationProxy.getCurrentPage(),w.useAnimationFrameForCreate=f,w.printLayout=y,w.instanceId=a.id+"-"+Cb++,w.setAnimateFlags(c),w.rowFocused=w.beans.focusService.isRowFocused(w.rowNode.rowIndex,w.rowNode.rowPinned),w.setupAngular1Scope(),w.rowLevel=w.beans.rowCssClassCalculator.calculateRowLevel(w.rowNode),w.setRowType(),w.addListeners(),w.setInitialRowTop(),w}return cr(o,d),o.prototype.getBeans=function(){return this.beans},o.prototype.getInstanceId=function(){return this.instanceId},o.prototype.setComp=function(r,a,u){var c={rowComp:r,element:a,pinned:u};this.allRowGuis.push(c),u===q.PINNED_LEFT?this.leftGui=c:u===q.PINNED_RIGHT?this.rightGui=c:this.isFullWidth()&&!this.beans.gridOptionsWrapper.isEmbedFullWidthRows()?this.fullWidthGui=c:this.centerGui=c,(null!=this.leftGui&&null!=this.rightGui&&null!=this.centerGui||null!=this.fullWidthGui)&&this.initialiseRowComps()},o.prototype.isCacheable=function(){return this.rowType===Sn.FullWidthDetail&&this.beans.gridOptionsWrapper.isKeepDetailRows()},o.prototype.setCached=function(r){var a=r?"none":void 0;this.allRowGuis.forEach(function(u){return u.rowComp.setDisplay(a)})},o.prototype.initialiseRowComps=function(){var r=this,a=this.beans.gridOptionsWrapper;this.onRowHeightChanged(),this.updateRowIndexes(),this.setFocusedClasses(),this.setStylesFromGridOptions(),a.isRowSelection()&&this.rowNode.selectable&&this.onRowSelected(),this.updateColumnLists(!this.useAnimationFrameForCreate),this.slideRowIn&&og(this.onTopChanged.bind(this)),this.fadeRowIn&&og(function(){r.allRowGuis.forEach(function(y){return y.rowComp.addOrRemoveCssClass("ag-opacity-zero",!1)})});var u=this.getRowBusinessKey(),c=No(this.rowNode.id),f=No(u);this.allRowGuis.forEach(function(y){var w=y.rowComp;w.setRole("row"),r.getInitialRowClasses(y.pinned).forEach(function(O){return w.addOrRemoveCssClass(O,!0)}),r.rowNode.group&&w.setAriaExpanded(1==r.rowNode.expanded),null!=c&&w.setRowId(c),null!=f&&w.setRowBusinessKey(f),r.isFullWidth()&&w.setTabIndex(-1),a.setDomData(y.element,o.DOM_DATA_KEY_ROW_CTRL,r),r.addDestroyFunc(function(){return a.setDomData(y.element,o.DOM_DATA_KEY_ROW_CTRL,null)}),r.useAnimationFrameForCreate?r.beans.animationFrameService.createTask(r.addHoverFunctionality.bind(r,y.element),r.rowNode.rowIndex,"createTasksP2"):r.addHoverFunctionality(y.element),r.isFullWidth()&&r.setupFullWidth(y),a.isRowDragEntireRow()&&r.addRowDraggerToRow(y),r.beans.animationFrameService.addDestroyTask(function(){r.isAlive()&&y.rowComp.addOrRemoveCssClass("ag-after-created",!0)})}),this.executeProcessRowPostCreateFunc()},o.prototype.addRowDraggerToRow=function(r){if(this.beans.gridOptionsWrapper.isEnableRangeSelection())Mi(function(){console.warn("AG Grid: Setting `rowDragEntireRow: true` in the gridOptions doesn't work with `enableRangeSelection: true`")},"rowDragAndRangeSelectionEnabled");else{var u=new zg(function(){return"1 row"},this.rowNode,void 0,r.element,void 0,!0);this.createManagedBean(u,this.beans.context)}},o.prototype.getFullWidthCellRendererType=function(){return oE.get(this.rowType)},o.prototype.getFullWidthCellRendererName=function(){return rE.get(this.rowType)},o.prototype.setupFullWidth=function(r){var a=this.createFullWidthParams(r.element,r.pinned),u=this.getFullWidthCellRendererType(),c=this.getFullWidthCellRendererName(),f=this.beans.userComponentFactory.getFullWidthCellRendererDetails(a,u,c);if(f)r.rowComp.showFullWidth(f);else{var y=ot.isRegistered(H.GXE.MasterDetailModule);"agDetailCellRenderer"!==c||y?console.error("AG Grid: fullWidthCellRenderer "+c+" not found"):console.warn("AG Grid: cell renderer agDetailCellRenderer (for master detail) not found. Did you forget to include the master detail module?")}},o.prototype.getScope=function(){return this.scope},o.prototype.isPrintLayout=function(){return this.printLayout},o.prototype.setupAngular1Scope=function(){var r=bb.createChildScopeOrNull(this.rowNode,this.parentScope,this.beans.gridOptionsWrapper);r&&(this.scope=r.scope,this.addDestroyFunc(r.scopeDestroyFunc))},o.prototype.getCellElement=function(r){var a=this.getCellCtrl(r);return a?a.getGui():null},o.prototype.executeProcessRowPostCreateFunc=function(){var r=this.beans.gridOptionsWrapper.getProcessRowPostCreateFunc();r&&r({eRow:this.centerGui?this.centerGui.element:void 0,ePinnedLeftRow:this.leftGui?this.leftGui.element:void 0,ePinnedRightRow:this.rightGui?this.rightGui.element:void 0,node:this.rowNode,api:this.beans.gridOptionsWrapper.getApi(),rowIndex:this.rowNode.rowIndex,addRenderedRowListener:this.addEventListener.bind(this),columnApi:this.beans.gridOptionsWrapper.getColumnApi(),context:this.beans.gridOptionsWrapper.getContext()})},o.prototype.setRowType=function(){var r=this.rowNode.stub,a=this.rowNode.isFullWidthCell(),u=this.beans.doingMasterDetail&&this.rowNode.detail,c=this.beans.columnModel.isPivotMode(),y=!!this.rowNode.group&&!this.rowNode.footer&&this.beans.gridOptionsWrapper.isGroupUseEntireRow(c);this.rowType=r?Sn.FullWidthLoading:u?Sn.FullWidthDetail:a?Sn.FullWidth:y?Sn.FullWidthGroup:Sn.Normal},o.prototype.updateColumnLists=function(r){var a=this;if(void 0===r&&(r=!1),!this.isFullWidth()){if(r||this.beans.gridOptionsWrapper.isSuppressAnimationFrame()||this.printLayout)return void this.updateColumnListsImpl();this.updateColumnListsPending||(this.beans.animationFrameService.createTask(function(){!a.active||a.updateColumnListsImpl()},this.rowNode.rowIndex,"createTasksP1"),this.updateColumnListsPending=!0)}},o.prototype.createCellCtrls=function(r,a,u){var c=this;void 0===u&&(u=null);var f={list:[],map:{}},y=function(w,D){f.list.push(D),f.map[w]=D};return a.forEach(function(w){var D=w.getInstanceId(),O=r.map[D];O||(O=new ds(w,c.rowNode,c.beans,c)),y(D,O)}),r.list.forEach(function(w){if(null==f.map[w.getColumn().getInstanceId()]){if(!c.isCellEligibleToBeRemoved(w,u))return void y(w.getColumn().getInstanceId(),w);w.destroy()}}),f},o.prototype.updateColumnListsImpl=function(){var r=this;this.updateColumnListsPending=!1;var a=this.beans.columnModel;if(this.printLayout)this.centerCellCtrls=this.createCellCtrls(this.centerCellCtrls,a.getAllDisplayedColumns()),this.leftCellCtrls={list:[],map:{}},this.rightCellCtrls={list:[],map:{}};else{var u=a.getViewportCenterColumnsForRow(this.rowNode);this.centerCellCtrls=this.createCellCtrls(this.centerCellCtrls,u);var c=a.getDisplayedLeftColumnsForRow(this.rowNode);this.leftCellCtrls=this.createCellCtrls(this.leftCellCtrls,c,q.PINNED_LEFT);var f=a.getDisplayedRightColumnsForRow(this.rowNode);this.rightCellCtrls=this.createCellCtrls(this.rightCellCtrls,f,q.PINNED_RIGHT)}this.allRowGuis.forEach(function(y){y.rowComp.setCellCtrls((y.pinned===q.PINNED_LEFT?r.leftCellCtrls:y.pinned===q.PINNED_RIGHT?r.rightCellCtrls:r.centerCellCtrls).list)})},o.prototype.isCellEligibleToBeRemoved=function(r,a){var u=!0;if(r.getColumn().getPinned()!=a)return u;var y=r.isEditing(),w=this.beans.focusService.isCellFocused(r.getCellPosition());if(y||w){var O=r.getColumn();return!(this.beans.columnModel.getAllDisplayedColumns().indexOf(O)>=0)&&u}return u},o.prototype.setAnimateFlags=function(r){if(r){var a=ce(this.rowNode.oldRowTop);this.slideRowIn=a,this.fadeRowIn=!a}else this.slideRowIn=!1,this.fadeRowIn=!1},o.prototype.isEditing=function(){return this.editingRow},o.prototype.stopRowEditing=function(r){this.stopEditing(r)},o.prototype.isFullWidth=function(){return this.rowType!==Sn.Normal},o.prototype.getRowType=function(){return this.rowType},o.prototype.refreshFullWidth=function(){var r=this,a=function(D,O){if(!D)return!0;var I=D.rowComp.getFullWidthCellRenderer();if(!I||!I.refresh)return!1;var V=r.createFullWidthParams(D.element,O);return I.refresh(V)},u=a(this.fullWidthGui,null),c=a(this.centerGui,null),f=a(this.leftGui,q.PINNED_LEFT),y=a(this.rightGui,q.PINNED_RIGHT);return u&&c&&f&&y},o.prototype.addListeners=function(){this.addManagedListener(this.rowNode,bt.EVENT_HEIGHT_CHANGED,this.onRowHeightChanged.bind(this)),this.addManagedListener(this.rowNode,bt.EVENT_ROW_SELECTED,this.onRowSelected.bind(this)),this.addManagedListener(this.rowNode,bt.EVENT_ROW_INDEX_CHANGED,this.onRowIndexChanged.bind(this)),this.addManagedListener(this.rowNode,bt.EVENT_TOP_CHANGED,this.onTopChanged.bind(this)),this.addManagedListener(this.rowNode,bt.EVENT_EXPANDED_CHANGED,this.updateExpandedCss.bind(this)),this.addManagedListener(this.rowNode,bt.EVENT_HAS_CHILDREN_CHANGED,this.updateExpandedCss.bind(this)),this.addManagedListener(this.rowNode,bt.EVENT_DATA_CHANGED,this.onRowNodeDataChanged.bind(this)),this.addManagedListener(this.rowNode,bt.EVENT_CELL_CHANGED,this.onRowNodeCellChanged.bind(this)),this.addManagedListener(this.rowNode,bt.EVENT_HIGHLIGHT_CHANGED,this.onRowNodeHighlightChanged.bind(this)),this.addManagedListener(this.rowNode,bt.EVENT_DRAGGING_CHANGED,this.onRowNodeDraggingChanged.bind(this)),this.addManagedListener(this.rowNode,bt.EVENT_UI_LEVEL_CHANGED,this.onUiLevelChanged.bind(this));var r=this.beans.eventService;this.addManagedListener(r,j.EVENT_PAGINATION_PIXEL_OFFSET_CHANGED,this.onPaginationPixelOffsetChanged.bind(this)),this.addManagedListener(r,j.EVENT_HEIGHT_SCALE_CHANGED,this.onTopChanged.bind(this)),this.addManagedListener(r,j.EVENT_DISPLAYED_COLUMNS_CHANGED,this.onDisplayedColumnsChanged.bind(this)),this.addManagedListener(r,j.EVENT_VIRTUAL_COLUMNS_CHANGED,this.onVirtualColumnsChanged.bind(this)),this.addManagedListener(r,j.EVENT_CELL_FOCUSED,this.onCellFocusChanged.bind(this)),this.addManagedListener(r,j.EVENT_PAGINATION_CHANGED,this.onPaginationChanged.bind(this)),this.addManagedListener(r,j.EVENT_MODEL_UPDATED,this.onModelUpdated.bind(this)),this.addManagedListener(r,j.EVENT_COLUMN_MOVED,this.onColumnMoved.bind(this)),this.addListenersForCellComps()},o.prototype.onColumnMoved=function(){this.updateColumnLists()},o.prototype.addListenersForCellComps=function(){var r=this;this.addManagedListener(this.rowNode,bt.EVENT_ROW_INDEX_CHANGED,function(){r.getAllCellCtrls().forEach(function(a){return a.onRowIndexChanged()})}),this.addManagedListener(this.rowNode,bt.EVENT_CELL_CHANGED,function(a){r.getAllCellCtrls().forEach(function(u){return u.onCellChanged(a)})})},o.prototype.onRowNodeDataChanged=function(r){this.getAllCellCtrls().forEach(function(a){return a.refreshCell({suppressFlash:!r.update,newData:!r.update})}),this.onRowSelected(),this.postProcessCss()},o.prototype.onRowNodeCellChanged=function(){this.postProcessCss()},o.prototype.postProcessCss=function(){this.setStylesFromGridOptions(),this.postProcessClassesFromGridOptions(),this.postProcessRowClassRules(),this.postProcessRowDragging()},o.prototype.onRowNodeHighlightChanged=function(){var r=this.rowNode.highlighted;this.allRowGuis.forEach(function(a){var c=r===H.oh5.Below;a.rowComp.addOrRemoveCssClass("ag-row-highlight-above",r===H.oh5.Above),a.rowComp.addOrRemoveCssClass("ag-row-highlight-below",c)})},o.prototype.onRowNodeDraggingChanged=function(){this.postProcessRowDragging()},o.prototype.postProcessRowDragging=function(){var r=this.rowNode.dragging;this.allRowGuis.forEach(function(a){return a.rowComp.addOrRemoveCssClass("ag-row-dragging",r)})},o.prototype.updateExpandedCss=function(){var r=this.rowNode.isExpandable(),a=1==this.rowNode.expanded;this.allRowGuis.forEach(function(u){u.rowComp.addOrRemoveCssClass("ag-row-group",r),u.rowComp.addOrRemoveCssClass("ag-row-group-expanded",r&&a),u.rowComp.addOrRemoveCssClass("ag-row-group-contracted",r&&!a),u.rowComp.setAriaExpanded(r&&a)})},o.prototype.onDisplayedColumnsChanged=function(){this.updateColumnLists(!0),this.beans.columnModel.wasAutoRowHeightEverActive()&&this.rowNode.checkAutoHeights()},o.prototype.onVirtualColumnsChanged=function(){this.updateColumnLists()},o.prototype.getRowPosition=function(){return{rowPinned:this.rowNode.rowPinned,rowIndex:this.rowNode.rowIndex}},o.prototype.onKeyboardNavigate=function(r){var a=Un(this.allRowGuis,function(D){return D.element.contains(r.target)});if((a?a.element:null)===r.target){var f=this.rowNode,y=this.beans.focusService.getFocusedCell();this.beans.navigationService.navigateToNextCell(r,r.keyCode,{rowIndex:f.rowIndex,rowPinned:f.rowPinned,column:y&&y.column},!0),r.preventDefault()}},o.prototype.onTabKeyDown=function(r){if(!r.defaultPrevented&&!Ls(r)){var a=Un(this.allRowGuis,function(y){return y.element.contains(r.target)}),u=a?a.element:null,c=u===r.target,f=null;c||(f=this.beans.focusService.findNextFocusableElement(u,!1,r.shiftKey)),(this.isFullWidth()&&c||!f)&&this.beans.navigationService.onTabKeyDown(this,r)}},o.prototype.onFullWidthRowFocused=function(r){var a=this.rowNode,u=this.isFullWidth()&&r.rowIndex===a.rowIndex&&r.rowPinned==a.rowPinned,c=this.fullWidthGui?this.fullWidthGui.element:this.centerGui.element;Ke(c,"ag-full-width-focus",u),u&&c.focus({preventScroll:!0})},o.prototype.refreshCell=function(r){this.centerCellCtrls=this.removeCellCtrl(this.centerCellCtrls,r),this.leftCellCtrls=this.removeCellCtrl(this.leftCellCtrls,r),this.rightCellCtrls=this.removeCellCtrl(this.rightCellCtrls,r),this.updateColumnLists()},o.prototype.removeCellCtrl=function(r,a){var u={list:[],map:{}};return r.list.forEach(function(c){c!==a&&(u.list.push(c),u.map[c.getInstanceId()]=c)}),u},o.prototype.onMouseEvent=function(r,a){switch(r){case"dblclick":this.onRowDblClick(a);break;case"click":this.onRowClick(a);break;case"touchstart":case"mousedown":this.onRowMouseDown(a)}},o.prototype.createRowEvent=function(r,a){return{type:r,node:this.rowNode,data:this.rowNode.data,rowIndex:this.rowNode.rowIndex,rowPinned:this.rowNode.rowPinned,context:this.beans.gridOptionsWrapper.getContext(),api:this.beans.gridOptionsWrapper.getApi(),columnApi:this.beans.gridOptionsWrapper.getColumnApi(),event:a}},o.prototype.createRowEventWithSource=function(r,a){var u=this.createRowEvent(r,a);return u.source=this,u},o.prototype.onRowDblClick=function(r){if(!Ls(r)){var a=this.createRowEventWithSource(j.EVENT_ROW_DOUBLE_CLICKED,r);this.beans.eventService.dispatchEvent(a)}},o.prototype.onRowMouseDown=function(r){if(this.lastMouseDownOnDragger=pg(r.target,"ag-row-drag",3),this.isFullWidth()){var a=this.rowNode;this.beans.focusService.setFocusedCell(a.rowIndex,this.beans.columnModel.getAllDisplayedColumns()[0],a.rowPinned,!0)}},o.prototype.onRowClick=function(r){if(!Ls(r)&&!this.lastMouseDownOnDragger){var u=this.createRowEventWithSource(j.EVENT_ROW_CLICKED,r);this.beans.eventService.dispatchEvent(u);var c=r.ctrlKey||r.metaKey,f=r.shiftKey;if(!(this.beans.gridOptionsWrapper.isGroupSelectsChildren()&&this.rowNode.group||!this.rowNode.selectable||this.rowNode.rowPinned||!this.beans.gridOptionsWrapper.isRowSelection()||this.beans.gridOptionsWrapper.isSuppressRowClickSelection())){var w=this.beans.gridOptionsWrapper.isRowMultiSelectWithClick(),D=!this.beans.gridOptionsWrapper.isSuppressRowDeselection();this.rowNode.isSelected()?w?this.rowNode.setSelectedParams({newValue:!1}):c?D&&this.rowNode.setSelectedParams({newValue:!1}):this.rowNode.setSelectedParams({newValue:!f,clearSelection:!f,rangeSelect:f}):this.rowNode.setSelectedParams({newValue:!0,clearSelection:!w&&!c,rangeSelect:f})}}},o.prototype.setupDetailRowAutoHeight=function(r){var a=this;if(this.beans.gridOptionsWrapper.isDetailRowAutoHeight()){var u=function(){var f=r.clientHeight;null!=f&&f>0&&a.beans.frameworkOverrides.setTimeout(function(){a.rowNode.setRowHeight(f),a.beans.clientSideRowModel?a.beans.clientSideRowModel.onRowHeightChanged():a.beans.serverSideRowModel&&a.beans.serverSideRowModel.onRowHeightChanged()},0)},c=this.beans.resizeObserverService.observeResize(r,u);this.addDestroyFunc(c),u()}},o.prototype.createFullWidthParams=function(r,a){var u=this;return{fullWidth:!0,data:this.rowNode.data,node:this.rowNode,value:this.rowNode.key,valueFormatted:this.rowNode.key,$scope:this.scope?this.scope:this.parentScope,$compile:this.beans.$compile,rowIndex:this.rowNode.rowIndex,api:this.beans.gridOptionsWrapper.getApi(),columnApi:this.beans.gridOptionsWrapper.getColumnApi(),context:this.beans.gridOptionsWrapper.getContext(),eGridCell:r,eParentOfValue:r,pinned:a,addRenderedRowListener:this.addEventListener.bind(this),registerRowDragger:function(f,y,w,D){return u.addFullWidthRowDragging(f,y,w,D)}}},o.prototype.addFullWidthRowDragging=function(r,a,u,c){if(void 0===u&&(u=""),this.isFullWidth()){var f=new zg(function(){return u},this.rowNode,void 0,r,a,c);this.createManagedBean(f,this.beans.context)}},o.prototype.onUiLevelChanged=function(){var r=this.beans.rowCssClassCalculator.calculateRowLevel(this.rowNode);if(this.rowLevel!=r){var a="ag-row-level-"+r,u="ag-row-level-"+this.rowLevel;this.allRowGuis.forEach(function(c){c.rowComp.addOrRemoveCssClass(a,!0),c.rowComp.addOrRemoveCssClass(u,!1)})}this.rowLevel=r},o.prototype.isFirstRowOnPage=function(){return this.rowNode.rowIndex===this.beans.paginationProxy.getPageFirstRow()},o.prototype.isLastRowOnPage=function(){return this.rowNode.rowIndex===this.beans.paginationProxy.getPageLastRow()},o.prototype.onModelUpdated=function(){var r=this.isFirstRowOnPage(),a=this.isLastRowOnPage();this.firstRowOnPage!==r&&(this.firstRowOnPage=r,this.allRowGuis.forEach(function(u){return u.rowComp.addOrRemoveCssClass("ag-row-first",r)})),this.lastRowOnPage!==a&&(this.lastRowOnPage=a,this.allRowGuis.forEach(function(u){return u.rowComp.addOrRemoveCssClass("ag-row-last",a)}))},o.prototype.stopEditing=function(r){if(void 0===r&&(r=!1),this.getAllCellCtrls().forEach(function(u){return u.stopEditing(r)}),this.editingRow){if(!r){var a=this.createRowEvent(j.EVENT_ROW_VALUE_CHANGED);this.beans.eventService.dispatchEvent(a)}this.setEditingRow(!1)}},o.prototype.setInlineEditingCss=function(r){this.allRowGuis.forEach(function(a){a.rowComp.addOrRemoveCssClass("ag-row-inline-editing",r),a.rowComp.addOrRemoveCssClass("ag-row-not-inline-editing",!r)})},o.prototype.setEditingRow=function(r){this.editingRow=r,this.allRowGuis.forEach(function(u){return u.rowComp.addOrRemoveCssClass("ag-row-editing",r)});var a=this.createRowEvent(r?j.EVENT_ROW_EDITING_STARTED:j.EVENT_ROW_EDITING_STOPPED);this.beans.eventService.dispatchEvent(a)},o.prototype.startRowEditing=function(r,a,u){void 0===r&&(r=null),void 0===a&&(a=null),void 0===u&&(u=null),!this.editingRow&&(this.getAllCellCtrls().forEach(function(c){var f=c===u;f?c.startEditing(r,a,f):c.startEditing(null,null,f)}),this.setEditingRow(!0))},o.prototype.getAllCellCtrls=function(){return function(){for(var d=0,o=0,r=arguments.length;o<r;o++)d+=arguments[o].length;var a=Array(d),u=0;for(o=0;o<r;o++)for(var c=arguments[o],f=0,y=c.length;f<y;f++,u++)a[u]=c[f];return a}(this.centerCellCtrls.list,this.leftCellCtrls.list,this.rightCellCtrls.list)},o.prototype.postProcessClassesFromGridOptions=function(){var r=this,a=this.beans.rowCssClassCalculator.processClassesFromGridOptions(this.rowNode,this.scope);!a||!a.length||a.forEach(function(u){r.allRowGuis.forEach(function(c){return c.rowComp.addOrRemoveCssClass(u,!0)})})},o.prototype.postProcessRowClassRules=function(){var r=this;this.beans.rowCssClassCalculator.processRowClassRules(this.rowNode,this.scope,function(a){r.allRowGuis.forEach(function(u){return u.rowComp.addOrRemoveCssClass(a,!0)})},function(a){r.allRowGuis.forEach(function(u){return u.rowComp.addOrRemoveCssClass(a,!1)})})},o.prototype.setStylesFromGridOptions=function(){var r=this.processStylesFromGridOptions();this.allRowGuis.forEach(function(a){return a.rowComp.setUserStyles(r)})},o.prototype.getRowBusinessKey=function(){var r=this.beans.gridOptionsWrapper.getBusinessKeyForNodeFunc();if("function"==typeof r)return r(this.rowNode)},o.prototype.getInitialRowClasses=function(r){var a={rowNode:this.rowNode,rowFocused:this.rowFocused,fadeRowIn:this.fadeRowIn,rowIsEven:this.rowNode.rowIndex%2==0,rowLevel:this.rowLevel,fullWidthRow:this.isFullWidth(),firstRowOnPage:this.isFirstRowOnPage(),lastRowOnPage:this.isLastRowOnPage(),printLayout:this.printLayout,expandable:this.rowNode.isExpandable(),scope:this.scope,pinned:r};return this.beans.rowCssClassCalculator.getInitialRowClasses(a)},o.prototype.processStylesFromGridOptions=function(){var r=this.beans.gridOptionsWrapper.getRowStyle();if(!r||"function"!=typeof r){var u,a=this.beans.gridOptionsWrapper.getRowStyleFunc();return a&&(u=a({data:this.rowNode.data,node:this.rowNode,rowIndex:this.rowNode.rowIndex,$scope:this.scope,api:this.beans.gridOptionsWrapper.getApi(),columnApi:this.beans.gridOptionsWrapper.getColumnApi(),context:this.beans.gridOptionsWrapper.getContext()})),rr({},r,u)}console.warn("AG Grid: rowStyle should be an object of key/value styles, not be a function, use getRowStyle() instead")},o.prototype.onRowSelected=function(){var r=this,a=this.rowNode.isSelected();this.allRowGuis.forEach(function(u){u.rowComp.setAriaSelected(!!a||void 0),u.rowComp.addOrRemoveCssClass("ag-row-selected",a),u.rowComp.setAriaLabel(r.createAriaLabel())})},o.prototype.createAriaLabel=function(){var r=this.rowNode.isSelected();if(!r||!this.beans.gridOptionsWrapper.isSuppressRowDeselection())return this.beans.gridOptionsWrapper.getLocaleTextFunc()(r?"ariaRowDeselect":"ariaRowSelect","Press SPACE to "+(r?"deselect":"select")+" this row.")},o.prototype.isUseAnimationFrameForCreate=function(){return this.useAnimationFrameForCreate},o.prototype.addHoverFunctionality=function(r){var a=this;!this.active||(this.addManagedListener(r,"mouseenter",function(){return a.rowNode.onMouseEnter()}),this.addManagedListener(r,"mouseleave",function(){return a.rowNode.onMouseLeave()}),this.addManagedListener(this.rowNode,bt.EVENT_MOUSE_ENTER,function(){a.beans.gridOptionsWrapper.isSuppressRowHoverHighlight()||Me(r,"ag-row-hover")}),this.addManagedListener(this.rowNode,bt.EVENT_MOUSE_LEAVE,function(){Xn(r,"ag-row-hover")}))},o.prototype.roundRowTopToBounds=function(r){var u=this.beans.ctrlsService.getGridBodyCtrl().getScrollFeature().getVScrollPosition(),c=this.applyPaginationOffset(u.top,!0)-100,f=this.applyPaginationOffset(u.bottom,!0)+100;return Math.min(Math.max(c,r),f)},o.prototype.getFrameworkOverrides=function(){return this.beans.frameworkOverrides},o.prototype.onRowHeightChanged=function(){if(ce(this.rowNode.rowHeight)){var r=this.rowNode.rowHeight+"px";this.allRowGuis.forEach(function(a){return a.rowComp.setHeight(r)})}},o.prototype.addEventListener=function(r,a){("renderedRowRemoved"===r||"rowRemoved"===r)&&(r=j.EVENT_VIRTUAL_ROW_REMOVED,console.warn("AG Grid: Since version 11, event renderedRowRemoved is now called "+j.EVENT_VIRTUAL_ROW_REMOVED)),d.prototype.addEventListener.call(this,r,a)},o.prototype.removeEventListener=function(r,a){("renderedRowRemoved"===r||"rowRemoved"===r)&&(r=j.EVENT_VIRTUAL_ROW_REMOVED,console.warn("AG Grid: Since version 11, event renderedRowRemoved and rowRemoved is now called "+j.EVENT_VIRTUAL_ROW_REMOVED)),d.prototype.removeEventListener.call(this,r,a)},o.prototype.destroyFirstPass=function(){this.active=!1,this.setupRemoveAnimation();var r=this.createRowEvent(j.EVENT_VIRTUAL_ROW_REMOVED);this.dispatchEvent(r),this.beans.eventService.dispatchEvent(r),d.prototype.destroy.call(this)},o.prototype.setupRemoveAnimation=function(){if(null!=this.rowNode.rowTop){var a=this.roundRowTopToBounds(this.rowNode.rowTop);this.setRowTop(a)}else this.allRowGuis.forEach(function(u){return u.rowComp.addOrRemoveCssClass("ag-opacity-zero",!0)})},o.prototype.destroySecondPass=function(){this.allRowGuis.length=0;var r=function(a){return a.list.forEach(function(u){return u.destroy()}),{list:[],map:{}}};this.centerCellCtrls=r(this.centerCellCtrls),this.leftCellCtrls=r(this.leftCellCtrls),this.rightCellCtrls=r(this.rightCellCtrls)},o.prototype.setFocusedClasses=function(){var r=this;this.allRowGuis.forEach(function(a){a.rowComp.addOrRemoveCssClass("ag-row-focus",r.rowFocused),a.rowComp.addOrRemoveCssClass("ag-row-no-focus",!r.rowFocused)})},o.prototype.onCellFocusChanged=function(){var r=this.beans.focusService.isRowFocused(this.rowNode.rowIndex,this.rowNode.rowPinned);r!==this.rowFocused&&(this.rowFocused=r,this.setFocusedClasses()),!r&&this.editingRow&&this.stopEditing(!1)},o.prototype.onPaginationChanged=function(){var r=this.beans.paginationProxy.getCurrentPage();this.paginationPage!==r&&(this.paginationPage=r,this.onTopChanged())},o.prototype.onTopChanged=function(){this.setRowTop(this.rowNode.rowTop)},o.prototype.onPaginationPixelOffsetChanged=function(){this.onTopChanged()},o.prototype.applyPaginationOffset=function(r,a){return void 0===a&&(a=!1),this.rowNode.isRowPinned()?r:r+this.beans.paginationProxy.getPixelOffset()*(a?1:-1)},o.prototype.setRowTop=function(r){if(!this.printLayout&&ce(r)){var a=this.applyPaginationOffset(r),u=this.rowNode.isRowPinned()?a:this.beans.rowContainerHeightService.getRealPixelPosition(a);this.setRowTopStyle(u+"px")}},o.prototype.getInitialRowTop=function(){return this.initialTop},o.prototype.getInitialTransform=function(){return this.initialTransform},o.prototype.setInitialRowTop=function(){if(this.printLayout)return"";var r=this.slideRowIn?this.roundRowTopToBounds(this.rowNode.oldRowTop):this.rowNode.rowTop,a=this.applyPaginationOffset(r),c=(this.rowNode.isRowPinned()?a:this.beans.rowContainerHeightService.getRealPixelPosition(a))+"px";this.beans.gridOptionsWrapper.isSuppressRowTransform()?this.initialTop=c:this.initialTransform="translateY("+c+")"},o.prototype.setRowTopStyle=function(r){var a=this.beans.gridOptionsWrapper.isSuppressRowTransform();this.allRowGuis.forEach(function(u){return a?u.rowComp.setTop(r):u.rowComp.setTransform("translateY("+r+")")})},o.prototype.getRowNode=function(){return this.rowNode},o.prototype.getCellCtrl=function(r){var a=null;return this.getAllCellCtrls().forEach(function(u){u.getColumn()==r&&(a=u)}),null!=a||this.getAllCellCtrls().forEach(function(u){u.getColSpanningList().indexOf(r)>=0&&(a=u)}),a},o.prototype.onRowIndexChanged=function(){null!=this.rowNode.rowIndex&&(this.onCellFocusChanged(),this.updateRowIndexes())},o.prototype.updateRowIndexes=function(){var r=this,a=this.rowNode.getRowIndexString(),u=this.beans.headerNavigationService.getHeaderRowCount(),c=this.rowNode.rowIndex%2==0;this.allRowGuis.forEach(function(f){f.rowComp.setRowIndex(a),f.rowComp.setAriaRowIndex(u+r.rowNode.rowIndex+1),f.rowComp.addOrRemoveCssClass("ag-row-even",c),f.rowComp.addOrRemoveCssClass("ag-row-odd",!c)})},o.prototype.getPinnedLeftRowElement=function(){return this.leftGui?this.leftGui.element:void 0},o.prototype.getPinnedRightRowElement=function(){return this.rightGui?this.rightGui.element:void 0},o.prototype.getBodyRowElement=function(){return this.centerGui?this.centerGui.element:void 0},o.prototype.getFullWidthRowElement=function(){return this.fullWidthGui?this.fullWidthGui.element:void 0},o.DOM_DATA_KEY_ROW_CTRL="renderedRow",o}(he),wb=function(){var d=function(o,r){return(d=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(a,u){a.__proto__=u}||function(a,u){for(var c in u)u.hasOwnProperty(c)&&(a[c]=u[c])})(o,r)};return function(o,r){function a(){this.constructor=o}d(o,r),o.prototype=null===r?Object.create(r):(a.prototype=r.prototype,new a)}}(),io=function(d,o,r,a){var f,u=arguments.length,c=u<3?o:null===a?a=Object.getOwnPropertyDescriptor(o,r):a;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)c=Reflect.decorate(d,o,r,a);else for(var y=d.length-1;y>=0;y--)(f=d[y])&&(c=(u<3?f(c):u>3?f(o,r,c):f(o,r))||c);return u>3&&c&&Object.defineProperty(o,r,c),c},ov=function(){for(var d=0,o=0,r=arguments.length;o<r;o++)d+=arguments[o].length;var a=Array(d),u=0;for(o=0;o<r;o++)for(var c=arguments[o],f=0,y=c.length;f<y;f++,u++)a[u]=c[f];return a},Db=function(d){function o(){var r=null!==d&&d.apply(this,arguments)||this;return r.destroyFuncsForColumnListeners=[],r.rowCtrlsByRowIndex={},r.zombieRowCtrls={},r.allRowCtrls=[],r.topRowCtrls=[],r.bottomRowCtrls=[],r.refreshInProgress=!1,r}return wb(o,d),o.prototype.postConstruct=function(){var r=this;this.ctrlsService.whenReady(function(){r.gridBodyCtrl=r.ctrlsService.getGridBodyCtrl(),r.initialise()})},o.prototype.initialise=function(){this.addManagedListener(this.eventService,j.EVENT_PAGINATION_CHANGED,this.onPageLoaded.bind(this)),this.addManagedListener(this.eventService,j.EVENT_PINNED_ROW_DATA_CHANGED,this.onPinnedRowDataChanged.bind(this)),this.addManagedListener(this.eventService,j.EVENT_DISPLAYED_COLUMNS_CHANGED,this.onDisplayedColumnsChanged.bind(this)),this.addManagedListener(this.eventService,j.EVENT_BODY_SCROLL,this.redrawAfterScroll.bind(this)),this.addManagedListener(this.eventService,j.EVENT_BODY_HEIGHT_CHANGED,this.redrawAfterScroll.bind(this)),this.addManagedListener(this.gridOptionsWrapper,Fe.PROP_DOM_LAYOUT,this.onDomLayoutChanged.bind(this)),this.addManagedListener(this.eventService,j.EVENT_NEW_COLUMNS_LOADED,this.onNewColumnsLoaded.bind(this)),this.registerCellEventListeners(),this.initialiseCache(),this.printLayout=this.gridOptionsWrapper.getDomLayout()===q.DOM_LAYOUT_PRINT,this.embedFullWidthRows=this.printLayout||this.gridOptionsWrapper.isEmbedFullWidthRows(),this.redrawAfterModelUpdate()},o.prototype.initialiseCache=function(){if(this.gridOptionsWrapper.isKeepDetailRows()){var r=this.gridOptionsWrapper.getKeepDetailRowsCount();this.cachedRowCtrls=new sE(null!=r?r:3)}},o.prototype.getRowCtrls=function(){return this.allRowCtrls},o.prototype.updateAllRowCtrls=function(){var r=Fr(this.rowCtrlsByRowIndex);this.beans.gridOptionsWrapper.isEnsureDomOrder()&&r.sort(function(c,f){return c.getRowNode().rowIndex-f.getRowNode.rowIndex});var a=Fr(this.zombieRowCtrls),u=this.cachedRowCtrls?this.cachedRowCtrls.getEntries():[];this.allRowCtrls=ov(r,a,u)},o.prototype.registerCellEventListeners=function(){var r=this;this.addManagedListener(this.eventService,j.EVENT_CELL_FOCUSED,function(u){r.getAllCellCtrls().forEach(function(c){return c.onCellFocused(u)}),r.getAllRowCtrls().forEach(function(c){c.isFullWidth()&&c.onFullWidthRowFocused(u)})}),this.addManagedListener(this.eventService,j.EVENT_FLASH_CELLS,function(u){r.getAllCellCtrls().forEach(function(c){return c.onFlashCells(u)})}),this.addManagedListener(this.eventService,j.EVENT_COLUMN_HOVER_CHANGED,function(){r.getAllCellCtrls().forEach(function(u){return u.onColumnHover()})}),this.addManagedListener(this.eventService,j.EVENT_DISPLAYED_COLUMNS_WIDTH_CHANGED,function(){r.printLayout&&r.getAllCellCtrls().forEach(function(u){return u.onLeftChanged()})}),this.gridOptionsWrapper.isEnableRangeSelection()&&(this.addManagedListener(this.eventService,j.EVENT_RANGE_SELECTION_CHANGED,function(){r.getAllCellCtrls().forEach(function(u){return u.onRangeSelectionChanged()})}),this.addManagedListener(this.eventService,j.EVENT_COLUMN_MOVED,function(){r.getAllCellCtrls().forEach(function(u){return u.updateRangeBordersIfRangeCount()})}),this.addManagedListener(this.eventService,j.EVENT_COLUMN_PINNED,function(){r.getAllCellCtrls().forEach(function(u){return u.updateRangeBordersIfRangeCount()})}),this.addManagedListener(this.eventService,j.EVENT_COLUMN_VISIBLE,function(){r.getAllCellCtrls().forEach(function(u){return u.updateRangeBordersIfRangeCount()})})),this.refreshListenersToColumnsForCellComps(),this.addManagedListener(this.eventService,j.EVENT_GRID_COLUMNS_CHANGED,this.refreshListenersToColumnsForCellComps.bind(this)),this.addDestroyFunc(this.removeGridColumnListeners.bind(this))},o.prototype.removeGridColumnListeners=function(){this.destroyFuncsForColumnListeners.forEach(function(r){return r()}),this.destroyFuncsForColumnListeners.length=0},o.prototype.refreshListenersToColumnsForCellComps=function(){var r=this;this.removeGridColumnListeners();var a=this.columnModel.getAllGridColumns();!a||a.forEach(function(u){var c=function(O){r.getAllCellCtrls().forEach(function(I){I.getColumn()===u&&O(I)})},f=function(){c(function(O){return O.onLeftChanged()})},y=function(){c(function(O){return O.onWidthChanged()})},w=function(){c(function(O){return O.onFirstRightPinnedChanged()})},D=function(){c(function(O){return O.onLastLeftPinnedChanged()})};u.addEventListener(jt.EVENT_LEFT_CHANGED,f),u.addEventListener(jt.EVENT_WIDTH_CHANGED,y),u.addEventListener(jt.EVENT_FIRST_RIGHT_PINNED_CHANGED,w),u.addEventListener(jt.EVENT_LAST_LEFT_PINNED_CHANGED,D),r.destroyFuncsForColumnListeners.push(function(){u.removeEventListener(jt.EVENT_LEFT_CHANGED,f),u.removeEventListener(jt.EVENT_WIDTH_CHANGED,y),u.removeEventListener(jt.EVENT_FIRST_RIGHT_PINNED_CHANGED,w),u.removeEventListener(jt.EVENT_LAST_LEFT_PINNED_CHANGED,D)})})},o.prototype.onDomLayoutChanged=function(){var r=this.gridOptionsWrapper.getDomLayout()===q.DOM_LAYOUT_PRINT,a=r||this.gridOptionsWrapper.isEmbedFullWidthRows(),u=a!==this.embedFullWidthRows||this.printLayout!==r;this.printLayout=r,this.embedFullWidthRows=a,u&&this.redrawAfterModelUpdate()},o.prototype.datasourceChanged=function(){this.firstRenderedRow=0,this.lastRenderedRow=-1;var r=Object.keys(this.rowCtrlsByRowIndex);this.removeRowCtrls(r)},o.prototype.onPageLoaded=function(r){this.redrawAfterModelUpdate({recycleRows:r.keepRenderedRows,animate:r.animate,newData:r.newData,newPage:r.newPage,onlyBody:!0})},o.prototype.getAllCellsForColumn=function(r){var a=[];return this.getAllRowCtrls().forEach(function(u){var c=u.getCellElement(r);c&&a.push(c)}),a},o.prototype.refreshFloatingRowComps=function(){this.refreshFloatingRows(this.topRowCtrls,this.pinnedRowModel.getPinnedTopRowData()),this.refreshFloatingRows(this.bottomRowCtrls,this.pinnedRowModel.getPinnedBottomRowData())},o.prototype.getTopRowCtrls=function(){return this.topRowCtrls},o.prototype.getBottomRowCtrls=function(){return this.bottomRowCtrls},o.prototype.refreshFloatingRows=function(r,a){var u=this;r.forEach(function(c){c.destroyFirstPass(),c.destroySecondPass()}),r.length=0,a&&a.forEach(function(c){var f=new La(u.$scope,c,u.beans,!1,!1,u.printLayout);r.push(f)})},o.prototype.onPinnedRowDataChanged=function(){this.redrawAfterModelUpdate({recycleRows:!0})},o.prototype.getRenderedIndexesForRowNodes=function(r){var a=[];return Ge(r)||zt(this.rowCtrlsByRowIndex,function(u,c){var f=c.getRowNode();r.indexOf(f)>=0&&a.push(u)}),a},o.prototype.redrawRows=function(r){var a=null!=r&&r.length>0;if(a){var u=this.getRenderedIndexesForRowNodes(r);this.removeRowCtrls(u)}this.redrawAfterModelUpdate({recycleRows:a})},o.prototype.getCellToRestoreFocusToAfterRefresh=function(r){var a=r.suppressKeepFocus?null:this.focusService.getFocusCellToUseAfterRefresh();if(null==a)return null;var u=document.activeElement,c=this.gridOptionsWrapper.getDomData(u,ds.DOM_DATA_KEY_CELL_CTRL),f=this.gridOptionsWrapper.getDomData(u,La.DOM_DATA_KEY_ROW_CTRL);return c||f?a:null},o.prototype.redrawAfterModelUpdate=function(r){void 0===r&&(r={}),this.getLockOnRefresh();var a=this.getCellToRestoreFocusToAfterRefresh(r);this.updateContainerHeights(),this.scrollToTopIfNewData(r);var u=!this.printLayout&&!!r.recycleRows,c=r.animate&&this.gridOptionsWrapper.isAnimateRows(),f=u?this.recycleRows():null;u||this.removeAllRowComps();var w=function(){if(null==a||null==f)return!1;var D=!1;return zt(f,function(O,I){var V=I.getRowNode();V.rowIndex==a.rowIndex&&V.rowPinned==a.rowPinned&&(D=!0)}),D}();this.redraw(f,c),r.onlyBody||this.refreshFloatingRowComps(),this.dispatchDisplayedRowsChanged(),w||this.restoreFocusedCell(a),this.releaseLockOnRefresh()},o.prototype.scrollToTopIfNewData=function(r){var a=r.newData||r.newPage,u=this.gridOptionsWrapper.isSuppressScrollOnNewData();a&&!u&&this.gridBodyCtrl.getScrollFeature().scrollToTop()},o.prototype.updateContainerHeights=function(){if(this.printLayout)this.rowContainerHeightService.setModelHeight(null);else{var r=this.paginationProxy.getCurrentPageHeight();0===r&&(r=1),this.rowContainerHeightService.setModelHeight(r)}},o.prototype.getLockOnRefresh=function(){if(this.refreshInProgress)throw new Error("AG Grid: cannot get grid to draw rows when it is in the middle of drawing rows. Your code probably called a grid API method while the grid was in the render stage. To overcome this, put the API call into a timeout, e.g. instead of api.refreshView(), call setTimeout(function() { api.refreshView(); }, 0). To see what part of your code that caused the refresh check this stacktrace.");this.refreshInProgress=!0},o.prototype.releaseLockOnRefresh=function(){this.refreshInProgress=!1},o.prototype.restoreFocusedCell=function(r){r&&this.focusService.setFocusedCell(r.rowIndex,r.column,r.rowPinned,!0)},o.prototype.stopEditing=function(r){void 0===r&&(r=!1),this.getAllRowCtrls().forEach(function(a){a.stopEditing(r)})},o.prototype.onNewColumnsLoaded=function(){this.getAllCellCtrls().forEach(function(r){return r.onNewColumnsLoaded()})},o.prototype.getAllCellCtrls=function(){var r=[];return this.getAllRowCtrls().forEach(function(a){return r=r.concat(a.getAllCellCtrls())}),r},o.prototype.getAllRowCtrls=function(){var r=this,a=ov(this.topRowCtrls,this.bottomRowCtrls);return Object.keys(this.rowCtrlsByRowIndex).forEach(function(u){return a.push(r.rowCtrlsByRowIndex[u])}),a},o.prototype.addRenderedRowListener=function(r,a,u){var c=this.rowCtrlsByRowIndex[a];c&&c.addEventListener(r,u)},o.prototype.flashCells=function(r){void 0===r&&(r={});var a=r.flashDelay,u=r.fadeDelay;this.getCellCtrls(r.rowNodes,r.columns).forEach(function(c){return c.flashCell({flashDelay:a,fadeDelay:u})})},o.prototype.refreshCells=function(r){void 0===r&&(r={});var a={forceRefresh:r.force,newData:!1,suppressFlash:r.suppressFlash};this.getCellCtrls(r.rowNodes,r.columns).forEach(function(u){if(u.refreshShouldDestroy()){var c=u.getRowCtrl();c&&c.refreshCell(u)}else u.refreshCell(a)})},o.prototype.getCellRendererInstances=function(r){return this.getCellCtrls(r.rowNodes,r.columns).map(function(u){return u.getCellRenderer()}).filter(function(u){return null!=u})},o.prototype.getCellEditorInstances=function(r){var a=[];return this.getCellCtrls(r.rowNodes,r.columns).forEach(function(u){var c=u.getCellEditor();c&&a.push(c)}),a},o.prototype.getEditingCells=function(){var r=[];return this.getAllCellCtrls().forEach(function(a){if(a.isEditing()){var u=a.getCellPosition();r.push(u)}}),r},o.prototype.getCellCtrls=function(r,a){var c,y,u=this,f=[];ce(r)&&(c={top:{},bottom:{},normal:{}},r.forEach(function(D){var O=D.id;D.rowPinned===q.PINNED_TOP?c.top[O]=!0:D.rowPinned===q.PINNED_BOTTOM?c.bottom[O]=!0:c.normal[O]=!0})),ce(a)&&(y={},a.forEach(function(D){var O=u.columnModel.getGridColumn(D);ce(O)&&(y[O.getId()]=!0)}));var w=function(D){var O=D.getRowNode(),I=O.id,V=O.rowPinned;if(ce(c))if(V===q.PINNED_BOTTOM){if(!c.bottom[I])return}else if(V===q.PINNED_TOP){if(!c.top[I])return}else if(!c.normal[I])return;D.getAllCellCtrls().forEach(function(B){var z=B.getColumn().getId();y&&!y[z]||f.push(B)})};return zt(this.rowCtrlsByRowIndex,function(D,O){w(O)}),this.topRowCtrls&&this.topRowCtrls.forEach(w),this.bottomRowCtrls&&this.bottomRowCtrls.forEach(w),f},o.prototype.destroy=function(){this.removeAllRowComps(),d.prototype.destroy.call(this)},o.prototype.removeAllRowComps=function(){var r=Object.keys(this.rowCtrlsByRowIndex);this.removeRowCtrls(r)},o.prototype.recycleRows=function(){var r=[];zt(this.rowCtrlsByRowIndex,function(u,c){null==c.getRowNode().id&&r.push(u)}),this.removeRowCtrls(r);var a={};return zt(this.rowCtrlsByRowIndex,function(u,c){var f=c.getRowNode();a[f.id]=c}),this.rowCtrlsByRowIndex={},a},o.prototype.removeRowCtrls=function(r){var a=this;r.forEach(function(u){var c=a.rowCtrlsByRowIndex[u];c&&(c.destroyFirstPass(),c.destroySecondPass()),delete a.rowCtrlsByRowIndex[u]})},o.prototype.redrawAfterScroll=function(){this.getLockOnRefresh(),this.redraw(null,!1,!0),this.releaseLockOnRefresh(),this.dispatchDisplayedRowsChanged()},o.prototype.removeRowCompsNotToDraw=function(r){var a={};r.forEach(function(f){return a[f]=!0});var c=Object.keys(this.rowCtrlsByRowIndex).filter(function(f){return!a[f]});this.removeRowCtrls(c)},o.prototype.calculateIndexesToDraw=function(r){var a=this,u=Jl(this.firstRenderedRow,this.lastRenderedRow),c=function(f,y){var w=y.getRowNode().rowIndex;null!=w&&(w<a.firstRenderedRow||w>a.lastRenderedRow)&&a.doNotUnVirtualiseRow(y)&&u.push(w)};return zt(this.rowCtrlsByRowIndex,c),zt(r,c),u.sort(function(f,y){return f-y}),u},o.prototype.redraw=function(r,a,u){var c=this;void 0===a&&(a=!1),void 0===u&&(u=!1),this.rowContainerHeightService.updateOffset(),this.workOutFirstAndLastRowsToRender();var f=this.calculateIndexesToDraw(r);this.removeRowCompsNotToDraw(f),this.printLayout&&(a=!1),f.forEach(function(w){ce(c.createOrUpdateRowCtrl(w,r,a,u))}),r&&(!u||this.gridOptionsWrapper.isSuppressAnimationFrame()||this.printLayout?this.destroyRowCtrls(r,a):this.beans.animationFrameService.addDestroyTask(function(){c.destroyRowCtrls(r,a),c.updateAllRowCtrls(),c.dispatchDisplayedRowsChanged()})),this.updateAllRowCtrls(),this.checkAngularCompile(),this.gridBodyCtrl.updateRowCount()},o.prototype.dispatchDisplayedRowsChanged=function(){this.eventService.dispatchEvent({type:j.EVENT_DISPLAYED_ROWS_CHANGED})},o.prototype.onDisplayedColumnsChanged=function(){var r=this.columnModel.isPinningLeft(),a=this.columnModel.isPinningRight();(this.pinningLeft!==r||a!==this.pinningRight)&&(this.pinningLeft=r,this.pinningRight=a,this.embedFullWidthRows&&this.redrawFullWidthEmbeddedRows())},o.prototype.redrawFullWidthEmbeddedRows=function(){var r=[];zt(this.rowCtrlsByRowIndex,function(a,u){if(u.isFullWidth()){var c=u.getRowNode().rowIndex;r.push(c.toString())}}),this.refreshFloatingRowComps(),this.removeRowCtrls(r),this.redrawAfterScroll()},o.prototype.refreshFullWidthRows=function(r){var a=[],u=!!r,c=u?{}:void 0;u&&c&&r.forEach(function(f){return c[f.id]=!0}),zt(this.rowCtrlsByRowIndex,function(f,y){if(y.isFullWidth()){var w=y.getRowNode();if(u&&c&&!c[w.id]&&!c[w.level>0&&w.parent?w.parent.id:void 0])return;if(!y.refreshFullWidth()){var V=y.getRowNode().rowIndex;a.push(V.toString())}}}),this.removeRowCtrls(a),this.redrawAfterScroll()},o.prototype.createOrUpdateRowCtrl=function(r,a,u,c){var f,y=this.rowCtrlsByRowIndex[r];if(y||ce(f=this.paginationProxy.getRow(r))&&ce(a)&&a[f.id]&&f.alreadyRendered&&(y=a[f.id],a[f.id]=null),!y){if(f||(f=this.paginationProxy.getRow(r)),!ce(f))return;y=this.createRowCon(f,u,c)}return f&&(f.alreadyRendered=!0),this.rowCtrlsByRowIndex[r]=y,y},o.prototype.destroyRowCtrls=function(r,a){var u=this,c=[];zt(r,function(f,y){if(y){if(u.cachedRowCtrls&&y.isCacheable())return void u.cachedRowCtrls.addRow(y);y.destroyFirstPass(),a?(u.zombieRowCtrls[y.getInstanceId()]=y,c.push(function(){y.destroySecondPass(),delete u.zombieRowCtrls[y.getInstanceId()]})):y.destroySecondPass()}}),a&&(c.push(function(){u.updateAllRowCtrls(),u.dispatchDisplayedRowsChanged()}),e_(c))},o.prototype.checkAngularCompile=function(){var r=this;this.gridOptionsWrapper.isAngularCompileRows()&&window.setTimeout(function(){r.$scope.$apply()},0)},o.prototype.workOutFirstAndLastRowsToRender=function(){var a,u,r=this;if(this.paginationProxy.isRowsToRender())if(this.printLayout)a=this.paginationProxy.getPageFirstRow(),u=this.paginationProxy.getPageLastRow();else{var c=this.gridOptionsWrapper.getRowBufferInPixels(),f=this.ctrlsService.getGridBodyCtrl(),y=!1,w=void 0,D=void 0;do{var O=this.paginationProxy.getPixelOffset(),I=this.paginationProxy.getCurrentPagePixelRange(),V=I.pageFirstPixel,B=I.pageLastPixel,z=this.rowContainerHeightService.getDivStretchOffset(),ee=f.getScrollFeature().getVScrollPosition(),_e=ee.bottom;w=Math.max(ee.top+O-c,V)+z,D=Math.min(_e+O+c,B)+z,y=this.ensureAllRowsInRangeHaveHeightsCalculated(w,D)}while(y);var de=this.paginationProxy.getRowIndexAtPixel(w),le=this.paginationProxy.getRowIndexAtPixel(D),Ee=this.paginationProxy.getPageFirstRow(),ze=this.paginationProxy.getPageLastRow();de<Ee&&(de=Ee),le>ze&&(le=ze),a=de,u=le}else a=0,u=-1;var wt=this.gridOptionsWrapper.getDomLayout()===q.DOM_LAYOUT_NORMAL,Ze=this.gridOptionsWrapper.isSuppressMaxRenderedRowRestriction(),ct=Math.max(this.gridOptionsWrapper.getRowBuffer(),500);if(wt&&!Ze&&u-a>ct&&(u=a+ct),(a!==this.firstRenderedRow||u!==this.lastRenderedRow)&&(this.firstRenderedRow=a,this.lastRenderedRow=u,this.eventService.dispatchEvent({type:j.EVENT_VIEWPORT_CHANGED,firstRow:a,lastRow:u,api:this.gridApi,columnApi:this.columnApi})),this.paginationProxy.isRowsToRender()){var hr={type:j.EVENT_FIRST_DATA_RENDERED,firstRow:a,lastRow:u,api:this.gridApi,columnApi:this.columnApi};window.setTimeout(function(){return r.eventService.dispatchEventOnce(hr)},50)}},o.prototype.ensureAllRowsInRangeHaveHeightsCalculated=function(r,a){var u=this.paginationProxy.ensureRowHeightsValid(r,a,-1,-1);return u&&this.updateContainerHeights(),u},o.prototype.getFirstVirtualRenderedRow=function(){return this.firstRenderedRow},o.prototype.getLastVirtualRenderedRow=function(){return this.lastRenderedRow},o.prototype.doNotUnVirtualiseRow=function(r){var c=r.getRowNode(),f=this.focusService.isRowNodeFocused(c),y=r.isEditing();return!!(f||y||c.detail)&&!!this.paginationProxy.isRowPresent(c)},o.prototype.createRowCon=function(r,a,u){var c=this.cachedRowCtrls?this.cachedRowCtrls.getRow(r):null;if(c)return c;var f=this.gridOptionsWrapper.isSuppressAnimationFrame();return new La(this.$scope,r,this.beans,a,u&&!f&&!this.printLayout,this.printLayout)},o.prototype.getRenderedNodes=function(){var r=this.rowCtrlsByRowIndex;return Object.keys(r).map(function(a){return r[a].getRowNode()})},o.prototype.getRowByPosition=function(r){var a;switch(r.rowPinned){case q.PINNED_TOP:a=this.topRowCtrls[r.rowIndex];break;case q.PINNED_BOTTOM:a=this.bottomRowCtrls[r.rowIndex];break;default:a=this.rowCtrlsByRowIndex[r.rowIndex]}return a},o.prototype.getRowNode=function(r){switch(r.rowPinned){case q.PINNED_TOP:return this.pinnedRowModel.getPinnedTopRowData()[r.rowIndex];case q.PINNED_BOTTOM:return this.pinnedRowModel.getPinnedBottomRowData()[r.rowIndex];default:return this.rowModel.getRow(r.rowIndex)}},o.prototype.isRangeInRenderedViewport=function(r,a){return!(null==r||null==a||a<this.firstRenderedRow||r>this.lastRenderedRow)},io([F("paginationProxy")],o.prototype,"paginationProxy",void 0),io([F("columnModel")],o.prototype,"columnModel",void 0),io([F("$scope")],o.prototype,"$scope",void 0),io([F("pinnedRowModel")],o.prototype,"pinnedRowModel",void 0),io([F("rowModel")],o.prototype,"rowModel",void 0),io([F("focusService")],o.prototype,"focusService",void 0),io([F("columnApi")],o.prototype,"columnApi",void 0),io([F("gridApi")],o.prototype,"gridApi",void 0),io([F("beans")],o.prototype,"beans",void 0),io([F("rowContainerHeightService")],o.prototype,"rowContainerHeightService",void 0),io([et("ctrlsService")],o.prototype,"ctrlsService",void 0),io([ye],o.prototype,"postConstruct",null),io([Te("rowRenderer")],o)}(he),sE=function(){function d(o){this.entriesMap={},this.entriesList=[],this.maxCount=o}return d.prototype.toString=function(){return this.entriesList.map(function(o){return o.getRowNode().data.name}).join(", ")},d.prototype.addRow=function(o){if(this.entriesMap[o.getRowNode().id]=o,this.entriesList.push(o),o.setCached(!0),this.entriesList.length>this.maxCount){var r=this.entriesList[0];r.destroyFirstPass(),r.destroySecondPass(),this.removeFromCache(r)}},d.prototype.getRow=function(o){if(null==o||null==o.id)return null;var r=this.entriesMap[o.id];return r?(this.removeFromCache(r),r.setCached(!1),r.getRowNode()!=o?null:r):null},d.prototype.removeFromCache=function(o){var r=o.getRowNode().id;delete this.entriesMap[r],ln(this.entriesList,o)},d.prototype.getEntries=function(){return this.entriesList},d}(),aE=function(){var d=function(o,r){return(d=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(a,u){a.__proto__=u}||function(a,u){for(var c in u)u.hasOwnProperty(c)&&(a[c]=u[c])})(o,r)};return function(o,r){function a(){this.constructor=o}d(o,r),o.prototype=null===r?Object.create(r):(a.prototype=r.prototype,new a)}}(),ph=function(d){function o(r,a){var u=d.call(this,r)||this;return u.ctrl=a,u}return aE(o,d),o.prototype.getCtrl=function(){return this.ctrl},o}(_t),sv=function(){var d=function(o,r){return(d=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(a,u){a.__proto__=u}||function(a,u){for(var c in u)u.hasOwnProperty(c)&&(a[c]=u[c])})(o,r)};return function(o,r){function a(){this.constructor=o}d(o,r),o.prototype=null===r?Object.create(r):(a.prototype=r.prototype,new a)}}(),hh=function(d,o,r,a){var f,u=arguments.length,c=u<3?o:null===a?a=Object.getOwnPropertyDescriptor(o,r):a;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)c=Reflect.decorate(d,o,r,a);else for(var y=d.length-1;y>=0;y--)(f=d[y])&&(c=(u<3?f(c):u>3?f(o,r,c):f(o,r))||c);return u>3&&c&&Object.defineProperty(o,r,c),c},lE=function(d){function o(r){var a=d.call(this,o.TEMPLATE,r)||this;return a.headerCompVersion=0,a.column=r.getColumnGroupChild(),a.pinned=r.getPinned(),a}return sv(o,d),o.prototype.postConstruct=function(){var r=this,a=this.getGui(),u=function(y,w,D){var O=D||a;null!=w&&""!=w?O.setAttribute(y,w):O.removeAttribute(y)};this.ctrl.setComp({setWidth:function(y){return a.style.width=y},addOrRemoveCssClass:function(y,w){return r.addOrRemoveCssClass(y,w)},setAriaSort:function(y){return y?Wp(a,y):pS(a)},setColId:function(y){return u("col-id",y)},setTitle:function(y){return u("title",y)},setAriaDescribedBy:function(y){return Gp(a,y)},setUserCompDetails:function(y){return r.setUserCompDetails(y)},getUserCompInstance:function(){return r.headerComp}},this.getGui(),this.eResize);var f=this.ctrl.getSelectAllGui();this.eResize.insertAdjacentElement("afterend",f)},o.prototype.destroyHeaderComp=function(){this.headerComp&&(this.getGui().removeChild(this.headerCompGui),this.headerComp=this.destroyBean(this.headerComp),this.headerCompGui=void 0)},o.prototype.setUserCompDetails=function(r){var a=this;this.headerCompVersion++;var u=this.headerCompVersion;r.newAgStackInstance().then(function(c){return a.afterCompCreated(u,c)})},o.prototype.afterCompCreated=function(r,a){r==this.headerCompVersion&&this.isAlive()?(this.destroyHeaderComp(),this.headerComp=a,this.headerCompGui=a.getGui(),this.getGui().appendChild(this.headerCompGui),this.ctrl.setDragSource(this.headerCompGui)):this.destroyBean(a)},o.TEMPLATE='<div class="ag-header-cell" role="columnheader" unselectable="on" tabindex="-1">\n            <div ref="eResize" class="ag-header-cell-resize" role="presentation"></div>\n        </div>',hh([pe("eResize")],o.prototype,"eResize",void 0),hh([ye],o.prototype,"postConstruct",null),hh([or],o.prototype,"destroyHeaderComp",null),o}(ph),GA=function(){var d=function(o,r){return(d=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(a,u){a.__proto__=u}||function(a,u){for(var c in u)u.hasOwnProperty(c)&&(a[c]=u[c])})(o,r)};return function(o,r){function a(){this.constructor=o}d(o,r),o.prototype=null===r?Object.create(r):(a.prototype=r.prototype,new a)}}(),fh=function(d,o,r,a){var f,u=arguments.length,c=u<3?o:null===a?a=Object.getOwnPropertyDescriptor(o,r):a;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)c=Reflect.decorate(d,o,r,a);else for(var y=d.length-1;y>=0;y--)(f=d[y])&&(c=(u<3?f(c):u>3?f(o,r,c):f(o,r))||c);return u>3&&c&&Object.defineProperty(o,r,c),c},gh=function(d){function o(r){return d.call(this,o.TEMPLATE,r)||this}return GA(o,d),o.prototype.postConstruct=function(){var r=this,a=this.getGui(),u=function(f,y){return null!=y?a.setAttribute(f,y):a.removeAttribute(f)};this.ctrl.setComp({addOrRemoveCssClass:function(f,y){return r.addOrRemoveCssClass(f,y)},addOrRemoveResizableCssClass:function(f,y){return Ke(r.eResize,f,y)},setWidth:function(f){return a.style.width=f},setColId:function(f){return a.setAttribute("col-id",f)},setAriaExpanded:function(f){return u("aria-expanded",f)},setTitle:function(f){return u("title",f)},setUserCompDetails:function(f){return r.setUserCompDetails(f)}},a,this.eResize)},o.prototype.setUserCompDetails=function(r){var a=this;r.newAgStackInstance().then(function(u){return a.afterHeaderCompCreated(u)})},o.prototype.afterHeaderCompCreated=function(r){var a=this,u=function(){return a.destroyBean(r)};this.isAlive()?(this.getGui().appendChild(r.getGui()),this.addDestroyFunc(u),this.ctrl.setDragSource(r.getGui())):u()},o.TEMPLATE='<div class="ag-header-group-cell" role="columnheader" tabindex="-1">\n            <div ref="eResize" class="ag-header-cell-resize" role="presentation"></div>\n        </div>',fh([F("userComponentFactory")],o.prototype,"userComponentFactory",void 0),fh([pe("eResize")],o.prototype,"eResize",void 0),fh([ye],o.prototype,"postConstruct",null),o}(ph),uE=function(){var d=function(o,r){return(d=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(a,u){a.__proto__=u}||function(a,u){for(var c in u)u.hasOwnProperty(c)&&(a[c]=u[c])})(o,r)};return function(o,r){function a(){this.constructor=o}d(o,r),o.prototype=null===r?Object.create(r):(a.prototype=r.prototype,new a)}}(),vh=function(d,o,r,a){var f,u=arguments.length,c=u<3?o:null===a?a=Object.getOwnPropertyDescriptor(o,r):a;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)c=Reflect.decorate(d,o,r,a);else for(var y=d.length-1;y>=0;y--)(f=d[y])&&(c=(u<3?f(c):u>3?f(o,r,c):f(o,r))||c);return u>3&&c&&Object.defineProperty(o,r,c),c},Va=function(d){function o(r){return d.call(this,o.TEMPLATE,r)||this}return uE(o,d),o.prototype.postConstruct=function(){var r=this,a=this.getGui();this.ctrl.setComp({addOrRemoveCssClass:function(c,f){return r.addOrRemoveCssClass(c,f)},addOrRemoveBodyCssClass:function(c,f){return Ke(r.eFloatingFilterBody,c,f)},addOrRemoveButtonWrapperCssClass:function(c,f){return Ke(r.eButtonWrapper,c,f)},setCompDetails:function(c){return r.setCompDetails(c)},getFloatingFilterComp:function(){return r.compPromise},setWidth:function(c){return a.style.width=c},setMenuIcon:function(c){return r.eButtonShowMainFilter.appendChild(c)}},a,this.eButtonShowMainFilter,this.eFloatingFilterBody)},o.prototype.setCompDetails=function(r){var a=this;this.compPromise=r.newAgStackInstance(),this.compPromise.then(function(u){return a.afterCompCreated(u)})},o.prototype.afterCompCreated=function(r){var a=this;!r||(this.addDestroyFunc(function(){return a.context.destroyBean(r)}),this.isAlive()&&(this.eFloatingFilterBody.appendChild(r.getGui()),r.afterGuiAttached&&r.afterGuiAttached()))},o.TEMPLATE='<div class="ag-header-cell ag-floating-filter" role="gridcell" tabindex="-1">\n            <div ref="eFloatingFilterBody" role="presentation"></div>\n            <div class="ag-floating-filter-button ag-hidden" ref="eButtonWrapper" role="presentation">\n                <button type="button" aria-label="Open Filter Menu" class="ag-floating-filter-button-button" ref="eButtonShowMainFilter" tabindex="-1"></button>\n            </div>\n        </div>',vh([pe("eFloatingFilterBody")],o.prototype,"eFloatingFilterBody",void 0),vh([pe("eButtonWrapper")],o.prototype,"eButtonWrapper",void 0),vh([pe("eButtonShowMainFilter")],o.prototype,"eButtonShowMainFilter",void 0),vh([ye],o.prototype,"postConstruct",null),o}(ph),cE=function(){var d=function(o,r){return(d=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(a,u){a.__proto__=u}||function(a,u){for(var c in u)u.hasOwnProperty(c)&&(a[c]=u[c])})(o,r)};return function(o,r){function a(){this.constructor=o}d(o,r),o.prototype=null===r?Object.create(r):(a.prototype=r.prototype,new a)}}(),Sb=function(d,o,r,a){var f,u=arguments.length,c=u<3?o:null===a?a=Object.getOwnPropertyDescriptor(o,r):a;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)c=Reflect.decorate(d,o,r,a);else for(var y=d.length-1;y>=0;y--)(f=d[y])&&(c=(u<3?f(c):u>3?f(o,r,c):f(o,r))||c);return u>3&&c&&Object.defineProperty(o,r,c),c};!function(d){d.COLUMN_GROUP="group",d.COLUMN="column",d.FLOATING_FILTER="filter"}(H.A6C||(H.A6C={}));var Eb=function(d){function o(r){var a=d.call(this)||this;a.headerComps={};var u=r.getType()==H.A6C.COLUMN_GROUP?"ag-header-row-column-group":r.getType()==H.A6C.FLOATING_FILTER?"ag-header-row-column-filter":"ag-header-row-column";return a.setTemplate('<div class="ag-header-row '+u+'" role="row"></div>'),a.ctrl=r,a}return cE(o,d),o.prototype.init=function(){var r=this;this.ctrl.setComp({setTransform:function(u){return r.getGui().style.transform=u},setHeight:function(u){return r.getGui().style.height=u},setTop:function(u){return r.getGui().style.top=u},setHeaderCtrls:function(u){return r.setHeaderCtrls(u)},setWidth:function(u){return r.getGui().style.width=u},setAriaRowIndex:function(u){return Bp(r.getGui(),u)}})},o.prototype.destroyHeaderCtrls=function(){this.setHeaderCtrls([])},o.prototype.setHeaderCtrls=function(r){var a=this;if(this.isAlive()){var u=this.headerComps;if(this.headerComps={},r.forEach(function(w){var D=w.getInstanceId(),O=u[D];delete u[D],null==O&&(O=a.createHeaderComp(w),a.getGui().appendChild(O.getGui())),a.headerComps[D]=O}),zt(u,function(w,D){a.getGui().removeChild(D.getGui()),a.destroyBean(D)}),this.gridOptionsWrapper.isEnsureDomOrder()){var f=Fr(this.headerComps);f.sort(function(w,D){return w.getCtrl().getColumnGroupChild().getLeft()-D.getCtrl().getColumnGroupChild().getLeft()});var y=f.map(function(w){return w.getGui()});vg(this.getGui(),y)}}},o.prototype.createHeaderComp=function(r){var a;switch(this.ctrl.getType()){case H.A6C.COLUMN_GROUP:a=new gh(r);break;case H.A6C.FLOATING_FILTER:a=new Va(r);break;default:a=new lE(r)}return this.createBean(a),a.setParentComponent(this),a},Sb([ye],o.prototype,"init",null),Sb([or],o.prototype,"destroyHeaderCtrls",null),o}(_t),dE=function(){var d=function(o,r){return(d=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(a,u){a.__proto__=u}||function(a,u){for(var c in u)u.hasOwnProperty(c)&&(a[c]=u[c])})(o,r)};return function(o,r){function a(){this.constructor=o}d(o,r),o.prototype=null===r?Object.create(r):(a.prototype=r.prototype,new a)}}(),bu=function(d,o,r,a){var f,u=arguments.length,c=u<3?o:null===a?a=Object.getOwnPropertyDescriptor(o,r):a;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)c=Reflect.decorate(d,o,r,a);else for(var y=d.length-1;y>=0;y--)(f=d[y])&&(c=(u<3?f(c):u>3?f(o,r,c):f(o,r))||c);return u>3&&c&&Object.defineProperty(o,r,c),c};!function(d){d[d.UP=0]="UP",d[d.DOWN=1]="DOWN",d[d.LEFT=2]="LEFT",d[d.RIGHT=3]="RIGHT"}(H.Y8R||(H.Y8R={}));var ed=function(d){function o(){return null!==d&&d.apply(this,arguments)||this}return dE(o,d),o.prototype.postConstruct=function(){var r=this;this.ctrlsService.whenReady(function(a){r.gridBodyCon=a.gridBodyCtrl})},o.prototype.getHeaderRowCount=function(){var r=this.ctrlsService.getHeaderRowContainerCtrl();return r?r.getRowCount():0},o.prototype.getHeaderRowType=function(r){var a=this.ctrlsService.getHeaderRowContainerCtrl();if(a)return a.getRowType(r)},o.prototype.navigateVertically=function(r,a,u){if(a||(a=this.focusService.getFocusedHeader()),!a)return!1;var c=a.headerRowIndex,f=a.column,y=this.getHeaderRowCount(),w=r===H.Y8R.UP,D=w?c-1:c+1,O=null,I=!1;D<0&&(D=0,O=f,I=!0),D>=y&&(D=-1);var V=this.getHeaderRowType(c);if(!I){if(V===H.A6C.COLUMN_GROUP){var B=f;O=w?f.getParent():B.getDisplayedChildren()[0]}else V===H.A6C.FLOATING_FILTER?O=f:(B=f,O=w?B.getParent():B);if(!O)return!1}return this.focusService.focusHeaderPosition({headerPosition:{headerRowIndex:D,column:O},allowUserOverride:!0,event:u})},o.prototype.navigateHorizontally=function(r,a,u){void 0===a&&(a=!1);var w,D,c=this.focusService.getFocusedHeader();return(w=r===H.Y8R.LEFT!==this.gridOptionsWrapper.isEnableRtl()?this.headerPositionUtils.findHeader(c,D="Before"):this.headerPositionUtils.findHeader(c,D="After"))?this.focusService.focusHeaderPosition({headerPosition:w,direction:D,fromTab:a,allowUserOverride:!0,event:u}):!a||this.focusNextHeaderRow(c,D,u)},o.prototype.focusNextHeaderRow=function(r,a,u){var c=r.headerRowIndex,f=null;return"Before"===a?c>0&&(f=this.headerPositionUtils.findColAtEdgeForHeaderRow(c-1,"end")):f=this.headerPositionUtils.findColAtEdgeForHeaderRow(c+1,"start"),this.focusService.focusHeaderPosition({headerPosition:f,direction:a,fromTab:!0,allowUserOverride:!0,event:u})},o.prototype.scrollToColumn=function(r,a){if(void 0===a&&(a="After"),!r.getPinned()){var u;if(r instanceof ar){var c=r.getDisplayedLeafColumns();u="Before"===a?Jt(c):c[0]}else u=r;this.gridBodyCon.getScrollFeature().ensureColumnVisible(u),this.gridBodyCon.getScrollFeature().horizontallyScrollHeaderCenterAndFloatingCenter(),this.animationFrameService.flushAllFrames()}},bu([F("focusService")],o.prototype,"focusService",void 0),bu([F("headerPositionUtils")],o.prototype,"headerPositionUtils",void 0),bu([F("animationFrameService")],o.prototype,"animationFrameService",void 0),bu([F("ctrlsService")],o.prototype,"ctrlsService",void 0),bu([ye],o.prototype,"postConstruct",null),bu([Te("headerNavigationService")],o)}(he),Do=function(){var d=function(o,r){return(d=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(a,u){a.__proto__=u}||function(a,u){for(var c in u)u.hasOwnProperty(c)&&(a[c]=u[c])})(o,r)};return function(o,r){function a(){this.constructor=o}d(o,r),o.prototype=null===r?Object.create(r):(a.prototype=r.prototype,new a)}}(),td=function(d,o,r,a){var f,u=arguments.length,c=u<3?o:null===a?a=Object.getOwnPropertyDescriptor(o,r):a;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)c=Reflect.decorate(d,o,r,a);else for(var y=d.length-1;y>=0;y--)(f=d[y])&&(c=(u<3?f(c):u>3?f(o,r,c):f(o,r))||c);return u>3&&c&&Object.defineProperty(o,r,c),c},xb=function(d){function o(){return null!==d&&d.apply(this,arguments)||this}return Do(o,d),o.prototype.setComp=function(r,a,u){this.comp=r,this.eGui=a,this.createManagedBean(new os(u,{onTabKeyDown:this.onTabKeyDown.bind(this),handleKeyDown:this.handleKeyDown.bind(this),onFocusOut:this.onFocusOut.bind(this)})),this.addManagedListener(this.eventService,j.EVENT_COLUMN_PIVOT_MODE_CHANGED,this.onPivotModeChanged.bind(this)),this.onPivotModeChanged(),this.setupHeaderHeight(),this.ctrlsService.registerGridHeaderCtrl(this)},o.prototype.setupHeaderHeight=function(){var r=this.setHeaderHeight.bind(this);r(),this.addManagedListener(this.gridOptionsWrapper,Fe.PROP_HEADER_HEIGHT,r),this.addManagedListener(this.gridOptionsWrapper,Fe.PROP_PIVOT_HEADER_HEIGHT,r),this.addManagedListener(this.gridOptionsWrapper,Fe.PROP_GROUP_HEADER_HEIGHT,r),this.addManagedListener(this.gridOptionsWrapper,Fe.PROP_PIVOT_GROUP_HEADER_HEIGHT,r),this.addManagedListener(this.gridOptionsWrapper,Fe.PROP_FLOATING_FILTERS_HEIGHT,r),this.addManagedListener(this.eventService,j.EVENT_DISPLAYED_COLUMNS_CHANGED,r)},o.prototype.setHeaderHeight=function(){var y,w,D,a=this.columnModel,u=this.gridOptionsWrapper,c=0,f=a.getHeaderRowCount();a.isPivotMode()?(w=u.getPivotGroupHeaderHeight(),D=u.getPivotHeaderHeight()):(a.hasFloatingFilters()&&(f++,c=1),w=u.getGroupHeaderHeight(),D=u.getHeaderHeight());var V=f-(1+c);y=c*u.getFloatingFiltersHeight(),y+=V*w,this.comp.setHeightAndMinHeight((y+=D)+1+"px")},o.prototype.onPivotModeChanged=function(){var r=this.columnModel.isPivotMode();this.comp.addOrRemoveCssClass("ag-pivot-on",r),this.comp.addOrRemoveCssClass("ag-pivot-off",!r)},o.prototype.onTabKeyDown=function(r){var a=this.gridOptionsWrapper.isEnableRtl();(this.headerNavigationService.navigateHorizontally(r.shiftKey!==a?H.Y8R.LEFT:H.Y8R.RIGHT,!0,r)||this.focusService.focusNextGridCoreContainer(r.shiftKey))&&r.preventDefault()},o.prototype.handleKeyDown=function(r){var a=null;switch(r.keyCode){case me.LEFT:a=H.Y8R.LEFT;case me.RIGHT:ce(a)||(a=H.Y8R.RIGHT),this.headerNavigationService.navigateHorizontally(a,!1,r);break;case me.UP:a=H.Y8R.UP;case me.DOWN:ce(a)||(a=H.Y8R.DOWN),this.headerNavigationService.navigateVertically(a,null,r)&&r.preventDefault();break;default:return}},o.prototype.onFocusOut=function(r){var a=r.relatedTarget;!a&&this.eGui.contains(document.activeElement)||this.eGui.contains(a)||this.focusService.clearFocusedHeader()},td([F("headerNavigationService")],o.prototype,"headerNavigationService",void 0),td([F("focusService")],o.prototype,"focusService",void 0),td([F("columnModel")],o.prototype,"columnModel",void 0),td([F("ctrlsService")],o.prototype,"ctrlsService",void 0),o}(he),pE=function(){var d=function(o,r){return(d=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(a,u){a.__proto__=u}||function(a,u){for(var c in u)u.hasOwnProperty(c)&&(a[c]=u[c])})(o,r)};return function(o,r){function a(){this.constructor=o}d(o,r),o.prototype=null===r?Object.create(r):(a.prototype=r.prototype,new a)}}(),av=function(d,o,r,a){var f,u=arguments.length,c=u<3?o:null===a?a=Object.getOwnPropertyDescriptor(o,r):a;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)c=Reflect.decorate(d,o,r,a);else for(var y=d.length-1;y>=0;y--)(f=d[y])&&(c=(u<3?f(c):u>3?f(o,r,c):f(o,r))||c);return u>3&&c&&Object.defineProperty(o,r,c),c},Ob=function(d){function o(r){var a=d.call(this)||this;return a.callback=r,a}return pE(o,d),o.prototype.postConstruct=function(){var r=this.setWidth.bind(this);this.addManagedListener(this.gridOptionsWrapper,Fe.PROP_DOM_LAYOUT,r),this.addManagedListener(this.eventService,j.EVENT_DISPLAYED_COLUMNS_CHANGED,r),this.addManagedListener(this.eventService,j.EVENT_DISPLAYED_COLUMNS_WIDTH_CHANGED,r),this.setWidth()},o.prototype.setWidth=function(){var r=this.columnModel,a=this.gridOptionsWrapper.getDomLayout()===q.DOM_LAYOUT_PRINT,u=r.getBodyContainerWidth(),c=r.getDisplayedColumnsLeftWidth(),f=r.getDisplayedColumnsRightWidth();this.callback(a?u+c+f:u)},av([F("columnModel")],o.prototype,"columnModel",void 0),av([ye],o.prototype,"postConstruct",null),o}(he),Cu=function(d,o,r,a){var f,u=arguments.length,c=u<3?o:null===a?a=Object.getOwnPropertyDescriptor(o,r):a;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)c=Reflect.decorate(d,o,r,a);else for(var y=d.length-1;y>=0;y--)(f=d[y])&&(c=(u<3?f(c):u>3?f(o,r,c):f(o,r))||c);return u>3&&c&&Object.defineProperty(o,r,c),c},Pb=function(){function d(o,r){this.needToMoveLeft=!1,this.needToMoveRight=!1,this.pinned=o,this.eContainer=r,this.centerContainer=!ce(o)}return d.prototype.init=function(){var o=this;this.ctrlsService.whenReady(function(){o.gridBodyCon=o.ctrlsService.getGridBodyCtrl()})},d.prototype.getIconName=function(){return this.pinned?Er.ICON_PINNED:Er.ICON_MOVE},d.prototype.onDragEnter=function(o){var r=o.dragItem.columns;if(o.dragSource.type===H.rvo.ToolPanel)this.setColumnsVisible(r,!0,"uiColumnDragged");else{var u=o.dragItem.visibleState,c=(r||[]).filter(function(f){return u[f.getId()]});this.setColumnsVisible(c,!0,"uiColumnDragged")}this.setColumnsPinned(r,this.pinned,"uiColumnDragged"),this.onDragging(o,!0)},d.prototype.onDragLeave=function(o){if(!this.gridOptionsWrapper.isSuppressDragLeaveHidesColumns()&&!o.fromNudge){var a=o.dragSource.getDragItem();this.setColumnsVisible(a.columns,!1,"uiColumnDragged")}this.ensureIntervalCleared()},d.prototype.setColumnsVisible=function(o,r,a){if(void 0===a&&(a="api"),o){var u=o.filter(function(c){return!c.getColDef().lockVisible});this.columnModel.setColumnsVisible(u,r,a)}},d.prototype.setColumnsPinned=function(o,r,a){if(void 0===a&&(a="api"),o){var u=o.filter(function(c){return!c.getColDef().lockPinned});this.columnModel.setColumnsPinned(u,r,a)}},d.prototype.onDragStop=function(){this.ensureIntervalCleared()},d.prototype.normaliseX=function(o){return this.gridOptionsWrapper.isEnableRtl()&&(o=this.eContainer.clientWidth-o),this.centerContainer&&(o+=this.ctrlsService.getCenterRowContainerCtrl().getCenterViewportScrollLeft()),o},d.prototype.checkCenterForScrolling=function(o){if(this.centerContainer){var r=this.ctrlsService.getCenterRowContainerCtrl().getCenterViewportScrollLeft(),a=r+this.ctrlsService.getCenterRowContainerCtrl().getCenterWidth();this.gridOptionsWrapper.isEnableRtl()?(this.needToMoveRight=o<r+50,this.needToMoveLeft=o>a-50):(this.needToMoveLeft=o<r+50,this.needToMoveRight=o>a-50),this.needToMoveLeft||this.needToMoveRight?this.ensureIntervalStarted():this.ensureIntervalCleared()}},d.prototype.onDragging=function(o,r){var a=this;if(void 0===r&&(r=!1),this.lastDraggingEvent=o,!Ge(o.hDirection)){var u=this.normaliseX(o.x);r||this.checkCenterForScrolling(u);var c=this.normaliseDirection(o.hDirection),f=o.dragSource.type,y=o.dragSource.getDragItem().columns;y=y.filter(function(w){return!w.getColDef().lockPinned||w.getPinned()==a.pinned}),this.attemptMoveColumns(f,y,c,u,r)}},d.prototype.normaliseDirection=function(o){if(!this.gridOptionsWrapper.isEnableRtl())return o;switch(o){case H.poj.Left:return H.poj.Right;case H.poj.Right:return H.poj.Left;default:console.error("AG Grid: Unknown direction "+o)}},d.prototype.calculateOldIndex=function(o){var r=this.columnModel.getAllGridColumns(),a=qf(o.map(function(w){return r.indexOf(w)})),u=a[0];return Jt(a)-u!=a.length-1?null:u},d.prototype.attemptMoveColumns=function(o,r,a,u,c){var f=a===H.poj.Left,y=a===H.poj.Right,w=r.slice();this.columnModel.sortColumnsLikeGridColumns(w);var D=this.calculateValidMoves(w,y,u),O=this.calculateOldIndex(w);if(0!==D.length){var I=D[0],V=null!==O&&!c;if(o==H.rvo.HeaderCell&&(V=null!==O),!V||!(f&&I>=O||y&&I<=O))for(var B=0;B<D.length;B++){var z=D[B];if(this.columnModel.doesMovePassRules(w,z))return void this.columnModel.moveColumns(w,z,"uiColumnDragged")}}},d.prototype.calculateValidMoves=function(o,r,a){if(this.gridOptionsWrapper.isSuppressMovableColumns()||o.some(function(Ze){return Ze.getColDef().suppressMovable}))return[];var ee,c=this.columnModel.getDisplayedColumns(this.pinned),f=this.columnModel.getAllGridColumns(),y=c.filter(function(Ze){return zn(o,Ze)}),w=c.filter(function(Ze){return!zn(o,Ze)}),D=f.filter(function(Ze){return!zn(o,Ze)}),O=0,I=a;if(r){var V=0;y.forEach(function(Ze){return V+=Ze.getActualWidth()}),I-=V}if(I>0){for(var B=0;B<w.length&&!((I-=w[B].getActualWidth())<0);B++)O++;r&&O++}O>0?ee=D.indexOf(w[O-1])+1:-1===(ee=D.indexOf(w[0]))&&(ee=0);var _e=[ee],de=function(Ze,ct){return Ze-ct};if(r){for(var le=ee+1,Ee=f.length-1;le<=Ee;)_e.push(le),le++;_e.sort(de)}else{Ee=f.length-1;for(var ze=f[le=ee];le<=Ee&&this.isColumnHidden(c,ze);)le++,_e.push(le),ze=f[le];for(le=ee-1;le>=0;)_e.push(le),le--;_e.sort(de).reverse()}return _e},d.prototype.isColumnHidden=function(o,r){return o.indexOf(r)<0},d.prototype.ensureIntervalStarted=function(){this.movingIntervalId||(this.intervalCount=0,this.failedMoveAttempts=0,this.movingIntervalId=window.setInterval(this.moveInterval.bind(this),100),this.dragAndDropService.setGhostIcon(this.needToMoveLeft?Er.ICON_LEFT:Er.ICON_RIGHT,!0))},d.prototype.ensureIntervalCleared=function(){this.movingIntervalId&&(window.clearInterval(this.movingIntervalId),this.movingIntervalId=null,this.dragAndDropService.setGhostIcon(Er.ICON_MOVE))},d.prototype.moveInterval=function(){var o;this.intervalCount++,(o=10+5*this.intervalCount)>100&&(o=100);var r=null,a=this.gridBodyCon.getScrollFeature();if(this.needToMoveLeft?r=a.scrollHorizontally(-o):this.needToMoveRight&&(r=a.scrollHorizontally(o)),0!==r)this.onDragging(this.lastDraggingEvent),this.failedMoveAttempts=0;else{this.failedMoveAttempts++;var c=this.lastDraggingEvent.dragItem.columns.filter(function(y){return!y.getColDef().lockPinned});c.length>0&&(this.dragAndDropService.setGhostIcon(Er.ICON_PINNED),this.failedMoveAttempts>7)&&(this.setColumnsPinned(c,this.needToMoveLeft?q.PINNED_LEFT:q.PINNED_RIGHT,"uiColumnDragged"),this.dragAndDropService.nudge())}},Cu([F("columnModel")],d.prototype,"columnModel",void 0),Cu([F("dragAndDropService")],d.prototype,"dragAndDropService",void 0),Cu([F("gridOptionsWrapper")],d.prototype,"gridOptionsWrapper",void 0),Cu([F("ctrlsService")],d.prototype,"ctrlsService",void 0),Cu([ye],d.prototype,"init",null),d}(),Rb=function(d,o,r,a){var f,u=arguments.length,c=u<3?o:null===a?a=Object.getOwnPropertyDescriptor(o,r):a;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)c=Reflect.decorate(d,o,r,a);else for(var y=d.length-1;y>=0;y--)(f=d[y])&&(c=(u<3?f(c):u>3?f(o,r,c):f(o,r))||c);return u>3&&c&&Object.defineProperty(o,r,c),c},Tb=function(){function d(o){this.columnsToAggregate=[],this.columnsToGroup=[],this.columnsToPivot=[],this.pinned=o}return d.prototype.onDragEnter=function(o){var r=this;if(this.clearColumnsList(),!this.gridOptionsWrapper.isFunctionsReadOnly()){var a=o.dragItem.columns;!a||a.forEach(function(u){!u.isPrimary()||u.isAnyFunctionActive()||(u.isAllowValue()?r.columnsToAggregate.push(u):u.isAllowRowGroup()?r.columnsToGroup.push(u):u.isAllowPivot()&&r.columnsToPivot.push(u))})}},d.prototype.getIconName=function(){return this.columnsToAggregate.length+this.columnsToGroup.length+this.columnsToPivot.length>0?this.pinned?Er.ICON_PINNED:Er.ICON_MOVE:null},d.prototype.onDragLeave=function(o){this.clearColumnsList()},d.prototype.clearColumnsList=function(){this.columnsToAggregate.length=0,this.columnsToGroup.length=0,this.columnsToPivot.length=0},d.prototype.onDragging=function(o){},d.prototype.onDragStop=function(o){this.columnsToAggregate.length>0&&this.columnModel.addValueColumns(this.columnsToAggregate,"toolPanelDragAndDrop"),this.columnsToGroup.length>0&&this.columnModel.addRowGroupColumns(this.columnsToGroup,"toolPanelDragAndDrop"),this.columnsToPivot.length>0&&this.columnModel.addPivotColumns(this.columnsToPivot,"toolPanelDragAndDrop")},Rb([F("columnModel")],d.prototype,"columnModel",void 0),Rb([F("gridOptionsWrapper")],d.prototype,"gridOptionsWrapper",void 0),d}(),wu=function(){var d=function(o,r){return(d=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(a,u){a.__proto__=u}||function(a,u){for(var c in u)u.hasOwnProperty(c)&&(a[c]=u[c])})(o,r)};return function(o,r){function a(){this.constructor=o}d(o,r),o.prototype=null===r?Object.create(r):(a.prototype=r.prototype,new a)}}(),jr=function(d,o,r,a){var f,u=arguments.length,c=u<3?o:null===a?a=Object.getOwnPropertyDescriptor(o,r):a;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)c=Reflect.decorate(d,o,r,a);else for(var y=d.length-1;y>=0;y--)(f=d[y])&&(c=(u<3?f(c):u>3?f(o,r,c):f(o,r))||c);return u>3&&c&&Object.defineProperty(o,r,c),c},hE=function(d){function o(r,a){var u=d.call(this)||this;return u.pinned=r,u.eContainer=a,u}return wu(o,d),o.prototype.postConstruct=function(){var r=this;this.ctrlsService.whenReady(function(a){switch(r.pinned){case q.PINNED_LEFT:r.eSecondaryContainers=[[a.gridBodyCtrl.getBodyViewportElement(),a.leftRowContainerCtrl.getContainerElement()],[a.bottomLeftRowContainerCtrl.getContainerElement()],[a.topLeftRowContainerCtrl.getContainerElement()]];break;case q.PINNED_RIGHT:r.eSecondaryContainers=[[a.gridBodyCtrl.getBodyViewportElement(),a.rightRowContainerCtrl.getContainerElement()],[a.bottomRightRowContainerCtrl.getContainerElement()],[a.topRightRowContainerCtrl.getContainerElement()]];break;default:r.eSecondaryContainers=[[a.gridBodyCtrl.getBodyViewportElement(),a.centerRowContainerCtrl.getViewportElement()],[a.bottomCenterRowContainerCtrl.getViewportElement()],[a.topCenterRowContainerCtrl.getViewportElement()]]}})},o.prototype.isInterestedIn=function(r){return r===H.rvo.HeaderCell||r===H.rvo.ToolPanel&&this.gridOptionsWrapper.isAllowDragFromColumnsToolPanel()},o.prototype.getSecondaryContainers=function(){return this.eSecondaryContainers},o.prototype.getContainer=function(){return this.eContainer},o.prototype.init=function(){this.moveColumnFeature=this.createManagedBean(new Pb(this.pinned,this.eContainer)),this.bodyDropPivotTarget=this.createManagedBean(new Tb(this.pinned)),this.dragAndDropService.addDropTarget(this)},o.prototype.getIconName=function(){return this.currentDropListener.getIconName()},o.prototype.isDropColumnInPivotMode=function(r){return this.columnModel.isPivotMode()&&r.dragSource.type===H.rvo.ToolPanel},o.prototype.onDragEnter=function(r){this.currentDropListener=this.isDropColumnInPivotMode(r)?this.bodyDropPivotTarget:this.moveColumnFeature,this.currentDropListener.onDragEnter(r)},o.prototype.onDragLeave=function(r){this.currentDropListener.onDragLeave(r)},o.prototype.onDragging=function(r){this.currentDropListener.onDragging(r)},o.prototype.onDragStop=function(r){this.currentDropListener.onDragStop(r)},jr([F("dragAndDropService")],o.prototype,"dragAndDropService",void 0),jr([F("columnModel")],o.prototype,"columnModel",void 0),jr([F("ctrlsService")],o.prototype,"ctrlsService",void 0),jr([ye],o.prototype,"postConstruct",null),jr([ye],o.prototype,"init",null),o}(he),HA=function(){var d=function(o,r){return(d=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(a,u){a.__proto__=u}||function(a,u){for(var c in u)u.hasOwnProperty(c)&&(a[c]=u[c])})(o,r)};return function(o,r){function a(){this.constructor=o}d(o,r),o.prototype=null===r?Object.create(r):(a.prototype=r.prototype,new a)}}(),BA=0,Jn=function(d){function o(r,a){var u=d.call(this)||this;return u.lastFocusEvent=null,u.columnGroupChild=r,u.parentRowCtrl=a,u.instanceId=r.getUniqueId()+"-"+BA++,u}return HA(o,d),o.prototype.shouldStopEventPropagation=function(r){var a=this.focusService.getFocusedHeader();return Eg(this.gridOptionsWrapper,r,a.headerRowIndex,a.column)},o.prototype.setGui=function(r){this.eGui=r,this.addDomData()},o.prototype.addDomData=function(){var r=this,a=o.DOM_DATA_KEY_HEADER_CTRL;this.gridOptionsWrapper.setDomData(this.eGui,a,this),this.addDestroyFunc(function(){return r.gridOptionsWrapper.setDomData(r.eGui,a,null)})},o.prototype.focus=function(r){return!!this.eGui&&(this.lastFocusEvent=r||null,this.eGui.focus(),!0)},o.prototype.getRowIndex=function(){return this.parentRowCtrl.getRowIndex()},o.prototype.getParentRowCtrl=function(){return this.parentRowCtrl},o.prototype.getPinned=function(){return this.parentRowCtrl.getPinned()},o.prototype.getInstanceId=function(){return this.instanceId},o.prototype.getColumnGroupChild=function(){return this.columnGroupChild},o.DOM_DATA_KEY_HEADER_CTRL="headerCtrl",function(d,o,r,a){var f,u=arguments.length,c=u<3?o:null===a?a=Object.getOwnPropertyDescriptor(o,r):a;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)c=Reflect.decorate(d,o,r,a);else for(var y=d.length-1;y>=0;y--)(f=d[y])&&(c=(u<3?f(c):u>3?f(o,r,c):f(o,r))||c);u>3&&c&&Object.defineProperty(o,r,c)}([F("focusService")],o.prototype,"focusService",void 0),o}(he),yh=function(){function d(){}return d.getFloatingFilterType=function(o){return this.filterToFloatingFilterMapping[o]},d.filterToFloatingFilterMapping={set:"agSetColumnFloatingFilter",agSetColumnFilter:"agSetColumnFloatingFilter",multi:"agMultiColumnFloatingFilter",agMultiColumnFilter:"agMultiColumnFloatingFilter",number:"agNumberColumnFloatingFilter",agNumberColumnFilter:"agNumberColumnFloatingFilter",date:"agDateColumnFloatingFilter",agDateColumnFilter:"agDateColumnFloatingFilter",text:"agTextColumnFloatingFilter",agTextColumnFilter:"agTextColumnFloatingFilter"},d}(),lv=function(){var d=function(o,r){return(d=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(a,u){a.__proto__=u}||function(a,u){for(var c in u)u.hasOwnProperty(c)&&(a[c]=u[c])})(o,r)};return function(o,r){function a(){this.constructor=o}d(o,r),o.prototype=null===r?Object.create(r):(a.prototype=r.prototype,new a)}}(),id=function(d){function o(r,a,u,c){var f=d.call(this)||this;return f.columnOrGroup=r,f.eCell=a,f.ariaEl=f.eCell.querySelector("[role=columnheader]")||f.eCell,f.colsSpanning=c,f.beans=u,f}return lv(o,d),o.prototype.setColsSpanning=function(r){this.colsSpanning=r,this.onLeftChanged()},o.prototype.getColumnOrGroup=function(){return this.beans.gridOptionsWrapper.isEnableRtl()&&this.colsSpanning?Jt(this.colsSpanning):this.columnOrGroup},o.prototype.postConstruct=function(){this.addManagedListener(this.columnOrGroup,jt.EVENT_LEFT_CHANGED,this.onLeftChanged.bind(this)),this.setLeftFirstTime(),this.addManagedListener(this.eventService,j.EVENT_DISPLAYED_COLUMNS_WIDTH_CHANGED,this.onLeftChanged.bind(this)),this.addManagedListener(this.beans.gridOptionsWrapper,Fe.PROP_DOM_LAYOUT,this.onLeftChanged.bind(this))},o.prototype.setLeftFirstTime=function(){var r=this.beans.gridOptionsWrapper.isSuppressColumnMoveAnimation(),a=ce(this.columnOrGroup.getOldLeft());this.beans.columnAnimationService.isActive()&&a&&!r?this.animateInLeft():this.onLeftChanged()},o.prototype.animateInLeft=function(){var r=this,a=this.getColumnOrGroup(),u=a.getLeft(),c=a.getOldLeft(),f=this.modifyLeftForPrintLayout(a,c),y=this.modifyLeftForPrintLayout(a,u);this.setLeft(f),this.actualLeft=y,this.beans.columnAnimationService.executeNextVMTurn(function(){r.actualLeft===y&&r.setLeft(y)})},o.prototype.onLeftChanged=function(){var r=this.getColumnOrGroup(),a=r.getLeft();this.actualLeft=this.modifyLeftForPrintLayout(r,a),this.setLeft(this.actualLeft)},o.prototype.modifyLeftForPrintLayout=function(r,a){if(this.beans.gridOptionsWrapper.getDomLayout()!==q.DOM_LAYOUT_PRINT||r.getPinned()===q.PINNED_LEFT)return a;var c=this.beans.columnModel.getDisplayedColumnsLeftWidth();return r.getPinned()===q.PINNED_RIGHT?c+this.beans.columnModel.getBodyContainerWidth()+a:c+a},o.prototype.setLeft=function(r){var a;if(ce(r)&&(this.eCell.style.left=r+"px"),this.columnOrGroup instanceof jt)a=this.columnOrGroup;else{var c=this.columnOrGroup.getLeafColumns();if(!c.length)return;c.length>1&&jp(this.ariaEl,c.length),a=c[0]}var f=this.beans.columnModel.getAriaColumnIndex(a);bo(this.ariaEl,f)},function(d,o,r,a){var f,u=arguments.length,c=u<3?o:null===a?a=Object.getOwnPropertyDescriptor(o,r):a;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)c=Reflect.decorate(d,o,r,a);else for(var y=d.length-1;y>=0;y--)(f=d[y])&&(c=(u<3?f(c):u>3?f(o,r,c):f(o,r))||c);u>3&&c&&Object.defineProperty(o,r,c)}([ye],o.prototype,"postConstruct",null),o}(he),nd=function(){var d=function(o,r){return(d=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(a,u){a.__proto__=u}||function(a,u){for(var c in u)u.hasOwnProperty(c)&&(a[c]=u[c])})(o,r)};return function(o,r){function a(){this.constructor=o}d(o,r),o.prototype=null===r?Object.create(r):(a.prototype=r.prototype,new a)}}(),uv=function(d,o,r,a){var f,u=arguments.length,c=u<3?o:null===a?a=Object.getOwnPropertyDescriptor(o,r):a;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)c=Reflect.decorate(d,o,r,a);else for(var y=d.length-1;y>=0;y--)(f=d[y])&&(c=(u<3?f(c):u>3?f(o,r,c):f(o,r))||c);return u>3&&c&&Object.defineProperty(o,r,c),c},mh=function(d){function o(r,a){var u=d.call(this)||this;return u.columns=r,u.element=a,u}return nd(o,d),o.prototype.postConstruct=function(){this.gridOptionsWrapper.isColumnHoverHighlight()&&this.addMouseHoverListeners()},o.prototype.addMouseHoverListeners=function(){this.addManagedListener(this.element,"mouseout",this.onMouseOut.bind(this)),this.addManagedListener(this.element,"mouseover",this.onMouseOver.bind(this))},o.prototype.onMouseOut=function(){this.columnHoverService.clearMouseOver()},o.prototype.onMouseOver=function(){this.columnHoverService.setMouseOver(this.columns)},uv([F("columnHoverService")],o.prototype,"columnHoverService",void 0),uv([ye],o.prototype,"postConstruct",null),o}(he),cv=function(){var d=function(o,r){return(d=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(a,u){a.__proto__=u}||function(a,u){for(var c in u)u.hasOwnProperty(c)&&(a[c]=u[c])})(o,r)};return function(o,r){function a(){this.constructor=o}d(o,r),o.prototype=null===r?Object.create(r):(a.prototype=r.prototype,new a)}}(),zs=function(d,o,r,a){var f,u=arguments.length,c=u<3?o:null===a?a=Object.getOwnPropertyDescriptor(o,r):a;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)c=Reflect.decorate(d,o,r,a);else for(var y=d.length-1;y>=0;y--)(f=d[y])&&(c=(u<3?f(c):u>3?f(o,r,c):f(o,r))||c);return u>3&&c&&Object.defineProperty(o,r,c),c},dv=function(d){function o(r,a){var u=d.call(this,r,a)||this;return u.column=r,u}return cv(o,d),o.prototype.setComp=function(r,a,u,c){d.prototype.setGui.call(this,a),this.comp=r,this.eButtonShowMainFilter=u,this.eFloatingFilterBody=c;var f=this.column.getColDef();this.active=!(!f.filter&&!f.filterFramework||!f.floatingFilter),this.setupWidth(),this.setupLeft(),this.setupHover(),this.setupFocus(),this.setupUserComp(),this.setupSyncWithFilter(),this.setupUi(),this.addManagedListener(this.eButtonShowMainFilter,"click",this.showParentFilter.bind(this))},o.prototype.setupUi=function(){if(this.comp.addOrRemoveButtonWrapperCssClass("ag-hidden",!this.active||this.suppressFilterButton),this.active){this.comp.addOrRemoveBodyCssClass("ag-floating-filter-full-body",this.suppressFilterButton),this.comp.addOrRemoveBodyCssClass("ag-floating-filter-body",!this.suppressFilterButton);var r=An("filter",this.gridOptionsWrapper,this.column);r&&this.eButtonShowMainFilter.appendChild(r)}},o.prototype.setupFocus=function(){this.createManagedBean(new os(this.eGui,{shouldStopEventPropagation:this.shouldStopEventPropagation.bind(this),onTabKeyDown:this.onTabKeyDown.bind(this),handleKeyDown:this.handleKeyDown.bind(this),onFocusIn:this.onFocusIn.bind(this)}))},o.prototype.onTabKeyDown=function(r){if(document.activeElement!==this.eGui){var c=this.focusService.findNextFocusableElement(this.eGui,null,r.shiftKey);c&&(r.preventDefault(),c.focus())}},o.prototype.handleKeyDown=function(r){var u=document.activeElement===this.eGui;switch(r.keyCode){case me.UP:case me.DOWN:u||r.preventDefault();case me.LEFT:case me.RIGHT:if(u)return;r.stopPropagation();case me.ENTER:u&&this.focusService.focusInto(this.eGui)&&r.preventDefault();break;case me.ESCAPE:u||this.eGui.focus()}},o.prototype.onFocusIn=function(r){if(!this.eGui.contains(r.relatedTarget)){var u=this.focusService.isKeyboardMode(),c=!!r.relatedTarget&&!ts(r.relatedTarget,"ag-floating-filter"),f=!!r.relatedTarget&&pg(r.relatedTarget,"ag-floating-filter");if(u&&c&&f&&r.target===this.eGui){var y=this.lastFocusEvent;if(y&&y&&y.keyCode===me.TAB){var D=this.beans.focusService.getFocusedHeader(),O=this.beans.columnModel.getDisplayedColAfter(this.column);this.focusService.focusInto(this.eGui,!!(u&&y.shiftKey&&D&&O===D.column))}}var B=this.getRowIndex();this.beans.focusService.setFocusedHeader(B,this.column)}},o.prototype.setupHover=function(){var r=this;this.createManagedBean(new mh([this.column],this.eGui));var a=function(){if(r.gridOptionsWrapper.isColumnHoverHighlight()){var u=r.columnHoverService.isHovered(r.column);r.comp.addOrRemoveCssClass("ag-column-hover",u)}};this.addManagedListener(this.eventService,j.EVENT_COLUMN_HOVER_CHANGED,a),a()},o.prototype.setupLeft=function(){var r=new id(this.column,this.eGui,this.beans);this.createManagedBean(r)},o.prototype.setupUserComp=function(){if(this.active){var r=this.column.getColDef(),a=this.filterManager.createFilterParams(this.column,r),u=this.userComponentFactory.mergeParamsWithApplicationProvidedParams(r,"filter",a),c=o.getDefaultFloatingFilterType(r);null==c&&(c="agReadOnlyFloatingFilter");var f={api:this.gridApi,column:this.column,filterParams:u,currentParentModel:this.currentParentModel.bind(this),parentFilterInstance:this.parentFilterInstance.bind(this),showParentFilter:this.showParentFilter.bind(this),onFloatingFilterChanged:this.onFloatingFilterChanged.bind(this),suppressFilterButton:!1};this.suppressFilterButton=!!r.floatingFilterComponentParams&&!!r.floatingFilterComponentParams.suppressFilterButton;var y=this.userComponentFactory.getFloatingFilterCompDetails(r,f,c);y&&this.comp.setCompDetails(y)}},o.getDefaultFloatingFilterType=function(r){if(null==r)return null;var a=null;return"string"==typeof r.filter?a=yh.getFloatingFilterType(r.filter):r.filterFramework||!0===r.filter&&(a=ot.isRegistered(H.GXE.SetFilterModule)?"agSetColumnFloatingFilter":"agTextColumnFloatingFilter"),a},o.prototype.currentParentModel=function(){var r=this.getFilterComponent(!1);return r?r.resolveNow(null,function(a){return a&&a.getModel()}):null},o.prototype.getFilterComponent=function(r){return void 0===r&&(r=!0),this.filterManager.getFilterComponent(this.column,"NO_UI",r)},o.prototype.onFloatingFilterChanged=function(){console.warn("AG Grid: since version 21.x, how floating filters are implemented has changed. Instead of calling params.onFloatingFilterChanged(), get a reference to the main filter via params.parentFilterInstance() and then set a value on the parent filter directly.")},o.prototype.parentFilterInstance=function(r){var a=this,u=this.getFilterComponent();u&&u.then(function(c){var f=a.frameworkComponentWrapper?a.frameworkComponentWrapper.unwrap(c):c;r(f)})},o.prototype.showParentFilter=function(){this.menuFactory.showMenuAfterButtonClick(this.column,this.suppressFilterButton?this.eFloatingFilterBody:this.eButtonShowMainFilter,"floatingFilter","filterMenuTab",["filterMenuTab"])},o.prototype.setupSyncWithFilter=function(){var r=this;if(this.active){var a=function(u){var c=r.comp.getFloatingFilterComp();if(c){var f=r.currentParentModel();c.then(function(y){return y&&y.onParentModelChanged(f,u)})}};this.addManagedListener(this.column,jt.EVENT_FILTER_CHANGED,a),this.filterManager.isFilterActive(this.column)&&a(null)}},o.prototype.setupWidth=function(){var r=this,a=function(){var u=r.column.getActualWidth()+"px";r.comp.setWidth(u)};this.addManagedListener(this.column,jt.EVENT_WIDTH_CHANGED,a),a()},zs([F("userComponentFactory")],o.prototype,"userComponentFactory",void 0),zs([F("filterManager")],o.prototype,"filterManager",void 0),zs([F("columnHoverService")],o.prototype,"columnHoverService",void 0),zs([F("gridApi")],o.prototype,"gridApi",void 0),zs([F("menuFactory")],o.prototype,"menuFactory",void 0),zs([F("beans")],o.prototype,"beans",void 0),zs([et("frameworkComponentWrapper")],o.prototype,"frameworkComponentWrapper",void 0),o}(Jn),Ib=function(){function d(){}return d.getHeaderClassesFromColDef=function(o,r,a,u){return Ge(o)?[]:this.getColumnClassesFromCollDef(o.headerClass,o,r,a,u)},d.getToolPanelClassesFromColDef=function(o,r,a,u){return Ge(o)?[]:this.getColumnClassesFromCollDef(o.toolPanelClass,o,r,a,u)},d.getColumnClassesFromCollDef=function(o,r,a,u,c){return Ge(o)?[]:"string"==typeof(f="function"==typeof o?o({colDef:r,column:u,columnGroup:c,context:a.getContext(),api:a.getApi()}):o)?[f]:Array.isArray(f)?f:[];var f},d}(),Du=function(){var d=function(o,r){return(d=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(a,u){a.__proto__=u}||function(a,u){for(var c in u)u.hasOwnProperty(c)&&(a[c]=u[c])})(o,r)};return function(o,r){function a(){this.constructor=o}d(o,r),o.prototype=null===r?Object.create(r):(a.prototype=r.prototype,new a)}}(),rd=function(d,o,r,a){var f,u=arguments.length,c=u<3?o:null===a?a=Object.getOwnPropertyDescriptor(o,r):a;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)c=Reflect.decorate(d,o,r,a);else for(var y=d.length-1;y>=0;y--)(f=d[y])&&(c=(u<3?f(c):u>3?f(o,r,c):f(o,r))||c);return u>3&&c&&Object.defineProperty(o,r,c),c},Mb=function(d){function o(r,a,u,c,f){var y=d.call(this)||this;return y.pinned=r,y.column=a,y.eResize=u,y.comp=c,y.ctrl=f,y}return Du(o,d),o.prototype.postConstruct=function(){var c,f,r=this,a=this.column.getColDef(),u=[],w=function(){u.forEach(function(O){return O()}),u.length=0},D=function(){var O=r.column.isResizable(),I=!r.gridOptionsWrapper.isSuppressAutoSize()&&!a.suppressAutoSize;(O!==c||I!==f)&&(c=O,f=I,w(),function(){if(Oi(r.eResize,c),c){var O=r.horizontalResizeService.addResizeBar({eResizeBar:r.eResize,onResizeStart:r.onResizeStart.bind(r),onResizing:r.onResizing.bind(r,!1),onResizeEnd:r.onResizing.bind(r,!0)});if(u.push(O),f){var I=r.gridOptionsWrapper.isSkipHeaderOnAutoSize(),V=function(){r.columnModel.autoSizeColumn(r.column,I,"uiColumnResized")};r.eResize.addEventListener("dblclick",V);var B=new $i(r.eResize);B.addEventListener($i.EVENT_DOUBLE_TAP,V),r.addDestroyFunc(function(){r.eResize.removeEventListener("dblclick",V),B.removeEventListener($i.EVENT_DOUBLE_TAP,V),B.destroy()})}}}())};D(),this.addDestroyFunc(w),this.ctrl.addRefreshFunction(D)},o.prototype.onResizing=function(r,a){var u=this.normaliseResizeAmount(a);this.columnModel.setColumnWidths([{key:this.column,newWidth:this.resizeStartWidth+u}],this.resizeWithShiftKey,r,"uiColumnDragged"),r&&this.comp.addOrRemoveCssClass("ag-column-resizing",!1)},o.prototype.onResizeStart=function(r){this.resizeStartWidth=this.column.getActualWidth(),this.resizeWithShiftKey=r,this.comp.addOrRemoveCssClass("ag-column-resizing",!0)},o.prototype.normaliseResizeAmount=function(r){var a=r,u=this.pinned!==q.PINNED_LEFT,c=this.pinned===q.PINNED_RIGHT;return this.gridOptionsWrapper.isEnableRtl()?u&&(a*=-1):c&&(a*=-1),a},rd([F("horizontalResizeService")],o.prototype,"horizontalResizeService",void 0),rd([F("columnModel")],o.prototype,"columnModel",void 0),rd([ye],o.prototype,"postConstruct",null),o}(he),gE=function(){var d=function(o,r){return(d=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(a,u){a.__proto__=u}||function(a,u){for(var c in u)u.hasOwnProperty(c)&&(a[c]=u[c])})(o,r)};return function(o,r){function a(){this.constructor=o}d(o,r),o.prototype=null===r?Object.create(r):(a.prototype=r.prototype,new a)}}(),ka=function(d){function o(r,a,u){void 0===a&&(a="ag-checkbox"),void 0===u&&(u="checkbox");var c=d.call(this,r,a,u)||this;return c.labelAlignment="right",c.selected=!1,c.readOnly=!1,c.passive=!1,c}return gE(o,d),o.prototype.addInputListeners=function(){this.addManagedListener(this.eInput,"click",this.onCheckboxClick.bind(this)),this.addManagedListener(this.eLabel,"click",this.toggle.bind(this))},o.prototype.getNextValue=function(){return void 0===this.selected||!this.selected},o.prototype.setPassive=function(r){this.passive=r},o.prototype.isReadOnly=function(){return this.readOnly},o.prototype.setReadOnly=function(r){Ke(this.eWrapper,"ag-disabled",r),this.eInput.disabled=r,this.readOnly=r},o.prototype.setDisabled=function(r){return Ke(this.eWrapper,"ag-disabled",r),d.prototype.setDisabled.call(this,r)},o.prototype.toggle=function(){if(!this.eInput.disabled){var r=this.isSelected(),a=this.getNextValue();this.passive?this.dispatchChange(a,r):this.setValue(a)}},o.prototype.getValue=function(){return this.isSelected()},o.prototype.setValue=function(r,a){return this.refreshSelectedClass(r),this.setSelected(r,a),this},o.prototype.setName=function(r){return this.getInputElement().name=r,this},o.prototype.isSelected=function(){return this.selected},o.prototype.setSelected=function(r,a){this.isSelected()!==r&&(this.previousValue=this.isSelected(),r=this.selected="boolean"==typeof r?r:void 0,this.eInput.checked=r,this.eInput.indeterminate=void 0===r,a||this.dispatchChange(this.selected,this.previousValue))},o.prototype.dispatchChange=function(r,a,u){this.dispatchEvent({type:o.EVENT_CHANGED,selected:r,previousValue:a,event:u});var c=this.getInputElement();this.eventService.dispatchEvent({type:j.EVENT_CHECKBOX_CHANGED,id:c.id,name:c.name,selected:r,previousValue:a})},o.prototype.onCheckboxClick=function(r){if(!this.passive&&!this.eInput.disabled){var a=this.isSelected(),u=this.selected=r.target.checked;this.refreshSelectedClass(u),this.dispatchChange(u,a,r)}},o.prototype.refreshSelectedClass=function(r){Ke(this.eWrapper,"ag-checked",!0===r),Ke(this.eWrapper,"ag-indeterminate",null==r)},o}(Gr),vE=function(){var d=function(o,r){return(d=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(a,u){a.__proto__=u}||function(a,u){for(var c in u)u.hasOwnProperty(c)&&(a[c]=u[c])})(o,r)};return function(o,r){function a(){this.constructor=o}d(o,r),o.prototype=null===r?Object.create(r):(a.prototype=r.prototype,new a)}}(),_h=function(d,o,r,a){var f,u=arguments.length,c=u<3?o:null===a?a=Object.getOwnPropertyDescriptor(o,r):a;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)c=Reflect.decorate(d,o,r,a);else for(var y=d.length-1;y>=0;y--)(f=d[y])&&(c=(u<3?f(c):u>3?f(o,r,c):f(o,r))||c);return u>3&&c&&Object.defineProperty(o,r,c),c},yE=function(d){function o(r){var a=d.call(this)||this;a.cbSelectAllVisible=!1,a.processingEventFromCheckbox=!1,a.column=r;var u=r.getColDef();return a.filteredOnly=!!u&&!!u.headerCheckboxSelectionFilteredOnly,a}return vE(o,d),o.prototype.onSpaceKeyPressed=function(r){var a=this.cbSelectAll;a.isDisplayed()&&!a.getGui().contains(document.activeElement)&&(r.preventDefault(),a.setValue(!a.getValue()))},o.prototype.getCheckboxGui=function(){return this.cbSelectAll.getGui()},o.prototype.setComp=function(r){this.comp=r,this.cbSelectAll=this.createManagedBean(new ka),this.cbSelectAll.addCssClass("ag-header-select-all"),Sr(this.cbSelectAll.getGui(),"presentation"),this.showOrHideSelectAll(),this.addManagedListener(this.eventService,j.EVENT_NEW_COLUMNS_LOADED,this.showOrHideSelectAll.bind(this)),this.addManagedListener(this.eventService,j.EVENT_DISPLAYED_COLUMNS_CHANGED,this.showOrHideSelectAll.bind(this)),this.addManagedListener(this.eventService,j.EVENT_SELECTION_CHANGED,this.onSelectionChanged.bind(this)),this.addManagedListener(this.eventService,j.EVENT_MODEL_UPDATED,this.onModelChanged.bind(this)),this.addManagedListener(this.cbSelectAll,ka.EVENT_CHANGED,this.onCbSelectAll.bind(this)),this.cbSelectAll.getInputElement().setAttribute("tabindex","-1"),this.refreshSelectAllLabel()},o.prototype.showOrHideSelectAll=function(){this.cbSelectAllVisible=this.isCheckboxSelection(),this.cbSelectAll.setDisplayed(this.cbSelectAllVisible),this.cbSelectAllVisible&&(this.checkRightRowModelType(),this.updateStateOfCheckbox()),this.refreshHeaderAriaDescribedBy(this.cbSelectAllVisible)},o.prototype.refreshHeaderAriaDescribedBy=function(r){var a=r?this.cbSelectAll.getInputElement().id:void 0;this.comp.setAriaDescribedBy(a)},o.prototype.onModelChanged=function(){!this.cbSelectAllVisible||this.updateStateOfCheckbox()},o.prototype.onSelectionChanged=function(){!this.cbSelectAllVisible||this.updateStateOfCheckbox()},o.prototype.getNextCheckboxState=function(r){return(0!==r.selected||0!==r.notSelected)&&(r.selected>0&&r.notSelected>0?null:r.selected>0)},o.prototype.updateStateOfCheckbox=function(){if(!this.processingEventFromCheckbox){this.processingEventFromCheckbox=!0;var r=this.getSelectionCount(),a=this.getNextCheckboxState(r);this.cbSelectAll.setValue(a),this.refreshSelectAllLabel(),this.processingEventFromCheckbox=!1}},o.prototype.refreshSelectAllLabel=function(){var r=this.gridOptionsWrapper.getLocaleTextFunc(),u=this.cbSelectAll.getValue()?r("ariaChecked","checked"):r("ariaUnchecked","unchecked"),c=r("ariaRowSelectAll","Press Space to toggle all rows selection");this.cbSelectAll.setInputAriaLabel(c+" ("+u+")")},o.prototype.getSelectionCount=function(){var r=this,a=0,u=0,c=function(f){r.gridOptionsWrapper.isGroupSelectsChildren()&&f.group||(f.isSelected()?a++:f.selectable&&u++)};return this.filteredOnly?this.gridApi.forEachNodeAfterFilter(c):this.gridApi.forEachNode(c),{notSelected:u,selected:a}},o.prototype.checkRightRowModelType=function(){var r=this.rowModel.getType();r===q.ROW_MODEL_TYPE_CLIENT_SIDE||console.warn("AG Grid: selectAllCheckbox is only available if using normal row model, you are using "+r)},o.prototype.onCbSelectAll=function(){!this.processingEventFromCheckbox&&this.cbSelectAllVisible&&(this.cbSelectAll.getValue()?this.selectionService.selectAllRowNodes(this.filteredOnly):this.selectionService.deselectAllRowNodes(this.filteredOnly))},o.prototype.isCheckboxSelection=function(){var r=this.column.getColDef().headerCheckboxSelection;return"function"==typeof r&&(r=r({column:this.column,colDef:this.column.getColDef(),columnApi:this.columnApi,api:this.gridApi})),!(!r||(this.gridOptionsWrapper.isRowModelServerSide()?(console.warn("headerCheckboxSelection is not supported for Server Side Row Model"),1):this.gridOptionsWrapper.isRowModelInfinite()?(console.warn("headerCheckboxSelection is not supported for Infinite Row Model"),1):this.gridOptionsWrapper.isRowModelViewport()&&(console.warn("headerCheckboxSelection is not supported for Viewport Row Model"),1)))},_h([F("gridApi")],o.prototype,"gridApi",void 0),_h([F("columnApi")],o.prototype,"columnApi",void 0),_h([F("rowModel")],o.prototype,"rowModel",void 0),_h([F("selectionService")],o.prototype,"selectionService",void 0),o}(he),mE=function(){var d=function(o,r){return(d=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(a,u){a.__proto__=u}||function(a,u){for(var c in u)u.hasOwnProperty(c)&&(a[c]=u[c])})(o,r)};return function(o,r){function a(){this.constructor=o}d(o,r),o.prototype=null===r?Object.create(r):(a.prototype=r.prototype,new a)}}(),ps=function(d,o,r,a){var f,u=arguments.length,c=u<3?o:null===a?a=Object.getOwnPropertyDescriptor(o,r):a;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)c=Reflect.decorate(d,o,r,a);else for(var y=d.length-1;y>=0;y--)(f=d[y])&&(c=(u<3?f(c):u>3?f(o,r,c):f(o,r))||c);return u>3&&c&&Object.defineProperty(o,r,c),c},Fb=function(d){function o(r,a){var u=d.call(this,r,a)||this;return u.refreshFunctions=[],u.userHeaderClasses=new Set,u.column=r,u}return mE(o,d),o.prototype.setComp=function(r,a,u){var c=this;d.prototype.setGui.call(this,a),this.comp=r,this.colDefVersion=this.columnModel.getColDefVersion(),this.updateState(),this.setupWidth(),this.setupMovingCss(),this.setupMenuClass(),this.setupSortableClass(),this.addColumnHoverListener(),this.setupFilterCss(),this.setupColId(),this.setupClassesFromColDef(),this.setupTooltip(),this.addActiveHeaderMouseListeners(),this.setupSelectAll(),this.setupUserComp(),this.createManagedBean(new Mb(this.getPinned(),this.column,u,r,this)),this.createManagedBean(new mh([this.column],a)),this.createManagedBean(new id(this.column,a,this.beans)),this.createManagedBean(new os(a,{shouldStopEventPropagation:function(f){return c.shouldStopEventPropagation(f)},onTabKeyDown:function(){return null},handleKeyDown:this.handleKeyDown.bind(this),onFocusIn:this.onFocusIn.bind(this),onFocusOut:this.onFocusOut.bind(this)})),this.addManagedListener(this.eventService,j.EVENT_NEW_COLUMNS_LOADED,this.onNewColumnsLoaded.bind(this)),this.addManagedListener(this.eventService,j.EVENT_COLUMN_VALUE_CHANGED,this.onColumnValueChanged.bind(this)),this.addManagedListener(this.eventService,j.EVENT_COLUMN_ROW_GROUP_CHANGED,this.onColumnRowGroupChanged.bind(this)),this.addManagedListener(this.eventService,j.EVENT_COLUMN_PIVOT_CHANGED,this.onColumnPivotChanged.bind(this))},o.prototype.setupUserComp=function(){var r=this.lookupUserCompDetails();this.setCompDetails(r)},o.prototype.setCompDetails=function(r){this.userCompDetails=r,this.comp.setUserCompDetails(r)},o.prototype.lookupUserCompDetails=function(){var r=this.createParams(),a=this.column.getColDef();return this.userComponentFactory.getHeaderCompDetails(a,r)},o.prototype.createParams=function(){var r=this,a=this.column.getColDef();return{column:this.column,displayName:this.displayName,enableSorting:a.sortable,enableMenu:this.menuEnabled,showColumnMenu:function(c){r.gridApi.showColumnMenuAfterButtonClick(r.column,c)},progressSort:function(c){r.sortController.progressSort(r.column,!!c,"uiColumnSorted")},setSort:function(c,f){r.sortController.setSortForColumn(r.column,c,!!f,"uiColumnSorted")},api:this.gridApi,columnApi:this.columnApi,context:this.gridOptionsWrapper.getContext(),eGridHeader:this.getGui()}},o.prototype.setupSelectAll=function(){this.selectAllFeature=this.createManagedBean(new yE(this.column)),this.selectAllFeature.setComp(this.comp)},o.prototype.getSelectAllGui=function(){return this.selectAllFeature.getCheckboxGui()},o.prototype.handleKeyDown=function(r){r.keyCode===me.SPACE&&this.selectAllFeature.onSpaceKeyPressed(r),r.keyCode===me.ENTER&&this.onEnterKeyPressed(r)},o.prototype.onEnterKeyPressed=function(r){var a=this.comp.getUserCompInstance();a&&(r.ctrlKey||r.metaKey?this.menuEnabled&&a.showMenu&&(r.preventDefault(),a.showMenu()):this.sortable&&this.sortController.progressSort(this.column,r.shiftKey,"uiColumnSorted"))},o.prototype.isMenuEnabled=function(){return this.menuEnabled},o.prototype.onFocusIn=function(r){if(!this.getGui().contains(r.relatedTarget)){var a=this.getRowIndex();this.focusService.setFocusedHeader(a,this.column)}this.setActiveHeader(!0)},o.prototype.onFocusOut=function(r){this.getGui().contains(r.relatedTarget)||this.setActiveHeader(!1)},o.prototype.setupTooltip=function(){var r=this,u=this.createManagedBean(new lh({getColumn:function(){return r.column},getColDef:function(){return r.column.getColDef()},getGui:function(){return r.eGui},getLocation:function(){return"header"},getTooltipValue:function(){return r.column.getColDef().headerTooltip}},this.beans));u.setComp(this.comp),this.refreshFunctions.push(function(){return u.refreshToolTip()})},o.prototype.setupClassesFromColDef=function(){var r=this,a=function(){var u=r.column.getColDef(),f=Ib.getHeaderClassesFromColDef(u,r.gridOptionsWrapper,r.column,null),y=r.userHeaderClasses;r.userHeaderClasses=new Set(f),f.forEach(function(w){y.has(w)?y.delete(w):r.comp.addOrRemoveCssClass(w,!0)}),y.forEach(function(w){return r.comp.addOrRemoveCssClass(w,!1)})};this.refreshFunctions.push(a),a()},o.prototype.getGui=function(){return this.eGui},o.prototype.setDragSource=function(r){var a=this;this.dragSourceElement=r,this.removeDragSource(),r&&(!this.draggable||(this.moveDragSource={type:H.rvo.HeaderCell,eElement:r,defaultIconName:Er.ICON_HIDE,getDragItem:function(){return a.createDragItem()},dragItemName:this.displayName,onDragStarted:function(){return a.column.setMoving(!0,"uiColumnMoved")},onDragStopped:function(){return a.column.setMoving(!1,"uiColumnMoved")}},this.dragAndDropService.addDragSource(this.moveDragSource,!0)))},o.prototype.createDragItem=function(){var r={};return r[this.column.getId()]=this.column.isVisible(),{columns:[this.column],visibleState:r}},o.prototype.removeDragSource=function(){this.moveDragSource&&(this.dragAndDropService.removeDragSource(this.moveDragSource),this.moveDragSource=void 0)},o.prototype.onNewColumnsLoaded=function(){var r=this.columnModel.getColDefVersion();r!=this.colDefVersion&&(this.colDefVersion=r,this.refresh())},o.prototype.updateState=function(){var r=this.column.getColDef();this.menuEnabled=this.menuFactory.isMenuEnabled(this.column)&&!r.suppressMenu,this.sortable=r.sortable,this.displayName=this.calculateDisplayName(),this.draggable=this.workOutDraggable()},o.prototype.addRefreshFunction=function(r){this.refreshFunctions.push(r)},o.prototype.refresh=function(){this.updateState(),this.refreshHeaderComp(),this.refreshFunctions.forEach(function(r){return r()})},o.prototype.refreshHeaderComp=function(){var r=this.lookupUserCompDetails();null!=this.comp.getUserCompInstance()&&this.userCompDetails.componentClass==r.componentClass&&this.attemptHeaderCompRefresh(r.params)?this.setDragSource(this.dragSourceElement):this.setCompDetails(r)},o.prototype.attemptHeaderCompRefresh=function(r){var a=this.comp.getUserCompInstance();return!(!a||!a.refresh)&&a.refresh(r)},o.prototype.calculateDisplayName=function(){return this.columnModel.getDisplayNameForColumn(this.column,"header",!0)},o.prototype.checkDisplayName=function(){this.displayName!==this.calculateDisplayName()&&this.refresh()},o.prototype.workOutDraggable=function(){var r=this.column.getColDef();return!(this.gridOptionsWrapper.isSuppressMovableColumns()||r.suppressMovable||r.lockPosition)||!!r.enableRowGroup||!!r.enablePivot},o.prototype.onColumnRowGroupChanged=function(){this.checkDisplayName()},o.prototype.onColumnPivotChanged=function(){this.checkDisplayName()},o.prototype.onColumnValueChanged=function(){this.checkDisplayName()},o.prototype.setupWidth=function(){var r=this,a=function(){r.comp.setWidth(r.column.getActualWidth()+"px")};this.addManagedListener(this.column,jt.EVENT_WIDTH_CHANGED,a),a()},o.prototype.setupMovingCss=function(){var r=this,a=function(){r.comp.addOrRemoveCssClass("ag-header-cell-moving",r.column.isMoving())};this.addManagedListener(this.column,jt.EVENT_MOVING_CHANGED,a),a()},o.prototype.setupMenuClass=function(){var r=this,a=function(){r.comp.addOrRemoveCssClass("ag-column-menu-visible",r.column.isMenuVisible())};this.addManagedListener(this.column,jt.EVENT_MENU_VISIBLE_CHANGED,a),a()},o.prototype.setupSortableClass=function(){var r=this,a=function(){r.comp.addOrRemoveCssClass("ag-header-cell-sortable",!!r.sortable)},u=function(){r.comp.setAriaSort(r.sortable?Hs(r.column):void 0)};a(),u(),this.addRefreshFunction(a),this.addRefreshFunction(u),this.addManagedListener(this.column,jt.EVENT_SORT_CHANGED,u)},o.prototype.addColumnHoverListener=function(){var r=this,a=function(){if(r.gridOptionsWrapper.isColumnHoverHighlight()){var u=r.columnHoverService.isHovered(r.column);r.comp.addOrRemoveCssClass("ag-column-hover",u)}};this.addManagedListener(this.eventService,j.EVENT_COLUMN_HOVER_CHANGED,a),a()},o.prototype.setupFilterCss=function(){var r=this,a=function(){r.comp.addOrRemoveCssClass("ag-header-cell-filtered",r.column.isFilterActive())};this.addManagedListener(this.column,jt.EVENT_FILTER_ACTIVE_CHANGED,a),a()},o.prototype.setupColId=function(){this.comp.setColId(this.column.getColId())},o.prototype.addActiveHeaderMouseListeners=function(){var r=this,a=function(u){return r.setActiveHeader("mouseenter"===u.type)};this.addManagedListener(this.getGui(),"mouseenter",a),this.addManagedListener(this.getGui(),"mouseleave",a)},o.prototype.setActiveHeader=function(r){this.comp.addOrRemoveCssClass("ag-header-active",r)},ps([F("columnModel")],o.prototype,"columnModel",void 0),ps([F("columnHoverService")],o.prototype,"columnHoverService",void 0),ps([F("beans")],o.prototype,"beans",void 0),ps([F("sortController")],o.prototype,"sortController",void 0),ps([F("menuFactory")],o.prototype,"menuFactory",void 0),ps([F("dragAndDropService")],o.prototype,"dragAndDropService",void 0),ps([F("gridApi")],o.prototype,"gridApi",void 0),ps([F("columnApi")],o.prototype,"columnApi",void 0),ps([F("userComponentFactory")],o.prototype,"userComponentFactory",void 0),ps([or],o.prototype,"removeDragSource",null),o}(Jn),Nb=function(){var d=function(o,r){return(d=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(a,u){a.__proto__=u}||function(a,u){for(var c in u)u.hasOwnProperty(c)&&(a[c]=u[c])})(o,r)};return function(o,r){function a(){this.constructor=o}d(o,r),o.prototype=null===r?Object.create(r):(a.prototype=r.prototype,new a)}}(),od=function(d,o,r,a){var f,u=arguments.length,c=u<3?o:null===a?a=Object.getOwnPropertyDescriptor(o,r):a;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)c=Reflect.decorate(d,o,r,a);else for(var y=d.length-1;y>=0;y--)(f=d[y])&&(c=(u<3?f(c):u>3?f(o,r,c):f(o,r))||c);return u>3&&c&&Object.defineProperty(o,r,c),c},Lb=function(d){function o(r,a,u,c){var f=d.call(this)||this;return f.eResize=a,f.comp=r,f.pinned=u,f.columnGroup=c,f}return Nb(o,d),o.prototype.postConstruct=function(){var r=this;if(this.columnGroup.isResizable()){var a=this.horizontalResizeService.addResizeBar({eResizeBar:this.eResize,onResizeStart:this.onResizeStart.bind(this),onResizing:this.onResizing.bind(this,!1),onResizeEnd:this.onResizing.bind(this,!0)});if(this.addDestroyFunc(a),!this.gridOptionsWrapper.isSuppressAutoSize()){var u=this.gridOptionsWrapper.isSkipHeaderOnAutoSize();this.eResize.addEventListener("dblclick",function(c){var f=[];r.columnGroup.getDisplayedLeafColumns().forEach(function(y){y.getColDef().suppressAutoSize||f.push(y.getColId())}),f.length>0&&r.columnModel.autoSizeColumns(f,u,"uiColumnResized")})}}else this.comp.addOrRemoveResizableCssClass("ag-hidden",!0)},o.prototype.onResizeStart=function(r){var a=this,u=this.columnGroup.getDisplayedLeafColumns();this.resizeCols=u.filter(function(y){return y.isResizable()}),this.resizeStartWidth=0,this.resizeCols.forEach(function(y){return a.resizeStartWidth+=y.getActualWidth()}),this.resizeRatios=[],this.resizeCols.forEach(function(y){return a.resizeRatios.push(y.getActualWidth()/a.resizeStartWidth)});var c=null;if(r&&(c=this.columnModel.getDisplayedGroupAfter(this.columnGroup)),c){var f=c.getDisplayedLeafColumns();this.resizeTakeFromCols=f.filter(function(y){return y.isResizable()}),this.resizeTakeFromStartWidth=0,this.resizeTakeFromCols.forEach(function(y){return a.resizeTakeFromStartWidth+=y.getActualWidth()}),this.resizeTakeFromRatios=[],this.resizeTakeFromCols.forEach(function(y){return a.resizeTakeFromRatios.push(y.getActualWidth()/a.resizeTakeFromStartWidth)})}else this.resizeTakeFromCols=null,this.resizeTakeFromStartWidth=null,this.resizeTakeFromRatios=null;this.comp.addOrRemoveCssClass("ag-column-resizing",!0)},o.prototype.onResizing=function(r,a){var u=[],c=this.normaliseDragChange(a);u.push({columns:this.resizeCols,ratios:this.resizeRatios,width:this.resizeStartWidth+c}),this.resizeTakeFromCols&&u.push({columns:this.resizeTakeFromCols,ratios:this.resizeTakeFromRatios,width:this.resizeTakeFromStartWidth-c}),this.columnModel.resizeColumnSets(u,r,"uiColumnDragged"),r&&this.comp.addOrRemoveCssClass("ag-column-resizing",!1)},o.prototype.normaliseDragChange=function(r){var a=r;return this.gridOptionsWrapper.isEnableRtl()?this.pinned!==q.PINNED_LEFT&&(a*=-1):this.pinned===q.PINNED_RIGHT&&(a*=-1),a},od([F("horizontalResizeService")],o.prototype,"horizontalResizeService",void 0),od([F("columnModel")],o.prototype,"columnModel",void 0),od([ye],o.prototype,"postConstruct",null),o}(he),pv=function(){var d=function(o,r){return(d=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(a,u){a.__proto__=u}||function(a,u){for(var c in u)u.hasOwnProperty(c)&&(a[c]=u[c])})(o,r)};return function(o,r){function a(){this.constructor=o}d(o,r),o.prototype=null===r?Object.create(r):(a.prototype=r.prototype,new a)}}(),bE=function(d){function o(r,a){var u=d.call(this)||this;return u.removeChildListenersFuncs=[],u.columnGroup=a,u.comp=r,u}return pv(o,d),o.prototype.postConstruct=function(){this.addListenersToChildrenColumns(),this.addManagedListener(this.columnGroup,ar.EVENT_DISPLAYED_CHILDREN_CHANGED,this.onDisplayedChildrenChanged.bind(this)),this.onWidthChanged(),this.addDestroyFunc(this.removeListenersOnChildrenColumns.bind(this))},o.prototype.addListenersToChildrenColumns=function(){var r=this;this.removeListenersOnChildrenColumns();var a=this.onWidthChanged.bind(this);this.columnGroup.getLeafColumns().forEach(function(u){u.addEventListener(jt.EVENT_WIDTH_CHANGED,a),u.addEventListener(jt.EVENT_VISIBLE_CHANGED,a),r.removeChildListenersFuncs.push(function(){u.removeEventListener(jt.EVENT_WIDTH_CHANGED,a),u.removeEventListener(jt.EVENT_VISIBLE_CHANGED,a)})})},o.prototype.removeListenersOnChildrenColumns=function(){this.removeChildListenersFuncs.forEach(function(r){return r()}),this.removeChildListenersFuncs=[]},o.prototype.onDisplayedChildrenChanged=function(){this.addListenersToChildrenColumns(),this.onWidthChanged()},o.prototype.onWidthChanged=function(){this.comp.setWidth(this.columnGroup.getActualWidth()+"px")},function(d,o,r,a){var f,u=arguments.length,c=u<3?o:null===a?a=Object.getOwnPropertyDescriptor(o,r):a;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)c=Reflect.decorate(d,o,r,a);else for(var y=d.length-1;y>=0;y--)(f=d[y])&&(c=(u<3?f(c):u>3?f(o,r,c):f(o,r))||c);u>3&&c&&Object.defineProperty(o,r,c)}([ye],o.prototype,"postConstruct",null),o}(he),Vb=function(){var d=function(o,r){return(d=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(a,u){a.__proto__=u}||function(a,u){for(var c in u)u.hasOwnProperty(c)&&(a[c]=u[c])})(o,r)};return function(o,r){function a(){this.constructor=o}d(o,r),o.prototype=null===r?Object.create(r):(a.prototype=r.prototype,new a)}}(),_l=function(d,o,r,a){var f,u=arguments.length,c=u<3?o:null===a?a=Object.getOwnPropertyDescriptor(o,r):a;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)c=Reflect.decorate(d,o,r,a);else for(var y=d.length-1;y>=0;y--)(f=d[y])&&(c=(u<3?f(c):u>3?f(o,r,c):f(o,r))||c);return u>3&&c&&Object.defineProperty(o,r,c),c},Ga=function(d){function o(r,a){var u=d.call(this,r,a)||this;return u.columnGroup=r,u}return Vb(o,d),o.prototype.setComp=function(r,a,u){d.prototype.setGui.call(this,a),this.comp=r,this.displayName=this.columnModel.getDisplayNameForColumnGroup(this.columnGroup,"header"),this.addClasses(),this.addAttributes(),this.setupMovingCss(),this.setupExpandable(),this.setupTooltip(),this.setupUserComp();var c=this.getParentRowCtrl().getPinned(),f=this.columnGroup.getOriginalColumnGroup().getLeafColumns();this.createManagedBean(new mh(f,a)),this.createManagedBean(new id(this.columnGroup,a,this.beans)),this.createManagedBean(new Lb(r,u,c,this.columnGroup)),this.createManagedBean(new bE(r,this.columnGroup)),this.createManagedBean(new os(a,{shouldStopEventPropagation:this.shouldStopEventPropagation.bind(this),onTabKeyDown:function(){},handleKeyDown:this.handleKeyDown.bind(this),onFocusIn:this.onFocusIn.bind(this)}))},o.prototype.setupUserComp=function(){var r=this,a=this.displayName,u={displayName:this.displayName,columnGroup:this.columnGroup,setExpanded:function(D){r.columnModel.setColumnGroupOpened(r.columnGroup.getOriginalColumnGroup(),D,"gridInitializing")},api:this.gridApi,columnApi:this.columnApi,context:this.gridOptionsWrapper.getContext()};if(!a){for(var c=this.columnGroup,f=c.getLeafColumns();c.getParent()&&c.getParent().getLeafColumns().length===f.length;)c=c.getParent();var y=c.getColGroupDef();y&&(a=y.headerName),a||(a=f?this.columnModel.getDisplayNameForColumn(f[0],"header",!0):"")}var w=this.userComponentFactory.getHeaderGroupCompDetails(u);this.comp.setUserCompDetails(w)},o.prototype.setupTooltip=function(){var r=this,a=this.columnGroup.getColGroupDef(),u={getColumn:function(){return r.columnGroup},getGui:function(){return r.eGui},getLocation:function(){return"headerGroup"},getTooltipValue:function(){return a&&a.headerTooltip}};a&&(u.getColDef=function(){return a}),this.createManagedBean(new lh(u,this.beans)).setComp(this.comp)},o.prototype.setupExpandable=function(){var r=this.columnGroup.getOriginalColumnGroup();this.refreshExpanded(),this.addManagedListener(r,ki.EVENT_EXPANDABLE_CHANGED,this.refreshExpanded.bind(this)),this.addManagedListener(r,ki.EVENT_EXPANDED_CHANGED,this.refreshExpanded.bind(this))},o.prototype.refreshExpanded=function(){var r=this.columnGroup;this.expandable=r.isExpandable();var a=r.isExpanded();this.comp.setAriaExpanded(this.expandable?a?"true":"false":void 0)},o.prototype.addAttributes=function(){this.comp.setColId(this.columnGroup.getUniqueId())},o.prototype.addClasses=function(){var r=this,a=this.columnGroup.getColGroupDef(),u=Ib.getHeaderClassesFromColDef(a,this.gridOptionsWrapper,null,this.columnGroup);u.push(this.columnGroup.isPadding()?"ag-header-group-cell-no-group":"ag-header-group-cell-with-group"),u.forEach(function(c){return r.comp.addOrRemoveCssClass(c,!0)})},o.prototype.setupMovingCss=function(){var r=this,u=this.columnGroup.getOriginalColumnGroup().getLeafColumns(),c=function(){return r.comp.addOrRemoveCssClass("ag-header-cell-moving",r.columnGroup.isMoving())};u.forEach(function(f){r.addManagedListener(f,jt.EVENT_MOVING_CHANGED,c)}),c()},o.prototype.onFocusIn=function(r){if(!this.eGui.contains(r.relatedTarget)){var a=this.getRowIndex();this.beans.focusService.setFocusedHeader(a,this.columnGroup)}},o.prototype.handleKeyDown=function(r){var a=document.activeElement;if(this.expandable&&a===this.eGui&&r.keyCode===me.ENTER){var c=this.columnGroup,f=!c.isExpanded();this.columnModel.setColumnGroupOpened(c.getOriginalColumnGroup(),f,"uiColumnExpanded")}},o.prototype.setDragSource=function(r){var a=this;if(!this.isSuppressMoving()){var u=this.columnGroup.getOriginalColumnGroup().getLeafColumns(),c={type:H.rvo.HeaderCell,eElement:r,defaultIconName:Er.ICON_HIDE,dragItemName:this.displayName,getDragItem:this.getDragItemForGroup.bind(this),onDragStarted:function(){return u.forEach(function(f){return f.setMoving(!0,"uiColumnDragged")})},onDragStopped:function(){return u.forEach(function(f){return f.setMoving(!1,"uiColumnDragged")})}};this.dragAndDropService.addDragSource(c,!0),this.addDestroyFunc(function(){return a.dragAndDropService.removeDragSource(c)})}},o.prototype.getDragItemForGroup=function(){var r=this.columnGroup.getOriginalColumnGroup().getLeafColumns(),a={};r.forEach(function(c){return a[c.getId()]=c.isVisible()});var u=[];return this.columnModel.getAllDisplayedColumns().forEach(function(c){r.indexOf(c)>=0&&(u.push(c),ln(r,c))}),r.forEach(function(c){return u.push(c)}),{columns:u,visibleState:a}},o.prototype.isSuppressMoving=function(){var r=!1;return this.columnGroup.getLeafColumns().forEach(function(u){(u.getColDef().suppressMovable||u.getColDef().lockPosition)&&(r=!0)}),r||this.gridOptionsWrapper.isSuppressMovableColumns()},_l([F("beans")],o.prototype,"beans",void 0),_l([F("columnModel")],o.prototype,"columnModel",void 0),_l([F("dragAndDropService")],o.prototype,"dragAndDropService",void 0),_l([F("userComponentFactory")],o.prototype,"userComponentFactory",void 0),_l([F("gridApi")],o.prototype,"gridApi",void 0),_l([F("columnApi")],o.prototype,"columnApi",void 0),o}(Jn),kb=function(){var d=function(o,r){return(d=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(a,u){a.__proto__=u}||function(a,u){for(var c in u)u.hasOwnProperty(c)&&(a[c]=u[c])})(o,r)};return function(o,r){function a(){this.constructor=o}d(o,r),o.prototype=null===r?Object.create(r):(a.prototype=r.prototype,new a)}}(),hv=function(d,o,r,a){var f,u=arguments.length,c=u<3?o:null===a?a=Object.getOwnPropertyDescriptor(o,r):a;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)c=Reflect.decorate(d,o,r,a);else for(var y=d.length-1;y>=0;y--)(f=d[y])&&(c=(u<3?f(c):u>3?f(o,r,c):f(o,r))||c);return u>3&&c&&Object.defineProperty(o,r,c),c},CE=0,bl=function(d){function o(r,a,u){var c=d.call(this)||this;return c.instanceId=CE++,c.headerCellCtrls={},c.rowIndex=r,c.pinned=a,c.type=u,c}return kb(o,d),o.prototype.getInstanceId=function(){return this.instanceId},o.prototype.setComp=function(r){this.comp=r,this.onRowHeightChanged(),this.onVirtualColumnsChanged(),this.setWidth(),this.addEventListeners(),Sp()&&this.comp.setTransform("translateZ(0)"),r.setAriaRowIndex(this.rowIndex+1)},o.prototype.addEventListeners=function(){this.addManagedListener(this.eventService,j.EVENT_COLUMN_RESIZED,this.onColumnResized.bind(this)),this.addManagedListener(this.gridOptionsWrapper,Fe.PROP_DOM_LAYOUT,this.onDisplayedColumnsChanged.bind(this)),this.addManagedListener(this.eventService,j.EVENT_DISPLAYED_COLUMNS_CHANGED,this.onDisplayedColumnsChanged.bind(this)),this.addManagedListener(this.eventService,j.EVENT_VIRTUAL_COLUMNS_CHANGED,this.onVirtualColumnsChanged.bind(this)),this.addManagedListener(this.gridOptionsWrapper,Fe.PROP_HEADER_HEIGHT,this.onRowHeightChanged.bind(this)),this.addManagedListener(this.gridOptionsWrapper,Fe.PROP_PIVOT_HEADER_HEIGHT,this.onRowHeightChanged.bind(this)),this.addManagedListener(this.gridOptionsWrapper,Fe.PROP_GROUP_HEADER_HEIGHT,this.onRowHeightChanged.bind(this)),this.addManagedListener(this.gridOptionsWrapper,Fe.PROP_PIVOT_GROUP_HEADER_HEIGHT,this.onRowHeightChanged.bind(this)),this.addManagedListener(this.gridOptionsWrapper,Fe.PROP_FLOATING_FILTERS_HEIGHT,this.onRowHeightChanged.bind(this))},o.prototype.getHtmlElementForColumnHeader=function(r){if(this.type==H.A6C.COLUMN){var a=Un(this.headerCellCtrls,function(c){return c.getColumnGroupChild()==r});if(a)return a.getGui()}},o.prototype.onDisplayedColumnsChanged=function(){this.onVirtualColumnsChanged(),this.setWidth()},o.prototype.getType=function(){return this.type},o.prototype.onColumnResized=function(){this.setWidth()},o.prototype.setWidth=function(){var r=this.getWidthForRow();this.comp.setWidth(r+"px")},o.prototype.getWidthForRow=function(){return this.gridOptionsWrapper.getDomLayout()===q.DOM_LAYOUT_PRINT?null!=this.pinned?0:this.columnModel.getContainerWidth(q.PINNED_RIGHT)+this.columnModel.getContainerWidth(q.PINNED_LEFT)+this.columnModel.getContainerWidth(null):this.columnModel.getContainerWidth(this.pinned)},o.prototype.onRowHeightChanged=function(){var c,f,r=this.columnModel.getHeaderRowCount(),a=[],u=0;this.columnModel.isPivotMode()?(c=this.gridOptionsWrapper.getPivotGroupHeaderHeight(),f=this.gridOptionsWrapper.getPivotHeaderHeight()):(this.columnModel.hasFloatingFilters()&&(r++,u=1),c=this.gridOptionsWrapper.getGroupHeaderHeight(),f=this.gridOptionsWrapper.getHeaderHeight());for(var w=r-(1+u),D=0;D<w;D++)a.push(c);for(a.push(f),D=0;D<u;D++)a.push(this.gridOptionsWrapper.getFloatingFiltersHeight());var O=0;for(D=0;D<this.rowIndex;D++)O+=a[D];this.comp.setTop(O+"px"),this.comp.setHeight(a[this.rowIndex]+"px")},o.prototype.getPinned=function(){return this.pinned},o.prototype.getRowIndex=function(){return this.rowIndex},o.prototype.onVirtualColumnsChanged=function(){var r=this,a=this.headerCellCtrls;this.headerCellCtrls={},this.getColumnsInViewport().forEach(function(y){if(!y.isEmptyGroup()){var w=y.getUniqueId(),D=a[w];if(delete a[w],D&&D.getColumnGroupChild()!=y&&(r.destroyBean(D),D=void 0),null==D)switch(r.type){case H.A6C.FLOATING_FILTER:D=r.createBean(new dv(y,r));break;case H.A6C.COLUMN_GROUP:D=r.createBean(new Ga(y,r));break;default:D=r.createBean(new Fb(y,r))}r.headerCellCtrls[w]=D}}),zt(a,function(y,w){!function(y){return!!r.focusService.isHeaderWrapperFocused(y)&&r.columnModel.isDisplayed(y.getColumnGroupChild())}(w)?r.destroyBean(w):r.headerCellCtrls[y]=w});var f=Fr(this.headerCellCtrls);this.comp.setHeaderCtrls(f)},o.prototype.getColumnsInViewport=function(){return this.gridOptionsWrapper.getDomLayout()===q.DOM_LAYOUT_PRINT?this.getColumnsInViewportPrintLayout():this.getColumnsInViewportNormalLayout()},o.prototype.getColumnsInViewportPrintLayout=function(){var r=this;if(null!=this.pinned)return[];var a=[],u=this.getActualDepth();return[q.PINNED_LEFT,null,q.PINNED_RIGHT].forEach(function(c){var f=r.columnModel.getVirtualHeaderGroupRow(c,u);a=a.concat(f)}),a},o.prototype.getActualDepth=function(){return this.type==H.A6C.FLOATING_FILTER?this.rowIndex-1:this.rowIndex},o.prototype.getColumnsInViewportNormalLayout=function(){return this.columnModel.getVirtualHeaderGroupRow(this.pinned,this.getActualDepth())},o.prototype.focusHeader=function(r,a){var c=Un(Fr(this.headerCellCtrls),function(f){return f.getColumnGroupChild()==r});return!!c&&(c.focus(a),!0)},hv([F("columnModel")],o.prototype,"columnModel",void 0),hv([F("focusService")],o.prototype,"focusService",void 0),o}(he),wE=function(){var d=function(o,r){return(d=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(a,u){a.__proto__=u}||function(a,u){for(var c in u)u.hasOwnProperty(c)&&(a[c]=u[c])})(o,r)};return function(o,r){function a(){this.constructor=o}d(o,r),o.prototype=null===r?Object.create(r):(a.prototype=r.prototype,new a)}}(),Su=function(d,o,r,a){var f,u=arguments.length,c=u<3?o:null===a?a=Object.getOwnPropertyDescriptor(o,r):a;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)c=Reflect.decorate(d,o,r,a);else for(var y=d.length-1;y>=0;y--)(f=d[y])&&(c=(u<3?f(c):u>3?f(o,r,c):f(o,r))||c);return u>3&&c&&Object.defineProperty(o,r,c),c},fv=function(d){function o(r){var a=d.call(this)||this;return a.groupsRowCtrls=[],a.pinned=r,a}return wE(o,d),o.prototype.setComp=function(r,a){this.comp=r,this.setupCenterWidth(),this.setupPinnedWidth(),this.setupDragAndDrop(a),this.addManagedListener(this.eventService,j.EVENT_GRID_COLUMNS_CHANGED,this.onGridColumnsChanged.bind(this)),this.ctrlsService.registerHeaderContainer(this,this.pinned),this.columnModel.isReady()&&this.refresh()},o.prototype.setupDragAndDrop=function(r){var a=new hE(this.pinned,r);this.createManagedBean(a)},o.prototype.refresh=function(r){var a=this;void 0===r&&(r=!1);var O,u=new rs,c=this.focusService.getFocusHeaderToUseAfterRefresh();(function(){var O=a.columnModel.getHeaderRowCount()-1;a.groupsRowCtrls=a.destroyBeans(a.groupsRowCtrls);for(var I=0;I<O;I++){var V=a.createBean(new bl(u.next(),a.pinned,H.A6C.COLUMN_GROUP));a.groupsRowCtrls.push(V)}})(),O=u.next(),(null==a.columnsRowCtrl||!r||a.columnsRowCtrl.getRowIndex()!==O)&&(a.destroyBean(a.columnsRowCtrl),a.columnsRowCtrl=a.createBean(new bl(O,a.pinned,H.A6C.COLUMN))),function(){var I=function(){a.filtersRowCtrl=a.destroyBean(a.filtersRowCtrl)};if(!a.columnModel.isPivotMode()&&a.columnModel.hasFloatingFilters()){var V=u.next();if(a.filtersRowCtrl){var B=a.filtersRowCtrl.getRowIndex()!==V;(!r||B)&&I()}a.filtersRowCtrl||(a.filtersRowCtrl=a.createBean(new bl(V,a.pinned,H.A6C.FLOATING_FILTER)))}else I()}();var D=this.getAllCtrls();this.comp.setCtrls(D),this.restoreFocusOnHeader(c)},o.prototype.restoreFocusOnHeader=function(r){null==r||r.column.getPinned()!=this.pinned||this.focusService.focusHeaderPosition({headerPosition:r})},o.prototype.getAllCtrls=function(){var r=function(){for(var d=0,o=0,r=arguments.length;o<r;o++)d+=arguments[o].length;var a=Array(d),u=0;for(o=0;o<r;o++)for(var c=arguments[o],f=0,y=c.length;f<y;f++,u++)a[u]=c[f];return a}(this.groupsRowCtrls,[this.columnsRowCtrl]);return this.filtersRowCtrl&&r.push(this.filtersRowCtrl),r},o.prototype.onGridColumnsChanged=function(){this.refresh(!0)},o.prototype.setupCenterWidth=function(){var r=this;null==this.pinned&&this.createManagedBean(new Ob(function(a){return r.comp.setCenterWidth(a+"px")}))},o.prototype.setHorizontalScroll=function(r){this.comp.setContainerTransform("translateX("+r+"px)")},o.prototype.setupPinnedWidth=function(){var r=this;if(null!=this.pinned){var a=this.pinned===q.PINNED_LEFT,u=this.pinned===q.PINNED_RIGHT,c=function(){var f=a?r.pinnedWidthService.getPinnedLeftWidth():r.pinnedWidthService.getPinnedRightWidth();if(null!=f){var y=0==f,w=r.gridOptionsWrapper.isEnableRtl(),D=r.gridOptionsWrapper.getScrollbarWidth(),O=r.scrollVisibleService.isVerticalScrollShowing()&&(w&&a||!w&&u);r.comp.setPinnedContainerWidth((O?f+D:f)+"px"),r.comp.addOrRemoveCssClass("ag-hidden",y)}};this.addManagedListener(this.eventService,j.EVENT_LEFT_PINNED_WIDTH_CHANGED,c),this.addManagedListener(this.eventService,j.EVENT_RIGHT_PINNED_WIDTH_CHANGED,c),this.addManagedListener(this.eventService,j.EVENT_SCROLL_VISIBILITY_CHANGED,c),this.addManagedListener(this.eventService,j.EVENT_SCROLLBAR_WIDTH_CHANGED,c)}},o.prototype.getHtmlElementForColumnHeader=function(r){if(this.columnsRowCtrl)return this.columnsRowCtrl.getHtmlElementForColumnHeader(r)},o.prototype.getRowType=function(r){var u=this.getAllCtrls()[r];return u?u.getType():void 0},o.prototype.focusHeader=function(r,a,u){var f=this.getAllCtrls()[r];return!!f&&f.focusHeader(a,u)},o.prototype.getRowCount=function(){return this.getAllCtrls().length},Su([F("ctrlsService")],o.prototype,"ctrlsService",void 0),Su([F("scrollVisibleService")],o.prototype,"scrollVisibleService",void 0),Su([F("pinnedWidthService")],o.prototype,"pinnedWidthService",void 0),Su([F("columnModel")],o.prototype,"columnModel",void 0),Su([F("focusService")],o.prototype,"focusService",void 0),o}(he),gv=function(){var d=function(o,r){return(d=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(a,u){a.__proto__=u}||function(a,u){for(var c in u)u.hasOwnProperty(c)&&(a[c]=u[c])})(o,r)};return function(o,r){function a(){this.constructor=o}d(o,r),o.prototype=null===r?Object.create(r):(a.prototype=r.prototype,new a)}}(),bh=function(d,o,r,a){var f,u=arguments.length,c=u<3?o:null===a?a=Object.getOwnPropertyDescriptor(o,r):a;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)c=Reflect.decorate(d,o,r,a);else for(var y=d.length-1;y>=0;y--)(f=d[y])&&(c=(u<3?f(c):u>3?f(o,r,c):f(o,r))||c);return u>3&&c&&Object.defineProperty(o,r,c),c},Cl=function(d){function o(r){var a=d.call(this)||this;return a.headerRowComps={},a.rowCompsList=[],a.pinned=r,a}return gv(o,d),o.prototype.init=function(){var r=this;this.selectAndSetTemplate();var a={addOrRemoveCssClass:function(c,f){return r.addOrRemoveCssClass(c,f)},setCtrls:function(c){return r.setCtrls(c)},setCenterWidth:function(c){return r.eCenterContainer.style.width=c},setContainerTransform:function(c){return r.eCenterContainer.style.transform=c},setPinnedContainerWidth:function(c){var f=r.getGui();f.style.width=c,f.style.maxWidth=c,f.style.minWidth=c}};this.createManagedBean(new fv(this.pinned)).setComp(a,this.getGui())},o.prototype.selectAndSetTemplate=function(){this.setTemplate(this.pinned==q.PINNED_LEFT?o.PINNED_LEFT_TEMPLATE:this.pinned==q.PINNED_RIGHT?o.PINNED_RIGHT_TEMPLATE:o.CENTER_TEMPLATE),this.eRowContainer=this.eCenterContainer?this.eCenterContainer:this.getGui()},o.prototype.destroyRowComps=function(){this.setCtrls([])},o.prototype.destroyRowComp=function(r){this.destroyBean(r),this.eRowContainer.removeChild(r.getGui())},o.prototype.setCtrls=function(r){var c,a=this,u=this.headerRowComps;this.headerRowComps={},this.rowCompsList=[],r.forEach(function(y){var w=y.getInstanceId(),D=u[w];delete u[w];var O=D||a.createBean(new Eb(y));a.headerRowComps[w]=O,a.rowCompsList.push(O),function(y){var w=y.getGui();w.parentElement!=a.eRowContainer&&a.eRowContainer.appendChild(w),c&&Ip(a.eRowContainer,w,c),c=w}(O)}),Fr(u).forEach(function(y){return a.destroyRowComp(y)})},o.PINNED_LEFT_TEMPLATE='<div class="ag-pinned-left-header" role="presentation"/>',o.PINNED_RIGHT_TEMPLATE='<div class="ag-pinned-right-header" role="presentation"/>',o.CENTER_TEMPLATE='<div class="ag-header-viewport" role="presentation">\n            <div class="ag-header-container" ref="eCenterContainer" role="rowgroup"></div>\n        </div>',bh([pe("eCenterContainer")],o.prototype,"eCenterContainer",void 0),bh([ye],o.prototype,"init",null),bh([or],o.prototype,"destroyRowComps",null),o}(_t),Ch=function(){var d=function(o,r){return(d=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(a,u){a.__proto__=u}||function(a,u){for(var c in u)u.hasOwnProperty(c)&&(a[c]=u[c])})(o,r)};return function(o,r){function a(){this.constructor=o}d(o,r),o.prototype=null===r?Object.create(r):(a.prototype=r.prototype,new a)}}(),wh=function(d){function o(){return d.call(this,o.TEMPLATE)||this}return Ch(o,d),o.prototype.postConstruct=function(){var r=this,a={addOrRemoveCssClass:function(f,y){return r.addOrRemoveCssClass(f,y)},setHeightAndMinHeight:function(f){r.getGui().style.height=f,r.getGui().style.minHeight=f}};this.createManagedBean(new xb).setComp(a,this.getGui(),this.getFocusableElement());var c=function(f){r.createManagedBean(f),r.appendChild(f)};c(new Cl(q.PINNED_LEFT)),c(new Cl(null)),c(new Cl(q.PINNED_RIGHT))},o.TEMPLATE='<div class="ag-header" role="presentation" unselectable="on"/>',function(d,o,r,a){var f,u=arguments.length,c=u<3?o:null===a?a=Object.getOwnPropertyDescriptor(o,r):a;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)c=Reflect.decorate(d,o,r,a);else for(var y=d.length-1;y>=0;y--)(f=d[y])&&(c=(u<3?f(c):u>3?f(o,r,c):f(o,r))||c);u>3&&c&&Object.defineProperty(o,r,c)}([ye],o.prototype,"postConstruct",null),o}(_t),Bb=function(){var d=function(o,r){return(d=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(a,u){a.__proto__=u}||function(a,u){for(var c in u)u.hasOwnProperty(c)&&(a[c]=u[c])})(o,r)};return function(o,r){function a(){this.constructor=o}d(o,r),o.prototype=null===r?Object.create(r):(a.prototype=r.prototype,new a)}}(),Eu=function(){return(Eu=Object.assign||function(d){for(var o,r=1,a=arguments.length;r<a;r++)for(var u in o=arguments[r])Object.prototype.hasOwnProperty.call(o,u)&&(d[u]=o[u]);return d}).apply(this,arguments)},Or=function(d,o,r,a){var f,u=arguments.length,c=u<3?o:null===a?a=Object.getOwnPropertyDescriptor(o,r):a;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)c=Reflect.decorate(d,o,r,a);else for(var y=d.length-1;y>=0;y--)(f=d[y])&&(c=(u<3?f(c):u>3?f(o,r,c):f(o,r))||c);return u>3&&c&&Object.defineProperty(o,r,c),c},jb=function(d){function o(){var a=null!==d&&d.apply(this,arguments)||this;return a.allAdvancedFilters=new Map,a.activeAdvancedFilters=[],a.quickFilter=null,a.quickFilterParts=null,a.processingFilterChange=!1,a}var r;return Bb(o,d),r=o,o.prototype.init=function(){this.addManagedListener(this.eventService,j.EVENT_ROW_DATA_CHANGED,this.onNewRowsLoaded.bind(this)),this.addManagedListener(this.eventService,j.EVENT_NEW_COLUMNS_LOADED,this.onNewColumnsLoaded.bind(this)),this.quickFilter=this.parseQuickFilter(this.gridOptionsWrapper.getQuickFilterText()),this.setQuickFilterParts(),this.allowShowChangeAfterFilter=this.gridOptionsWrapper.isAllowShowChangeAfterFilter()},o.prototype.setQuickFilterParts=function(){this.quickFilterParts=this.quickFilter?this.quickFilter.split(" "):null},o.prototype.setFilterModel=function(a){var u=this,c=[],f=this.getFilterModel();if(a){var y=xg(Object.keys(a));this.allAdvancedFilters.forEach(function(w,D){c.push(u.setModelOnFilterWrapper(w.filterPromise,a[D])),y.delete(D)}),y.forEach(function(w){var D=u.columnModel.getPrimaryColumn(w);if(D)if(D.isFilterAllowed()){var O=u.getOrCreateFilterWrapper(D,"NO_UI");c.push(u.setModelOnFilterWrapper(O.filterPromise,a[w]))}else console.warn("AG-Grid: setFilterModel() - unable to fully apply model, filtering disabled for colId: "+w);else console.warn("AG-Grid: setFilterModel() - no column found for colId: "+w)})}else this.allAdvancedFilters.forEach(function(w){c.push(u.setModelOnFilterWrapper(w.filterPromise,null))});Qn.all(c).then(function(){var w=u.getFilterModel(),D=[];u.allAdvancedFilters.forEach(function(O,I){Ie.jsonEquals(f?f[I]:null,w?w[I]:null)||D.push(O.column)}),D.length>0&&u.onFilterChanged({columns:D})})},o.prototype.setModelOnFilterWrapper=function(a,u){return new Qn(function(c){a.then(function(f){"function"!=typeof f.setModel&&(console.warn("Warning ag-grid - filter missing setModel method, which is needed for setFilterModel"),c()),(f.setModel(u)||Qn.resolve()).then(function(){return c()})})})},o.prototype.getFilterModel=function(){var a={};return this.allAdvancedFilters.forEach(function(u,c){var y=u.filterPromise.resolveNow(null,function(D){return D});if(null==y)return null;if("function"==typeof y.getModel){var w=y.getModel();ce(w)&&(a[c]=w)}else console.warn("Warning ag-grid - filter API missing getModel method, which is needed for getFilterModel")}),a},o.prototype.isAdvancedFilterPresent=function(){return this.activeAdvancedFilters.length>0},o.prototype.updateActiveFilters=function(){var a=this;this.activeAdvancedFilters.length=0;var u=function(c){return!!c&&(c.isFilterActive?c.isFilterActive():(console.warn("AG Grid: Filter is missing isFilterActive() method"),!1))};this.allAdvancedFilters.forEach(function(c){if(c.filterPromise.resolveNow(!1,u)){var f=c.filterPromise.resolveNow(null,function(y){return y});a.activeAdvancedFilters.push(f)}})},o.prototype.updateFilterFlagInColumns=function(a,u){this.allAdvancedFilters.forEach(function(c){var f=c.filterPromise.resolveNow(!1,function(y){return y.isFilterActive()});c.column.setFilterActive(f,a,u)})},o.prototype.isAnyFilterPresent=function(){return this.isQuickFilterPresent()||this.isAdvancedFilterPresent()||this.gridOptionsWrapper.isExternalFilterPresent()},o.prototype.doAdvancedFiltersPass=function(a,u){for(var c=a.data,f=0;f<this.activeAdvancedFilters.length;f++){var y=this.activeAdvancedFilters[f];if(null!=y&&y!==u){if("function"!=typeof y.doesFilterPass)throw new Error("Filter is missing method doesFilterPass");if(!y.doesFilterPass({node:a,data:c}))return!1}}return!0},o.prototype.parseQuickFilter=function(a){return ce(a)?this.gridOptionsWrapper.isRowModelDefault()?a.toUpperCase():(console.warn("ag-grid: quick filtering only works with the Client-Side Row Model"),null):null},o.prototype.setQuickFilter=function(a){var u=this.parseQuickFilter(a);this.quickFilter!==u&&(this.quickFilter=u,this.setQuickFilterParts(),this.onFilterChanged())},o.prototype.onFilterChanged=function(a){void 0===a&&(a={});var u=a.filterInstance,c=a.additionalEventAttributes,f=a.columns;this.updateActiveFilters(),this.updateFilterFlagInColumns("filterChanged",c),this.allAdvancedFilters.forEach(function(w){!w.filterPromise||w.filterPromise.then(function(D){D&&D!==u&&D.onAnyFilterChanged&&D.onAnyFilterChanged()})});var y={type:j.EVENT_FILTER_CHANGED,api:this.gridApi,columnApi:this.columnApi,columns:f||[]};c&&Fo(y,c),this.processingFilterChange=!0,this.eventService.dispatchEvent(y),this.processingFilterChange=!1},o.prototype.isSuppressFlashingCellsBecauseFiltering=function(){return!this.allowShowChangeAfterFilter&&this.processingFilterChange},o.prototype.isQuickFilterPresent=function(){return null!==this.quickFilter},o.prototype.doesRowPassOtherFilters=function(a,u){return this.doesRowPassFilter({rowNode:u,filterInstanceToSkip:a})},o.prototype.doesRowPassQuickFilterNoCache=function(a,u){var c=this;return qr(this.columnModel.getAllColumnsForQuickFilter(),function(y){var w=c.getQuickFilterTextForColumn(y,a);return ce(w)&&w.indexOf(u)>=0})},o.prototype.doesRowPassQuickFilterCache=function(a,u){return a.quickFilterAggregateText||this.aggregateRowForQuickFilter(a),a.quickFilterAggregateText.indexOf(u)>=0},o.prototype.doesRowPassQuickFilter=function(a){var u=this,c=this.gridOptionsWrapper.isCacheQuickFilter();return wc(this.quickFilterParts,function(f){return c?u.doesRowPassQuickFilterCache(a,f):u.doesRowPassQuickFilterNoCache(a,f)})},o.prototype.doesRowPassFilter=function(a){return!(this.isQuickFilterPresent()&&!this.doesRowPassQuickFilter(a.rowNode)||this.gridOptionsWrapper.isExternalFilterPresent()&&!this.gridOptionsWrapper.doesExternalFilterPass(a.rowNode)||this.isAdvancedFilterPresent()&&!this.doAdvancedFiltersPass(a.rowNode,a.filterInstanceToSkip))},o.prototype.getQuickFilterTextForColumn=function(a,u){var c=this.valueService.getValue(a,u,!0),f=a.getColDef();if(f.getQuickFilterText){var y={value:c,node:u,data:u.data,column:a,colDef:f,context:this.gridOptionsWrapper.getContext()};c=f.getQuickFilterText(y)}return ce(c)?c.toString().toUpperCase():null},o.prototype.aggregateRowForQuickFilter=function(a){var u=this,c=[];Wi(this.columnModel.getAllColumnsForQuickFilter(),function(y){var w=u.getQuickFilterTextForColumn(y,a);ce(w)&&c.push(w)}),a.quickFilterAggregateText=c.join(r.QUICK_FILTER_SEPARATOR)},o.prototype.onNewRowsLoaded=function(a){this.allAdvancedFilters.forEach(function(u){u.filterPromise.then(function(c){c.onNewRowsLoaded&&c.onNewRowsLoaded()})}),this.updateFilterFlagInColumns(a),this.updateActiveFilters()},o.prototype.createValueGetter=function(a){var u=this;return function(c){return u.valueService.getValue(a,c,!0)}},o.prototype.getFilterComponent=function(a,u,c){if(void 0===c&&(c=!0),c)return this.getOrCreateFilterWrapper(a,u).filterPromise;var f=this.cachedFilter(a);return f?f.filterPromise:null},o.prototype.isFilterActive=function(a){var u=this.cachedFilter(a);return!!u&&u.filterPromise.resolveNow(!1,function(c){return c.isFilterActive()})},o.prototype.getOrCreateFilterWrapper=function(a,u){var c=this.cachedFilter(a);return c?"NO_UI"!==u&&this.putIntoGui(c,u):(c=this.createFilterWrapper(a,u),this.allAdvancedFilters.set(a.getColId(),c)),c},o.prototype.cachedFilter=function(a){return this.allAdvancedFilters.get(a.getColId())},o.prototype.createFilterInstance=function(a,u){var w,c=this,f=ot.isRegistered(H.GXE.SetFilterModule)?"agSetColumnFilter":"agTextColumnFilter",y=a.getColDef(),D=Eu(Eu({},this.createFilterParams(a,y,u)),{filterModifiedCallback:function(){c.eventService.dispatchEvent({type:j.EVENT_FILTER_MODIFIED,api:c.gridApi,columnApi:c.columnApi,column:a,filterInstance:w})},filterChangedCallback:function(V){return c.onFilterChanged({filterInstance:w,additionalEventAttributes:V,columns:[a]})},doesRowPassOtherFilter:function(V){return c.doesRowPassOtherFilters(w,V)}}),O=this.userComponentFactory.getFilterDetails(y,D,f);if(!O)return null;var I=O.newAgStackInstance();return I&&I.then(function(V){return w=V}),I},o.prototype.createFilterParams=function(a,u,c){void 0===c&&(c=null);var f={api:this.gridOptionsWrapper.getApi(),columnApi:this.gridOptionsWrapper.getColumnApi(),column:a,colDef:Dc(u),rowModel:this.rowModel,filterChangedCallback:function(){},filterModifiedCallback:function(){},valueGetter:this.createValueGetter(a),context:this.gridOptionsWrapper.getContext(),doesRowPassOtherFilter:function(){return!0}};return c&&(f.$scope=c),f},o.prototype.createFilterWrapper=function(a,u){var c={column:a,filterPromise:null,scope:null,compiledElement:null,guiPromise:Qn.resolve(null)};return c.scope=this.gridOptionsWrapper.isAngularCompileFilters()?this.$scope.$new():null,c.filterPromise=this.createFilterInstance(a,c.scope),c.filterPromise&&this.putIntoGui(c,u),c},o.prototype.putIntoGui=function(a,u){var c=this,f=document.createElement("div");f.className="ag-filter",a.guiPromise=new Qn(function(y){a.filterPromise.then(function(w){var D=w.getGui();if(ce(D)||console.warn("getGui method from filter returned "+D+", it should be a DOM element or an HTML template string."),"string"==typeof D&&(D=Gs(D)),f.appendChild(D),a.scope){var O=c.$compile(f)(a.scope);a.compiledElement=O,window.setTimeout(function(){return a.scope.$apply()},0)}y(f),c.eventService.dispatchEvent({type:j.EVENT_FILTER_OPENED,column:a.column,source:u,eGui:f,api:c.gridApi,columnApi:c.columnApi})})})},o.prototype.onNewColumnsLoaded=function(){var a=this,u=!1,c=[];this.allAdvancedFilters.forEach(function(f){!a.columnModel.getPrimaryColumn(f.column)&&(u=!0,c.push(f.column),a.disposeFilterWrapper(f,"filterDestroyed"))}),u&&this.onFilterChanged({columns:c})},o.prototype.destroyFilter=function(a,u){void 0===u&&(u="api");var c=this.allAdvancedFilters.get(a.getColId());c&&(this.disposeFilterWrapper(c,u),this.onFilterChanged({columns:[a]}))},o.prototype.disposeFilterWrapper=function(a,u){var c=this;a.filterPromise.then(function(f){(f.setModel(null)||Qn.resolve()).then(function(){c.getContext().destroyBean(f),a.column.setFilterActive(!1,u),a.scope&&(a.compiledElement&&a.compiledElement.remove(),a.scope.$destroy()),c.allAdvancedFilters.delete(a.column.getColId())})})},o.prototype.destroy=function(){var a=this;d.prototype.destroy.call(this),this.allAdvancedFilters.forEach(function(u){return a.disposeFilterWrapper(u,"filterDestroyed")})},o.QUICK_FILTER_SEPARATOR="\n",Or([F("$compile")],o.prototype,"$compile",void 0),Or([F("$scope")],o.prototype,"$scope",void 0),Or([F("valueService")],o.prototype,"valueService",void 0),Or([F("columnModel")],o.prototype,"columnModel",void 0),Or([F("rowModel")],o.prototype,"rowModel",void 0),Or([F("columnApi")],o.prototype,"columnApi",void 0),Or([F("gridApi")],o.prototype,"gridApi",void 0),Or([F("userComponentFactory")],o.prototype,"userComponentFactory",void 0),Or([ye],o.prototype,"init",null),Or([or],o.prototype,"destroy",null),r=Or([Te("filterManager")],o)}(he),Wb=function(){var d=function(o,r){return(d=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(a,u){a.__proto__=u}||function(a,u){for(var c in u)u.hasOwnProperty(c)&&(a[c]=u[c])})(o,r)};return function(o,r){function a(){this.constructor=o}d(o,r),o.prototype=null===r?Object.create(r):(a.prototype=r.prototype,new a)}}(),sd=function(d,o,r,a){var f,u=arguments.length,c=u<3?o:null===a?a=Object.getOwnPropertyDescriptor(o,r):a;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)c=Reflect.decorate(d,o,r,a);else for(var y=d.length-1;y>=0;y--)(f=d[y])&&(c=(u<3?f(c):u>3?f(o,r,c):f(o,r))||c);return u>3&&c&&Object.defineProperty(o,r,c),c},Ub=function(d){function o(){var r=null!==d&&d.apply(this,arguments)||this;return r.initialised=!1,r}return Wb(o,d),o.prototype.init=function(){this.cellExpressions=this.gridOptionsWrapper.isEnableCellExpressions(),this.initialised=!0},o.prototype.getValue=function(r,a,u,c){if(void 0===u&&(u=!1),void 0===c&&(c=!1),this.initialised||this.init(),a){var O,f=r.getColDef(),y=f.field,w=r.getId(),D=a.data,I=a.groupData&&void 0!==a.groupData[w],V=!c&&a.aggData&&void 0!==a.aggData[w];if(u&&f.filterValueGetter?O=this.executeFilterValueGetter(f.filterValueGetter,D,r,a):this.gridOptionsWrapper.isTreeData()&&V?O=a.aggData[w]:this.gridOptionsWrapper.isTreeData()&&f.valueGetter?O=this.executeValueGetter(f.valueGetter,D,r,a):this.gridOptionsWrapper.isTreeData()&&y&&D?O=ya(D,y,r.isFieldContainsDots()):I?O=a.groupData[w]:V?O=a.aggData[w]:f.valueGetter?O=this.executeValueGetter(f.valueGetter,D,r,a):y&&D&&(O=ya(D,y,r.isFieldContainsDots())),this.cellExpressions&&"string"==typeof O&&0===O.indexOf("=")){var B=O.substring(1);O=this.executeValueGetter(B,D,r,a)}if(null==O){var z=this.getOpenedGroup(a,r);if(null!=z)return z}return O}},o.prototype.getOpenedGroup=function(r,a){if(this.gridOptionsWrapper.isShowOpenedGroup()&&a.getColDef().showRowGroup)for(var c=a.getColDef().showRowGroup,f=r.parent;null!=f;){if(f.rowGroupColumn&&(!0===c||c===f.rowGroupColumn.getId()))return f.key;f=f.parent}},o.prototype.setValue=function(r,a,u,c){var f=this.columnModel.getPrimaryColumn(a);if(r&&f){Ge(r.data)&&(r.data={});var y=f.getColDef(),w=y.field,D=y.newValueHandler,O=y.valueSetter;if(Ge(w)&&Ge(D)&&Ge(O))return void console.warn("AG Grid: you need either field or valueSetter set on colDef for editing to work");var V,I={node:r,data:r.data,oldValue:this.getValue(f,r),newValue:u,colDef:f.getColDef(),column:f,api:this.gridOptionsWrapper.getApi(),columnApi:this.gridOptionsWrapper.getColumnApi(),context:this.gridOptionsWrapper.getContext()};if(I.newValue=u,void 0===(V=D&&ce(D)?D(I):ce(O)?this.expressionService.evaluate(O,I):this.setValueUsingField(r.data,w,u,f.isFieldContainsDots()))&&(V=!0),V){r.resetQuickFilterAggregateText(),this.valueCache.onDataChanged(),I.newValue=this.getValue(f,r);var B=f.getColDef().onCellValueChanged;"function"==typeof B&&setTimeout(function(){return B(I)},0),this.eventService.dispatchEvent({type:j.EVENT_CELL_VALUE_CHANGED,event:null,rowIndex:r.rowIndex,rowPinned:r.rowPinned,column:I.column,api:I.api,columnApi:I.columnApi,colDef:I.colDef,context:I.context,data:r.data,node:r,oldValue:I.oldValue,newValue:I.newValue,value:I.newValue,source:c})}}},o.prototype.setValueUsingField=function(r,a,u,c){if(!a)return!1;if(c)for(var y=a.split("."),w=r;y.length>0&&w;){var D=y.shift();0===y.length?w[D]=u:w=w[D]}else r[a]=u;return!0},o.prototype.executeFilterValueGetter=function(r,a,u,c){var f={data:a,node:c,column:u,colDef:u.getColDef(),api:this.gridOptionsWrapper.getApi(),columnApi:this.gridOptionsWrapper.getColumnApi(),context:this.gridOptionsWrapper.getContext(),getValue:this.getValueCallback.bind(this,c)};return this.expressionService.evaluate(r,f)},o.prototype.executeValueGetter=function(r,a,u,c){var f=u.getId(),y=this.valueCache.getValue(c,f);if(void 0!==y)return y;var w={data:a,node:c,column:u,colDef:u.getColDef(),api:this.gridOptionsWrapper.getApi(),columnApi:this.gridOptionsWrapper.getColumnApi(),context:this.gridOptionsWrapper.getContext(),getValue:this.getValueCallback.bind(this,c)},D=this.expressionService.evaluate(r,w);return this.valueCache.setValue(c,f,D),D},o.prototype.getValueCallback=function(r,a){var u=this.columnModel.getPrimaryColumn(a);return u?this.getValue(u,r):null},o.prototype.getKeyForNode=function(r,a){var u=this.getValue(r,a),c=r.getColDef().keyCreator,f=u;return c&&(f=c({value:u,colDef:r.getColDef(),column:r,node:a,data:a.data,api:this.gridOptionsWrapper.getApi(),columnApi:this.gridOptionsWrapper.getColumnApi(),context:this.gridOptionsWrapper.getContext()})),"string"==typeof f||null==f||"[object Object]"===(f=String(f))&&Mi(function(){console.warn("AG Grid: a column you are grouping or pivoting by has objects as values. If you want to group by complex objects then either a) use a colDef.keyCreator (se AG Grid docs) or b) to toString() on the object to return a key")},"getKeyForNode - warn about [object,object]"),f},sd([F("expressionService")],o.prototype,"expressionService",void 0),sd([F("columnModel")],o.prototype,"columnModel",void 0),sd([F("valueCache")],o.prototype,"valueCache",void 0),sd([ye],o.prototype,"init",null),sd([Te("valueService")],o)}(he),zb=function(){var d=function(o,r){return(d=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(a,u){a.__proto__=u}||function(a,u){for(var c in u)u.hasOwnProperty(c)&&(a[c]=u[c])})(o,r)};return function(o,r){function a(){this.constructor=o}d(o,r),o.prototype=null===r?Object.create(r):(a.prototype=r.prototype,new a)}}(),Dh=function(d,o,r,a){var f,u=arguments.length,c=u<3?o:null===a?a=Object.getOwnPropertyDescriptor(o,r):a;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)c=Reflect.decorate(d,o,r,a);else for(var y=d.length-1;y>=0;y--)(f=d[y])&&(c=(u<3?f(c):u>3?f(o,r,c):f(o,r))||c);return u>3&&c&&Object.defineProperty(o,r,c),c};!function(d){d.AUTO_HEIGHT="ag-layout-auto-height",d.NORMAL="ag-layout-normal",d.PRINT="ag-layout-print"}(H.LBn||(H.LBn={}));var Sh=function(d){function o(r){var a=d.call(this)||this;return a.view=r,a}return zb(o,d),o.prototype.postConstruct=function(){this.addManagedListener(this.gridOptionsWrapper,Fe.PROP_DOM_LAYOUT,this.updateLayoutClasses.bind(this)),this.updateLayoutClasses()},o.prototype.updateLayoutClasses=function(){var r=this.gridOptionsWrapper.getDomLayout(),a={autoHeight:r===q.DOM_LAYOUT_AUTO_HEIGHT,normal:r===q.DOM_LAYOUT_NORMAL,print:r===q.DOM_LAYOUT_PRINT};this.view.updateLayoutClasses(a.autoHeight?H.LBn.AUTO_HEIGHT:a.print?H.LBn.PRINT:H.LBn.NORMAL,a)},Dh([F("gridOptionsWrapper")],o.prototype,"gridOptionsWrapper",void 0),Dh([ye],o.prototype,"postConstruct",null),o}(he),jA=function(){var d=function(o,r){return(d=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(a,u){a.__proto__=u}||function(a,u){for(var c in u)u.hasOwnProperty(c)&&(a[c]=u[c])})(o,r)};return function(o,r){function a(){this.constructor=o}d(o,r),o.prototype=null===r?Object.create(r):(a.prototype=r.prototype,new a)}}(),Go=function(d,o,r,a){var f,u=arguments.length,c=u<3?o:null===a?a=Object.getOwnPropertyDescriptor(o,r):a;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)c=Reflect.decorate(d,o,r,a);else for(var y=d.length-1;y>=0;y--)(f=d[y])&&(c=(u<3?f(c):u>3?f(o,r,c):f(o,r))||c);return u>3&&c&&Object.defineProperty(o,r,c),c},DE=function(d){function o(r){var a=d.call(this)||this;return a.scrollLeft=-1,a.nextScrollTop=-1,a.scrollTop=-1,a.eBodyViewport=r,a.resetLastHorizontalScrollElementDebounced=qo(a.resetLastHorizontalScrollElement.bind(a),500),a}return jA(o,d),o.prototype.postConstruct=function(){var r=this;this.enableRtl=this.gridOptionsWrapper.isEnableRtl(),this.addManagedListener(this.eventService,j.EVENT_DISPLAYED_COLUMNS_WIDTH_CHANGED,this.onDisplayedColumnsWidthChanged.bind(this)),this.ctrlsService.whenReady(function(a){r.centerRowContainerCon=a.centerRowContainerCtrl,r.onDisplayedColumnsWidthChanged(),r.addScrollListener()})},o.prototype.addScrollListener=function(){var r=this.ctrlsService.getFakeHScrollCtrl();this.addManagedListener(this.centerRowContainerCon.getViewportElement(),"scroll",this.onCenterViewportScroll.bind(this)),this.addManagedListener(r.getViewport(),"scroll",this.onFakeHorizontalScroll.bind(this));var a=this.gridOptionsWrapper.isDebounceVerticalScrollbar()?qo(this.onVerticalScroll.bind(this),100):this.onVerticalScroll.bind(this);this.addManagedListener(this.eBodyViewport,"scroll",a)},o.prototype.onDisplayedColumnsWidthChanged=function(){this.enableRtl&&this.horizontallyScrollHeaderCenterAndFloatingCenter()},o.prototype.horizontallyScrollHeaderCenterAndFloatingCenter=function(r){void 0===r&&(r=this.centerRowContainerCon.getCenterViewportScrollLeft());var a=this.enableRtl?r:-r,u=this.ctrlsService.getTopCenterRowContainerCtrl(),c=this.ctrlsService.getBottomCenterRowContainerCtrl(),f=this.ctrlsService.getFakeHScrollCtrl();this.ctrlsService.getHeaderRowContainerCtrl().setHorizontalScroll(a),c.setContainerTranslateX(a),u.setContainerTranslateX(a),gg(this.lastHorizontalScrollElement===this.centerRowContainerCon.getViewportElement()?f.getViewport():this.centerRowContainerCon.getViewportElement(),Math.abs(r),this.enableRtl)},o.prototype.isControllingScroll=function(r){return this.lastHorizontalScrollElement?r===this.lastHorizontalScrollElement:(this.lastHorizontalScrollElement=r,!0)},o.prototype.onFakeHorizontalScroll=function(){var r=this.ctrlsService.getFakeHScrollCtrl().getViewport();!this.isControllingScroll(r)||this.onBodyHorizontalScroll(r)},o.prototype.onCenterViewportScroll=function(){var r=this.centerRowContainerCon.getViewportElement();!this.isControllingScroll(r)||this.onBodyHorizontalScroll(r)},o.prototype.onBodyHorizontalScroll=function(r){var a=this.centerRowContainerCon.getViewportElement();this.shouldBlockScrollUpdate("horizontal",a.scrollLeft,!0)||(this.doHorizontalScroll(Math.round(Tp(r,this.enableRtl))),this.resetLastHorizontalScrollElementDebounced())},o.prototype.onVerticalScroll=function(){var r=this.eBodyViewport.scrollTop;this.shouldBlockScrollUpdate("vertical",r,!0)||(this.animationFrameService.setScrollTop(r),this.nextScrollTop=r,this.gridOptionsWrapper.isSuppressAnimationFrame()?(this.scrollTop=this.nextScrollTop,this.redrawRowsAfterScroll()):this.animationFrameService.schedule())},o.prototype.resetLastHorizontalScrollElement=function(){this.lastHorizontalScrollElement=null},o.prototype.doHorizontalScroll=function(r){var u=Tp(this.ctrlsService.getFakeHScrollCtrl().getViewport(),this.enableRtl);this.scrollLeft===r&&r===u||(this.scrollLeft=r,this.fireScrollEvent("horizontal"),this.horizontallyScrollHeaderCenterAndFloatingCenter(r),this.onHorizontalViewportChanged())},o.prototype.fireScrollEvent=function(r){var a=this,u={type:j.EVENT_BODY_SCROLL,api:this.gridApi,columnApi:this.columnApi,direction:r,left:this.scrollLeft,top:this.scrollTop};this.eventService.dispatchEvent(u),window.clearTimeout(this.scrollTimer),this.scrollTimer=void 0,this.scrollTimer=window.setTimeout(function(){var c=rr({},u,{type:j.EVENT_BODY_SCROLL_END});a.eventService.dispatchEvent(c)},100)},o.prototype.shouldBlockScrollUpdate=function(r,a,u){if(void 0===u&&(u=!1),u&&!Oa())return!1;if("vertical"===r){var c=Pp(this.eBodyViewport);if(a<0||a+c>this.eBodyViewport.scrollHeight)return!0}if("horizontal"===r){var y=this.centerRowContainerCon.getCenterWidth(),w=this.centerRowContainerCon.getViewportElement().scrollWidth;if(this.enableRtl&&Rp()){if(a>0)return!0}else if(a<0)return!0;if(Math.abs(a)+y>w)return!0}return!1},o.prototype.redrawRowsAfterScroll=function(){this.fireScrollEvent("vertical")},o.prototype.onHorizontalViewportChanged=function(){this.centerRowContainerCon.onHorizontalViewportChanged()},o.prototype.checkScrollLeft=function(){this.scrollLeft!==this.centerRowContainerCon.getCenterViewportScrollLeft()&&this.onBodyHorizontalScroll(this.centerRowContainerCon.getViewportElement())},o.prototype.executeAnimationFrameScroll=function(){var r=this.scrollTop!=this.nextScrollTop;return r&&(this.scrollTop=this.nextScrollTop,this.redrawRowsAfterScroll()),r},o.prototype.setHorizontalScrollPosition=function(r){var u=this.centerRowContainerCon.getViewportElement().scrollWidth-this.centerRowContainerCon.getCenterWidth();this.shouldBlockScrollUpdate("horizontal",r)&&(r=this.enableRtl&&Rp()?r>0?0:u:Math.min(Math.max(r,0),u)),gg(this.centerRowContainerCon.getViewportElement(),Math.abs(r),this.enableRtl),this.doHorizontalScroll(r)},o.prototype.setVerticalScrollPosition=function(r){this.eBodyViewport.scrollTop=r},o.prototype.getVScrollPosition=function(){return{top:this.eBodyViewport.scrollTop,bottom:this.eBodyViewport.scrollTop+this.eBodyViewport.offsetHeight}},o.prototype.getHScrollPosition=function(){return this.centerRowContainerCon.getHScrollPosition()},o.prototype.isHorizontalScrollShowing=function(){return this.centerRowContainerCon.isHorizontalScrollShowing()},o.prototype.scrollHorizontally=function(r){var a=this.centerRowContainerCon.getViewportElement().scrollLeft;return this.setHorizontalScrollPosition(a+r),this.centerRowContainerCon.getViewportElement().scrollLeft-a},o.prototype.scrollToTop=function(){this.eBodyViewport.scrollTop=0},o.prototype.ensureNodeVisible=function(r,a){void 0===a&&(a=null);for(var u=this.rowModel.getRowCount(),c="function"==typeof r,f=-1,y=0;y<u;y++){var w=this.rowModel.getRow(y);if(c){if(r(w)){f=y;break}}else if(r===w||r===w.data){f=y;break}}f>=0&&this.ensureIndexVisible(f,a)},o.prototype.ensureIndexVisible=function(r,a){if(this.gridOptionsWrapper.getDomLayout()!==q.DOM_LAYOUT_PRINT){var u=this.paginationProxy.getRowCount();if("number"!=typeof r||r<0||r>=u)return void console.warn("invalid row index for ensureIndexVisible: "+r);this.gridOptionsWrapper.isPagination()&&!this.gridOptionsWrapper.isSuppressPaginationPanel()||this.paginationProxy.goToPageWithIndex(r);var w,y=this.paginationProxy.getRow(r);do{var D=y.rowTop,O=y.rowHeight,I=this.paginationProxy.getPixelOffset(),V=y.rowTop-I,B=V+y.rowHeight,z=this.getVScrollPosition(),ee=this.heightScaler.getDivStretchOffset(),ie=z.top+ee,_e=z.bottom+ee,de=_e-ie,le=this.heightScaler.getScrollPositionForPixel(V),Ee=this.heightScaler.getScrollPositionForPixel(B-de),ze=Math.min((le+Ee)/2,V),ct=null;"top"===a?ct=le:"bottom"===a?ct=Ee:"middle"===a?ct=ze:ie>V?ct=le:_e<B&&(ct=Ee),null!==ct&&(this.eBodyViewport.scrollTop=ct,this.rowRenderer.redrawAfterScroll()),w=D!==y.rowTop||O!==y.rowHeight}while(w);this.animationFrameService.flushAllFrames()}},o.prototype.ensureColumnVisible=function(r){var a=this.columnModel.getGridColumn(r);if(a&&!a.isPinned()&&this.columnModel.isColumnDisplayed(a)){var D,O,u=a.getLeft(),c=u+a.getActualWidth(),f=this.centerRowContainerCon.getCenterWidth(),y=this.centerRowContainerCon.getCenterViewportScrollLeft(),w=this.columnModel.getBodyContainerWidth();this.enableRtl?(D=w-y-f,O=w-y):(D=y,O=f+y);var I=D>u,V=O<c,B=f<a.getActualWidth(),z=I||B;(z||V)&&this.centerRowContainerCon.setCenterViewportScrollLeft(this.enableRtl?z?w-f-u:w-c:z?u:c-f),this.centerRowContainerCon.onHorizontalViewportChanged(),this.animationFrameService.flushAllFrames()}},Go([F("ctrlsService")],o.prototype,"ctrlsService",void 0),Go([F("animationFrameService")],o.prototype,"animationFrameService",void 0),Go([F("columnApi")],o.prototype,"columnApi",void 0),Go([F("gridApi")],o.prototype,"gridApi",void 0),Go([F("paginationProxy")],o.prototype,"paginationProxy",void 0),Go([F("rowModel")],o.prototype,"rowModel",void 0),Go([F("rowContainerHeightService")],o.prototype,"heightScaler",void 0),Go([F("rowRenderer")],o.prototype,"rowRenderer",void 0),Go([F("columnModel")],o.prototype,"columnModel",void 0),Go([ye],o.prototype,"postConstruct",null),o}(he),vv=function(){function d(o){this.tickingInterval=null,this.onScrollCallback=null,this.scrollContainer=o.scrollContainer,this.scrollHorizontally=-1!==o.scrollAxis.indexOf("x"),this.scrollVertically=-1!==o.scrollAxis.indexOf("y"),this.scrollByTick=null!=o.scrollByTick?o.scrollByTick:20,o.onScrollCallback&&(this.onScrollCallback=o.onScrollCallback),this.scrollVertically&&(this.getVerticalPosition=o.getVerticalPosition,this.setVerticalPosition=o.setVerticalPosition),this.scrollHorizontally&&(this.getHorizontalPosition=o.getHorizontalPosition,this.setHorizontalPosition=o.setHorizontalPosition),this.shouldSkipVerticalScroll=o.shouldSkipVerticalScroll||function(){return!1},this.shouldSkipHorizontalScroll=o.shouldSkipHorizontalScroll||function(){return!1}}return d.prototype.check=function(o,r){void 0===r&&(r=!1);var a=r||this.shouldSkipVerticalScroll();if(!a||!this.shouldSkipHorizontalScroll()){var u=this.scrollContainer.getBoundingClientRect(),c=this.scrollByTick;this.tickLeft=o.clientX<u.left+c,this.tickRight=o.clientX>u.right-c,this.tickUp=o.clientY<u.top+c&&!a,this.tickDown=o.clientY>u.bottom-c&&!a,this.tickLeft||this.tickRight||this.tickUp||this.tickDown?this.ensureTickingStarted():this.ensureCleared()}},d.prototype.ensureTickingStarted=function(){null===this.tickingInterval&&(this.tickingInterval=window.setInterval(this.doTick.bind(this),100),this.tickCount=0)},d.prototype.doTick=function(){var o;if(this.tickCount++,o=this.tickCount>20?200:this.tickCount>10?80:40,this.scrollVertically){var r=this.getVerticalPosition();this.tickUp&&this.setVerticalPosition(r-o),this.tickDown&&this.setVerticalPosition(r+o)}if(this.scrollHorizontally){var a=this.getHorizontalPosition();this.tickLeft&&this.setHorizontalPosition(a-o),this.tickRight&&this.setHorizontalPosition(a+o)}this.onScrollCallback&&this.onScrollCallback()},d.prototype.ensureCleared=function(){this.tickingInterval&&(window.clearInterval(this.tickingInterval),this.tickingInterval=null)},d}(),SE=function(){var d=function(o,r){return(d=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(a,u){a.__proto__=u}||function(a,u){for(var c in u)u.hasOwnProperty(c)&&(a[c]=u[c])})(o,r)};return function(o,r){function a(){this.constructor=o}d(o,r),o.prototype=null===r?Object.create(r):(a.prototype=r.prototype,new a)}}(),yv=function(){return(yv=Object.assign||function(d){for(var o,r=1,a=arguments.length;r<a;r++)for(var u in o=arguments[r])Object.prototype.hasOwnProperty.call(o,u)&&(d[u]=o[u]);return d}).apply(this,arguments)},sn=function(d,o,r,a){var f,u=arguments.length,c=u<3?o:null===a?a=Object.getOwnPropertyDescriptor(o,r):a;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)c=Reflect.decorate(d,o,r,a);else for(var y=d.length-1;y>=0;y--)(f=d[y])&&(c=(u<3?f(c):u>3?f(o,r,c):f(o,r))||c);return u>3&&c&&Object.defineProperty(o,r,c),c},$b=function(){for(var d=0,o=0,r=arguments.length;o<r;o++)d+=arguments[o].length;var a=Array(d),u=0;for(o=0;o<r;o++)for(var c=arguments[o],f=0,y=c.length;f<y;f++,u++)a[u]=c[f];return a},Yb=function(d){function o(r){var a=d.call(this)||this;return a.isMultiRowDrag=!1,a.isGridSorted=!1,a.isGridFiltered=!1,a.isRowGroupActive=!1,a.eContainer=r,a}return SE(o,d),o.prototype.postConstruct=function(){var r=this;this.gridOptionsWrapper.isRowModelDefault()&&(this.clientSideRowModel=this.rowModel);var a=function(){r.onSortChanged(),r.onFilterChanged(),r.onRowGroupChanged()};this.addManagedListener(this.eventService,j.EVENT_SORT_CHANGED,this.onSortChanged.bind(this)),this.addManagedListener(this.eventService,j.EVENT_FILTER_CHANGED,this.onFilterChanged.bind(this)),this.addManagedListener(this.eventService,j.EVENT_COLUMN_ROW_GROUP_CHANGED,this.onRowGroupChanged.bind(this)),this.addManagedListener(this.eventService,j.EVENT_MODEL_UPDATED,function(){a()}),a(),this.ctrlsService.whenReady(function(){var u=r.ctrlsService.getGridBodyCtrl();r.autoScrollService=new vv({scrollContainer:u.getBodyViewportElement(),scrollAxis:"y",getVerticalPosition:function(){return u.getScrollFeature().getVScrollPosition().top},setVerticalPosition:function(c){return u.getScrollFeature().setVerticalScrollPosition(c)},onScrollCallback:function(){r.onDragging(r.lastDraggingEvent)}})})},o.prototype.onSortChanged=function(){this.isGridSorted=this.sortController.isSortActive()},o.prototype.onFilterChanged=function(){this.isGridFiltered=this.filterManager.isAnyFilterPresent()},o.prototype.onRowGroupChanged=function(){var r=this.columnModel.getRowGroupColumns();this.isRowGroupActive=!Vn(r)},o.prototype.getContainer=function(){return this.eContainer},o.prototype.isInterestedIn=function(r){return r===H.rvo.RowDrag},o.prototype.getIconName=function(){return this.gridOptionsWrapper.isRowDragManaged()&&this.shouldPreventRowMove()?Er.ICON_NOT_ALLOWED:Er.ICON_MOVE},o.prototype.shouldPreventRowMove=function(){return this.isGridSorted||this.isGridFiltered||this.isRowGroupActive},o.prototype.getRowNodes=function(r){if(!this.isFromThisGrid(r))return r.dragItem.rowNodes||[];var a=this.gridOptionsWrapper.isRowDragMultiRow(),u=this.selectionService.getSelectedNodes(),c=r.dragItem.rowNode;return a&&-1!==u.indexOf(c)?(this.isMultiRowDrag=!0,$b(u)):(this.isMultiRowDrag=!1,[c])},o.prototype.onDragEnter=function(r){this.dispatchGridEvent(j.EVENT_ROW_DRAG_ENTER,r),this.getRowNodes(r).forEach(function(a){a.setDragging(!0)}),this.onEnterOrDragging(r)},o.prototype.onDragging=function(r){this.onEnterOrDragging(r)},o.prototype.isFromThisGrid=function(r){return r.dragSource.dragSourceDomDataKey===this.gridOptionsWrapper.getDomDataKey()},o.prototype.isDropZoneWithinThisGrid=function(r){return!this.ctrlsService.getGridBodyCtrl().getGui().contains(r.dropZoneTarget)},o.prototype.onEnterOrDragging=function(r){this.dispatchGridEvent(j.EVENT_ROW_DRAG_MOVE,r),this.lastDraggingEvent=r;var a=this.mouseEventService.getNormalisedPosition(r).y;this.gridOptionsWrapper.isRowDragManaged()&&this.doManagedDrag(r,a),this.autoScrollService.check(r.event)},o.prototype.doManagedDrag=function(r,a){var c,u=this,f=this.isFromThisGrid(r);f?(c=[r.dragItem.rowNode],this.isMultiRowDrag&&(c=$b(this.selectionService.getSelectedNodes()).sort(function(w,D){return u.getRowIndexNumber(w)-u.getRowIndexNumber(D)})),r.dragItem.rowNodes=c):c=r.dragItem.rowNodes,this.gridOptionsWrapper.isRowDragManaged()&&this.shouldPreventRowMove()||(this.gridOptionsWrapper.isSuppressMoveWhenRowDragging()||!f?this.isDropZoneWithinThisGrid(r)||this.clientSideRowModel.highlightRowAtPixel(c[0],a):this.moveRows(c,a))},o.prototype.getRowIndexNumber=function(r){return parseInt(Jt(r.getRowIndexString().split("-")),10)},o.prototype.moveRowAndClearHighlight=function(r){var a=this,u=this.clientSideRowModel.getLastHighlightedRowNode(),c=u&&u.highlighted===H.oh5.Below,f=this.mouseEventService.getNormalisedPosition(r).y,y=r.dragItem.rowNodes,w=c?1:0;if(this.isFromThisGrid(r))y.forEach(function(I){I.rowTop<f&&(w-=1)}),this.moveRows(y,f,w);else{var D=this.gridOptionsWrapper.getRowNodeIdFunc(),O=this.clientSideRowModel.getRowIndexAtPixel(f)+1;this.clientSideRowModel.getHighlightPosition(f)===H.oh5.Above&&O--,this.clientSideRowModel.updateRowData({add:y.map(function(I){return I.data}).filter(function(I){return!a.clientSideRowModel.getRowNode(D?D(I):I.id)}),addIndex:O})}this.clearRowHighlight()},o.prototype.clearRowHighlight=function(){this.clientSideRowModel.highlightRowAtPixel(null)},o.prototype.moveRows=function(r,a,u){void 0===u&&(u=0),this.clientSideRowModel.ensureRowsAtPixel(r,a,u)&&(this.focusService.clearFocusedCell(),this.rangeService&&this.rangeService.removeAllCellRanges())},o.prototype.addRowDropZone=function(r){var a=this;if(r.getContainer())if(this.dragAndDropService.findExternalZone(r))console.warn("AG Grid: addRowDropZone - target already exists in the list of DropZones. Use `removeRowDropZone` before adding it again.");else{var u={getContainer:r.getContainer};r.fromGrid?(r.fromGrid=void 0,u=r):(r.onDragEnter&&(u.onDragEnter=function(c){r.onDragEnter(a.draggingToRowDragEvent(j.EVENT_ROW_DRAG_ENTER,c))}),r.onDragLeave&&(u.onDragLeave=function(c){r.onDragLeave(a.draggingToRowDragEvent(j.EVENT_ROW_DRAG_LEAVE,c))}),r.onDragging&&(u.onDragging=function(c){r.onDragging(a.draggingToRowDragEvent(j.EVENT_ROW_DRAG_MOVE,c))}),r.onDragStop&&(u.onDragStop=function(c){r.onDragStop(a.draggingToRowDragEvent(j.EVENT_ROW_DRAG_END,c))})),this.dragAndDropService.addDropTarget(yv({isInterestedIn:function(c){return c===H.rvo.RowDrag},getIconName:function(){return Er.ICON_MOVE},external:!0},u))}else Mi(function(){return console.warn("AG Grid: addRowDropZone - A container target needs to be provided")},"add-drop-zone-empty-target")},o.prototype.getRowDropZone=function(r){var a=this,u=this.getContainer.bind(this),c=this.onDragEnter.bind(this),f=this.onDragLeave.bind(this),y=this.onDragging.bind(this),w=this.onDragStop.bind(this);return r?{getContainer:u,onDragEnter:r.onDragEnter?function(D){c(D),r.onDragEnter(a.draggingToRowDragEvent(j.EVENT_ROW_DRAG_ENTER,D))}:c,onDragLeave:r.onDragLeave?function(D){f(D),r.onDragLeave(a.draggingToRowDragEvent(j.EVENT_ROW_DRAG_LEAVE,D))}:f,onDragging:r.onDragging?function(D){y(D),r.onDragging(a.draggingToRowDragEvent(j.EVENT_ROW_DRAG_MOVE,D))}:y,onDragStop:r.onDragStop?function(D){w(D),r.onDragStop(a.draggingToRowDragEvent(j.EVENT_ROW_DRAG_END,D))}:w,fromGrid:!0}:{getContainer:u,onDragEnter:c,onDragLeave:f,onDragging:y,onDragStop:w,fromGrid:!0}},o.prototype.draggingToRowDragEvent=function(r,a){var y,w,u=this.mouseEventService.getNormalisedPosition(a).y,f=-1;switch(u>this.paginationProxy.getCurrentPageHeight()||(f=this.rowModel.getRowIndexAtPixel(u),y=this.rowModel.getRow(f)),a.vDirection){case H.HO_.Down:w="down";break;case H.HO_.Up:w="up";break;default:w=null}return{type:r,api:this.gridOptionsWrapper.getApi(),columnApi:this.gridOptionsWrapper.getColumnApi(),event:a.event,node:a.dragItem.rowNode,nodes:a.dragItem.rowNodes,overIndex:f,overNode:y,y:u,vDirection:w}},o.prototype.dispatchGridEvent=function(r,a){var u=this.draggingToRowDragEvent(r,a);this.eventService.dispatchEvent(u)},o.prototype.onDragLeave=function(r){this.dispatchGridEvent(j.EVENT_ROW_DRAG_LEAVE,r),this.stopDragging(r),this.gridOptionsWrapper.isRowDragManaged()&&this.clearRowHighlight(),this.isFromThisGrid(r)&&(this.isMultiRowDrag=!1)},o.prototype.onDragStop=function(r){this.dispatchGridEvent(j.EVENT_ROW_DRAG_END,r),this.stopDragging(r),this.gridOptionsWrapper.isRowDragManaged()&&(this.gridOptionsWrapper.isSuppressMoveWhenRowDragging()||!this.isFromThisGrid(r))&&!this.isDropZoneWithinThisGrid(r)&&this.moveRowAndClearHighlight(r)},o.prototype.stopDragging=function(r){this.autoScrollService.ensureCleared(),this.getRowNodes(r).forEach(function(a){a.setDragging(!1)})},sn([F("dragAndDropService")],o.prototype,"dragAndDropService",void 0),sn([F("rowModel")],o.prototype,"rowModel",void 0),sn([F("paginationProxy")],o.prototype,"paginationProxy",void 0),sn([F("columnModel")],o.prototype,"columnModel",void 0),sn([F("focusService")],o.prototype,"focusService",void 0),sn([F("sortController")],o.prototype,"sortController",void 0),sn([F("filterManager")],o.prototype,"filterManager",void 0),sn([F("selectionService")],o.prototype,"selectionService",void 0),sn([F("mouseEventService")],o.prototype,"mouseEventService",void 0),sn([F("ctrlsService")],o.prototype,"ctrlsService",void 0),sn([et("rangeService")],o.prototype,"rangeService",void 0),sn([ye],o.prototype,"postConstruct",null),o}(he),EE=function(){var d=function(o,r){return(d=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(a,u){a.__proto__=u}||function(a,u){for(var c in u)u.hasOwnProperty(c)&&(a[c]=u[c])})(o,r)};return function(o,r){function a(){this.constructor=o}d(o,r),o.prototype=null===r?Object.create(r):(a.prototype=r.prototype,new a)}}(),no=function(d,o,r,a){var f,u=arguments.length,c=u<3?o:null===a?a=Object.getOwnPropertyDescriptor(o,r):a;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)c=Reflect.decorate(d,o,r,a);else for(var y=d.length-1;y>=0;y--)(f=d[y])&&(c=(u<3?f(c):u>3?f(o,r,c):f(o,r))||c);return u>3&&c&&Object.defineProperty(o,r,c),c};!function(d){d.ANIMATION_ON="ag-row-animation",d.ANIMATION_OFF="ag-row-no-animation"}(H.SJN||(H.SJN={}));var Kb="ag-selectable",Xb="ag-force-vertical-scroll",mv="ag-column-moving",qb=function(d){function o(){var r=null!==d&&d.apply(this,arguments)||this;return r.angularApplyTriggered=!1,r}return EE(o,d),o.prototype.getScrollFeature=function(){return this.bodyScrollFeature},o.prototype.getBodyViewportElement=function(){return this.eBodyViewport},o.prototype.setComp=function(r,a,u,c,f){this.comp=r,this.eGridBody=a,this.eBodyViewport=u,this.eTop=c,this.eBottom=f,this.setCellTextSelection(this.gridOptionsWrapper.isEnableCellTextSelect()),this.createManagedBean(new Sh(this.comp)),this.bodyScrollFeature=this.createManagedBean(new DE(this.eBodyViewport)),this.addRowDragListener(),this.setupRowAnimationCssClass(),this.ctrlsService.registerGridBodyCtrl(this),this.addEventListeners(),this.addFocusListeners([c,u,f]),this.onGridColumnsChanged(),this.addBodyViewportListener(),this.setFloatingHeights(),this.disableBrowserDragging(),this.addStopEditingWhenGridLosesFocus(),this.$scope&&this.addAngularApplyCheck()},o.prototype.getComp=function(){return this.comp},o.prototype.addEventListeners=function(){this.addManagedListener(this.eventService,j.EVENT_GRID_COLUMNS_CHANGED,this.onGridColumnsChanged.bind(this)),this.addManagedListener(this.eventService,j.EVENT_SCROLL_VISIBILITY_CHANGED,this.onScrollVisibilityChanged.bind(this)),this.addManagedListener(this.eventService,j.EVENT_PINNED_ROW_DATA_CHANGED,this.setFloatingHeights.bind(this))},o.prototype.addFocusListeners=function(r){var a=this;r.forEach(function(u){a.addManagedListener(u,"focusin",function(){Me(u,"ag-has-focus")}),a.addManagedListener(u,"focusout",function(c){u.contains(c.relatedTarget)||Xn(u,"ag-has-focus")})})},o.prototype.setColumnMovingCss=function(r){this.comp.setColumnMovingCss(r?mv:null,r)},o.prototype.setCellTextSelection=function(r){void 0===r&&(r=!1),this.comp.setCellSelectableCss(r?Kb:null,r)},o.prototype.onScrollVisibilityChanged=function(){var r=this.scrollVisibleService.isVerticalScrollShowing();this.setVerticalScrollPaddingVisible(r)},o.prototype.onGridColumnsChanged=function(){var r=this.columnModel.getAllGridColumns();this.comp.setColumnCount(r?r.length:0)},o.prototype.disableBrowserDragging=function(){this.addManagedListener(this.eGridBody,"dragstart",function(r){if(r.target instanceof HTMLImageElement)return r.preventDefault(),!1})},o.prototype.addStopEditingWhenGridLosesFocus=function(){var r=this;if(this.gridOptionsWrapper.isStopEditingWhenCellsLoseFocus()){var a=function(c){var f=c.relatedTarget;if(null!==Pa(f)){var y=u.some(function(D){return D.contains(f)})&&r.mouseEventService.isElementInThisGrid(f);if(!y){var w=r.popupService;y=w.getActivePopups().some(function(D){return D.contains(f)})||w.isElementWithinCustomPopup(f)}y||r.rowRenderer.stopEditing()}else r.rowRenderer.stopEditing()},u=[this.eBodyViewport,this.eBottom,this.eTop];u.forEach(function(c){return r.addManagedListener(c,"focusout",a)})}},o.prototype.updateRowCount=function(){var r=this.headerNavigationService.getHeaderRowCount(),a=this.paginationProxy.getType(),u=-1;a===q.ROW_MODEL_TYPE_CLIENT_SIDE&&(u=0,this.paginationProxy.forEachNode(function(f){f.group||u++})),this.comp.setRowCount(-1===u?-1:r+u)},o.prototype.registerBodyViewportResizeListener=function(r){this.comp.registerBodyViewportResizeListener(r)},o.prototype.setVerticalScrollPaddingVisible=function(r){this.comp.setPinnedTopBottomOverflowY(r?"scroll":"hidden")},o.prototype.isVerticalScrollShowing=function(){var r=this.gridOptionsWrapper.isAlwaysShowVerticalScroll();return this.comp.setAlwaysVerticalScrollClass(r?Xb:null,r),r||Fp(this.eBodyViewport)},o.prototype.setupRowAnimationCssClass=function(){var r=this,a=function(){var u=r.gridOptionsWrapper.isAnimateRows()&&!r.rowContainerHeightService.isStretching();r.comp.setRowAnimationCssOnBodyViewport(u?H.SJN.ANIMATION_ON:H.SJN.ANIMATION_OFF,u)};a(),this.addManagedListener(this.eventService,j.EVENT_HEIGHT_SCALE_CHANGED,a)},o.prototype.getGridBodyElement=function(){return this.eGridBody},o.prototype.addBodyViewportListener=function(){var r=this;this.addManagedListener(this.eBodyViewport,"contextmenu",function(u){r.gridOptionsWrapper.isPreventDefaultOnContextMenu()&&u.preventDefault();var c=Ec(u);(c===r.eBodyViewport||c===r.ctrlsService.getCenterRowContainerCtrl().getViewportElement())&&r.contextMenuFactory&&r.contextMenuFactory.onContextMenu(u,null,null,null,null,r.eGridBody)}),this.addManagedListener(this.eBodyViewport,"wheel",this.onWheel.bind(this))},o.prototype.onWheel=function(r){!this.gridOptionsWrapper.isSuppressScrollWhenPopupsAreOpen()||this.popupService.hasAnchoredPopup()&&r.preventDefault()},o.prototype.getGui=function(){return this.eGridBody},o.prototype.scrollVertically=function(r){var a=this.eBodyViewport.scrollTop;return this.bodyScrollFeature.setVerticalScrollPosition(a+r),this.eBodyViewport.scrollTop-a},o.prototype.addRowDragListener=function(){this.rowDragFeature=this.createManagedBean(new Yb(this.eBodyViewport)),this.dragAndDropService.addDropTarget(this.rowDragFeature)},o.prototype.getRowDragFeature=function(){return this.rowDragFeature},o.prototype.setFloatingHeights=function(){var r=this.pinnedRowModel,a=r.getPinnedTopTotalHeight();a&&(a+=1);var u=r.getPinnedBottomTotalHeight();u&&(u+=1),this.comp.setTopHeight(a),this.comp.setBottomHeight(u),this.comp.setTopDisplay(a?"inherit":"none"),this.comp.setBottomDisplay(u?"inherit":"none")},o.prototype.sizeColumnsToFit=function(r){var a=this,c=this.isVerticalScrollShowing()&&!Ji()?this.gridOptionsWrapper.getScrollbarWidth():0,y=hg(this.eBodyViewport)-c;y>0?this.columnModel.sizeColumnsToFit(y,"sizeColumnsToFit"):void 0===r?window.setTimeout(function(){a.sizeColumnsToFit(100)},0):100===r?window.setTimeout(function(){a.sizeColumnsToFit(500)},100):500===r?window.setTimeout(function(){a.sizeColumnsToFit(-1)},500):console.warn("AG Grid: tried to call sizeColumnsToFit() but the grid is coming back with zero width, maybe the grid is not visible yet on the screen?")},o.prototype.addScrollEventListener=function(r){this.eBodyViewport.addEventListener("scroll",r)},o.prototype.removeScrollEventListener=function(r){this.eBodyViewport.removeEventListener("scroll",r)},o.prototype.requestAngularApply=function(){var r=this;this.angularApplyTriggered||(this.angularApplyTriggered=!0,window.setTimeout(function(){r.angularApplyTriggered=!1,r.$scope.$apply()},0))},o.prototype.addAngularApplyCheck=function(){var r=this;this.addManagedListener(this.eventService,j.EVENT_DISPLAYED_COLUMNS_CHANGED,function(){return r.requestAngularApply()}),this.addManagedListener(this.eventService,j.EVENT_VIRTUAL_COLUMNS_CHANGED,function(){return r.requestAngularApply()})},no([F("rowContainerHeightService")],o.prototype,"rowContainerHeightService",void 0),no([F("ctrlsService")],o.prototype,"ctrlsService",void 0),no([F("columnModel")],o.prototype,"columnModel",void 0),no([F("scrollVisibleService")],o.prototype,"scrollVisibleService",void 0),no([et("contextMenuFactory")],o.prototype,"contextMenuFactory",void 0),no([F("headerNavigationService")],o.prototype,"headerNavigationService",void 0),no([F("paginationProxy")],o.prototype,"paginationProxy",void 0),no([F("dragAndDropService")],o.prototype,"dragAndDropService",void 0),no([F("pinnedRowModel")],o.prototype,"pinnedRowModel",void 0),no([F("rowRenderer")],o.prototype,"rowRenderer",void 0),no([F("popupService")],o.prototype,"popupService",void 0),no([F("mouseEventService")],o.prototype,"mouseEventService",void 0),no([F("$scope")],o.prototype,"$scope",void 0),o}(he),xE=function(){var d=function(o,r){return(d=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(a,u){a.__proto__=u}||function(a,u){for(var c in u)u.hasOwnProperty(c)&&(a[c]=u[c])})(o,r)};return function(o,r){function a(){this.constructor=o}d(o,r),o.prototype=null===r?Object.create(r):(a.prototype=r.prototype,new a)}}(),ro=function(d,o,r,a){var f,u=arguments.length,c=u<3?o:null===a?a=Object.getOwnPropertyDescriptor(o,r):a;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)c=Reflect.decorate(d,o,r,a);else for(var y=d.length-1;y>=0;y--)(f=d[y])&&(c=(u<3?f(c):u>3?f(o,r,c):f(o,r))||c);return u>3&&c&&Object.defineProperty(o,r,c),c},ut=function(d){function o(r){var a=d.call(this)||this;return a.element=r,a}return xE(o,d),o.prototype.postConstruct=function(){this.addMouseListeners(),this.mockContextMenuForIPad(),this.addKeyboardEvents()},o.prototype.addKeyboardEvents=function(){var r=this;["keydown","keypress"].forEach(function(u){var c=r.processKeyboardEvent.bind(r,u);r.addManagedListener(r.element,u,c)})},o.prototype.addMouseListeners=function(){var r=this;["dblclick","contextmenu","mouseover","mouseout","click",s_("touchstart")?"touchstart":"mousedown"].forEach(function(c){var f=r.processMouseEvent.bind(r,c);r.addManagedListener(r.element,c,f)})},o.prototype.processMouseEvent=function(r,a){if(this.mouseEventService.isEventFromThisGrid(a)&&!Ls(a)){var u=this.getRowForEvent(a),c=this.mouseEventService.getRenderedCellForEvent(a);"contextmenu"===r?this.handleContextMenuMouseEvent(a,null,u,c):(c&&c.onMouseEvent(r,a),u&&u.onMouseEvent(r,a))}},o.prototype.mockContextMenuForIPad=function(){var r=this;if(Oa()){var a=new $i(this.element);this.addManagedListener(a,$i.EVENT_LONG_TAP,function(c){var f=r.getRowForEvent(c.touchEvent),y=r.mouseEventService.getRenderedCellForEvent(c.touchEvent);r.handleContextMenuMouseEvent(null,c.touchEvent,f,y)}),this.addDestroyFunc(function(){return a.destroy()})}},o.prototype.getRowForEvent=function(r){for(var a=Ec(r);a;){var u=this.gridOptionsWrapper.getDomData(a,La.DOM_DATA_KEY_ROW_CTRL);if(u)return u;a=a.parentElement}return null},o.prototype.handleContextMenuMouseEvent=function(r,a,u,c){var f=u?u.getRowNode():null,y=c?c.getColumn():null,w=null;y&&(c.dispatchCellContextMenuEvent(r||a),w=this.valueService.getValue(y,f));var O=this.ctrlsService.getGridBodyCtrl(),I=c?c.getGui():O.getGridBodyElement();this.contextMenuFactory&&this.contextMenuFactory.onContextMenu(r,a,f,y,w,I)},o.prototype.processKeyboardEvent=function(r,a){var u=ag(this.gridOptionsWrapper,a,ds.DOM_DATA_KEY_CELL_CTRL),c=ag(this.gridOptionsWrapper,a,La.DOM_DATA_KEY_ROW_CTRL);a.defaultPrevented||(u?this.processCellKeyboardEvent(u,r,a):c&&c.isFullWidth()&&this.processFullWidthRowKeyboardEvent(c,r,a))},o.prototype.processCellKeyboardEvent=function(r,a,u){var c=r.getRowNode(),f=r.getColumn(),y=r.isEditing();if(!Nc(this.gridOptionsWrapper,u,c,f,y))switch(a){case"keydown":!y&&this.navigationService.handlePageScrollingKey(u)||r.onKeyDown(u),this.doGridOperations(u,r.isEditing());break;case"keypress":r.onKeyPress(u)}if("keydown"===a){var O=r.createEvent(u,j.EVENT_CELL_KEY_DOWN);this.eventService.dispatchEvent(O)}if("keypress"===a){var I=r.createEvent(u,j.EVENT_CELL_KEY_PRESS);this.eventService.dispatchEvent(I)}},o.prototype.processFullWidthRowKeyboardEvent=function(r,a,u){var c=r.getRowNode(),f=this.focusService.getFocusedCell();if(!Nc(this.gridOptionsWrapper,u,c,f&&f.column,!1)&&"keydown"===a)switch(u.keyCode){case me.UP:case me.DOWN:r.onKeyboardNavigate(u);break;case me.TAB:r.onTabKeyDown(u)}if("keydown"===a){var O=r.createRowEvent(j.EVENT_CELL_KEY_DOWN,u);this.eventService.dispatchEvent(O)}if("keypress"===a){var I=r.createRowEvent(j.EVENT_CELL_KEY_PRESS,u);this.eventService.dispatchEvent(I)}},o.prototype.doGridOperations=function(r,a){if((r.ctrlKey||r.metaKey)&&!a&&this.mouseEventService.isEventFromThisGrid(r))switch(r.which){case me.A:return this.onCtrlAndA(r);case me.C:return this.onCtrlAndC(r);case me.V:return this.onCtrlAndV();case me.D:return this.onCtrlAndD(r);case me.Z:return r.shiftKey?this.undoRedoService.redo():this.undoRedoService.undo();case me.Y:return this.undoRedoService.redo()}},o.prototype.onCtrlAndA=function(r){var a=this,u=a.pinnedRowModel,f=a.rangeService,y=q.PINNED_BOTTOM,w=q.PINNED_TOP;if(f&&a.paginationProxy.isRowsToRender()){var D=[u.isEmpty(w),u.isEmpty(y)],V=D[0]?null:w,B=void 0,z=void 0;D[1]?(B=null,z=this.paginationProxy.getRowCount()-1):(B=y,z=u.getPinnedBottomRowData().length-1);var ee=this.columnModel.getAllDisplayedColumns();if(Vn(ee))return;f.setCellRange({rowStartIndex:0,rowStartPinned:V,rowEndIndex:z,rowEndPinned:B,columnStart:ee[0],columnEnd:Jt(ee)})}r.preventDefault()},o.prototype.onCtrlAndC=function(r){!this.clipboardService||this.gridOptionsWrapper.isEnableCellTextSelection()||(this.clipboardService.copyToClipboard(),r.preventDefault())},o.prototype.onCtrlAndV=function(){ot.isRegistered(H.GXE.ClipboardModule)&&!this.gridOptionsWrapper.isSuppressClipboardPaste()&&this.clipboardService.pasteFromClipboard()},o.prototype.onCtrlAndD=function(r){ot.isRegistered(H.GXE.ClipboardModule)&&!this.gridOptionsWrapper.isSuppressClipboardPaste()&&this.clipboardService.copyRangeDown(),r.preventDefault()},ro([F("mouseEventService")],o.prototype,"mouseEventService",void 0),ro([F("valueService")],o.prototype,"valueService",void 0),ro([et("contextMenuFactory")],o.prototype,"contextMenuFactory",void 0),ro([F("ctrlsService")],o.prototype,"ctrlsService",void 0),ro([F("navigationService")],o.prototype,"navigationService",void 0),ro([F("focusService")],o.prototype,"focusService",void 0),ro([F("undoRedoService")],o.prototype,"undoRedoService",void 0),ro([F("columnModel")],o.prototype,"columnModel",void 0),ro([F("paginationProxy")],o.prototype,"paginationProxy",void 0),ro([F("pinnedRowModel")],o.prototype,"pinnedRowModel",void 0),ro([et("rangeService")],o.prototype,"rangeService",void 0),ro([et("clipboardService")],o.prototype,"clipboardService",void 0),ro([ye],o.prototype,"postConstruct",null),o}(he),Wt=function(){var d=function(o,r){return(d=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(a,u){a.__proto__=u}||function(a,u){for(var c in u)u.hasOwnProperty(c)&&(a[c]=u[c])})(o,r)};return function(o,r){function a(){this.constructor=o}d(o,r),o.prototype=null===r?Object.create(r):(a.prototype=r.prototype,new a)}}(),wl=function(d,o,r,a){var f,u=arguments.length,c=u<3?o:null===a?a=Object.getOwnPropertyDescriptor(o,r):a;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)c=Reflect.decorate(d,o,r,a);else for(var y=d.length-1;y>=0;y--)(f=d[y])&&(c=(u<3?f(c):u>3?f(o,r,c):f(o,r))||c);return u>3&&c&&Object.defineProperty(o,r,c),c},Eh=function(d){function o(r){var a=d.call(this)||this;return a.centerContainerCon=r,a}return Wt(o,d),o.prototype.postConstruct=function(){var r=this;this.ctrlsService.whenReady(function(){r.gridBodyCon=r.ctrlsService.getGridBodyCtrl(),r.listenForResize()}),this.addManagedListener(this.eventService,j.EVENT_SCROLLBAR_WIDTH_CHANGED,this.onScrollbarWidthChanged.bind(this))},o.prototype.listenForResize=function(){var r=this.onCenterViewportResized.bind(this);this.centerContainerCon.registerViewportResizeListener(r),this.gridBodyCon.registerBodyViewportResizeListener(r)},o.prototype.onScrollbarWidthChanged=function(){this.checkViewportAndScrolls()},o.prototype.onCenterViewportResized=function(){if(this.centerContainerCon.isViewportVisible()){this.checkViewportAndScrolls();var r=this.centerContainerCon.getCenterWidth();r!==this.centerWidth&&(this.centerWidth=r,this.columnModel.refreshFlexedColumns({viewportWidth:this.centerWidth,updateBodyWidths:!0,fireResizedEvent:!0}))}else this.bodyHeight=0},o.prototype.checkViewportAndScrolls=function(){this.updateScrollVisibleService(),this.checkBodyHeight(),this.onHorizontalViewportChanged(),this.gridBodyCon.getScrollFeature().checkScrollLeft()},o.prototype.getBodyHeight=function(){return this.bodyHeight},o.prototype.checkBodyHeight=function(){var a=Pp(this.gridBodyCon.getBodyViewportElement());this.bodyHeight!==a&&(this.bodyHeight=a,this.eventService.dispatchEvent({type:j.EVENT_BODY_HEIGHT_CHANGED,api:this.gridApi,columnApi:this.columnApi}))},o.prototype.updateScrollVisibleService=function(){this.updateScrollVisibleServiceImpl(),setTimeout(this.updateScrollVisibleServiceImpl.bind(this),500)},o.prototype.updateScrollVisibleServiceImpl=function(){var r={horizontalScrollShowing:this.isHorizontalScrollShowing(),verticalScrollShowing:this.gridBodyCon.isVerticalScrollShowing()};this.scrollVisibleService.setScrollsVisible(r),this.gridBodyCon.setVerticalScrollPaddingVisible(r.verticalScrollShowing)},o.prototype.isHorizontalScrollShowing=function(){return this.gridOptionsWrapper.isAlwaysShowHorizontalScroll()||this.centerContainerCon.isViewportHScrollShowing()},o.prototype.onHorizontalViewportChanged=function(){var r=this.centerContainerCon.getCenterWidth(),a=this.centerContainerCon.getViewportScrollLeft();this.columnModel.setViewportPosition(r,a)},wl([F("ctrlsService")],o.prototype,"ctrlsService",void 0),wl([F("columnModel")],o.prototype,"columnModel",void 0),wl([F("scrollVisibleService")],o.prototype,"scrollVisibleService",void 0),wl([F("columnApi")],o.prototype,"columnApi",void 0),wl([F("gridApi")],o.prototype,"gridApi",void 0),wl([ye],o.prototype,"postConstruct",null),o}(he),Ho=function(){var d=function(o,r){return(d=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(a,u){a.__proto__=u}||function(a,u){for(var c in u)u.hasOwnProperty(c)&&(a[c]=u[c])})(o,r)};return function(o,r){function a(){this.constructor=o}d(o,r),o.prototype=null===r?Object.create(r):(a.prototype=r.prototype,new a)}}(),_v=function(d,o,r,a){var f,u=arguments.length,c=u<3?o:null===a?a=Object.getOwnPropertyDescriptor(o,r):a;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)c=Reflect.decorate(d,o,r,a);else for(var y=d.length-1;y>=0;y--)(f=d[y])&&(c=(u<3?f(c):u>3?f(o,r,c):f(o,r))||c);return u>3&&c&&Object.defineProperty(o,r,c),c},OE=function(d){function o(r){var a=d.call(this)||this;return a.element=r,a}return Ho(o,d),o.prototype.postConstruct=function(){this.addManagedListener(this.eventService,j.EVENT_LEFT_PINNED_WIDTH_CHANGED,this.onPinnedLeftWidthChanged.bind(this))},o.prototype.onPinnedLeftWidthChanged=function(){var r=this.pinnedWidthService.getPinnedLeftWidth(),a=r>0;Oi(this.element,a),a&&un(this.element,r)},_v([F("pinnedWidthService")],o.prototype,"pinnedWidthService",void 0),_v([ye],o.prototype,"postConstruct",null),o}(he),bv=function(){var d=function(o,r){return(d=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(a,u){a.__proto__=u}||function(a,u){for(var c in u)u.hasOwnProperty(c)&&(a[c]=u[c])})(o,r)};return function(o,r){function a(){this.constructor=o}d(o,r),o.prototype=null===r?Object.create(r):(a.prototype=r.prototype,new a)}}(),hs=function(d,o,r,a){var f,u=arguments.length,c=u<3?o:null===a?a=Object.getOwnPropertyDescriptor(o,r):a;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)c=Reflect.decorate(d,o,r,a);else for(var y=d.length-1;y>=0;y--)(f=d[y])&&(c=(u<3?f(c):u>3?f(o,r,c):f(o,r))||c);return u>3&&c&&Object.defineProperty(o,r,c),c},Cv=function(d){function o(r){var a=d.call(this)||this;return a.element=r,a}return bv(o,d),o.prototype.postConstruct=function(){this.addManagedListener(this.eventService,j.EVENT_RIGHT_PINNED_WIDTH_CHANGED,this.onPinnedRightWidthChanged.bind(this))},o.prototype.onPinnedRightWidthChanged=function(){var r=this.pinnedWidthService.getPinnedRightWidth(),a=r>0;Oi(this.element,a),a&&un(this.element,r)},hs([F("pinnedWidthService")],o.prototype,"pinnedWidthService",void 0),hs([ye],o.prototype,"postConstruct",null),o}(he),Zb=function(){var d=function(o,r){return(d=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(a,u){a.__proto__=u}||function(a,u){for(var c in u)u.hasOwnProperty(c)&&(a[c]=u[c])})(o,r)};return function(o,r){function a(){this.constructor=o}d(o,r),o.prototype=null===r?Object.create(r):(a.prototype=r.prototype,new a)}}(),xh=function(d,o,r,a){var f,u=arguments.length,c=u<3?o:null===a?a=Object.getOwnPropertyDescriptor(o,r):a;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)c=Reflect.decorate(d,o,r,a);else for(var y=d.length-1;y>=0;y--)(f=d[y])&&(c=(u<3?f(c):u>3?f(o,r,c):f(o,r))||c);return u>3&&c&&Object.defineProperty(o,r,c),c},WA=function(d){function o(r,a){var u=d.call(this)||this;return u.eContainer=r,u.eWrapper=a,u}return Zb(o,d),o.prototype.postConstruct=function(){this.addManagedListener(this.eventService,j.EVENT_ROW_CONTAINER_HEIGHT_CHANGED,this.onHeightChanged.bind(this))},o.prototype.onHeightChanged=function(){var r=this.maxDivHeightScaler.getUiContainerHeight(),a=null!=r?r+"px":"";this.eContainer.style.height=a,this.eWrapper&&(this.eWrapper.style.height=a)},xh([F("rowContainerHeightService")],o.prototype,"maxDivHeightScaler",void 0),xh([ye],o.prototype,"postConstruct",null),o}(he),Qb=function(){var d=function(o,r){return(d=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(a,u){a.__proto__=u}||function(a,u){for(var c in u)u.hasOwnProperty(c)&&(a[c]=u[c])})(o,r)};return function(o,r){function a(){this.constructor=o}d(o,r),o.prototype=null===r?Object.create(r):(a.prototype=r.prototype,new a)}}(),Jb=function(d,o,r,a){var f,u=arguments.length,c=u<3?o:null===a?a=Object.getOwnPropertyDescriptor(o,r):a;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)c=Reflect.decorate(d,o,r,a);else for(var y=d.length-1;y>=0;y--)(f=d[y])&&(c=(u<3?f(c):u>3?f(o,r,c):f(o,r))||c);return u>3&&c&&Object.defineProperty(o,r,c),c},$s=function(d){function o(r){var a=d.call(this)||this;return a.eContainer=r,a}return Qb(o,d),o.prototype.postConstruct=function(){var r=this;if(this.gridOptionsWrapper.isEnableRangeSelection()&&!Ge(this.rangeService)){var a={eElement:this.eContainer,onDragStart:this.rangeService.onDragStart.bind(this.rangeService),onDragStop:this.rangeService.onDragStop.bind(this.rangeService),onDragging:this.rangeService.onDragging.bind(this.rangeService)};this.dragService.addDragSource(a),this.addDestroyFunc(function(){return r.dragService.removeDragSource(a)})}},Jb([et("rangeService")],o.prototype,"rangeService",void 0),Jb([F("dragService")],o.prototype,"dragService",void 0),Jb([ye],o.prototype,"postConstruct",null),o}(he),Oh=function(){var d=function(o,r){return(d=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(a,u){a.__proto__=u}||function(a,u){for(var c in u)u.hasOwnProperty(c)&&(a[c]=u[c])})(o,r)};return function(o,r){function a(){this.constructor=o}d(o,r),o.prototype=null===r?Object.create(r):(a.prototype=r.prototype,new a)}}(),fs=function(d,o,r,a){var f,u=arguments.length,c=u<3?o:null===a?a=Object.getOwnPropertyDescriptor(o,r):a;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)c=Reflect.decorate(d,o,r,a);else for(var y=d.length-1;y>=0;y--)(f=d[y])&&(c=(u<3?f(c):u>3?f(o,r,c):f(o,r))||c);return u>3&&c&&Object.defineProperty(o,r,c),c};!function(d){d.LEFT="left",d.RIGHT="right",d.CENTER="center",d.FULL_WIDTH="fullWidth",d.TOP_LEFT="topLeft",d.TOP_RIGHT="topRight",d.TOP_CENTER="topCenter",d.TOP_FULL_WITH="topFullWidth",d.BOTTOM_LEFT="bottomLeft",d.BOTTOM_RIGHT="bottomRight",d.BOTTOM_CENTER="bottomCenter",d.BOTTOM_FULL_WITH="bottomFullWidth"}(H.hA6||(H.hA6={}));var UA=Vs([[H.hA6.CENTER,"ag-center-cols-container"],[H.hA6.LEFT,"ag-pinned-left-cols-container"],[H.hA6.RIGHT,"ag-pinned-right-cols-container"],[H.hA6.FULL_WIDTH,"ag-full-width-container"],[H.hA6.TOP_CENTER,"ag-floating-top-container"],[H.hA6.TOP_LEFT,"ag-pinned-left-floating-top"],[H.hA6.TOP_RIGHT,"ag-pinned-right-floating-top"],[H.hA6.TOP_FULL_WITH,"ag-floating-top-full-width-container"],[H.hA6.BOTTOM_CENTER,"ag-floating-bottom-container"],[H.hA6.BOTTOM_LEFT,"ag-pinned-left-floating-bottom"],[H.hA6.BOTTOM_RIGHT,"ag-pinned-right-floating-bottom"],[H.hA6.BOTTOM_FULL_WITH,"ag-floating-bottom-full-width-container"]]),PE=Vs([[H.hA6.CENTER,"ag-center-cols-viewport"],[H.hA6.TOP_CENTER,"ag-floating-top-viewport"],[H.hA6.BOTTOM_CENTER,"ag-floating-bottom-viewport"]]),eC=Vs([[H.hA6.CENTER,"ag-center-cols-clipper"]]),Dv=function(d){function o(r){var a=d.call(this)||this;return a.name=r,a}return Oh(o,d),o.getRowContainerCssClasses=function(r){return{container:UA.get(r),viewport:PE.get(r),wrapper:eC.get(r)}},o.getPinned=function(r){switch(r){case H.hA6.BOTTOM_LEFT:case H.hA6.TOP_LEFT:case H.hA6.LEFT:return q.PINNED_LEFT;case H.hA6.BOTTOM_RIGHT:case H.hA6.TOP_RIGHT:case H.hA6.RIGHT:return q.PINNED_RIGHT;default:return null}},o.prototype.postConstruct=function(){var r=this;this.enableRtl=this.gridOptionsWrapper.isEnableRtl(),this.embedFullWidthRows=this.gridOptionsWrapper.isEmbedFullWidthRows(),this.addManagedListener(this.eventService,j.EVENT_SCROLL_VISIBILITY_CHANGED,this.onScrollVisibilityChanged.bind(this)),this.addManagedListener(this.eventService,j.EVENT_DISPLAYED_COLUMNS_CHANGED,this.onDisplayedColumnsChanged.bind(this)),this.addManagedListener(this.eventService,j.EVENT_DISPLAYED_COLUMNS_WIDTH_CHANGED,this.onDisplayedColumnsWidthChanged.bind(this)),this.addManagedListener(this.eventService,j.EVENT_DISPLAYED_ROWS_CHANGED,this.onDisplayedRowsChanged.bind(this)),this.forContainers([H.hA6.CENTER],function(){return r.viewportSizeFeature=r.createManagedBean(new Eh(r))}),this.registerWithCtrlsService()},o.prototype.registerWithCtrlsService=function(){switch(this.name){case H.hA6.CENTER:this.ctrlsService.registerCenterRowContainerCtrl(this);break;case H.hA6.LEFT:this.ctrlsService.registerLeftRowContainerCtrl(this);break;case H.hA6.RIGHT:this.ctrlsService.registerRightRowContainerCtrl(this);break;case H.hA6.TOP_CENTER:this.ctrlsService.registerTopCenterRowContainerCtrl(this);break;case H.hA6.TOP_LEFT:this.ctrlsService.registerTopLeftRowContainerCon(this);break;case H.hA6.TOP_RIGHT:this.ctrlsService.registerTopRightRowContainerCtrl(this);break;case H.hA6.BOTTOM_CENTER:this.ctrlsService.registerBottomCenterRowContainerCtrl(this);break;case H.hA6.BOTTOM_LEFT:this.ctrlsService.registerBottomLeftRowContainerCtrl(this);break;case H.hA6.BOTTOM_RIGHT:this.ctrlsService.registerBottomRightRowContainerCtrl(this)}},o.prototype.forContainers=function(r,a){r.indexOf(this.name)>=0&&a()},o.prototype.getContainerElement=function(){return this.eContainer},o.prototype.getViewportSizeFeature=function(){return this.viewportSizeFeature},o.prototype.setComp=function(r,a,u,c){var f=this;this.comp=r,this.eContainer=a,this.eViewport=u,this.eWrapper=c,this.createManagedBean(new ut(this.eContainer)),this.addPreventScrollWhileDragging(),this.listenOnDomOrder(),this.stopHScrollOnPinnedRows();var O=function(){for(var d=0,o=0,r=arguments.length;o<r;o++)d+=arguments[o].length;var a=Array(d),u=0;for(o=0;o<r;o++)for(var c=arguments[o],f=0,y=c.length;f<y;f++,u++)a[u]=c[f];return a}([H.hA6.TOP_CENTER,H.hA6.TOP_LEFT,H.hA6.TOP_RIGHT],[H.hA6.BOTTOM_CENTER,H.hA6.BOTTOM_LEFT,H.hA6.BOTTOM_RIGHT],[H.hA6.CENTER,H.hA6.LEFT,H.hA6.RIGHT]),I=[H.hA6.CENTER,H.hA6.LEFT,H.hA6.RIGHT,H.hA6.FULL_WIDTH],V=[H.hA6.CENTER,H.hA6.TOP_CENTER,H.hA6.BOTTOM_CENTER],z=[H.hA6.RIGHT,H.hA6.BOTTOM_RIGHT,H.hA6.TOP_RIGHT];this.forContainers([H.hA6.LEFT,H.hA6.BOTTOM_LEFT,H.hA6.TOP_LEFT],function(){return f.createManagedBean(new OE(f.eContainer))}),this.forContainers(z,function(){return f.createManagedBean(new Cv(f.eContainer))}),this.forContainers(I,function(){return f.createManagedBean(new WA(f.eContainer,f.eWrapper))}),this.forContainers(O,function(){return f.createManagedBean(new $s(f.eContainer))}),this.forContainers(V,function(){return f.createManagedBean(new Ob(function(ee){return f.comp.setContainerWidth(ee+"px")}))})},o.prototype.listenOnDomOrder=function(){var r=this,a=function(){return r.comp.setDomOrder(r.gridOptionsWrapper.isEnsureDomOrder())};this.addManagedListener(this.gridOptionsWrapper,Fe.PROP_DOM_LAYOUT,a),a()},o.prototype.stopHScrollOnPinnedRows=function(){var r=this;this.forContainers([H.hA6.TOP_CENTER,H.hA6.BOTTOM_CENTER],function(){r.addManagedListener(r.eViewport,"scroll",function(){return r.eViewport.scrollLeft=0})})},o.prototype.onDisplayedColumnsChanged=function(){var r=this;this.forContainers([H.hA6.CENTER],function(){return r.onHorizontalViewportChanged()})},o.prototype.onDisplayedColumnsWidthChanged=function(){var r=this;this.forContainers([H.hA6.CENTER],function(){return r.onHorizontalViewportChanged()})},o.prototype.onScrollVisibilityChanged=function(){if(this.name===H.hA6.CENTER){var a=this.scrollVisibleService.isHorizontalScrollShowing()&&this.gridOptionsWrapper.getScrollbarWidth()||0;this.comp.setViewportHeight(0==a?"100%":"calc(100% + "+a+"px)")}},o.prototype.addPreventScrollWhileDragging=function(){var r=this,a=function(u){r.dragService.isDragging()&&u.cancelable&&u.preventDefault()};this.eContainer.addEventListener("touchmove",a,{passive:!1}),this.addDestroyFunc(function(){return r.eContainer.removeEventListener("touchmove",a)})},o.prototype.onHorizontalViewportChanged=function(){var r=this.getCenterWidth(),a=this.getCenterViewportScrollLeft();this.columnModel.setViewportPosition(r,a)},o.prototype.getCenterWidth=function(){return hg(this.eViewport)},o.prototype.getCenterViewportScrollLeft=function(){return Tp(this.eViewport,this.enableRtl)},o.prototype.registerViewportResizeListener=function(r){var a=this.resizeObserverService.observeResize(this.eViewport,r);this.addDestroyFunc(function(){return a()})},o.prototype.isViewportVisible=function(){return Tc(this.eViewport)},o.prototype.isViewportHScrollShowing=function(){return yg(this.eViewport)},o.prototype.getViewportScrollLeft=function(){return Tp(this.eViewport,this.enableRtl)},o.prototype.isHorizontalScrollShowing=function(){return this.gridOptionsWrapper.isAlwaysShowHorizontalScroll()||yg(this.eViewport)},o.prototype.getViewportElement=function(){return this.eViewport},o.prototype.setContainerTranslateX=function(r){this.eContainer.style.transform="translateX("+r+"px)"},o.prototype.getHScrollPosition=function(){return{left:this.eViewport.scrollLeft,right:this.eViewport.scrollLeft+this.eViewport.offsetWidth}},o.prototype.setCenterViewportScrollLeft=function(r){gg(this.eViewport,r,this.enableRtl)},o.prototype.onDisplayedRowsChanged=function(){var r=this,a=this.name===H.hA6.TOP_FULL_WITH||this.name===H.hA6.BOTTOM_FULL_WITH||this.name===H.hA6.FULL_WIDTH,f=this.getRowCtrls().filter(function(y){var w=y.isFullWidth(),D=r.gridOptionsWrapper.getDomLayout()===q.DOM_LAYOUT_PRINT,O=r.embedFullWidthRows||D;return a?!O&&w:O||!w});this.comp.setRowCtrls(f)},o.prototype.getRowCtrls=function(){switch(this.name){case H.hA6.TOP_CENTER:case H.hA6.TOP_LEFT:case H.hA6.TOP_RIGHT:case H.hA6.TOP_FULL_WITH:return this.rowRenderer.getTopRowCtrls();case H.hA6.BOTTOM_CENTER:case H.hA6.BOTTOM_LEFT:case H.hA6.BOTTOM_RIGHT:case H.hA6.BOTTOM_FULL_WITH:return this.rowRenderer.getBottomRowCtrls();default:return this.rowRenderer.getRowCtrls()}},fs([F("scrollVisibleService")],o.prototype,"scrollVisibleService",void 0),fs([F("dragService")],o.prototype,"dragService",void 0),fs([F("ctrlsService")],o.prototype,"ctrlsService",void 0),fs([F("columnModel")],o.prototype,"columnModel",void 0),fs([F("resizeObserverService")],o.prototype,"resizeObserverService",void 0),fs([F("rowRenderer")],o.prototype,"rowRenderer",void 0),fs([ye],o.prototype,"postConstruct",null),o}(he),RE=function(){var d=function(o,r){return(d=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(a,u){a.__proto__=u}||function(a,u){for(var c in u)u.hasOwnProperty(c)&&(a[c]=u[c])})(o,r)};return function(o,r){function a(){this.constructor=o}d(o,r),o.prototype=null===r?Object.create(r):(a.prototype=r.prototype,new a)}}(),xu=function(d,o,r,a){var f,u=arguments.length,c=u<3?o:null===a?a=Object.getOwnPropertyDescriptor(o,r):a;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)c=Reflect.decorate(d,o,r,a);else for(var y=d.length-1;y>=0;y--)(f=d[y])&&(c=(u<3?f(c):u>3?f(o,r,c):f(o,r))||c);return u>3&&c&&Object.defineProperty(o,r,c),c},tC='<div class="ag-root ag-unselectable" role="grid" unselectable="on">\n        <ag-header-root ref="gridHeader" unselectable="on"></ag-header-root>\n        <div class="ag-floating-top" ref="eTop" role="presentation" unselectable="on">\n            <ag-row-container ref="topLeftContainer" name="'+H.hA6.TOP_LEFT+'"></ag-row-container>\n            <ag-row-container ref="topCenterContainer" name="'+H.hA6.TOP_CENTER+'"></ag-row-container>\n            <ag-row-container ref="topRightContainer" name="'+H.hA6.TOP_RIGHT+'"></ag-row-container>\n            <ag-row-container ref="topFullWidthContainer" name="'+H.hA6.TOP_FULL_WITH+'"></ag-row-container>\n        </div>\n        <div class="ag-body-viewport" ref="eBodyViewport" role="presentation">\n            <ag-row-container ref="leftContainer" name="'+H.hA6.LEFT+'"></ag-row-container>\n            <ag-row-container ref="centerContainer" name="'+H.hA6.CENTER+'"></ag-row-container>\n            <ag-row-container ref="rightContainer" name="'+H.hA6.RIGHT+'"></ag-row-container>\n            <ag-row-container ref="fullWidthContainer" name="'+H.hA6.FULL_WIDTH+'"></ag-row-container>\n        </div>\n        <div class="ag-floating-bottom" ref="eBottom" role="presentation" unselectable="on">\n            <ag-row-container ref="bottomLeftContainer" name="'+H.hA6.BOTTOM_LEFT+'"></ag-row-container>\n            <ag-row-container ref="bottomCenterContainer" name="'+H.hA6.BOTTOM_CENTER+'"></ag-row-container>\n            <ag-row-container ref="bottomRightContainer" name="'+H.hA6.BOTTOM_RIGHT+'"></ag-row-container>\n            <ag-row-container ref="bottomFullWidthContainer" name="'+H.hA6.BOTTOM_FULL_WITH+'"></ag-row-container>\n        </div>\n        <ag-fake-horizontal-scroll></ag-fake-horizontal-scroll>\n        <ag-overlay-wrapper></ag-overlay-wrapper>\n    </div>',Sv=function(d){function o(){return d.call(this,tC)||this}return RE(o,d),o.prototype.init=function(){var r=this,a=function(c,f){var y=c+"px";f.style.minHeight=y,f.style.height=y},u={setRowAnimationCssOnBodyViewport:function(c,f){return r.setRowAnimationCssOnBodyViewport(c,f)},setColumnCount:function(c){return au(r.getGui(),c)},setRowCount:function(c){return bn(r.getGui(),c)},setTopHeight:function(c){return a(c,r.eTop)},setBottomHeight:function(c){return a(c,r.eBottom)},setTopDisplay:function(c){return r.eTop.style.display=c},setBottomDisplay:function(c){return r.eBottom.style.display=c},setColumnMovingCss:function(c,f){return r.addOrRemoveCssClass(mv,f)},updateLayoutClasses:function(c,f){Ke(r.eBodyViewport,H.LBn.AUTO_HEIGHT,f.autoHeight),Ke(r.eBodyViewport,H.LBn.NORMAL,f.normal),Ke(r.eBodyViewport,H.LBn.PRINT,f.print),r.addOrRemoveCssClass(H.LBn.AUTO_HEIGHT,f.autoHeight),r.addOrRemoveCssClass(H.LBn.NORMAL,f.normal),r.addOrRemoveCssClass(H.LBn.PRINT,f.print)},setAlwaysVerticalScrollClass:function(c,f){return Ke(r.eBodyViewport,Xb,f)},registerBodyViewportResizeListener:function(c){var f=r.resizeObserverService.observeResize(r.eBodyViewport,c);r.addDestroyFunc(function(){return f()})},setPinnedTopBottomOverflowY:function(c){return r.eTop.style.overflowY=r.eBottom.style.overflowY=c},setCellSelectableCss:function(c,f){[r.eTop,r.eBodyViewport,r.eBottom].forEach(function(y){return Ke(y,Kb,f)})}};this.ctrl=this.createManagedBean(new qb),this.ctrl.setComp(u,this.getGui(),this.eBodyViewport,this.eTop,this.eBottom),(this.rangeService||this.gridOptionsWrapper.isRowSelectionMulti())&&is(this.getGui(),!0)},o.prototype.setRowAnimationCssOnBodyViewport=function(r,a){Ke(this.eBodyViewport,H.SJN.ANIMATION_ON,a),Ke(this.eBodyViewport,H.SJN.ANIMATION_OFF,!a)},o.prototype.getFloatingTopBottom=function(){return[this.eTop,this.eBottom]},xu([F("resizeObserverService")],o.prototype,"resizeObserverService",void 0),xu([et("rangeService")],o.prototype,"rangeService",void 0),xu([pe("eBodyViewport")],o.prototype,"eBodyViewport",void 0),xu([pe("eTop")],o.prototype,"eTop",void 0),xu([pe("eBottom")],o.prototype,"eBottom",void 0),xu([pe("gridHeader")],o.prototype,"headerRootComp",void 0),xu([ye],o.prototype,"init",null),o}(_t);!function(d){d[d.SINGLE_SHEET=0]="SINGLE_SHEET",d[d.MULTI_SHEET=1]="MULTI_SHEET"}(H.nPL||(H.nPL={})),function(d){d.EVERYTHING="group",d.FILTER="filter",d.SORT="sort",d.MAP="map",d.AGGREGATE="aggregate",d.PIVOT="pivot",d.NOTHING="nothing"}(H.j_r||(H.j_r={}));var Mt=function(d,o,r,a){var f,u=arguments.length,c=u<3?o:null===a?a=Object.getOwnPropertyDescriptor(o,r):a;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)c=Reflect.decorate(d,o,r,a);else for(var y=d.length-1;y>=0;y--)(f=d[y])&&(c=(u<3?f(c):u>3?f(o,r,c):f(o,r))||c);return u>3&&c&&Object.defineProperty(o,r,c),c},Ph=function(){function d(){this.detailGridInfoMap={},this.destroyCalled=!1}return d.prototype.registerOverlayWrapperComp=function(o){this.overlayWrapperComp=o},d.prototype.registerSideBarComp=function(o){this.sideBarComp=o},d.prototype.init=function(){var o=this;switch(this.rowModel.getType()){case q.ROW_MODEL_TYPE_CLIENT_SIDE:this.clientSideRowModel=this.rowModel;break;case q.ROW_MODEL_TYPE_INFINITE:this.infiniteRowModel=this.rowModel;break;case q.ROW_MODEL_TYPE_SERVER_SIDE:this.serverSideRowModel=this.rowModel}this.ctrlsService.whenReady(function(){o.gridBodyCon=o.ctrlsService.getGridBodyCtrl()})},d.prototype.__getAlignedGridService=function(){return this.alignedGridsService},d.prototype.addDetailGridInfo=function(o,r){this.detailGridInfoMap[o]=r},d.prototype.removeDetailGridInfo=function(o){this.detailGridInfoMap[o]=void 0},d.prototype.getDetailGridInfo=function(o){return this.detailGridInfoMap[o]},d.prototype.forEachDetailGridInfo=function(o){var r=0;zt(this.detailGridInfoMap,function(a,u){ce(u)&&(o(u,r),r++)})},d.prototype.getDataAsCsv=function(o){if(ot.assertRegistered(H.GXE.CsvExportModule,"api.getDataAsCsv"))return this.csvCreator.getDataAsCsv(o)},d.prototype.exportDataAsCsv=function(o){ot.assertRegistered(H.GXE.CsvExportModule,"api.exportDataAsCSv")&&this.csvCreator.exportDataAsCsv(o)},d.prototype.getDataAsExcel=function(o){if(ot.assertRegistered(H.GXE.ExcelExportModule,"api.getDataAsExcel"))return this.excelCreator.getFactoryMode(o&&o.exportMode||"xlsx")===H.nPL.MULTI_SHEET?void console.warn("AG Grid: The Excel Exporter is currently on Multi Sheet mode. End that operation by calling `api.getMultipleSheetAsExcel()` or `api.exportMultipleSheetsAsExcel()`"):this.excelCreator.getDataAsExcel(o)},d.prototype.exportDataAsExcel=function(o){if(ot.assertRegistered(H.GXE.ExcelExportModule,"api.exportDataAsExcel")){if(this.excelCreator.getFactoryMode(o&&o.exportMode||"xlsx")===H.nPL.MULTI_SHEET)return void console.warn("AG Grid: The Excel Exporter is currently on Multi Sheet mode. End that operation by calling `api.getMultipleSheetAsExcel()` or `api.exportMultipleSheetsAsExcel()`");this.excelCreator.exportDataAsExcel(o)}},d.prototype.getSheetDataForExcel=function(o){if(ot.assertRegistered(H.GXE.ExcelExportModule,"api.getSheetDataForExcel"))return this.excelCreator.setFactoryMode(H.nPL.MULTI_SHEET,o&&o.exportMode||"xlsx"),this.excelCreator.getSheetDataForExcel(o)},d.prototype.getMultipleSheetsAsExcel=function(o){if(ot.assertRegistered(H.GXE.ExcelExportModule,"api.getMultipleSheetsAsExcel"))return this.excelCreator.getMultipleSheetsAsExcel(o)},d.prototype.exportMultipleSheetsAsExcel=function(o){if(ot.assertRegistered(H.GXE.ExcelExportModule,"api.exportMultipleSheetsAsExcel"))return this.excelCreator.exportMultipleSheetsAsExcel(o)},d.prototype.setEnterpriseDatasource=function(o){console.warn("ag-grid: since version 18.x, api.setEnterpriseDatasource() should be replaced with api.setServerSideDatasource()"),this.setServerSideDatasource(o)},d.prototype.setGridAriaProperty=function(o,r){if(o){var a=this.ctrlsService.getGridBodyCtrl().getGui(),u="aria-"+o;null===r?a.removeAttribute(u):a.setAttribute(u,r)}},d.prototype.setServerSideDatasource=function(o){this.serverSideRowModel?this.serverSideRowModel.setDatasource(o):console.warn("AG Grid: you can only use an enterprise datasource when gridOptions.rowModelType is '"+q.ROW_MODEL_TYPE_SERVER_SIDE+"'")},d.prototype.setDatasource=function(o){this.gridOptionsWrapper.isRowModelInfinite()?this.rowModel.setDatasource(o):console.warn("AG Grid: you can only use a datasource when gridOptions.rowModelType is '"+q.ROW_MODEL_TYPE_INFINITE+"'")},d.prototype.setViewportDatasource=function(o){this.gridOptionsWrapper.isRowModelViewport()?this.rowModel.setViewportDatasource(o):console.warn("AG Grid: you can only use a viewport datasource when gridOptions.rowModelType is '"+q.ROW_MODEL_TYPE_VIEWPORT+"'")},d.prototype.setRowData=function(o){if(this.gridOptionsWrapper.isRowModelDefault())if(this.gridOptionsWrapper.isImmutableData()){var r=this.immutableService.createTransactionForRowData(o);if(!r)return;var c=this.clientSideRowModel.updateRowData(r[0],r[1]);c&&this.rowRenderer.refreshFullWidthRows(c.update)}else this.selectionService.reset(),this.clientSideRowModel.setRowData(o);else console.warn("cannot call setRowData unless using normal row model")},d.prototype.setFloatingTopRowData=function(o){console.warn("AG Grid: since v12, api.setFloatingTopRowData() is now api.setPinnedTopRowData()"),this.setPinnedTopRowData(o)},d.prototype.setFloatingBottomRowData=function(o){console.warn("AG Grid: since v12, api.setFloatingBottomRowData() is now api.setPinnedBottomRowData()"),this.setPinnedBottomRowData(o)},d.prototype.getFloatingTopRowCount=function(){return console.warn("AG Grid: since v12, api.getFloatingTopRowCount() is now api.getPinnedTopRowCount()"),this.getPinnedTopRowCount()},d.prototype.getFloatingBottomRowCount=function(){return console.warn("AG Grid: since v12, api.getFloatingBottomRowCount() is now api.getPinnedBottomRowCount()"),this.getPinnedBottomRowCount()},d.prototype.getFloatingTopRow=function(o){return console.warn("AG Grid: since v12, api.getFloatingTopRow() is now api.getPinnedTopRow()"),this.getPinnedTopRow(o)},d.prototype.getFloatingBottomRow=function(o){return console.warn("AG Grid: since v12, api.getFloatingBottomRow() is now api.getPinnedBottomRow()"),this.getPinnedBottomRow(o)},d.prototype.setPinnedTopRowData=function(o){this.pinnedRowModel.setPinnedTopRowData(o)},d.prototype.setPinnedBottomRowData=function(o){this.pinnedRowModel.setPinnedBottomRowData(o)},d.prototype.getPinnedTopRowCount=function(){return this.pinnedRowModel.getPinnedTopRowCount()},d.prototype.getPinnedBottomRowCount=function(){return this.pinnedRowModel.getPinnedBottomRowCount()},d.prototype.getPinnedTopRow=function(o){return this.pinnedRowModel.getPinnedTopRow(o)},d.prototype.getPinnedBottomRow=function(o){return this.pinnedRowModel.getPinnedBottomRow(o)},d.prototype.setColumnDefs=function(o,r){void 0===r&&(r="api"),this.columnModel.setColumnDefs(o,r)},d.prototype.setAutoGroupColumnDef=function(o,r){this.gridOptionsWrapper.setProperty("autoGroupColumnDef",o,!0)},d.prototype.expireValueCache=function(){this.valueCache.expire()},d.prototype.getVerticalPixelRange=function(){return this.gridBodyCon.getScrollFeature().getVScrollPosition()},d.prototype.getHorizontalPixelRange=function(){return this.gridBodyCon.getScrollFeature().getHScrollPosition()},d.prototype.setAlwaysShowHorizontalScroll=function(o){this.gridOptionsWrapper.setProperty("alwaysShowHorizontalScroll",o)},d.prototype.setAlwaysShowVerticalScroll=function(o){this.gridOptionsWrapper.setProperty("alwaysShowVerticalScroll",o)},d.prototype.refreshToolPanel=function(){!this.sideBarComp||this.sideBarComp.refresh()},d.prototype.refreshCells=function(o){void 0===o&&(o={}),Array.isArray(o)?console.warn("since AG Grid v11.1, refreshCells() now takes parameters, please see the documentation."):this.rowRenderer.refreshCells(o)},d.prototype.flashCells=function(o){void 0===o&&(o={}),this.rowRenderer.flashCells(o)},d.prototype.redrawRows=function(o){void 0===o&&(o={}),this.rowRenderer.redrawRows(o?o.rowNodes:void 0)},d.prototype.refreshView=function(){console.warn("AG Grid: since v11.1, refreshView() is deprecated, please call refreshCells() or redrawRows() instead"),this.redrawRows()},d.prototype.refreshRows=function(o){console.warn("since AG Grid v11.1, refreshRows() is deprecated, please use refreshCells({rowNodes: rows}) or redrawRows({rowNodes: rows}) instead"),this.refreshCells({rowNodes:o})},d.prototype.rowDataChanged=function(o){console.warn("AG Grid: rowDataChanged is deprecated, either call refreshView() to refresh everything, or call rowNode.setRowData(newData) to set value on a particular node"),this.redrawRows()},d.prototype.softRefreshView=function(){console.error("AG Grid: since v16, softRefreshView() is no longer supported. Please check the documentation on how to refresh.")},d.prototype.refreshGroupRows=function(){console.warn("AG Grid: since v11.1, refreshGroupRows() is no longer supported, call refreshCells() instead. Because refreshCells() now does dirty checking, it will only refresh cells that have changed, so it should not be necessary to only refresh the group rows."),this.refreshCells()},d.prototype.setFunctionsReadOnly=function(o){this.gridOptionsWrapper.setProperty("functionsReadOnly",o)},d.prototype.refreshHeader=function(){this.ctrlsService.getHeaderRowContainerCtrls().forEach(function(o){return o.refresh()})},d.prototype.isAnyFilterPresent=function(){return this.filterManager.isAnyFilterPresent()},d.prototype.isAdvancedFilterPresent=function(){return console.warn("AG Grid: isAdvancedFilterPresent() is deprecated, please use isColumnFilterPresent()"),this.isColumnFilterPresent()},d.prototype.isColumnFilterPresent=function(){return this.filterManager.isAdvancedFilterPresent()},d.prototype.isQuickFilterPresent=function(){return this.filterManager.isQuickFilterPresent()},d.prototype.getModel=function(){return this.rowModel},d.prototype.setRowNodeExpanded=function(o,r){o&&o.setExpanded(r)},d.prototype.onGroupExpandedOrCollapsed=function(o){Ge(this.clientSideRowModel)&&console.warn("AG Grid: cannot call onGroupExpandedOrCollapsed unless using normal row model"),ce(o)&&console.warn("AG Grid: api.onGroupExpandedOrCollapsed - refreshFromIndex parameter is no longer used, the grid will refresh all rows"),this.clientSideRowModel.refreshModel({step:H.j_r.MAP})},d.prototype.refreshInMemoryRowModel=function(o){console.warn("ag-grid: since version 18.x, api.refreshInMemoryRowModel() should be replaced with api.refreshClientSideRowModel()"),this.refreshClientSideRowModel(o)},d.prototype.refreshClientSideRowModel=function(o){Ge(this.clientSideRowModel)&&console.warn("cannot call refreshClientSideRowModel unless using normal row model");var r=H.j_r.EVERYTHING,a={group:H.j_r.EVERYTHING,filter:H.j_r.FILTER,map:H.j_r.MAP,aggregate:H.j_r.AGGREGATE,sort:H.j_r.SORT,pivot:H.j_r.PIVOT};ce(o)&&(r=a[o]),Ge(r)?console.error("AG Grid: invalid step "+o+", available steps are "+Object.keys(a).join(", ")):this.clientSideRowModel.refreshModel({step:r,keepRenderedRows:!0,animate:!0,keepEditingRows:!0})},d.prototype.isAnimationFrameQueueEmpty=function(){return this.animationFrameService.isQueueEmpty()},d.prototype.flushAllAnimationFrames=function(){this.animationFrameService.flushAllFrames()},d.prototype.getRowNode=function(o){return this.rowModel.getRowNode(o)},d.prototype.getSizesForCurrentTheme=function(){return{rowHeight:this.gridOptionsWrapper.getRowHeightAsNumber(),headerHeight:this.gridOptionsWrapper.getHeaderHeight()}},d.prototype.expandAll=function(){this.clientSideRowModel?this.clientSideRowModel.expandOrCollapseAll(!0):this.serverSideRowModel?this.serverSideRowModel.expandAll(!0):console.warn("AG Grid: expandAll only works with Client Side Row Model and Server Side Row Model")},d.prototype.collapseAll=function(){this.clientSideRowModel?this.clientSideRowModel.expandOrCollapseAll(!1):this.serverSideRowModel?this.serverSideRowModel.expandAll(!1):console.warn("AG Grid: collapseAll only works with Client Side Row Model and Server Side Row Model")},d.prototype.getToolPanelInstance=function(o){if(this.sideBarComp){var r=this.sideBarComp.getToolPanelInstance(o);return this.frameworkComponentWrapper?this.frameworkComponentWrapper.unwrap(r):r}console.warn("AG Grid: toolPanel is only available in AG Grid Enterprise")},d.prototype.addVirtualRowListener=function(o,r,a){"string"!=typeof o&&console.warn("AG Grid: addVirtualRowListener is deprecated, please use addRenderedRowListener."),this.addRenderedRowListener(o,r,a)},d.prototype.addRenderedRowListener=function(o,r,a){"virtualRowSelected"===o&&console.warn("AG Grid: event virtualRowSelected is deprecated, to register for individual row\n                selection events, add a listener directly to the row node."),this.rowRenderer.addRenderedRowListener(o,r,a)},d.prototype.setQuickFilter=function(o){this.filterManager.setQuickFilter(o)},d.prototype.selectIndex=function(o,r,a){console.warn("AG Grid: do not use api for selection, call node.setSelected(value) instead"),a&&console.warn("AG Grid: suppressEvents is no longer supported, stop listening for the event if you no longer want it"),this.selectionService.selectIndex(o,r)},d.prototype.deselectIndex=function(o,r){void 0===r&&(r=!1),console.warn("AG Grid: do not use api for selection, call node.setSelected(value) instead"),r&&console.warn("AG Grid: suppressEvents is no longer supported, stop listening for the event if you no longer want it"),this.selectionService.deselectIndex(o)},d.prototype.selectNode=function(o,r,a){void 0===r&&(r=!1),void 0===a&&(a=!1),console.warn("AG Grid: API for selection is deprecated, call node.setSelected(value) instead"),a&&console.warn("AG Grid: suppressEvents is no longer supported, stop listening for the event if you no longer want it"),o.setSelectedParams({newValue:!0,clearSelection:!r})},d.prototype.deselectNode=function(o,r){void 0===r&&(r=!1),console.warn("AG Grid: API for selection is deprecated, call node.setSelected(value) instead"),r&&console.warn("AG Grid: suppressEvents is no longer supported, stop listening for the event if you no longer want it"),o.setSelectedParams({newValue:!1})},d.prototype.selectAll=function(){this.selectionService.selectAllRowNodes()},d.prototype.deselectAll=function(){this.selectionService.deselectAllRowNodes()},d.prototype.selectAllFiltered=function(){this.selectionService.selectAllRowNodes(!0)},d.prototype.deselectAllFiltered=function(){this.selectionService.deselectAllRowNodes(!0)},d.prototype.recomputeAggregates=function(){Ge(this.clientSideRowModel)&&console.warn("cannot call recomputeAggregates unless using normal row model"),console.warn("recomputeAggregates is deprecated, please call api.refreshClientSideRowModel('aggregate') instead"),this.clientSideRowModel.refreshModel({step:H.j_r.AGGREGATE})},d.prototype.sizeColumnsToFit=function(){this.gridBodyCon.sizeColumnsToFit()},d.prototype.showLoadingOverlay=function(){this.overlayWrapperComp.showLoadingOverlay()},d.prototype.showNoRowsOverlay=function(){this.overlayWrapperComp.showNoRowsOverlay()},d.prototype.hideOverlay=function(){this.overlayWrapperComp.hideOverlay()},d.prototype.isNodeSelected=function(o){return console.warn("AG Grid: no need to call api.isNodeSelected(), just call node.isSelected() instead"),o.isSelected()},d.prototype.getSelectedNodesById=function(){return console.error("AG Grid: since version 3.4, getSelectedNodesById no longer exists, use getSelectedNodes() instead"),null},d.prototype.getSelectedNodes=function(){return this.selectionService.getSelectedNodes()},d.prototype.getSelectedRows=function(){return this.selectionService.getSelectedRows()},d.prototype.getBestCostNodeSelection=function(){return this.selectionService.getBestCostNodeSelection()},d.prototype.getRenderedNodes=function(){return this.rowRenderer.getRenderedNodes()},d.prototype.ensureColIndexVisible=function(o){console.warn("AG Grid: ensureColIndexVisible(index) no longer supported, use ensureColumnVisible(colKey) instead.")},d.prototype.ensureColumnVisible=function(o){this.gridBodyCon.getScrollFeature().ensureColumnVisible(o)},d.prototype.ensureIndexVisible=function(o,r){this.gridBodyCon.getScrollFeature().ensureIndexVisible(o,r)},d.prototype.ensureNodeVisible=function(o,r){void 0===r&&(r=null),this.gridBodyCon.getScrollFeature().ensureNodeVisible(o,r)},d.prototype.forEachLeafNode=function(o){Ge(this.clientSideRowModel)&&console.warn("cannot call forEachNode unless using normal row model"),this.clientSideRowModel.forEachLeafNode(o)},d.prototype.forEachNode=function(o){this.rowModel.forEachNode(o)},d.prototype.forEachNodeAfterFilter=function(o){Ge(this.clientSideRowModel)&&console.warn("cannot call forEachNodeAfterFilter unless using normal row model"),this.clientSideRowModel.forEachNodeAfterFilter(o)},d.prototype.forEachNodeAfterFilterAndSort=function(o){Ge(this.clientSideRowModel)&&console.warn("cannot call forEachNodeAfterFilterAndSort unless using normal row model"),this.clientSideRowModel.forEachNodeAfterFilterAndSort(o)},d.prototype.getFilterApiForColDef=function(o){return console.warn("ag-grid API method getFilterApiForColDef deprecated, use getFilterInstance instead"),this.getFilterInstance(o)},d.prototype.getFilterInstance=function(o,r){var a=this,u=this.columnModel.getPrimaryColumn(o);if(u){var c=this.filterManager.getFilterComponent(u,"NO_UI"),f=c&&c.resolveNow(null,function(w){return w}),y=this.frameworkComponentWrapper?this.frameworkComponentWrapper.unwrap(f):f;return r&&(y?setTimeout(r,0,y):c&&c.then(function(w){var D=a.frameworkComponentWrapper?a.frameworkComponentWrapper.unwrap(w):w;r(D)})),y}},d.prototype.getFilterApi=function(o){return console.warn("AG Grid: getFilterApi is deprecated, use getFilterInstance instead"),this.getFilterInstance(o)},d.prototype.destroyFilter=function(o){var r=this.columnModel.getPrimaryColumn(o);if(r)return this.filterManager.destroyFilter(r,"filterDestroyed")},d.prototype.getStatusPanel=function(o){if(this.statusBarService){var r=this.statusBarService.getStatusPanel(o);return this.frameworkComponentWrapper?this.frameworkComponentWrapper.unwrap(r):r}},d.prototype.getColumnDef=function(o){var r=this.columnModel.getPrimaryColumn(o);return r?r.getColDef():null},d.prototype.getColumnDefs=function(){return this.columnModel.getColumnDefs()},d.prototype.onFilterChanged=function(){this.filterManager.onFilterChanged()},d.prototype.onSortChanged=function(){this.sortController.onSortChanged()},d.prototype.setSortModel=function(o,r){console.warn("AG Grid: as of version 24.0.0, setSortModel() is deprecated, sort information is now part of Column State. Please use columnApi.applyColumnState() instead.");var a=[];o&&o.forEach(function(u,c){a.push({colId:u.colId,sort:u.sort,sortIndex:c})}),this.columnModel.applyColumnState({state:a,defaultState:{sort:null}})},d.prototype.getSortModel=function(){console.warn("AG Grid: as of version 24.0.0, getSortModel() is deprecated, sort information is now part of Column State. Please use columnApi.getColumnState() instead.");var r=this.columnModel.getColumnState().filter(function(c){return null!=c.sort}),a={};r.forEach(function(c){a[c.colId]=c.sortIndex});var u=r.map(function(c){return{colId:c.colId,sort:c.sort}});return u.sort(function(c,f){return a[c.colId]-a[f.colId]}),u},d.prototype.setFilterModel=function(o){this.filterManager.setFilterModel(o)},d.prototype.getFilterModel=function(){return this.filterManager.getFilterModel()},d.prototype.getFocusedCell=function(){return this.focusService.getFocusedCell()},d.prototype.clearFocusedCell=function(){return this.focusService.clearFocusedCell()},d.prototype.setFocusedCell=function(o,r,a){this.focusService.setFocusedCell(o,r,a,!0)},d.prototype.setSuppressRowDrag=function(o){this.gridOptionsWrapper.setProperty(Fe.PROP_SUPPRESS_ROW_DRAG,o)},d.prototype.setSuppressMoveWhenRowDragging=function(o){this.gridOptionsWrapper.setProperty(Fe.PROP_SUPPRESS_MOVE_WHEN_ROW_DRAG,o)},d.prototype.setSuppressRowClickSelection=function(o){this.gridOptionsWrapper.setProperty(Fe.PROP_SUPPRESS_ROW_CLICK_SELECTION,o)},d.prototype.addRowDropZone=function(o){this.gridBodyCon.getRowDragFeature().addRowDropZone(o)},d.prototype.removeRowDropZone=function(o){var r=this.dragAndDropService.findExternalZone(o);r&&this.dragAndDropService.removeDropTarget(r)},d.prototype.getRowDropZoneParams=function(o){return this.gridBodyCon.getRowDragFeature().getRowDropZone(o)},d.prototype.setHeaderHeight=function(o){this.gridOptionsWrapper.setProperty(Fe.PROP_HEADER_HEIGHT,o)},d.prototype.setDomLayout=function(o){this.gridOptionsWrapper.setProperty(Fe.PROP_DOM_LAYOUT,o)},d.prototype.setEnableCellTextSelection=function(o){this.gridBodyCon.setCellTextSelection(o)},d.prototype.setFillHandleDirection=function(o){this.gridOptionsWrapper.setProperty(Fe.PROP_FILL_HANDLE_DIRECTION,o)},d.prototype.setGroupHeaderHeight=function(o){this.gridOptionsWrapper.setProperty(Fe.PROP_GROUP_HEADER_HEIGHT,o)},d.prototype.setFloatingFiltersHeight=function(o){this.gridOptionsWrapper.setProperty(Fe.PROP_FLOATING_FILTERS_HEIGHT,o)},d.prototype.setPivotGroupHeaderHeight=function(o){this.gridOptionsWrapper.setProperty(Fe.PROP_PIVOT_GROUP_HEADER_HEIGHT,o)},d.prototype.setIsExternalFilterPresent=function(o){this.gridOptionsWrapper.setProperty(Fe.PROP_IS_EXTERNAL_FILTER_PRESENT,o)},d.prototype.setDoesExternalFilterPass=function(o){this.gridOptionsWrapper.setProperty(Fe.PROP_DOES_EXTERNAL_FILTER_PASS,o)},d.prototype.setNavigateToNextCell=function(o){this.gridOptionsWrapper.setProperty(Fe.PROP_NAVIGATE_TO_NEXT_CELL,o)},d.prototype.setTabToNextCell=function(o){this.gridOptionsWrapper.setProperty(Fe.PROP_TAB_TO_NEXT_CELL,o)},d.prototype.setTabToNextHeader=function(o){this.gridOptionsWrapper.setProperty(Fe.PROP_TAB_TO_NEXT_HEADER,o)},d.prototype.setNavigateToNextHeader=function(o){this.gridOptionsWrapper.setProperty(Fe.PROP_NAVIGATE_TO_NEXT_HEADER,o)},d.prototype.setGroupRowAggNodes=function(o){this.gridOptionsWrapper.setProperty(Fe.PROP_GROUP_ROW_AGG_NODES,o)},d.prototype.setGetBusinessKeyForNode=function(o){this.gridOptionsWrapper.setProperty(Fe.PROP_GET_BUSINESS_KEY_FOR_NODE,o)},d.prototype.setGetChildCount=function(o){this.gridOptionsWrapper.setProperty(Fe.PROP_GET_CHILD_COUNT,o)},d.prototype.setProcessRowPostCreate=function(o){this.gridOptionsWrapper.setProperty(Fe.PROP_PROCESS_ROW_POST_CREATE,o)},d.prototype.setGetRowNodeId=function(o){this.gridOptionsWrapper.setProperty(Fe.PROP_GET_ROW_NODE_ID,o)},d.prototype.setGetRowClass=function(o){this.gridOptionsWrapper.setProperty(Fe.PROP_GET_ROW_CLASS,o)},d.prototype.setIsFullWidthCell=function(o){this.gridOptionsWrapper.setProperty(Fe.PROP_IS_FULL_WIDTH_CELL,o)},d.prototype.setIsRowSelectable=function(o){this.gridOptionsWrapper.setProperty(Fe.PROP_IS_ROW_SELECTABLE,o)},d.prototype.setIsRowMaster=function(o){this.gridOptionsWrapper.setProperty(Fe.PROP_IS_ROW_MASTER,o)},d.prototype.setPostSort=function(o){this.gridOptionsWrapper.setProperty(Fe.PROP_POST_SORT,o)},d.prototype.setGetDocument=function(o){this.gridOptionsWrapper.setProperty(Fe.PROP_GET_DOCUMENT,o)},d.prototype.setGetContextMenuItems=function(o){this.gridOptionsWrapper.setProperty(Fe.PROP_GET_CONTEXT_MENU_ITEMS,o)},d.prototype.setGetMainMenuItems=function(o){this.gridOptionsWrapper.setProperty(Fe.PROP_GET_MAIN_MENU_ITEMS,o)},d.prototype.setProcessCellForClipboard=function(o){this.gridOptionsWrapper.setProperty(Fe.PROP_PROCESS_CELL_FOR_CLIPBOARD,o)},d.prototype.setSendToClipboard=function(o){this.gridOptionsWrapper.setProperty(Fe.PROP_SEND_TO_CLIPBOARD,o)},d.prototype.setProcessCellFromClipboard=function(o){this.gridOptionsWrapper.setProperty(Fe.PROP_PROCESS_CELL_FROM_CLIPBOARD,o)},d.prototype.setProcessSecondaryColDef=function(o){this.gridOptionsWrapper.setProperty(Fe.PROP_PROCESS_TO_SECONDARY_COLDEF,o)},d.prototype.setProcessSecondaryColGroupDef=function(o){this.gridOptionsWrapper.setProperty(Fe.PROP_PROCESS_SECONDARY_COL_GROUP_DEF,o)},d.prototype.setPostProcessPopup=function(o){this.gridOptionsWrapper.setProperty(Fe.PROP_POST_PROCESS_POPUP,o)},d.prototype.setDefaultGroupOrderComparator=function(o){this.gridOptionsWrapper.setProperty(Fe.PROP_DEFAULT_GROUP_ORDER_COMPARATOR,o)},d.prototype.setGetChartToolbarItems=function(o){this.gridOptionsWrapper.setProperty(Fe.PROP_GET_CHART_TOOLBAR_ITEMS,o)},d.prototype.setPaginationNumberFormatter=function(o){this.gridOptionsWrapper.setProperty(Fe.PROP_PAGINATION_NUMBER_FORMATTER,o)},d.prototype.setGetServerSideStoreParams=function(o){this.gridOptionsWrapper.setProperty(Fe.PROP_GET_SERVER_SIDE_STORE_PARAMS,o)},d.prototype.setIsServerSideGroupOpenByDefault=function(o){this.gridOptionsWrapper.setProperty(Fe.PROP_IS_SERVER_SIDE_GROUPS_OPEN_BY_DEFAULT,o)},d.prototype.setIsApplyServerSideTransaction=function(o){this.gridOptionsWrapper.setProperty(Fe.PROP_IS_APPLY_SERVER_SIDE_TRANSACTION,o)},d.prototype.setIsServerSideGroup=function(o){this.gridOptionsWrapper.setProperty(Fe.PROP_IS_SERVER_SIDE_GROUP,o)},d.prototype.setGetServerSideGroupKey=function(o){this.gridOptionsWrapper.setProperty(Fe.PROP_GET_SERVER_SIDE_GROUP_KEY,o)},d.prototype.setGetRowStyle=function(o){this.gridOptionsWrapper.setProperty(Fe.PROP_GET_ROW_STYLE,o)},d.prototype.setGetRowHeight=function(o){this.gridOptionsWrapper.setProperty(Fe.PROP_GET_ROW_HEIGHT,o)},d.prototype.setPivotHeaderHeight=function(o){this.gridOptionsWrapper.setProperty(Fe.PROP_PIVOT_HEADER_HEIGHT,o)},d.prototype.isSideBarVisible=function(){return!!this.sideBarComp&&this.sideBarComp.isDisplayed()},d.prototype.setSideBarVisible=function(o){this.sideBarComp?this.sideBarComp.setDisplayed(o):o&&console.warn("AG Grid: sideBar is not loaded")},d.prototype.setSideBarPosition=function(o){this.sideBarComp?this.sideBarComp.setSideBarPosition(o):console.warn("AG Grid: sideBar is not loaded")},d.prototype.openToolPanel=function(o){this.sideBarComp?this.sideBarComp.openToolPanel(o):console.warn("AG Grid: toolPanel is only available in AG Grid Enterprise")},d.prototype.closeToolPanel=function(){this.sideBarComp?this.sideBarComp.close():console.warn("AG Grid: toolPanel is only available in AG Grid Enterprise")},d.prototype.getOpenedToolPanel=function(){return this.sideBarComp?this.sideBarComp.openedItem():null},d.prototype.getSideBar=function(){return this.gridOptionsWrapper.getSideBar()},d.prototype.setSideBar=function(o){this.gridOptionsWrapper.setProperty("sideBar",Na.parse(o))},d.prototype.setSuppressClipboardPaste=function(o){this.gridOptionsWrapper.setProperty(Fe.PROP_SUPPRESS_CLIPBOARD_PASTE,o)},d.prototype.isToolPanelShowing=function(){return this.sideBarComp.isToolPanelShowing()},d.prototype.doLayout=function(){Mi(function(){return console.warn("AG Grid - since version 25.1, doLayout was taken out, as it's not needed. The grid responds to grid size changes automatically")},"doLayoutDeprecated")},d.prototype.resetRowHeights=function(){ce(this.clientSideRowModel)&&this.clientSideRowModel.resetRowHeights()},d.prototype.setGroupRemoveSingleChildren=function(o){this.gridOptionsWrapper.setProperty(Fe.PROP_GROUP_REMOVE_SINGLE_CHILDREN,o)},d.prototype.setGroupRemoveLowestSingleChildren=function(o){this.gridOptionsWrapper.setProperty(Fe.PROP_GROUP_REMOVE_LOWEST_SINGLE_CHILDREN,o)},d.prototype.onRowHeightChanged=function(){this.clientSideRowModel?this.clientSideRowModel.onRowHeightChanged():this.serverSideRowModel&&this.serverSideRowModel.onRowHeightChanged()},d.prototype.getValue=function(o,r){var a=this.columnModel.getPrimaryColumn(o);return Ge(a)&&(a=this.columnModel.getGridColumn(o)),Ge(a)?null:this.valueService.getValue(a,r)},d.prototype.addEventListener=function(o,r){var a=this.gridOptionsWrapper.useAsyncEvents();this.eventService.addEventListener(o,r,a)},d.prototype.addGlobalListener=function(o){var r=this.gridOptionsWrapper.useAsyncEvents();this.eventService.addGlobalListener(o,r)},d.prototype.removeEventListener=function(o,r){var a=this.gridOptionsWrapper.useAsyncEvents();this.eventService.removeEventListener(o,r,a)},d.prototype.removeGlobalListener=function(o){var r=this.gridOptionsWrapper.useAsyncEvents();this.eventService.removeGlobalListener(o,r)},d.prototype.dispatchEvent=function(o){this.eventService.dispatchEvent(o)},d.prototype.destroy=function(){if(!this.destroyCalled){this.destroyCalled=!0;var o=this.ctrlsService.getGridCtrl();o&&o.destroyGridUi(),this.context.destroy()}},d.prototype.cleanDownReferencesToAvoidMemoryLeakInCaseApplicationIsKeepingReferenceToDestroyedGrid=function(){setTimeout(Xl.bind(window,this,"Grid API"),100)},d.prototype.warnIfDestroyed=function(o){return this.destroyCalled&&console.warn("AG Grid: Grid API method "+o+" was called on a grid that was destroyed."),this.destroyCalled},d.prototype.resetQuickFilter=function(){this.warnIfDestroyed("resetQuickFilter")||this.rowModel.forEachNode(function(o){return o.quickFilterAggregateText=null})},d.prototype.getRangeSelections=function(){return console.warn("AG Grid: in v20.1.x, api.getRangeSelections() is gone, please use getCellRanges() instead.\n        We had to change how cell selections works a small bit to allow charting to integrate. The return type of\n        getCellRanges() is a bit different, please check the AG Grid documentation."),null},d.prototype.getCellRanges=function(){return this.rangeService?this.rangeService.getCellRanges():(console.warn("AG Grid: cell range selection is only available in AG Grid Enterprise"),null)},d.prototype.camelCaseToHumanReadable=function(o){return cg(o)},d.prototype.addRangeSelection=function(o){console.warn("AG Grid: As of version 21.x, range selection changed slightly to allow charting integration. Please call api.addCellRange() instead of api.addRangeSelection()")},d.prototype.addCellRange=function(o){this.rangeService||console.warn("AG Grid: cell range selection is only available in AG Grid Enterprise"),this.rangeService.addCellRange(o)},d.prototype.clearRangeSelection=function(){this.rangeService||console.warn("AG Grid: cell range selection is only available in AG Grid Enterprise"),this.rangeService.removeAllCellRanges()},d.prototype.undoCellEditing=function(){this.undoRedoService.undo()},d.prototype.redoCellEditing=function(){this.undoRedoService.redo()},d.prototype.getCurrentUndoSize=function(){return this.undoRedoService.getCurrentUndoStackSize()},d.prototype.getCurrentRedoSize=function(){return this.undoRedoService.getCurrentRedoStackSize()},d.prototype.getChartModels=function(){if(ot.assertRegistered(H.GXE.RangeSelectionModule,"api.getChartModels")&&ot.assertRegistered(H.GXE.GridChartsModule,"api.getChartModels"))return this.chartService.getChartModels()},d.prototype.getChartRef=function(o){if(ot.assertRegistered(H.GXE.RangeSelectionModule,"api.getChartRef")&&ot.assertRegistered(H.GXE.GridChartsModule,"api.getChartRef"))return this.chartService.getChartRef(o)},d.prototype.getChartImageDataURL=function(o){if(ot.assertRegistered(H.GXE.RangeSelectionModule,"api.getChartImageDataURL")&&ot.assertRegistered(H.GXE.GridChartsModule,"api.getChartImageDataURL"))return this.chartService.getChartImageDataURL(o)},d.prototype.createRangeChart=function(o){if(ot.assertRegistered(H.GXE.RangeSelectionModule,"api.createRangeChart")&&ot.assertRegistered(H.GXE.GridChartsModule,"api.createRangeChart"))return this.chartService.createRangeChart(o)},d.prototype.createCrossFilterChart=function(o){if(ot.assertRegistered(H.GXE.RangeSelectionModule,"api.createCrossFilterChart")&&ot.assertRegistered(H.GXE.GridChartsModule,"api.createCrossFilterChart"))return this.chartService.createCrossFilterChart(o)},d.prototype.restoreChart=function(o,r){if(ot.assertRegistered(H.GXE.RangeSelectionModule,"api.restoreChart")&&ot.assertRegistered(H.GXE.GridChartsModule,"api.restoreChart"))return this.chartService.restoreChart(o,r)},d.prototype.createPivotChart=function(o){if(ot.assertRegistered(H.GXE.RangeSelectionModule,"api.createPivotChart")&&ot.assertRegistered(H.GXE.GridChartsModule,"api.createPivotChart"))return this.chartService.createPivotChart(o)},d.prototype.copySelectedRowsToClipboard=function(o,r){this.clipboardService||console.warn("AG Grid: clipboard is only available in AG Grid Enterprise"),this.clipboardService.copySelectedRowsToClipboard(o,r)},d.prototype.copySelectedRangeToClipboard=function(o){this.clipboardService||console.warn("AG Grid: clipboard is only available in AG Grid Enterprise"),this.clipboardService.copySelectedRangeToClipboard(o)},d.prototype.copySelectedRangeDown=function(){this.clipboardService||console.warn("AG Grid: clipboard is only available in AG Grid Enterprise"),this.clipboardService.copyRangeDown()},d.prototype.showColumnMenuAfterButtonClick=function(o,r){var a=this.columnModel.getGridColumn(o);this.menuFactory.showMenuAfterButtonClick(a,r,"columnMenu")},d.prototype.showColumnMenuAfterMouseClick=function(o,r){var a=this.columnModel.getGridColumn(o);a||(a=this.columnModel.getPrimaryColumn(o)),a?this.menuFactory.showMenuAfterMouseEvent(a,r):console.error("AG Grid: column '"+o+"' not found")},d.prototype.hidePopupMenu=function(){this.contextMenuFactory&&this.contextMenuFactory.hideActiveMenu(),this.menuFactory.hideActiveMenu()},d.prototype.setPopupParent=function(o){this.gridOptionsWrapper.setProperty(Fe.PROP_POPUP_PARENT,o)},d.prototype.tabToNextCell=function(){return this.navigationService.tabToNextCell(!1)},d.prototype.tabToPreviousCell=function(){return this.navigationService.tabToNextCell(!0)},d.prototype.getCellRendererInstances=function(o){return void 0===o&&(o={}),this.rowRenderer.getCellRendererInstances(o)},d.prototype.getCellEditorInstances=function(o){return void 0===o&&(o={}),this.rowRenderer.getCellEditorInstances(o)},d.prototype.getEditingCells=function(){return this.rowRenderer.getEditingCells()},d.prototype.stopEditing=function(o){void 0===o&&(o=!1),this.rowRenderer.stopEditing(o)},d.prototype.startEditingCell=function(o){var r=this.columnModel.getGridColumn(o.colKey);if(r){var a={rowIndex:o.rowIndex,rowPinned:o.rowPinned||null,column:r};null==o.rowPinned&&this.gridBodyCon.getScrollFeature().ensureIndexVisible(o.rowIndex);var c=this.navigationService.getCellByPosition(a);!c||c.startRowOrCellEdit(o.keyPress,o.charPress)}else console.warn("AG Grid: no column found for "+o.colKey)},d.prototype.addAggFunc=function(o,r){this.aggFuncService&&this.aggFuncService.addAggFunc(o,r)},d.prototype.addAggFuncs=function(o){this.aggFuncService&&this.aggFuncService.addAggFuncs(o)},d.prototype.clearAggFuncs=function(){this.aggFuncService&&this.aggFuncService.clear()},d.prototype.applyServerSideTransaction=function(o){if(this.serverSideTransactionManager)return this.serverSideTransactionManager.applyTransaction(o);console.warn("AG Grid: Cannot apply Server Side Transaction if not using the Server Side Row Model.")},d.prototype.applyServerSideTransactionAsync=function(o,r){if(this.serverSideTransactionManager)return this.serverSideTransactionManager.applyTransactionAsync(o,r);console.warn("AG Grid: Cannot apply Server Side Transaction if not using the Server Side Row Model.")},d.prototype.retryServerSideLoads=function(){this.serverSideRowModel?this.serverSideRowModel.retryLoads():console.warn("AG Grid: API retryServerSideLoads() can only be used when using Server-Side Row Model.")},d.prototype.flushServerSideAsyncTransactions=function(){if(this.serverSideTransactionManager)return this.serverSideTransactionManager.flushAsyncTransactions();console.warn("AG Grid: Cannot flush Server Side Transaction if not using the Server Side Row Model.")},d.prototype.applyTransaction=function(o){if(this.clientSideRowModel){var r=this.clientSideRowModel.updateRowData(o);return this.rowRenderer.refreshFullWidthRows(r.update),this.gridOptionsWrapper.isSuppressChangeDetection()||this.rowRenderer.refreshCells(),r}console.error("AG Grid: updateRowData() only works with ClientSideRowModel. Working with InfiniteRowModel was deprecated in v23.1 and removed in v24.1")},d.prototype.updateRowData=function(o){return Mi(function(){return console.warn("AG Grid: as of v23.1, grid API updateRowData(transaction) is now called applyTransaction(transaction). updateRowData is deprecated and will be removed in a future major release.")},"updateRowData deprecated"),this.applyTransaction(o)},d.prototype.applyTransactionAsync=function(o,r){this.clientSideRowModel?this.clientSideRowModel.batchUpdateRowData(o,r):console.error("AG Grid: api.applyTransactionAsync() only works with ClientSideRowModel.")},d.prototype.flushAsyncTransactions=function(){this.clientSideRowModel?this.clientSideRowModel.flushAsyncTransactions():console.error("AG Grid: api.applyTransactionAsync() only works with ClientSideRowModel.")},d.prototype.batchUpdateRowData=function(o,r){Mi(function(){return console.warn("AG Grid: as of v23.1, grid API batchUpdateRowData(transaction, callback) is now called applyTransactionAsync(transaction, callback). batchUpdateRowData is deprecated and will be removed in a future major release.")},"batchUpdateRowData deprecated"),this.applyTransactionAsync(o,r)},d.prototype.insertItemsAtIndex=function(o,r,a){console.warn("AG Grid: insertItemsAtIndex() is deprecated, use updateRowData(transaction) instead."),this.updateRowData({add:r,addIndex:o,update:null,remove:null})},d.prototype.removeItems=function(o,r){console.warn("AG Grid: removeItems() is deprecated, use updateRowData(transaction) instead.");var a=o.map(function(u){return u.data});this.updateRowData({add:null,addIndex:null,update:null,remove:a})},d.prototype.addItems=function(o,r){console.warn("AG Grid: addItems() is deprecated, use updateRowData(transaction) instead."),this.updateRowData({add:o,addIndex:null,update:null,remove:null})},d.prototype.refreshVirtualPageCache=function(){console.warn("AG Grid: refreshVirtualPageCache() is now called refreshInfiniteCache(), please call refreshInfiniteCache() instead"),this.refreshInfiniteCache()},d.prototype.refreshInfinitePageCache=function(){console.warn("AG Grid: refreshInfinitePageCache() is now called refreshInfiniteCache(), please call refreshInfiniteCache() instead"),this.refreshInfiniteCache()},d.prototype.refreshInfiniteCache=function(){this.infiniteRowModel?this.infiniteRowModel.refreshCache():console.warn("AG Grid: api.refreshInfiniteCache is only available when rowModelType='infinite'.")},d.prototype.purgeVirtualPageCache=function(){console.warn("AG Grid: purgeVirtualPageCache() is now called purgeInfiniteCache(), please call purgeInfiniteCache() instead"),this.purgeInfinitePageCache()},d.prototype.purgeInfinitePageCache=function(){console.warn("AG Grid: purgeInfinitePageCache() is now called purgeInfiniteCache(), please call purgeInfiniteCache() instead"),this.purgeInfiniteCache()},d.prototype.purgeInfiniteCache=function(){this.infiniteRowModel?this.infiniteRowModel.purgeCache():console.warn("AG Grid: api.purgeInfiniteCache is only available when rowModelType='infinite'.")},d.prototype.purgeEnterpriseCache=function(o){console.warn("ag-grid: since version 18.x, api.purgeEnterpriseCache() should be replaced with api.purgeServerSideCache()"),this.purgeServerSideCache(o)},d.prototype.purgeServerSideCache=function(o){void 0===o&&(o=[]),this.serverSideRowModel?(console.warn("AG Grid: since v25.0, api.purgeServerSideCache is deprecated. Please use api.refreshServerSideStore({purge: true}) instead."),this.refreshServerSideStore({route:o,purge:!0})):console.warn("AG Grid: api.purgeServerSideCache is only available when rowModelType='serverSide'.")},d.prototype.refreshServerSideStore=function(o){this.serverSideRowModel?this.serverSideRowModel.refreshStore(o):console.warn("AG Grid: api.refreshServerSideStore is only available when rowModelType='serverSide'.")},d.prototype.getServerSideStoreState=function(){return this.serverSideRowModel?this.serverSideRowModel.getStoreState():(console.warn("AG Grid: api.getServerSideStoreState is only available when rowModelType='serverSide'."),[])},d.prototype.getVirtualRowCount=function(){return console.warn("AG Grid: getVirtualRowCount() is now called getInfiniteRowCount(), please call getInfiniteRowCount() instead"),this.getInfiniteRowCount()},d.prototype.getInfiniteRowCount=function(){if(this.infiniteRowModel)return this.infiniteRowModel.getRowCount();console.warn("AG Grid: api.getVirtualRowCount is only available when rowModelType='virtual'.")},d.prototype.isMaxRowFound=function(){return console.warn("AG Grid: api.isLastRowIndexKnown is deprecated, please use api.isLastRowIndexKnown()"),this.isLastRowIndexKnown()},d.prototype.isLastRowIndexKnown=function(){if(this.infiniteRowModel)return this.infiniteRowModel.isLastRowIndexKnown();console.warn("AG Grid: api.isMaxRowFound is only available when rowModelType='virtual'.")},d.prototype.setVirtualRowCount=function(o,r){console.warn("AG Grid: setVirtualRowCount() is now called setInfiniteRowCount(), please call setInfiniteRowCount() instead"),this.setRowCount(o,r)},d.prototype.setInfiniteRowCount=function(o,r){console.warn("AG Grid: setInfiniteRowCount() is now called setRowCount(), please call setRowCount() instead"),this.setRowCount(o,r)},d.prototype.setRowCount=function(o,r){this.infiniteRowModel?this.infiniteRowModel.setRowCount(o,r):console.warn("AG Grid: api.setRowCount is only available for Infinite Row Model.")},d.prototype.getVirtualPageState=function(){return console.warn("AG Grid: getVirtualPageState() is now called getCacheBlockState(), please call getCacheBlockState() instead"),this.getCacheBlockState()},d.prototype.getInfinitePageState=function(){return console.warn("AG Grid: getInfinitePageState() is now called getCacheBlockState(), please call getCacheBlockState() instead"),this.getCacheBlockState()},d.prototype.getCacheBlockState=function(){return this.rowNodeBlockLoader.getBlockState()},d.prototype.checkGridSize=function(){console.warn("in AG Grid v25.2.0, checkGridSize() was removed, as it was legacy and didn't do anything uesful.")},d.prototype.getFirstRenderedRow=function(){return console.warn("in AG Grid v12, getFirstRenderedRow() was renamed to getFirstDisplayedRow()"),this.getFirstDisplayedRow()},d.prototype.getFirstDisplayedRow=function(){return this.rowRenderer.getFirstVirtualRenderedRow()},d.prototype.getLastRenderedRow=function(){return console.warn("in AG Grid v12, getLastRenderedRow() was renamed to getLastDisplayedRow()"),this.getLastDisplayedRow()},d.prototype.getLastDisplayedRow=function(){return this.rowRenderer.getLastVirtualRenderedRow()},d.prototype.getDisplayedRowAtIndex=function(o){return this.rowModel.getRow(o)},d.prototype.getDisplayedRowCount=function(){return this.rowModel.getRowCount()},d.prototype.paginationIsLastPageFound=function(){return this.paginationProxy.isLastPageFound()},d.prototype.paginationGetPageSize=function(){return this.paginationProxy.getPageSize()},d.prototype.paginationSetPageSize=function(o){this.gridOptionsWrapper.setProperty("paginationPageSize",o)},d.prototype.paginationGetCurrentPage=function(){return this.paginationProxy.getCurrentPage()},d.prototype.paginationGetTotalPages=function(){return this.paginationProxy.getTotalPages()},d.prototype.paginationGetRowCount=function(){return this.paginationProxy.getMasterRowCount()},d.prototype.paginationGoToNextPage=function(){this.paginationProxy.goToNextPage()},d.prototype.paginationGoToPreviousPage=function(){this.paginationProxy.goToPreviousPage()},d.prototype.paginationGoToFirstPage=function(){this.paginationProxy.goToFirstPage()},d.prototype.paginationGoToLastPage=function(){this.paginationProxy.goToLastPage()},d.prototype.paginationGoToPage=function(o){this.paginationProxy.goToPage(o)},Mt([et("immutableService")],d.prototype,"immutableService",void 0),Mt([et("csvCreator")],d.prototype,"csvCreator",void 0),Mt([et("excelCreator")],d.prototype,"excelCreator",void 0),Mt([F("rowRenderer")],d.prototype,"rowRenderer",void 0),Mt([F("navigationService")],d.prototype,"navigationService",void 0),Mt([F("filterManager")],d.prototype,"filterManager",void 0),Mt([F("columnModel")],d.prototype,"columnModel",void 0),Mt([F("selectionService")],d.prototype,"selectionService",void 0),Mt([F("gridOptionsWrapper")],d.prototype,"gridOptionsWrapper",void 0),Mt([F("valueService")],d.prototype,"valueService",void 0),Mt([F("alignedGridsService")],d.prototype,"alignedGridsService",void 0),Mt([F("eventService")],d.prototype,"eventService",void 0),Mt([F("pinnedRowModel")],d.prototype,"pinnedRowModel",void 0),Mt([F("context")],d.prototype,"context",void 0),Mt([F("rowModel")],d.prototype,"rowModel",void 0),Mt([F("sortController")],d.prototype,"sortController",void 0),Mt([F("paginationProxy")],d.prototype,"paginationProxy",void 0),Mt([F("focusService")],d.prototype,"focusService",void 0),Mt([F("dragAndDropService")],d.prototype,"dragAndDropService",void 0),Mt([et("rangeService")],d.prototype,"rangeService",void 0),Mt([et("clipboardService")],d.prototype,"clipboardService",void 0),Mt([et("aggFuncService")],d.prototype,"aggFuncService",void 0),Mt([F("menuFactory")],d.prototype,"menuFactory",void 0),Mt([et("contextMenuFactory")],d.prototype,"contextMenuFactory",void 0),Mt([F("valueCache")],d.prototype,"valueCache",void 0),Mt([F("animationFrameService")],d.prototype,"animationFrameService",void 0),Mt([et("statusBarService")],d.prototype,"statusBarService",void 0),Mt([et("chartService")],d.prototype,"chartService",void 0),Mt([et("undoRedoService")],d.prototype,"undoRedoService",void 0),Mt([et("rowNodeBlockLoader")],d.prototype,"rowNodeBlockLoader",void 0),Mt([et("ssrmTransactionManager")],d.prototype,"serverSideTransactionManager",void 0),Mt([F("ctrlsService")],d.prototype,"ctrlsService",void 0),Mt([et("frameworkComponentWrapper")],d.prototype,"frameworkComponentWrapper",void 0),Mt([ye],d.prototype,"init",null),Mt([or],d.prototype,"cleanDownReferencesToAvoidMemoryLeakInCaseApplicationIsKeepingReferenceToDestroyedGrid",null),Mt([Te("gridApi")],d)}(),zA=function(){var d=function(o,r){return(d=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(a,u){a.__proto__=u}||function(a,u){for(var c in u)u.hasOwnProperty(c)&&(a[c]=u[c])})(o,r)};return function(o,r){function a(){this.constructor=o}d(o,r),o.prototype=null===r?Object.create(r):(a.prototype=r.prototype,new a)}}(),TE=function(d,o,r,a){var f,u=arguments.length,c=u<3?o:null===a?a=Object.getOwnPropertyDescriptor(o,r):a;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)c=Reflect.decorate(d,o,r,a);else for(var y=d.length-1;y>=0;y--)(f=d[y])&&(c=(u<3?f(c):u>3?f(o,r,c):f(o,r))||c);return u>3&&c&&Object.defineProperty(o,r,c),c},$A=function(d,o){return function(r,a){o(r,a,d)}},AE=function(d){function o(){var r=null!==d&&d.apply(this,arguments)||this;return r.expressionToFunctionCache={},r}return zA(o,d),o.prototype.setBeans=function(r){this.logger=r.create("ExpressionService")},o.prototype.evaluate=function(r,a){return"function"==typeof r?r(a):"string"==typeof r?this.evaluateExpression(r,a):void console.error("AG Grid: value should be either a string or a function",r)},o.prototype.evaluateExpression=function(r,a){try{return this.createExpressionFunction(r)(a.value,a.context,a.oldValue,a.newValue,a.value,a.node,a.data,a.colDef,a.rowIndex,a.api,a.columnApi,a.getValue,a.column,a.columnGroup)}catch(f){return console.log("Processing of the expression failed"),console.log("Expression = "+r),console.log("Params =",a),console.log("Exception = "+f),null}},o.prototype.createExpressionFunction=function(r){if(this.expressionToFunctionCache[r])return this.expressionToFunctionCache[r];var a=this.createFunctionBody(r),u=new Function("x, ctx, oldValue, newValue, value, node, data, colDef, rowIndex, api, columnApi, getValue, column, columnGroup",a);return this.expressionToFunctionCache[r]=u,u},o.prototype.createFunctionBody=function(r){return r.indexOf("return")>=0?r:"return "+r+";"},TE([$A(0,br("loggerFactory"))],o.prototype,"setBeans",null),TE([Te("expressionService")],o)}(he),YA=function(){var d=function(o,r){return(d=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(a,u){a.__proto__=u}||function(a,u){for(var c in u)u.hasOwnProperty(c)&&(a[c]=u[c])})(o,r)};return function(o,r){function a(){this.constructor=o}d(o,r),o.prototype=null===r?Object.create(r):(a.prototype=r.prototype,new a)}}(),IE=function(d,o,r,a){var f,u=arguments.length,c=u<3?o:null===a?a=Object.getOwnPropertyDescriptor(o,r):a;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)c=Reflect.decorate(d,o,r,a);else for(var y=d.length-1;y>=0;y--)(f=d[y])&&(c=(u<3?f(c):u>3?f(o,r,c):f(o,r))||c);return u>3&&c&&Object.defineProperty(o,r,c),c},ME=function(d){function o(){var r=null!==d&&d.apply(this,arguments)||this;return r.templateCache={},r.waitingCallbacks={},r}return YA(o,d),o.prototype.getTemplate=function(r,a){var u=this.templateCache[r];if(u)return u;var c=this.waitingCallbacks[r],f=this;if(!c){this.waitingCallbacks[r]=c=[];var y=new XMLHttpRequest;y.onload=function(){f.handleHttpResult(this,r)},y.open("GET",r),y.send()}return a&&c.push(a),null},o.prototype.handleHttpResult=function(r,a){if(200===r.status&&null!==r.response){this.templateCache[a]=r.response||r.responseText;for(var u=this.waitingCallbacks[a],c=0;c<u.length;c++)(0,u[c])();if(this.$scope){var y=this;window.setTimeout(function(){y.$scope.$apply()},0)}}else console.warn("Unable to get template error "+r.status+" - "+a)},IE([F("$scope")],o.prototype,"$scope",void 0),IE([Te("templateService")],o)}(he),KA=function(){var d=function(o,r){return(d=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(a,u){a.__proto__=u}||function(a,u){for(var c in u)u.hasOwnProperty(c)&&(a[c]=u[c])})(o,r)};return function(o,r){function a(){this.constructor=o}d(o,r),o.prototype=null===r?Object.create(r):(a.prototype=r.prototype,new a)}}(),gs=function(d,o,r,a){var f,u=arguments.length,c=u<3?o:null===a?a=Object.getOwnPropertyDescriptor(o,r):a;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)c=Reflect.decorate(d,o,r,a);else for(var y=d.length-1;y>=0;y--)(f=d[y])&&(c=(u<3?f(c):u>3?f(o,r,c):f(o,r))||c);return u>3&&c&&Object.defineProperty(o,r,c),c},ad=function(d){function o(){return null!==d&&d.apply(this,arguments)||this}var r;return KA(o,d),r=o,o.addKeyboardModeEvents=function(a,u){var c=r.instancesMonitored.get(a);c&&c.length>0?-1===c.indexOf(u)&&c.push(u):(r.instancesMonitored.set(a,[u]),a.addEventListener("keydown",r.toggleKeyboardMode),a.addEventListener("mousedown",r.toggleKeyboardMode))},o.removeKeyboardModeEvents=function(a,u){var c=r.instancesMonitored.get(a),f=[];c&&c.length&&(f=function(){for(var d=0,o=0,r=arguments.length;o<r;o++)d+=arguments[o].length;var a=Array(d),u=0;for(o=0;o<r;o++)for(var c=arguments[o],f=0,y=c.length;f<y;f++,u++)a[u]=c[f];return a}(c).filter(function(y){return y!==u}),r.instancesMonitored.set(a,f)),0===f.length&&(a.removeEventListener("keydown",r.toggleKeyboardMode),a.removeEventListener("mousedown",r.toggleKeyboardMode))},o.toggleKeyboardMode=function(a){var u=r.keyboardModeActive,c="keydown"===a.type;if(!(c&&(a.ctrlKey||a.metaKey||a.altKey)||u&&c||!u&&!c)){r.keyboardModeActive=c;var f=a.target.ownerDocument;if(f){var y=r.instancesMonitored.get(f);y&&y.forEach(function(w){w.dispatchEvent({type:c?j.EVENT_KEYBOARD_FOCUS:j.EVENT_MOUSE_FOCUS})})}}},o.prototype.init=function(){var a=this,u=this.clearFocusedCell.bind(this);this.addManagedListener(this.eventService,j.EVENT_COLUMN_PIVOT_MODE_CHANGED,u),this.addManagedListener(this.eventService,j.EVENT_NEW_COLUMNS_LOADED,this.onColumnEverythingChanged.bind(this)),this.addManagedListener(this.eventService,j.EVENT_COLUMN_GROUP_OPENED,u),this.addManagedListener(this.eventService,j.EVENT_COLUMN_ROW_GROUP_CHANGED,u),this.ctrlsService.whenReady(function(c){a.gridCtrl=c.gridCtrl;var f=a.gridOptionsWrapper.getDocument();r.addKeyboardModeEvents(f,a.gridCtrl),a.addDestroyFunc(function(){return a.unregisterGridCompController(a.gridCtrl)})})},o.prototype.unregisterGridCompController=function(a){var u=this.gridOptionsWrapper.getDocument();r.removeKeyboardModeEvents(u,a)},o.prototype.onColumnEverythingChanged=function(){if(this.focusedCellPosition){var a=this.focusedCellPosition.column,u=this.columnModel.getGridColumn(a.getId());a!==u&&this.clearFocusedCell()}},o.prototype.isKeyboardMode=function(){return r.keyboardModeActive},o.prototype.getFocusCellToUseAfterRefresh=function(){return this.gridOptionsWrapper.isSuppressFocusAfterRefresh()||!this.focusedCellPosition||this.isDomDataMissingInHierarchy(document.activeElement,La.DOM_DATA_KEY_ROW_CTRL)?null:this.focusedCellPosition},o.prototype.getFocusHeaderToUseAfterRefresh=function(){return this.gridOptionsWrapper.isSuppressFocusAfterRefresh()||!this.focusedHeaderPosition||this.isDomDataMissingInHierarchy(document.activeElement,Jn.DOM_DATA_KEY_HEADER_CTRL)?null:this.focusedHeaderPosition},o.prototype.isDomDataMissingInHierarchy=function(a,u){for(var c=a;c;){if(this.gridOptionsWrapper.getDomData(c,u))return!1;c=c.parentNode}return!0},o.prototype.clearFocusedCell=function(){this.focusedCellPosition=null,this.onCellFocused(!1)},o.prototype.getFocusedCell=function(){return this.focusedCellPosition},o.prototype.setFocusedCell=function(a,u,c,f){void 0===f&&(f=!1);var y=this.columnModel.getGridColumn(u);y?(this.focusedCellPosition=y?{rowIndex:a,rowPinned:_r(c),column:y}:null,this.onCellFocused(f)):this.focusedCellPosition=null},o.prototype.isCellFocused=function(a){return null!=this.focusedCellPosition&&this.focusedCellPosition.column===a.column&&this.isRowFocused(a.rowIndex,a.rowPinned)},o.prototype.isRowNodeFocused=function(a){return this.isRowFocused(a.rowIndex,a.rowPinned)},o.prototype.isHeaderWrapperFocused=function(a){if(null==this.focusedHeaderPosition)return!1;var u=a.getColumnGroupChild(),c=a.getRowIndex(),f=a.getPinned(),y=this.focusedHeaderPosition,w=y.column;return u===w&&c===y.headerRowIndex&&f==w.getPinned()},o.prototype.clearFocusedHeader=function(){this.focusedHeaderPosition=null},o.prototype.getFocusedHeader=function(){return this.focusedHeaderPosition},o.prototype.setFocusedHeader=function(a,u){this.focusedHeaderPosition={headerRowIndex:a,column:u}},o.prototype.focusHeaderPosition=function(a){var u=a.direction,c=a.fromTab,y=a.event,w=a.headerPosition;if(a.allowUserOverride){var V,D=this.gridOptionsWrapper,O=this.getFocusedHeader(),I=this.headerNavigationService.getHeaderRowCount();c?(V=D.getTabToNextHeaderFunc())&&(w=V({backwards:"Before"===u,previousHeaderPosition:O,nextHeaderPosition:w,headerRowCount:I,api:D.getApi(),columnApi:D.getColumnApi()})):(V=D.getNavigateToNextHeaderFunc())&&y&&(w=V({key:y.key,previousHeaderPosition:O,nextHeaderPosition:w,headerRowCount:I,event:y,api:D.getApi(),columnApi:D.getColumnApi()}))}return!!w&&(-1===w.headerRowIndex?this.focusGridView(w.column):(this.headerNavigationService.scrollToColumn(w.column,u),this.ctrlsService.getHeaderRowContainerCtrl(w.column.getPinned()).focusHeader(w.headerRowIndex,w.column,y)))},o.prototype.isAnyCellFocused=function(){return!!this.focusedCellPosition},o.prototype.isRowFocused=function(a,u){return null!=this.focusedCellPosition&&this.focusedCellPosition.rowIndex===a&&this.focusedCellPosition.rowPinned===_r(u)},o.prototype.findFocusableElements=function(a,u,c){void 0===c&&(c=!1);var y=q.FOCUSABLE_EXCLUDE;u&&(y+=", "+u),c&&(y+=', [tabindex="-1"]');var V,w=Array.prototype.slice.apply(a.querySelectorAll(q.FOCUSABLE_SELECTOR)),D=Array.prototype.slice.apply(a.querySelectorAll(y));return D.length?(V=D,w.filter(function(B){return-1===V.indexOf(B)})):w},o.prototype.focusInto=function(a,u,c){void 0===u&&(u=!1),void 0===c&&(c=!1);var f=this.findFocusableElements(a,null,c),y=u?Jt(f):f[0];return!!y&&(y.focus(),!0)},o.prototype.findNextFocusableElement=function(a,u,c){var f=this.findFocusableElements(a,u?':not([tabindex="-1"])':null),w=(u?va(f,function(D){return D.contains(document.activeElement)}):f.indexOf(document.activeElement))+(c?-1:1);return w<0||w>=f.length?null:f[w]},o.prototype.isFocusUnderManagedComponent=function(a){var u=a.querySelectorAll("."+os.FOCUS_MANAGED_CLASS);if(!u.length)return!1;for(var c=0;c<u.length;c++)if(u[c].contains(document.activeElement))return!0;return!1},o.prototype.findTabbableParent=function(a,u){void 0===u&&(u=5);for(var c=0;a&&null===Pa(a)&&++c<=u;)a=a.parentElement;return null===Pa(a)?null:a},o.prototype.onCellFocused=function(a){var u={type:j.EVENT_CELL_FOCUSED,forceBrowserFocus:a,rowIndex:null,column:null,floating:null,api:this.gridApi,columnApi:this.columnApi,rowPinned:null,isFullWidthCell:!1};if(this.focusedCellPosition){var c=u.rowIndex=this.focusedCellPosition.rowIndex,f=u.rowPinned=this.focusedCellPosition.rowPinned;u.column=this.focusedCellPosition.column;var y=this.rowRenderer.getRowByPosition({rowIndex:c,rowPinned:f});y&&(u.isFullWidthCell=y.isFullWidth())}this.eventService.dispatchEvent(u)},o.prototype.focusGridView=function(a,u){var c=u?this.rowPositionUtils.getLastRow():this.rowPositionUtils.getFirstRow();if(!c)return!1;var f=c.rowIndex,y=c.rowPinned,w=this.getFocusedHeader();return!a&&w&&(a=w.column),!(null==f||!a)&&(this.navigationService.ensureCellVisible({rowIndex:f,column:a,rowPinned:y}),this.setFocusedCell(f,a,_r(y),!0),this.rangeService&&this.rangeService.setRangeToCell({rowIndex:f,rowPinned:y,column:a}),!0)},o.prototype.focusNextGridCoreContainer=function(a){return!!this.gridCtrl.focusNextInnerContainer(a)||(a||this.gridCtrl.forceFocusOutOfContainer(),!1)},o.AG_KEYBOARD_FOCUS="ag-keyboard-focus",o.keyboardModeActive=!1,o.instancesMonitored=new Map,gs([F("columnModel")],o.prototype,"columnModel",void 0),gs([F("headerNavigationService")],o.prototype,"headerNavigationService",void 0),gs([F("columnApi")],o.prototype,"columnApi",void 0),gs([F("gridApi")],o.prototype,"gridApi",void 0),gs([F("rowRenderer")],o.prototype,"rowRenderer",void 0),gs([F("rowPositionUtils")],o.prototype,"rowPositionUtils",void 0),gs([et("rangeService")],o.prototype,"rangeService",void 0),gs([F("navigationService")],o.prototype,"navigationService",void 0),gs([F("ctrlsService")],o.prototype,"ctrlsService",void 0),gs([ye],o.prototype,"init",null),r=gs([Te("focusService")],o)}(he),Ha=function(){var d=function(o,r){return(d=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(a,u){a.__proto__=u}||function(a,u){for(var c in u)u.hasOwnProperty(c)&&(a[c]=u[c])})(o,r)};return function(o,r){function a(){this.constructor=o}d(o,r),o.prototype=null===r?Object.create(r):(a.prototype=r.prototype,new a)}}(),Dl=function(d,o,r,a){var f,u=arguments.length,c=u<3?o:null===a?a=Object.getOwnPropertyDescriptor(o,r):a;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)c=Reflect.decorate(d,o,r,a);else for(var y=d.length-1;y>=0;y--)(f=d[y])&&(c=(u<3?f(c):u>3?f(o,r,c):f(o,r))||c);return u>3&&c&&Object.defineProperty(o,r,c),c},Ys=(()=>(function(d){d[d.vertical=0]="vertical",d[d.horizontal=1]="horizontal"}(Ys||(Ys={})),Ys))(),iC=0,Rh=function(d){function o(){var r=null!==d&&d.apply(this,arguments)||this;return r.popupList=[],r}return Ha(o,d),o.prototype.postConstruct=function(){var r=this;this.ctrlsService.whenReady(function(a){r.gridCtrl=a.gridCtrl,r.addManagedListener(r.gridCtrl,j.EVENT_KEYBOARD_FOCUS,function(){Wi(r.popupList,function(u){return Me(u.element,ad.AG_KEYBOARD_FOCUS)})}),r.addManagedListener(r.gridCtrl,j.EVENT_MOUSE_FOCUS,function(){Wi(r.popupList,function(u){return Xn(u.element,ad.AG_KEYBOARD_FOCUS)})})})},o.prototype.getPopupParent=function(){return this.gridOptionsWrapper.getPopupParent()||this.gridCtrl.getGui()},o.prototype.positionPopupForMenu=function(r){var a=r.eventSource.getBoundingClientRect(),u=this.getParentRect(),c=this.keepXYWithinBounds(r.ePopup,a.top-u.top,Ys.vertical),f=r.ePopup.clientWidth>0?r.ePopup.clientWidth:200;r.ePopup.style.minWidth=f+"px";var D,w=u.right-u.left-f;function O(){return a.right-u.left-2}function I(){return a.left-u.left-f}this.gridOptionsWrapper.isEnableRtl()?((D=I())<0&&(D=O()),D>w&&(D=0)):((D=O())>w&&(D=I()),D<0&&(D=0)),r.ePopup.style.left=D+"px",r.ePopup.style.top=c+"px"},o.prototype.positionPopupUnderMouseEvent=function(r){var a=r.ePopup,u=r.nudgeX,c=r.nudgeY,f=this.calculatePointerAlign(r.mouseEvent);this.positionPopup({ePopup:a,x:f.x,y:f.y,nudgeX:u,nudgeY:c,keepWithinBounds:!0}),this.callPostProcessPopup(r.type,r.ePopup,null,r.mouseEvent,r.column,r.rowNode)},o.prototype.calculatePointerAlign=function(r){var a=this.getParentRect();return{x:r.clientX-a.left,y:r.clientY-a.top}},o.prototype.positionPopupUnderComponent=function(r){var a=r.eventSource.getBoundingClientRect(),u=r.alignSide||"left",c=this.getParentRect(),f=a.left-c.left;"right"===u&&(f-=r.ePopup.offsetWidth-a.width),this.positionPopup({ePopup:r.ePopup,nudgeX:r.nudgeX,nudgeY:r.nudgeY,x:f,y:a.top-c.top+a.height,keepWithinBounds:r.keepWithinBounds}),this.callPostProcessPopup(r.type,r.ePopup,r.eventSource,null,r.column,r.rowNode)},o.prototype.positionPopupOverComponent=function(r){var a=r.eventSource.getBoundingClientRect(),u=this.getParentRect();this.positionPopup({ePopup:r.ePopup,nudgeX:r.nudgeX,nudgeY:r.nudgeY,x:a.left-u.left,y:a.top-u.top,keepWithinBounds:r.keepWithinBounds}),this.callPostProcessPopup(r.type,r.ePopup,r.eventSource,null,r.column,r.rowNode)},o.prototype.callPostProcessPopup=function(r,a,u,c,f,y){var w=this.gridOptionsWrapper.getPostProcessPopupFunc();w&&w({column:f,rowNode:y,ePopup:a,type:r,eventSource:u,mouseEvent:c})},o.prototype.positionPopup=function(r){var a=r.ePopup,c=r.nudgeX,f=r.nudgeY,y=r.x,w=r.y;c&&(y+=c),f&&(w+=f),r.keepWithinBounds&&(y=this.keepXYWithinBounds(a,y,Ys.horizontal),w=this.keepXYWithinBounds(a,w,Ys.vertical)),a.style.left=y+"px",a.style.top=w+"px"},o.prototype.getActivePopups=function(){return this.popupList.map(function(r){return r.element})},o.prototype.getPopupList=function(){return this.popupList},o.prototype.getParentRect=function(){var r=this.gridOptionsWrapper.getDocument(),a=this.getPopupParent();a===r.body&&(a=r.documentElement);var u=getComputedStyle(a),c=a.getBoundingClientRect();return{top:c.top+parseFloat(u.borderTopWidth)||0,left:c.left+parseFloat(u.borderLeftWidth)||0,right:c.right+parseFloat(u.borderRightWidth)||0,bottom:c.bottom+parseFloat(u.borderBottomWidth)||0}},o.prototype.keepXYWithinBounds=function(r,a,u){var c=u===Ys.vertical,f=c?"clientHeight":"clientWidth",y=c?"top":"left",w=c?"offsetHeight":"offsetWidth",D=c?"scrollTop":"scrollLeft",O=this.gridOptionsWrapper.getDocument(),I=O.documentElement,V=this.getPopupParent(),B=V.getBoundingClientRect(),z=O.documentElement.getBoundingClientRect(),ee=V===O.body,ie=r[w],de=ee?(c?C_:fg)(I)+I[D]:V[f];ee&&(de-=Math.abs(z[y]-B[y]));var le=de-ie;return Math.min(Math.max(a,0),Math.abs(le))},o.prototype.keepPopupPositionedRelativeTo=function(r){var a=this,u=this.getPopupParent(),c=u.getBoundingClientRect(),f=r.element.getBoundingClientRect(),y=c.top-f.top,w=c.left-f.left,D=y,O=w,I=r.ePopup.style.top,V=parseInt(I.substring(0,I.length-1),10),B=r.ePopup.style.left,z=parseInt(B.substring(0,B.length-1),10);return new Qn(function(ee){a.getFrameworkOverrides().setInterval(function(){var ie=u.getBoundingClientRect(),_e=r.element.getBoundingClientRect();if(0==_e.top&&0==_e.left&&0==_e.height&&0==_e.width)r.hidePopup();else{var le=ie.top-_e.top;if(le!=D){var Ee=a.keepXYWithinBounds(r.ePopup,V+y-le,Ys.vertical);r.ePopup.style.top=Ee+"px"}D=le;var ze=ie.left-_e.left;if(ze!=O){var wt=a.keepXYWithinBounds(r.ePopup,z+w-ze,Ys.horizontal);r.ePopup.style.left=wt+"px"}O=ze}},200).then(function(ie){ee(function(){null!=ie&&window.clearInterval(ie)})})})},o.prototype.addPopup=function(r){var a=this,u=r.modal,c=r.eChild,f=r.closeOnEsc,y=r.closedCallback,w=r.click,D=r.alwaysOnTop,O=r.afterGuiAttached,I=r.positionCallback,V=r.anchorToElement,B=r.ariaLabel,z=this.gridOptionsWrapper.getDocument(),ee=new Qn(function(Gt){return Gt(function(){})});if(!z)return console.warn("ag-grid: could not find the document, document is empty"),{hideFunc:function(){},stopAnchoringPromise:ee};var ie=va(this.popupList,function(Gt){return Gt.element===c});if(-1!==ie){var _e=this.popupList[ie];return{hideFunc:_e.hideFunc,stopAnchoringPromise:_e.stopAnchoringPromise}}var de=this.getPopupParent();null==c.style.top&&(c.style.top="0px"),null==c.style.left&&(c.style.left="0px");var le=document.createElement("div"),Ee=this.environment.getTheme().theme;Ee&&Me(le,Ee),Me(le,"ag-popup"),Me(c,this.gridOptionsWrapper.isEnableRtl()?"ag-rtl":"ag-ltr"),Me(c,"ag-popup-child"),Sr(c,"dialog"),ou(c,B),this.focusService.isKeyboardMode()&&Me(c,ad.AG_KEYBOARD_FOCUS),le.appendChild(c),de.appendChild(le),D?this.setAlwaysOnTop(le,!0):this.bringPopupToFront(le);var ze=!1,wt=function(Gt){le.contains(document.activeElement)&&(Gt.which||Gt.keyCode)===me.ESCAPE&&ei({keyboardEvent:Gt})},Ze=function(Gt){return ei({mouseEvent:Gt})},ct=function(Gt){return ei({touchEvent:Gt})},ei=function(Gt){void 0===Gt&&(Gt={});var Pi=Gt.mouseEvent,hr=Gt.touchEvent,Oo=Gt.keyboardEvent;a.isEventFromCurrentPopup({mouseEvent:Pi,touchEvent:hr},c)||a.isEventSameChainAsOriginalEvent({originalMouseEvent:w,mouseEvent:Pi,touchEvent:hr})||ze||(ze=!0,de.removeChild(le),z.removeEventListener("keydown",wt),z.removeEventListener("mousedown",Ze),z.removeEventListener("touchstart",ct),z.removeEventListener("contextmenu",Ze),a.eventService.removeEventListener(j.EVENT_DRAG_STARTED,Ze),y&&y(Pi||hr||Oo),a.popupList=a.popupList.filter(function(Gn){return Gn.element!==c}),ee&&ee.then(function(Gn){return Gn&&Gn()}))};return O&&O({hidePopup:ei}),window.setTimeout(function(){f&&z.addEventListener("keydown",wt),u&&(z.addEventListener("mousedown",Ze),a.eventService.addEventListener(j.EVENT_DRAG_STARTED,Ze),z.addEventListener("touchstart",ct),z.addEventListener("contextmenu",Ze))},0),I&&I(),V&&(ee=this.keepPopupPositionedRelativeTo({element:V,ePopup:c,hidePopup:ei})),this.popupList.push({element:c,wrapper:le,hideFunc:ei,stopAnchoringPromise:ee,instanceId:iC++,isAnchored:!!V}),{hideFunc:ei,stopAnchoringPromise:ee}},o.prototype.hasAnchoredPopup=function(){return qr(this.popupList,function(r){return r.isAnchored})},o.prototype.isEventFromCurrentPopup=function(r,a){var f=r.mouseEvent||r.touchEvent;if(!f)return!1;var y=va(this.popupList,function(O){return O.element===a});if(-1===y)return!1;for(var w=y;w<this.popupList.length;w++)if(Vt(this.popupList[w].element,f))return!0;return this.isElementWithinCustomPopup(f.target)},o.prototype.isElementWithinCustomPopup=function(r){for(;r&&r!==document.body;){if(r.classList.contains("ag-custom-component-popup")||null===r.parentElement)return!0;r=r.parentElement}return!1},o.prototype.isEventSameChainAsOriginalEvent=function(r){var a=r.originalMouseEvent,u=r.mouseEvent,c=r.touchEvent,f=null;if(u?f=u:c&&(f=c.touches[0]),f&&a){var w=u?u.screenY:0,D=Math.abs(a.screenX-(u?u.screenX:0))<5,O=Math.abs(a.screenY-w)<5;if(D&&O)return!0}return!1},o.prototype.getWrapper=function(r){for(;!ts(r,"ag-popup")&&r.parentElement;)r=r.parentElement;return ts(r,"ag-popup")?r:null},o.prototype.setAlwaysOnTop=function(r,a){var u=this.getWrapper(r);!u||(Ke(u,"ag-always-on-top",!!a),a&&this.bringPopupToFront(u))},o.prototype.bringPopupToFront=function(r){var a=this.getPopupParent(),u=Array.prototype.slice.call(a.querySelectorAll(".ag-popup")),c=u.length,f=Array.prototype.slice.call(a.querySelectorAll(".ag-popup.ag-always-on-top")),y=f.length,w=this.getWrapper(r);if(w&&!(c<=1)&&a.contains(r)){var D=u.indexOf(w);y?ts(w,"ag-always-on-top")?D!==c-1&&Jt(f).insertAdjacentElement("afterend",w):D!==c-y-1&&f[0].insertAdjacentElement("beforebegin",w):D!==c-1&&Jt(u).insertAdjacentElement("afterend",w);var I={type:"popupToFront",api:this.gridOptionsWrapper.getApi(),columnApi:this.gridOptionsWrapper.getColumnApi(),eWrapper:w};this.eventService.dispatchEvent(I)}},Dl([F("environment")],o.prototype,"environment",void 0),Dl([F("focusService")],o.prototype,"focusService",void 0),Dl([F("ctrlsService")],o.prototype,"ctrlsService",void 0),Dl([ye],o.prototype,"postConstruct",null),Dl([Te("popupService")],o)}(he),nC=function(){var d=function(o,r){return(d=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(a,u){a.__proto__=u}||function(a,u){for(var c in u)u.hasOwnProperty(c)&&(a[c]=u[c])})(o,r)};return function(o,r){function a(){this.constructor=o}d(o,r),o.prototype=null===r?Object.create(r):(a.prototype=r.prototype,new a)}}(),Th=function(d,o,r,a){var f,u=arguments.length,c=u<3?o:null===a?a=Object.getOwnPropertyDescriptor(o,r):a;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)c=Reflect.decorate(d,o,r,a);else for(var y=d.length-1;y>=0;y--)(f=d[y])&&(c=(u<3?f(c):u>3?f(o,r,c):f(o,r))||c);return u>3&&c&&Object.defineProperty(o,r,c),c},FE=function(d,o){return function(r,a){o(r,a,d)}},Ks=function(d){function o(){return null!==d&&d.apply(this,arguments)||this}return nC(o,d),o.prototype.setBeans=function(r){this.logging=r.isDebug()},o.prototype.create=function(r){return new ld(r,this.isLogging.bind(this))},o.prototype.isLogging=function(){return this.logging},Th([FE(0,br("gridOptionsWrapper"))],o.prototype,"setBeans",null),Th([Te("loggerFactory")],o)}(he),ld=function(){function d(o,r){this.name=o,this.isLoggingFunc=r}return d.prototype.isLogging=function(){return this.isLoggingFunc()},d.prototype.log=function(o){this.isLoggingFunc()&&console.log("AG Grid."+this.name+": "+o)},d}(),NE=function(){var d=function(o,r){return(d=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(a,u){a.__proto__=u}||function(a,u){for(var c in u)u.hasOwnProperty(c)&&(a[c]=u[c])})(o,r)};return function(o,r){function a(){this.constructor=o}d(o,r),o.prototype=null===r?Object.create(r):(a.prototype=r.prototype,new a)}}(),Ah=function(d,o,r,a){var f,u=arguments.length,c=u<3?o:null===a?a=Object.getOwnPropertyDescriptor(o,r):a;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)c=Reflect.decorate(d,o,r,a);else for(var y=d.length-1;y>=0;y--)(f=d[y])&&(c=(u<3?f(c):u>3?f(o,r,c):f(o,r))||c);return u>3&&c&&Object.defineProperty(o,r,c),c},Ih=function(d){function o(){return null!==d&&d.apply(this,arguments)||this}return NE(o,d),o.prototype.postConstruct=function(){var r=this;this.ctrlsService.whenReady(function(a){r.centerRowContainerCon=a.centerRowContainerCtrl})},o.prototype.getPreferredWidthForColumn=function(r,a){var u=this.getHeaderCellForColumn(r);if(!u)return-1;var c=document.createElement("span");c.style.position="fixed";var f=this.centerRowContainerCon.getContainerElement();f.appendChild(c),this.putRowCellsIntoDummyContainer(r,c),a||this.cloneItemIntoDummy(u,c);var y=c.offsetWidth;return f.removeChild(c),y+this.gridOptionsWrapper.getAutoSizePadding()},o.prototype.getHeaderCellForColumn=function(r){var a=null;return this.ctrlsService.getHeaderRowContainerCtrls().forEach(function(u){var c=u.getHtmlElementForColumnHeader(r);null!=c&&(a=c)}),a},o.prototype.putRowCellsIntoDummyContainer=function(r,a){var u=this;this.rowRenderer.getAllCellsForColumn(r).forEach(function(f){return u.cloneItemIntoDummy(f,a)})},o.prototype.cloneItemIntoDummy=function(r,a){var u=r.cloneNode(!0);u.style.width="",u.style.position="static",u.style.left="";var c=document.createElement("div");ts(u,"ag-header-cell")?(Me(c,"ag-header"),Me(c,"ag-header-row"),c.style.position="static"):Me(c,"ag-row");for(var f=r.parentElement;f;){if(f.classList.contains("ag-header-row")||f.classList.contains("ag-row")){for(var y=0;y<f.classList.length;y++){var w=f.classList[y];"ag-row-position-absolute"!=w&&Me(c,w)}break}f=f.parentElement}c.style.display="table-row",c.appendChild(u),a.appendChild(c)},Ah([F("rowRenderer")],o.prototype,"rowRenderer",void 0),Ah([F("ctrlsService")],o.prototype,"ctrlsService",void 0),Ah([F("rowCssClassCalculator")],o.prototype,"rowCssClassCalculator",void 0),Ah([ye],o.prototype,"postConstruct",null),Ah([Te("autoWidthCalculator")],o)}(he),LE=function(){var d=function(o,r){return(d=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(a,u){a.__proto__=u}||function(a,u){for(var c in u)u.hasOwnProperty(c)&&(a[c]=u[c])})(o,r)};return function(o,r){function a(){this.constructor=o}d(o,r),o.prototype=null===r?Object.create(r):(a.prototype=r.prototype,new a)}}(),Mh=function(d,o,r,a){var f,u=arguments.length,c=u<3?o:null===a?a=Object.getOwnPropertyDescriptor(o,r):a;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)c=Reflect.decorate(d,o,r,a);else for(var y=d.length-1;y>=0;y--)(f=d[y])&&(c=(u<3?f(c):u>3?f(o,r,c):f(o,r))||c);return u>3&&c&&Object.defineProperty(o,r,c),c},rC=function(d){function o(){return null!==d&&d.apply(this,arguments)||this}return LE(o,d),o.prototype.addResizeBar=function(r){var a=this,u={dragStartPixels:r.dragStartPixels||0,eElement:r.eResizeBar,onDragStart:this.onDragStart.bind(this,r),onDragStop:this.onDragStop.bind(this,r),onDragging:this.onDragging.bind(this,r)};return this.dragService.addDragSource(u,!0),function(){return a.dragService.removeDragSource(u)}},o.prototype.onDragStart=function(r,a){this.dragStartX=a.clientX,this.setResizeIcons();var u=a instanceof MouseEvent&&!0===a.shiftKey;r.onResizeStart(u)},o.prototype.setResizeIcons=function(){var r=this.ctrlsService.getGridCtrl();r.setResizeCursor(!0),r.disableUserSelect(!0)},o.prototype.onDragStop=function(r,a){r.onResizeEnd(this.resizeAmount),this.resetIcons()},o.prototype.resetIcons=function(){var r=this.ctrlsService.getGridCtrl();r.setResizeCursor(!1),r.disableUserSelect(!1)},o.prototype.onDragging=function(r,a){this.resizeAmount=a.clientX-this.dragStartX,r.onResizing(this.resizeAmount)},Mh([F("dragService")],o.prototype,"dragService",void 0),Mh([F("ctrlsService")],o.prototype,"ctrlsService",void 0),Mh([Te("horizontalResizeService")],o)}(he),VE=function(){var d=function(o,r){return(d=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(a,u){a.__proto__=u}||function(a,u){for(var c in u)u.hasOwnProperty(c)&&(a[c]=u[c])})(o,r)};return function(o,r){function a(){this.constructor=o}d(o,r),o.prototype=null===r?Object.create(r):(a.prototype=r.prototype,new a)}}(),So=function(d,o,r,a){var f,u=arguments.length,c=u<3?o:null===a?a=Object.getOwnPropertyDescriptor(o,r):a;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)c=Reflect.decorate(d,o,r,a);else for(var y=d.length-1;y>=0;y--)(f=d[y])&&(c=(u<3?f(c):u>3?f(o,r,c):f(o,r))||c);return u>3&&c&&Object.defineProperty(o,r,c),c},Sl=function(d){function o(){return null!==d&&d.apply(this,arguments)||this}return VE(o,d),o.prototype.postConstruct=function(){this.ctrlsService.registerGridCtrl(this)},o.prototype.setComp=function(r,a,u){var c=this;this.view=r,this.eGridHostDiv=a,this.eGui=u,this.mouseEventService.stampTopLevelGridCompWithGridInstance(a),this.createManagedBean(new Sh(this.view)),this.addRtlSupport(),this.addManagedListener(this,j.EVENT_KEYBOARD_FOCUS,function(){c.view.addOrRemoveKeyboardFocusClass(!0)}),this.addManagedListener(this,j.EVENT_MOUSE_FOCUS,function(){c.view.addOrRemoveKeyboardFocusClass(!1)});var f=this.resizeObserverService.observeResize(this.eGridHostDiv,this.onGridSizeChanged.bind(this));this.addDestroyFunc(function(){return f()})},o.prototype.showDropZones=function(){return ot.isRegistered(H.GXE.RowGroupingModule)},o.prototype.showSideBar=function(){return ot.isRegistered(H.GXE.SideBarModule)},o.prototype.showStatusBar=function(){return ot.isRegistered(H.GXE.StatusBarModule)},o.prototype.showWatermark=function(){return ot.isRegistered(H.GXE.EnterpriseCoreModule)},o.prototype.onGridSizeChanged=function(){this.eventService.dispatchEvent({type:j.EVENT_GRID_SIZE_CHANGED,api:this.gridApi,columnApi:this.columnApi,clientWidth:this.eGridHostDiv.clientWidth,clientHeight:this.eGridHostDiv.clientHeight})},o.prototype.addRtlSupport=function(){var r=this.gridOptionsWrapper.isEnableRtl()?"ag-rtl":"ag-ltr";this.view.setRtlClass(r)},o.prototype.destroyGridUi=function(){this.view.destroyGridUi()},o.prototype.getGui=function(){return this.eGui},o.prototype.setResizeCursor=function(r){this.view.setCursor(r?"ew-resize":null)},o.prototype.disableUserSelect=function(r){this.view.setUserSelect(r?"none":null)},o.prototype.focusNextInnerContainer=function(r){var a=this.view.getFocusableContainers(),c=va(a,function(f){return f.contains(document.activeElement)})+(r?-1:1);return!(c<0||c>=a.length)&&(0===c?this.focusGridHeader():this.focusService.focusInto(a[c]))},o.prototype.focusInnerElement=function(r){var a=this.view.getFocusableContainers();if(r){if(a.length>1)return this.focusService.focusInto(Jt(a),!0);var u=Jt(this.columnModel.getAllDisplayedColumns());if(this.focusService.focusGridView(u,!0))return!0}return this.focusGridHeader()},o.prototype.focusGridHeader=function(){var r=this.columnModel.getAllDisplayedColumns()[0];return!!r&&(r.getParent()&&(r=this.columnModel.getColumnGroupAtLevel(r,0)),this.focusService.focusHeaderPosition({headerPosition:{headerRowIndex:0,column:r}}),!0)},o.prototype.forceFocusOutOfContainer=function(r){void 0===r&&(r=!1),this.view.forceFocusOutOfContainer(r)},So([F("columnApi")],o.prototype,"columnApi",void 0),So([F("gridApi")],o.prototype,"gridApi",void 0),So([F("focusService")],o.prototype,"focusService",void 0),So([F("resizeObserverService")],o.prototype,"resizeObserverService",void 0),So([F("columnModel")],o.prototype,"columnModel",void 0),So([F("ctrlsService")],o.prototype,"ctrlsService",void 0),So([F("mouseEventService")],o.prototype,"mouseEventService",void 0),So([ye],o.prototype,"postConstruct",null),o}(he),Ev=function(){var d=function(o,r){return(d=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(a,u){a.__proto__=u}||function(a,u){for(var c in u)u.hasOwnProperty(c)&&(a[c]=u[c])})(o,r)};return function(o,r){function a(){this.constructor=o}d(o,r),o.prototype=null===r?Object.create(r):(a.prototype=r.prototype,new a)}}(),El=function(d,o,r,a){var f,u=arguments.length,c=u<3?o:null===a?a=Object.getOwnPropertyDescriptor(o,r):a;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)c=Reflect.decorate(d,o,r,a);else for(var y=d.length-1;y>=0;y--)(f=d[y])&&(c=(u<3?f(c):u>3?f(o,r,c):f(o,r))||c);return u>3&&c&&Object.defineProperty(o,r,c),c},Ou=function(d){function o(r){var a=d.call(this)||this;a.skipTabGuardFocus=!1;var c=r.eTopGuard,f=r.eBottomGuard,y=r.focusInnerElement,w=r.onFocusIn,D=r.onFocusOut,O=r.shouldStopEventPropagation,I=r.onTabKeyDown,V=r.handleKeyDown,B=r.eFocusableElement;return a.comp=r.comp,a.eTopGuard=c,a.eBottomGuard=f,a.providedFocusInnerElement=y,a.eFocusableElement=B,a.providedFocusIn=w,a.providedFocusOut=D,a.providedShouldStopEventPropagation=O,a.providedOnTabKeyDown=I,a.providedHandleKeyDown=V,a}return Ev(o,d),o.prototype.postConstruct=function(){var r=this;this.createManagedBean(new os(this.eFocusableElement,{shouldStopEventPropagation:function(){return r.shouldStopEventPropagation()},onTabKeyDown:function(a){return r.onTabKeyDown(a)},handleKeyDown:function(a){return r.handleKeyDown(a)},onFocusIn:function(a){return r.onFocusIn(a)},onFocusOut:function(a){return r.onFocusOut(a)}})),this.activateTabGuards(),[this.eTopGuard,this.eBottomGuard].forEach(function(a){return r.addManagedListener(a,"focus",r.onFocus.bind(r))})},o.prototype.handleKeyDown=function(r){this.providedHandleKeyDown&&this.providedHandleKeyDown(r)},o.prototype.tabGuardsAreActive=function(){return!!this.eTopGuard&&this.eTopGuard.hasAttribute("tabIndex")},o.prototype.shouldStopEventPropagation=function(){return!!this.providedShouldStopEventPropagation&&this.providedShouldStopEventPropagation()},o.prototype.activateTabGuards=function(){this.comp.setTabIndex(this.getGridTabIndex())},o.prototype.deactivateTabGuards=function(){this.comp.setTabIndex()},o.prototype.onFocus=function(r){if(this.skipTabGuardFocus)this.skipTabGuardFocus=!1;else{var a=r.target===this.eBottomGuard;this.providedFocusInnerElement?this.providedFocusInnerElement(a):this.focusInnerElement(a)}},o.prototype.onFocusIn=function(r){this.providedFocusIn&&this.providedFocusIn(r)||this.deactivateTabGuards()},o.prototype.onFocusOut=function(r){this.providedFocusOut&&this.providedFocusOut(r)||this.eFocusableElement.contains(r.relatedTarget)||this.activateTabGuards()},o.prototype.onTabKeyDown=function(r){var a=this;if(this.providedOnTabKeyDown)this.providedOnTabKeyDown(r);else if(!r.defaultPrevented){var u=this.tabGuardsAreActive();u&&this.deactivateTabGuards();var c=this.getNextFocusableElement(r.shiftKey);u&&setTimeout(function(){return a.activateTabGuards()},0),c&&(c.focus(),r.preventDefault())}},o.prototype.getGridTabIndex=function(){return this.gridOptionsWrapper.getGridTabIndex()},o.prototype.focusInnerElement=function(r){void 0===r&&(r=!1);var a=this.focusService.findFocusableElements(this.eFocusableElement);this.tabGuardsAreActive()&&(a.splice(0,1),a.splice(a.length-1,1)),a.length&&a[r?a.length-1:0].focus()},o.prototype.getNextFocusableElement=function(r){return this.focusService.findNextFocusableElement(this.eFocusableElement,!1,r)},o.prototype.forceFocusOutOfContainer=function(r){void 0===r&&(r=!1);var a=r?this.eTopGuard:this.eBottomGuard;this.activateTabGuards(),this.skipTabGuardFocus=!0,a.focus()},El([F("focusService")],o.prototype,"focusService",void 0),El([ye],o.prototype,"postConstruct",null),o}(he),Pu=function(){var d=function(o,r){return(d=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(a,u){a.__proto__=u}||function(a,u){for(var c in u)u.hasOwnProperty(c)&&(a[c]=u[c])})(o,r)};return function(o,r){function a(){this.constructor=o}d(o,r),o.prototype=null===r?Object.create(r):(a.prototype=r.prototype,new a)}}(),xv=function(d){function o(){return null!==d&&d.apply(this,arguments)||this}return Pu(o,d),o.prototype.initialiseTabGuard=function(r){this.eTopGuard=this.createTabGuard("top"),this.eBottomGuard=this.createTabGuard("bottom"),this.eFocusableElement=this.getFocusableElement();var a=[this.eTopGuard,this.eBottomGuard],u={setTabIndex:function(c){a.forEach(function(f){return null!=c?f.setAttribute("tabIndex",c):f.removeAttribute("tabIndex")})}};this.addTabGuards(this.eTopGuard,this.eBottomGuard),this.tabGuardCtrl=this.createManagedBean(new Ou({comp:u,eTopGuard:this.eTopGuard,eBottomGuard:this.eBottomGuard,eFocusableElement:this.eFocusableElement,onFocusIn:r.onFocusIn,onFocusOut:r.onFocusOut,focusInnerElement:r.focusInnerElement,handleKeyDown:r.handleKeyDown,onTabKeyDown:r.onTabKeyDown,shouldStopEventPropagation:r.shouldStopEventPropagation}))},o.prototype.createTabGuard=function(r){var a=document.createElement("div");return a.classList.add("ag-tab-guard"),a.classList.add("ag-tab-guard-"+r),Sr(a,"presentation"),a},o.prototype.addTabGuards=function(r,a){this.eFocusableElement.insertAdjacentElement("afterbegin",r),this.eFocusableElement.insertAdjacentElement("beforeend",a)},o.prototype.removeAllChildrenExceptTabGuards=function(){var r=[this.eTopGuard,this.eBottomGuard];mo(this.getFocusableElement()),this.addTabGuards.apply(this,r)},o.prototype.forceFocusOutOfContainer=function(r){void 0===r&&(r=!1),this.tabGuardCtrl.forceFocusOutOfContainer(r)},o.prototype.appendChild=function(r,a){mg(r)||(r=r.getGui());var u=this.eBottomGuard;u?u.insertAdjacentElement("beforebegin",r):d.prototype.appendChild.call(this,r,a)},o}(_t),oC=function(){var d=function(o,r){return(d=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(a,u){a.__proto__=u}||function(a,u){for(var c in u)u.hasOwnProperty(c)&&(a[c]=u[c])})(o,r)};return function(o,r){function a(){this.constructor=o}d(o,r),o.prototype=null===r?Object.create(r):(a.prototype=r.prototype,new a)}}(),Ru=function(d,o,r,a){var f,u=arguments.length,c=u<3?o:null===a?a=Object.getOwnPropertyDescriptor(o,r):a;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)c=Reflect.decorate(d,o,r,a);else for(var y=d.length-1;y>=0;y--)(f=d[y])&&(c=(u<3?f(c):u>3?f(o,r,c):f(o,r))||c);return u>3&&c&&Object.defineProperty(o,r,c),c},Fh=function(d){function o(r){var a=d.call(this,void 0)||this;return a.eGridDiv=r,a}return oC(o,d),o.prototype.postConstruct=function(){var r=this;this.logger=this.loggerFactory.create("GridComp");var a={destroyGridUi:function(){return r.destroyBean(r)},setRtlClass:function(c){return Me(r.getGui(),c)},addOrRemoveKeyboardFocusClass:function(c){return r.addOrRemoveCssClass(ad.AG_KEYBOARD_FOCUS,c)},forceFocusOutOfContainer:this.forceFocusOutOfContainer.bind(this),updateLayoutClasses:this.updateLayoutClasses.bind(this),getFocusableContainers:this.getFocusableContainers.bind(this),setUserSelect:function(c){r.getGui().style.userSelect=null!=c?c:"",r.getGui().style.webkitUserSelect=null!=c?c:""},setCursor:function(c){r.getGui().style.cursor=null!=c?c:""}};this.ctrl=this.createManagedBean(new Sl);var u=this.createTemplate();this.setTemplate(u),this.ctrl.setComp(a,this.eGridDiv,this.getGui()),this.insertGridIntoDom(),this.initialiseTabGuard({onTabKeyDown:function(){},focusInnerElement:function(c){return r.ctrl.focusInnerElement(c)}})},o.prototype.insertGridIntoDom=function(){var r=this,a=this.getGui();this.eGridDiv.appendChild(a),this.addDestroyFunc(function(){r.eGridDiv.removeChild(a),r.logger.log("Grid removed from DOM")})},o.prototype.updateLayoutClasses=function(r,a){Ke(this.eRootWrapperBody,H.LBn.AUTO_HEIGHT,a.autoHeight),Ke(this.eRootWrapperBody,H.LBn.NORMAL,a.normal),Ke(this.eRootWrapperBody,H.LBn.PRINT,a.print),this.addOrRemoveCssClass(H.LBn.AUTO_HEIGHT,a.autoHeight),this.addOrRemoveCssClass(H.LBn.NORMAL,a.normal),this.addOrRemoveCssClass(H.LBn.PRINT,a.print)},o.prototype.createTemplate=function(){return'<div class="ag-root-wrapper">\n                '+(this.ctrl.showDropZones()?"<ag-grid-header-drop-zones></ag-grid-header-drop-zones>":"")+'\n                <div class="ag-root-wrapper-body" ref="rootWrapperBody">\n                    <ag-grid-body ref="gridBody"></ag-grid-body>\n                    '+(this.ctrl.showSideBar()?'<ag-side-bar ref="sideBar"></ag-side-bar>':"")+"\n                </div>\n                "+(this.ctrl.showStatusBar()?'<ag-status-bar ref="statusBar"></ag-status-bar>':"")+"\n                <ag-pagination></ag-pagination>\n                "+(this.ctrl.showWatermark()?"<ag-watermark></ag-watermark>":"")+"\n            </div>"},o.prototype.getFocusableElement=function(){return this.eRootWrapperBody},o.prototype.getFocusableContainers=function(){var r=[this.gridBodyComp.getGui()];return this.sideBarComp&&r.push(this.sideBarComp.getGui()),r.filter(function(a){return Tc(a)})},Ru([F("loggerFactory")],o.prototype,"loggerFactory",void 0),Ru([pe("gridBody")],o.prototype,"gridBodyComp",void 0),Ru([pe("sideBar")],o.prototype,"sideBarComp",void 0),Ru([pe("rootWrapperBody")],o.prototype,"eRootWrapperBody",void 0),Ru([ye],o.prototype,"postConstruct",null),o}(xv),Ov=function(){var d=function(o,r){return(d=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(a,u){a.__proto__=u}||function(a,u){for(var c in u)u.hasOwnProperty(c)&&(a[c]=u[c])})(o,r)};return function(o,r){function a(){this.constructor=o}d(o,r),o.prototype=null===r?Object.create(r):(a.prototype=r.prototype,new a)}}(),xl=function(d,o,r,a){var f,u=arguments.length,c=u<3?o:null===a?a=Object.getOwnPropertyDescriptor(o,r):a;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)c=Reflect.decorate(d,o,r,a);else for(var y=d.length-1;y>=0;y--)(f=d[y])&&(c=(u<3?f(c):u>3?f(o,r,c):f(o,r))||c);return u>3&&c&&Object.defineProperty(o,r,c),c},ud=function(d){function o(){var r=null!==d&&d.apply(this,arguments)||this;return r.dragEndFunctions=[],r.dragSources=[],r}return Ov(o,d),o.prototype.init=function(){this.logger=this.loggerFactory.create("DragService")},o.prototype.removeAllListeners=function(){this.dragSources.forEach(this.removeListener.bind(this)),this.dragSources.length=0},o.prototype.removeListener=function(r){var a=r.dragSource.eElement;a.removeEventListener("mousedown",r.mouseDownListener),r.touchEnabled&&a.removeEventListener("touchstart",r.touchStartListener,{passive:!0})},o.prototype.removeDragSource=function(r){var a=Un(this.dragSources,function(u){return u.dragSource===r});!a||(this.removeListener(a),ln(this.dragSources,a))},o.prototype.isDragging=function(){return this.dragging},o.prototype.addDragSource=function(r,a){var u=this;void 0===a&&(a=!1);var c=this.onMouseDown.bind(this,r);r.eElement.addEventListener("mousedown",c);var f=null,y=this.gridOptionsWrapper.isSuppressTouch();a&&!y&&r.eElement.addEventListener("touchstart",f=function(w){w.preventDefault(),u.onTouchStart(r,w)},{passive:!0}),this.dragSources.push({dragSource:r,mouseDownListener:c,touchStartListener:f,touchEnabled:a})},o.prototype.onTouchStart=function(r,a){var u=this;this.currentDragParams=r,this.dragging=!1;var c=a.touches[0];this.touchLastTime=c,this.touchStart=c;var y=function(I){return u.onTouchUp(I,r.eElement)},D=r.eElement,O=[{target:document,type:"touchmove",listener:function(I){I.cancelable&&I.preventDefault()},options:{passive:!1}},{target:D,type:"touchmove",listener:function(I){return u.onTouchMove(I,r.eElement)},options:{passive:!0}},{target:D,type:"touchend",listener:y,options:{passive:!0}},{target:D,type:"touchcancel",listener:y,options:{passive:!0}}];this.addTemporaryEvents(O),0===r.dragStartPixels&&this.onCommonMove(c,this.touchStart,r.eElement)},o.prototype.onMouseDown=function(r,a){var u=this,c=a;if(!(r.skipMouseEvent&&r.skipMouseEvent(a)||c._alreadyProcessedByDragService||(c._alreadyProcessedByDragService=!0,0!==a.button))){this.currentDragParams=r,this.dragging=!1,this.mouseStartEvent=a;var f=this.gridOptionsWrapper.getDocument();this.addTemporaryEvents([{target:f,type:"mousemove",listener:function(V){return u.onMouseMove(V,r.eElement)}},{target:f,type:"mouseup",listener:function(V){return u.onMouseUp(V,r.eElement)}},{target:f,type:"contextmenu",listener:function(V){return V.preventDefault()}}]),0===r.dragStartPixels&&this.onMouseMove(a,r.eElement)}},o.prototype.addTemporaryEvents=function(r){r.forEach(function(a){a.target.addEventListener(a.type,a.listener,a.options)}),this.dragEndFunctions.push(function(){r.forEach(function(a){a.target.removeEventListener(a.type,a.listener,a.options)})})},o.prototype.isEventNearStartEvent=function(r,a){var u=this.currentDragParams.dragStartPixels;return Zn(r,a,ce(u)?u:4)},o.prototype.getFirstActiveTouch=function(r){for(var a=0;a<r.length;a++)if(r[a].identifier===this.touchStart.identifier)return r[a];return null},o.prototype.onCommonMove=function(r,a,u){if(!this.dragging){if(!this.dragging&&this.isEventNearStartEvent(r,a))return;this.dragging=!0,this.eventService.dispatchEvent({type:j.EVENT_DRAG_STARTED,api:this.gridApi,columnApi:this.columnApi,target:u}),this.currentDragParams.onDragStart(a),this.currentDragParams.onDragging(a)}this.currentDragParams.onDragging(r)},o.prototype.onTouchMove=function(r,a){var u=this.getFirstActiveTouch(r.touches);!u||this.onCommonMove(u,this.touchStart,a)},o.prototype.onMouseMove=function(r,a){this.onCommonMove(r,this.mouseStartEvent,a)},o.prototype.onTouchUp=function(r,a){var u=this.getFirstActiveTouch(r.changedTouches);u||(u=this.touchLastTime),this.onUpCommon(u,a)},o.prototype.onMouseUp=function(r,a){this.onUpCommon(r,a)},o.prototype.onUpCommon=function(r,a){this.dragging&&(this.dragging=!1,this.currentDragParams.onDragStop(r),this.eventService.dispatchEvent({type:j.EVENT_DRAG_STOPPED,api:this.gridApi,columnApi:this.columnApi,target:a})),this.mouseStartEvent=null,this.touchStart=null,this.touchLastTime=null,this.currentDragParams=null,this.dragEndFunctions.forEach(function(c){return c()}),this.dragEndFunctions.length=0},xl([F("loggerFactory")],o.prototype,"loggerFactory",void 0),xl([F("columnApi")],o.prototype,"columnApi",void 0),xl([F("gridApi")],o.prototype,"gridApi",void 0),xl([ye],o.prototype,"init",null),xl([or],o.prototype,"removeAllListeners",null),xl([Te("dragService")],o)}(he),kE=function(){var d=function(o,r){return(d=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(a,u){a.__proto__=u}||function(a,u){for(var c in u)u.hasOwnProperty(c)&&(a[c]=u[c])})(o,r)};return function(o,r){function a(){this.constructor=o}d(o,r),o.prototype=null===r?Object.create(r):(a.prototype=r.prototype,new a)}}(),cd=function(d,o,r,a){var f,u=arguments.length,c=u<3?o:null===a?a=Object.getOwnPropertyDescriptor(o,r):a;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)c=Reflect.decorate(d,o,r,a);else for(var y=d.length-1;y>=0;y--)(f=d[y])&&(c=(u<3?f(c):u>3?f(o,r,c):f(o,r))||c);return u>3&&c&&Object.defineProperty(o,r,c),c},GE=function(d){function o(){return null!==d&&d.apply(this,arguments)||this}var r;return kE(o,d),r=o,o.prototype.progressSort=function(a,u,c){void 0===c&&(c="api");var f=this.getNextSortDirection(a);this.setSortForColumn(a,f,u,c)},o.prototype.setSortForColumn=function(a,u,c,f){void 0===f&&(f="api"),u!==q.SORT_ASC&&u!==q.SORT_DESC&&(u=null),a.setSort(u,f),c&&!this.gridOptionsWrapper.isSuppressMultiSort()||this.clearSortBarThisColumn(a,f),this.updateSortIndex(a),this.dispatchSortChangedEvents()},o.prototype.updateSortIndex=function(a){var u=this.getColumnsWithSortingOrdered(),c=0;u.forEach(function(y){y!==a&&(y.setSortIndex(c),c++)}),a.getSort()&&a.setSortIndex(c),this.columnModel.getPrimaryAndSecondaryAndAutoColumns().filter(function(y){return null==y.getSort()}).forEach(function(y){return y.setSortIndex()})},o.prototype.onSortChanged=function(){this.dispatchSortChangedEvents()},o.prototype.isSortActive=function(){var u=this.columnModel.getPrimaryAndSecondaryAndAutoColumns().filter(function(c){return!!c.getSort()});return u&&u.length>0},o.prototype.dispatchSortChangedEvents=function(){this.eventService.dispatchEvent({type:j.EVENT_SORT_CHANGED,api:this.gridApi,columnApi:this.columnApi})},o.prototype.clearSortBarThisColumn=function(a,u){this.columnModel.getPrimaryAndSecondaryAndAutoColumns().forEach(function(c){c!==a&&c.setSort(void 0,u)})},o.prototype.getNextSortDirection=function(a){var u;if(u=a.getColDef().sortingOrder?a.getColDef().sortingOrder:this.gridOptionsWrapper.getSortingOrder()?this.gridOptionsWrapper.getSortingOrder():r.DEFAULT_SORTING_ORDER,!Array.isArray(u)||u.length<=0)return console.warn("ag-grid: sortingOrder must be an array with at least one element, currently it's "+u),null;var w,c=u.indexOf(a.getSort());return r.DEFAULT_SORTING_ORDER.indexOf(w=c<0||c==u.length-1?u[0]:u[c+1])<0?(console.warn("ag-grid: invalid sort type "+w),null):w},o.prototype.getColumnsWithSortingOrdered=function(){var a=this.columnModel.getPrimaryAndSecondaryAndAutoColumns(),u=a.filter(function(f){return!!f.getSort()}),c={};return a.forEach(function(f,y){return c[f.getId()]=y}),u.sort(function(f,y){var w=f.getSortIndex(),D=y.getSortIndex();return null!=w&&null!=D?w-D:null==w&&null==D?c[f.getId()]>c[y.getId()]?1:-1:null==D?-1:1}),u},o.prototype.getSortModel=function(){return this.getColumnsWithSortingOrdered().map(function(a){return{sort:a.getSort(),colId:a.getId()}})},o.prototype.getSortOptions=function(){return this.getColumnsWithSortingOrdered().map(function(a){return{sort:a.getSort(),column:a}})},o.DEFAULT_SORTING_ORDER=[q.SORT_ASC,q.SORT_DESC,null],cd([F("columnModel")],o.prototype,"columnModel",void 0),cd([F("columnApi")],o.prototype,"columnApi",void 0),cd([F("gridApi")],o.prototype,"gridApi",void 0),r=cd([Te("sortController")],o)}(he),sC=function(){var d=function(o,r){return(d=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(a,u){a.__proto__=u}||function(a,u){for(var c in u)u.hasOwnProperty(c)&&(a[c]=u[c])})(o,r)};return function(o,r){function a(){this.constructor=o}d(o,r),o.prototype=null===r?Object.create(r):(a.prototype=r.prototype,new a)}}(),Pv=function(d,o,r,a){var f,u=arguments.length,c=u<3?o:null===a?a=Object.getOwnPropertyDescriptor(o,r):a;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)c=Reflect.decorate(d,o,r,a);else for(var y=d.length-1;y>=0;y--)(f=d[y])&&(c=(u<3?f(c):u>3?f(o,r,c):f(o,r))||c);return u>3&&c&&Object.defineProperty(o,r,c),c},aC=function(d){function o(){var a=null!==d&&d.apply(this,arguments)||this;return a.gridInstanceId=r.gridInstanceSequence.next(),a}var r;return sC(o,d),r=o,o.prototype.stampTopLevelGridCompWithGridInstance=function(a){a[r.GRID_DOM_KEY]=this.gridInstanceId},o.prototype.getRenderedCellForEvent=function(a){return ag(this.gridOptionsWrapper,a,ds.DOM_DATA_KEY_CELL_CTRL)},o.prototype.isEventFromThisGrid=function(a){return this.isElementInThisGrid(a.target)},o.prototype.isElementInThisGrid=function(a){for(var u=a;u;){var c=u[r.GRID_DOM_KEY];if(ce(c))return c===this.gridInstanceId;u=u.parentElement}return!1},o.prototype.getCellPositionForEvent=function(a){var u=this.getRenderedCellForEvent(a);return u?u.getCellPosition():null},o.prototype.getNormalisedPosition=function(a){var f,y,u=this.gridOptionsWrapper.getDomLayout()===q.DOM_LAYOUT_NORMAL;if(null!=a.clientX||null!=a.clientY?(f=a.clientX,y=a.clientY):(f=a.x,y=a.y),u){var w=this.ctrlsService.getGridBodyCtrl(),D=w.getScrollFeature().getVScrollPosition();f+=w.getScrollFeature().getHScrollPosition().left,y+=D.top}return{x:f,y}},o.gridInstanceSequence=new rs,o.GRID_DOM_KEY="__ag_grid_instance",Pv([F("ctrlsService")],o.prototype,"ctrlsService",void 0),r=Pv([Te("mouseEventService")],o)}(he),lC=function(){var d=function(o,r){return(d=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(a,u){a.__proto__=u}||function(a,u){for(var c in u)u.hasOwnProperty(c)&&(a[c]=u[c])})(o,r)};return function(o,r){function a(){this.constructor=o}d(o,r),o.prototype=null===r?Object.create(r):(a.prototype=r.prototype,new a)}}(),dd=function(d,o,r,a){var f,u=arguments.length,c=u<3?o:null===a?a=Object.getOwnPropertyDescriptor(o,r):a;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)c=Reflect.decorate(d,o,r,a);else for(var y=d.length-1;y>=0;y--)(f=d[y])&&(c=(u<3?f(c):u>3?f(o,r,c):f(o,r))||c);return u>3&&c&&Object.defineProperty(o,r,c),c},uC=function(d){function o(){return null!==d&&d.apply(this,arguments)||this}return lC(o,d),o.prototype.getNextCellToFocus=function(r,a){for(var u=a,c=!1;!c;){switch(r){case me.UP:u=this.getCellAbove(u);break;case me.DOWN:u=this.getCellBelow(u);break;case me.RIGHT:u=this.gridOptionsWrapper.isEnableRtl()?this.getCellToLeft(u):this.getCellToRight(u);break;case me.LEFT:u=this.gridOptionsWrapper.isEnableRtl()?this.getCellToRight(u):this.getCellToLeft(u);break;default:u=null,console.warn("AG Grid: unknown key for navigation "+r)}c=!u||this.isCellGoodToFocusOn(u)}return u},o.prototype.isCellGoodToFocusOn=function(r){var u,a=r.column;switch(r.rowPinned){case q.PINNED_TOP:u=this.pinnedRowModel.getPinnedTopRow(r.rowIndex);break;case q.PINNED_BOTTOM:u=this.pinnedRowModel.getPinnedBottomRow(r.rowIndex);break;default:u=this.rowModel.getRow(r.rowIndex)}return!!u&&!a.isSuppressNavigable(u)},o.prototype.getCellToLeft=function(r){if(!r)return null;var a=this.columnModel.getDisplayedColBefore(r.column);return a?{rowIndex:r.rowIndex,column:a,rowPinned:r.rowPinned}:null},o.prototype.getCellToRight=function(r){if(!r)return null;var a=this.columnModel.getDisplayedColAfter(r.column);return a?{rowIndex:r.rowIndex,column:a,rowPinned:r.rowPinned}:null},o.prototype.getRowBelow=function(r){var a=r.rowIndex,u=r.rowPinned;if(this.isLastRowInContainer(r))switch(u){case q.PINNED_BOTTOM:return null;case q.PINNED_TOP:return this.rowModel.isRowsToRender()?{rowIndex:this.paginationProxy.getPageFirstRow(),rowPinned:null}:this.pinnedRowModel.isRowsToRender(q.PINNED_BOTTOM)?{rowIndex:0,rowPinned:q.PINNED_BOTTOM}:null;default:return this.pinnedRowModel.isRowsToRender(q.PINNED_BOTTOM)?{rowIndex:0,rowPinned:q.PINNED_BOTTOM}:null}return{rowIndex:a+1,rowPinned:u}},o.prototype.getCellBelow=function(r){if(!r)return null;var a=this.getRowBelow(r);return a?{rowIndex:a.rowIndex,column:r.column,rowPinned:a.rowPinned}:null},o.prototype.isLastRowInContainer=function(r){var a=r.rowPinned,u=r.rowIndex;return a===q.PINNED_TOP?this.pinnedRowModel.getPinnedTopRowData().length-1<=u:a===q.PINNED_BOTTOM?this.pinnedRowModel.getPinnedBottomRowData().length-1<=u:this.paginationProxy.getPageLastRow()<=u},o.prototype.getRowAbove=function(r){var a=r.rowIndex,u=r.rowPinned;return(u?0===a:a===this.paginationProxy.getPageFirstRow())?u===q.PINNED_TOP?null:u&&this.rowModel.isRowsToRender()?this.getLastBodyCell():this.pinnedRowModel.isRowsToRender(q.PINNED_TOP)?this.getLastFloatingTopRow():null:{rowIndex:a-1,rowPinned:u}},o.prototype.getCellAbove=function(r){if(!r)return null;var a=this.getRowAbove({rowIndex:r.rowIndex,rowPinned:r.rowPinned});return a?{rowIndex:a.rowIndex,column:r.column,rowPinned:a.rowPinned}:null},o.prototype.getLastBodyCell=function(){return{rowIndex:this.paginationProxy.getPageLastRow(),rowPinned:null}},o.prototype.getLastFloatingTopRow=function(){return{rowIndex:this.pinnedRowModel.getPinnedTopRowData().length-1,rowPinned:q.PINNED_TOP}},o.prototype.getNextTabbedCell=function(r,a){return a?this.getNextTabbedCellBackwards(r):this.getNextTabbedCellForwards(r)},o.prototype.getNextTabbedCellForwards=function(r){var a=this.columnModel.getAllDisplayedColumns(),u=r.rowIndex,c=r.rowPinned,f=this.columnModel.getDisplayedColAfter(r.column);if(!f){f=a[0];var y=this.getRowBelow(r);if(Ge(y)||!y.rowPinned&&!this.paginationProxy.isRowInPage(y))return null;u=y?y.rowIndex:null,c=y?y.rowPinned:null}return{rowIndex:u,column:f,rowPinned:c}},o.prototype.getNextTabbedCellBackwards=function(r){var a=this.columnModel.getAllDisplayedColumns(),u=r.rowIndex,c=r.rowPinned,f=this.columnModel.getDisplayedColBefore(r.column);if(!f){f=Jt(a);var y=this.getRowAbove({rowIndex:r.rowIndex,rowPinned:r.rowPinned});if(Ge(y)||!y.rowPinned&&!this.paginationProxy.isRowInPage(y))return null;u=y?y.rowIndex:null,c=y?y.rowPinned:null}return{rowIndex:u,column:f,rowPinned:c}},dd([F("columnModel")],o.prototype,"columnModel",void 0),dd([F("rowModel")],o.prototype,"rowModel",void 0),dd([F("pinnedRowModel")],o.prototype,"pinnedRowModel",void 0),dd([F("paginationProxy")],o.prototype,"paginationProxy",void 0),dd([Te("cellNavigationService")],o)}(he),oo=function(){var d=function(o,r){return(d=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(a,u){a.__proto__=u}||function(a,u){for(var c in u)u.hasOwnProperty(c)&&(a[c]=u[c])})(o,r)};return function(o,r){function a(){this.constructor=o}d(o,r),o.prototype=null===r?Object.create(r):(a.prototype=r.prototype,new a)}}(),cC=function(d,o,r,a){var f,u=arguments.length,c=u<3?o:null===a?a=Object.getOwnPropertyDescriptor(o,r):a;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)c=Reflect.decorate(d,o,r,a);else for(var y=d.length-1;y>=0;y--)(f=d[y])&&(c=(u<3?f(c):u>3?f(o,r,c):f(o,r))||c);return u>3&&c&&Object.defineProperty(o,r,c),c},dC=function(d){function o(){return null!==d&&d.apply(this,arguments)||this}return oo(o,d),o.prototype.formatValue=function(r,a,u,c,f,y){void 0===y&&(y=!0);var D,w=null,O=r.getColDef();if(f?D=f:y&&(D=a&&a.rowPinned&&O.pinnedRowValueFormatter?O.pinnedRowValueFormatter:O.valueFormatter),D){var I={value:c,node:a,data:a?a.data:null,colDef:O,column:r,api:this.gridOptionsWrapper.getApi(),columnApi:this.gridOptionsWrapper.getColumnApi(),context:this.gridOptionsWrapper.getContext()};I.$scope=u,w=this.expressionService.evaluate(D,I)}else if(O.refData)return O.refData[c]||"";return null==w&&Array.isArray(c)&&(w=c.join(", ")),w},cC([F("expressionService")],o.prototype,"expressionService",void 0),cC([Te("valueFormatterService")],o)}(he),qA=function(){var d=function(o,r){return(d=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(a,u){a.__proto__=u}||function(a,u){for(var c in u)u.hasOwnProperty(c)&&(a[c]=u[c])})(o,r)};return function(o,r){function a(){this.constructor=o}d(o,r),o.prototype=null===r?Object.create(r):(a.prototype=r.prototype,new a)}}(),HE=function(d){function o(r){return d.call(this,r,"ag-radio-button","radio")||this}return qA(o,d),o.prototype.isSelected=function(){return this.eInput.checked},o.prototype.toggle=function(){this.eInput.disabled||this.isSelected()||this.setValue(!0)},o.prototype.addInputListeners=function(){d.prototype.addInputListeners.call(this),this.addManagedListener(this.eventService,j.EVENT_CHECKBOX_CHANGED,this.onChange.bind(this))},o.prototype.onChange=function(r){r.selected&&r.name&&this.eInput.name&&this.eInput.name===r.name&&r.id&&this.eInput.id!==r.id&&this.setValue(!1,!0)},o}(ka),pC=["mouseover","mouseout","mouseenter","mouseleave"],BE=function(){function d(){this.isOutsideAngular=function(o){return zn(pC,o)}}return d.prototype.setTimeout=function(o,r){window.setTimeout(o,r)},d.prototype.setInterval=function(o,r){return new Qn(function(a){a(window.setInterval(o,r))})},d.prototype.addEventListener=function(o,r,a,u){o.addEventListener(r,a,u)},d.prototype.dispatchEvent=function(o,r,a){r()},d.prototype.frameworkComponent=function(o){return null},d}(),jE=function(){var d=function(o,r){return(d=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(a,u){a.__proto__=u}||function(a,u){for(var c in u)u.hasOwnProperty(c)&&(a[c]=u[c])})(o,r)};return function(o,r){function a(){this.constructor=o}d(o,r),o.prototype=null===r?Object.create(r):(a.prototype=r.prototype,new a)}}(),Ol=function(d,o,r,a){var f,u=arguments.length,c=u<3?o:null===a?a=Object.getOwnPropertyDescriptor(o,r):a;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)c=Reflect.decorate(d,o,r,a);else for(var y=d.length-1;y>=0;y--)(f=d[y])&&(c=(u<3?f(c):u>3?f(o,r,c):f(o,r))||c);return u>3&&c&&Object.defineProperty(o,r,c),c},Rv=function(d){function o(){return null!==d&&d.apply(this,arguments)||this}return jE(o,d),o.prototype.postConstruct=function(){this.addManagedListener(this.eventService,j.EVENT_DISPLAYED_COLUMNS_CHANGED,this.onDisplayedColumnsChanged.bind(this)),this.addManagedListener(this.eventService,j.EVENT_DISPLAYED_COLUMNS_WIDTH_CHANGED,this.onDisplayedColumnsWidthChanged.bind(this))},o.prototype.onDisplayedColumnsChanged=function(){this.update()},o.prototype.onDisplayedColumnsWidthChanged=function(){this.update()},o.prototype.update=function(){this.updateImpl(),setTimeout(this.updateImpl.bind(this),500)},o.prototype.updateImpl=function(){var r=this.ctrlsService.getCenterRowContainerCtrl();if(r){var a={horizontalScrollShowing:r.isHorizontalScrollShowing(),verticalScrollShowing:this.isVerticalScrollShowing()};this.setScrollsVisible(a)}},o.prototype.setScrollsVisible=function(r){this.horizontalScrollShowing===r.horizontalScrollShowing&&this.verticalScrollShowing===r.verticalScrollShowing||(this.horizontalScrollShowing=r.horizontalScrollShowing,this.verticalScrollShowing=r.verticalScrollShowing,this.eventService.dispatchEvent({type:j.EVENT_SCROLL_VISIBILITY_CHANGED,api:this.gridApi,columnApi:this.columnApi}))},o.prototype.isHorizontalScrollShowing=function(){return this.horizontalScrollShowing},o.prototype.isVerticalScrollShowing=function(){return this.verticalScrollShowing},Ol([F("columnApi")],o.prototype,"columnApi",void 0),Ol([F("gridApi")],o.prototype,"gridApi",void 0),Ol([F("ctrlsService")],o.prototype,"ctrlsService",void 0),Ol([ye],o.prototype,"postConstruct",null),Ol([Te("scrollVisibleService")],o)}(he),WE=function(){var d=function(o,r){return(d=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(a,u){a.__proto__=u}||function(a,u){for(var c in u)u.hasOwnProperty(c)&&(a[c]=u[c])})(o,r)};return function(o,r){function a(){this.constructor=o}d(o,r),o.prototype=null===r?Object.create(r):(a.prototype=r.prototype,new a)}}(),hC=function(d,o,r,a){var f,u=arguments.length,c=u<3?o:null===a?a=Object.getOwnPropertyDescriptor(o,r):a;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)c=Reflect.decorate(d,o,r,a);else for(var y=d.length-1;y>=0;y--)(f=d[y])&&(c=(u<3?f(c):u>3?f(o,r,c):f(o,r))||c);return u>3&&c&&Object.defineProperty(o,r,c),c},fC=function(d){function o(){return null!==d&&d.apply(this,arguments)||this}return WE(o,d),o.prototype.processAllCellClasses=function(r,a,u,c){this.processClassRules(r.cellClassRules,a,u,c),this.processStaticCellClasses(r,a,u)},o.prototype.processClassRules=function(r,a,u,c){if(null!=r)for(var f=Object.keys(r),y={},w={},D=function(V){var ee,B=f[V],z=r[B];"string"==typeof z?ee=O.expressionService.evaluate(z,a):"function"==typeof z&&(ee=z(a)),B.split(" ").forEach(function(ie){null==ie||""==ie.trim()||(ee?y[ie]=!0:w[ie]=!0)}),c&&Object.keys(w).forEach(c),Object.keys(y).forEach(u)},O=this,I=0;I<f.length;I++)D(I)},o.prototype.getStaticCellClasses=function(r,a){var c,u=r.cellClass;return u?("string"==typeof(c="function"==typeof u?(0,r.cellClass)(a):u)&&(c=[c]),c):[]},o.prototype.processStaticCellClasses=function(r,a,u){this.getStaticCellClasses(r,a).forEach(function(f){u(f)})},hC([F("expressionService")],o.prototype,"expressionService",void 0),hC([Te("stylingService")],o)}(he),gC=function(){var d=function(o,r){return(d=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(a,u){a.__proto__=u}||function(a,u){for(var c in u)u.hasOwnProperty(c)&&(a[c]=u[c])})(o,r)};return function(o,r){function a(){this.constructor=o}d(o,r),o.prototype=null===r?Object.create(r):(a.prototype=r.prototype,new a)}}(),Tv=function(d,o,r,a){var f,u=arguments.length,c=u<3?o:null===a?a=Object.getOwnPropertyDescriptor(o,r):a;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)c=Reflect.decorate(d,o,r,a);else for(var y=d.length-1;y>=0;y--)(f=d[y])&&(c=(u<3?f(c):u>3?f(o,r,c):f(o,r))||c);return u>3&&c&&Object.defineProperty(o,r,c),c},vC=function(d){function o(){return null!==d&&d.apply(this,arguments)||this}return gC(o,d),o.prototype.setMouseOver=function(r){this.selectedColumns=r,this.eventService.dispatchEvent({type:j.EVENT_COLUMN_HOVER_CHANGED,api:this.gridApi,columnApi:this.columnApi})},o.prototype.clearMouseOver=function(){this.selectedColumns=null,this.eventService.dispatchEvent({type:j.EVENT_COLUMN_HOVER_CHANGED,api:this.gridApi,columnApi:this.columnApi})},o.prototype.isHovered=function(r){return!!this.selectedColumns&&this.selectedColumns.indexOf(r)>=0},Tv([F("columnApi")],o.prototype,"columnApi",void 0),Tv([F("gridApi")],o.prototype,"gridApi",void 0),Tv([Te("columnHoverService")],o)}(he),UE=function(){var d=function(o,r){return(d=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(a,u){a.__proto__=u}||function(a,u){for(var c in u)u.hasOwnProperty(c)&&(a[c]=u[c])})(o,r)};return function(o,r){function a(){this.constructor=o}d(o,r),o.prototype=null===r?Object.create(r):(a.prototype=r.prototype,new a)}}(),Av=function(d,o,r,a){var f,u=arguments.length,c=u<3?o:null===a?a=Object.getOwnPropertyDescriptor(o,r):a;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)c=Reflect.decorate(d,o,r,a);else for(var y=d.length-1;y>=0;y--)(f=d[y])&&(c=(u<3?f(c):u>3?f(o,r,c):f(o,r))||c);return u>3&&c&&Object.defineProperty(o,r,c),c},yC=function(d){function o(){var r=null!==d&&d.apply(this,arguments)||this;return r.executeNextFuncs=[],r.executeLaterFuncs=[],r.active=!1,r.animationThreadCount=0,r}return UE(o,d),o.prototype.postConstruct=function(){var r=this;this.ctrlsService.whenReady(function(a){return r.gridBodyCtrl=a.gridBodyCtrl})},o.prototype.isActive=function(){return this.active},o.prototype.start=function(){this.active||this.gridOptionsWrapper.isSuppressColumnMoveAnimation()||this.gridOptionsWrapper.isEnableRtl()||(this.ensureAnimationCssClassPresent(),this.active=!0)},o.prototype.finish=function(){!this.active||(this.flush(),this.active=!1)},o.prototype.executeNextVMTurn=function(r){this.active?this.executeNextFuncs.push(r):r()},o.prototype.executeLaterVMTurn=function(r){this.active?this.executeLaterFuncs.push(r):r()},o.prototype.ensureAnimationCssClassPresent=function(){var r=this;this.animationThreadCount++;var a=this.animationThreadCount;this.gridBodyCtrl.setColumnMovingCss(!0),this.executeLaterFuncs.push(function(){r.animationThreadCount===a&&r.gridBodyCtrl.setColumnMovingCss(!1)})},o.prototype.flush=function(){var r=this.executeNextFuncs;this.executeNextFuncs=[];var a=this.executeLaterFuncs;this.executeLaterFuncs=[],(0!==r.length||0!==a.length)&&(window.setTimeout(function(){return r.forEach(function(u){return u()})},0),window.setTimeout(function(){return a.forEach(function(u){return u()})},300))},Av([F("ctrlsService")],o.prototype,"ctrlsService",void 0),Av([ye],o.prototype,"postConstruct",null),Av([Te("columnAnimationService")],o)}(he),mC=function(){var d=function(o,r){return(d=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(a,u){a.__proto__=u}||function(a,u){for(var c in u)u.hasOwnProperty(c)&&(a[c]=u[c])})(o,r)};return function(o,r){function a(){this.constructor=o}d(o,r),o.prototype=null===r?Object.create(r):(a.prototype=r.prototype,new a)}}(),Iv=function(d,o,r,a){var f,u=arguments.length,c=u<3?o:null===a?a=Object.getOwnPropertyDescriptor(o,r):a;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)c=Reflect.decorate(d,o,r,a);else for(var y=d.length-1;y>=0;y--)(f=d[y])&&(c=(u<3?f(c):u>3?f(o,r,c):f(o,r))||c);return u>3&&c&&Object.defineProperty(o,r,c),c},vs=function(d){function o(){return null!==d&&d.apply(this,arguments)||this}var r;return mC(o,d),r=o,o.prototype.createAutoGroupColumns=function(a){var u=this,c=[],f=this.gridOptionsWrapper.isTreeData(),y=this.gridOptionsWrapper.isGroupMultiAutoColumn();return f&&y&&(console.warn("AG Grid: you cannot mix groupMultiAutoColumn with treeData, only one column can be used to display groups when doing tree data"),y=!1),y?a.forEach(function(w,D){c.push(u.createOneAutoGroupColumn(w,D))}):c.push(this.createOneAutoGroupColumn()),c},o.prototype.createOneAutoGroupColumn=function(a,u){var f,c=this.generateDefaultColDef(a);f=a?q.GROUP_AUTO_COLUMN_ID+"-"+a.getId():r.GROUP_AUTO_COLUMN_BUNDLE_ID,Fo(c,this.gridOptionsWrapper.getAutoGroupColumnDef()),(c=this.columnFactory.mergeColDefs(c)).colId=f,this.gridOptionsWrapper.isTreeData()||Ge(c.field)&&Ge(c.valueGetter)&&Ge(c.filterValueGetter)&&(c.filter=!1),u&&u>0&&(c.headerCheckboxSelection=!1);var D=new jt(c,null,f,!0);return this.context.createBean(D),D},o.prototype.generateDefaultColDef=function(a){var u=this.gridOptionsWrapper.getAutoGroupColumnDef(),f={headerName:this.gridOptionsWrapper.getLocaleTextFunc()("group","Group")};if(u&&(u.cellRenderer||u.cellRendererFramework||u.cellRendererSelector)||(f.cellRenderer="agGroupCellRenderer"),a){var w=a.getColDef();rr(f,{headerName:this.columnModel.getDisplayNameForColumn(a,"header"),headerValueGetter:w.headerValueGetter}),w.cellRenderer&&rr(f,{cellRendererParams:{innerRenderer:w.cellRenderer,innerRendererParams:w.cellRendererParams}}),f.showRowGroup=a.getColId()}else f.showRowGroup=!0;return f},o.GROUP_AUTO_COLUMN_BUNDLE_ID=q.GROUP_AUTO_COLUMN_ID,Iv([F("columnModel")],o.prototype,"columnModel",void 0),Iv([F("columnFactory")],o.prototype,"columnFactory",void 0),r=Iv([Te("autoGroupColService")],o)}(he),Mv=function(){var d=function(o,r){return(d=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(a,u){a.__proto__=u}||function(a,u){for(var c in u)u.hasOwnProperty(c)&&(a[c]=u[c])})(o,r)};return function(o,r){function a(){this.constructor=o}d(o,r),o.prototype=null===r?Object.create(r):(a.prototype=r.prototype,new a)}}(),pd=function(d,o,r,a){var f,u=arguments.length,c=u<3?o:null===a?a=Object.getOwnPropertyDescriptor(o,r):a;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)c=Reflect.decorate(d,o,r,a);else for(var y=d.length-1;y>=0;y--)(f=d[y])&&(c=(u<3?f(c):u>3?f(o,r,c):f(o,r))||c);return u>3&&c&&Object.defineProperty(o,r,c),c},_C=function(d){function o(){var r=null!==d&&d.apply(this,arguments)||this;return r.currentPage=0,r.topDisplayedRowIndex=0,r.bottomDisplayedRowIndex=0,r.pixelOffset=0,r.masterRowCount=0,r}return Mv(o,d),o.prototype.postConstruct=function(){this.active=this.gridOptionsWrapper.isPagination(),this.paginateChildRows=this.gridOptionsWrapper.isPaginateChildRows(),this.addManagedListener(this.eventService,j.EVENT_MODEL_UPDATED,this.onModelUpdated.bind(this)),this.addManagedListener(this.gridOptionsWrapper,"paginationPageSize",this.onPaginationPageSizeChanged.bind(this)),this.onModelUpdated()},o.prototype.ensureRowHeightsValid=function(r,a,u,c){var f=this.rowModel.ensureRowHeightsValid(r,a,this.getPageFirstRow(),this.getPageLastRow());return f&&this.calculatePages(),f},o.prototype.onModelUpdated=function(r){this.calculatePages(),this.eventService.dispatchEvent({type:j.EVENT_PAGINATION_CHANGED,animate:!!r&&r.animate,newData:!!r&&r.newData,newPage:!!r&&r.newPage,keepRenderedRows:!!r&&r.keepRenderedRows,api:this.gridApi,columnApi:this.columnApi})},o.prototype.onPaginationPageSizeChanged=function(){this.calculatePages(),this.eventService.dispatchEvent({type:j.EVENT_PAGINATION_CHANGED,animate:!1,newData:!1,newPage:!1,keepRenderedRows:!0,api:this.gridApi,columnApi:this.columnApi})},o.prototype.goToPage=function(r){this.active&&this.currentPage!==r&&(this.currentPage=r,this.onModelUpdated({type:j.EVENT_MODEL_UPDATED,animate:!1,keepRenderedRows:!1,newData:!1,newPage:!0,api:this.gridApi,columnApi:this.columnApi}))},o.prototype.getPixelOffset=function(){return this.pixelOffset},o.prototype.getRow=function(r){return this.rowModel.getRow(r)},o.prototype.getRowNode=function(r){return this.rowModel.getRowNode(r)},o.prototype.getRowIndexAtPixel=function(r){return this.rowModel.getRowIndexAtPixel(r)},o.prototype.getCurrentPageHeight=function(){return Ge(this.topRowBounds)||Ge(this.bottomRowBounds)?0:Math.max(this.bottomRowBounds.rowTop+this.bottomRowBounds.rowHeight-this.topRowBounds.rowTop,0)},o.prototype.getCurrentPagePixelRange=function(){return{pageFirstPixel:this.topRowBounds?this.topRowBounds.rowTop:0,pageLastPixel:this.bottomRowBounds?this.bottomRowBounds.rowTop+this.bottomRowBounds.rowHeight:0}},o.prototype.isRowPresent=function(r){return!!this.rowModel.isRowPresent(r)&&r.rowIndex>=this.topDisplayedRowIndex&&r.rowIndex<=this.bottomDisplayedRowIndex},o.prototype.isEmpty=function(){return this.rowModel.isEmpty()},o.prototype.isRowsToRender=function(){return this.rowModel.isRowsToRender()},o.prototype.getNodesInRangeForSelection=function(r,a){return this.rowModel.getNodesInRangeForSelection(r,a)},o.prototype.forEachNode=function(r){return this.rowModel.forEachNode(r)},o.prototype.getType=function(){return this.rowModel.getType()},o.prototype.getRowBounds=function(r){var a=this.rowModel.getRowBounds(r);return a.rowIndex=r,a},o.prototype.getPageFirstRow=function(){return this.topRowBounds?this.topRowBounds.rowIndex:-1},o.prototype.getPageLastRow=function(){return this.bottomRowBounds?this.bottomRowBounds.rowIndex:-1},o.prototype.getRowCount=function(){return this.rowModel.getRowCount()},o.prototype.getPageForIndex=function(r){return Math.floor(r/this.pageSize)},o.prototype.goToPageWithIndex=function(r){if(this.active){var a=this.getPageForIndex(r);this.goToPage(a)}},o.prototype.isRowInPage=function(r){return!this.active||this.getPageForIndex(r.rowIndex)===this.currentPage},o.prototype.isLastPageFound=function(){return this.rowModel.isLastRowIndexKnown()},o.prototype.getCurrentPage=function(){return this.currentPage},o.prototype.goToNextPage=function(){this.goToPage(this.currentPage+1)},o.prototype.goToPreviousPage=function(){this.goToPage(this.currentPage-1)},o.prototype.goToFirstPage=function(){this.goToPage(0)},o.prototype.goToLastPage=function(){var r=this.rowModel.getRowCount(),a=Math.floor(r/this.pageSize);this.goToPage(a)},o.prototype.getPageSize=function(){return this.pageSize},o.prototype.getTotalPages=function(){return this.totalPages},o.prototype.setPageSize=function(){this.pageSize=this.gridOptionsWrapper.getPaginationPageSize(),(null==this.pageSize||this.pageSize<1)&&(this.pageSize=100)},o.prototype.calculatePages=function(){this.active?(this.setPageSize(),this.paginateChildRows?this.calculatePagesAllRows():this.calculatePagesMasterRowsOnly()):this.calculatedPagesNotActive(),this.topRowBounds=this.rowModel.getRowBounds(this.topDisplayedRowIndex),this.topRowBounds&&(this.topRowBounds.rowIndex=this.topDisplayedRowIndex),this.bottomRowBounds=this.rowModel.getRowBounds(this.bottomDisplayedRowIndex),this.bottomRowBounds&&(this.bottomRowBounds.rowIndex=this.bottomDisplayedRowIndex),this.setPixelOffset(ce(this.topRowBounds)?this.topRowBounds.rowTop:0)},o.prototype.setPixelOffset=function(r){this.pixelOffset!==r&&(this.pixelOffset=r,this.eventService.dispatchEvent({type:j.EVENT_PAGINATION_PIXEL_OFFSET_CHANGED}))},o.prototype.setZeroRows=function(){this.masterRowCount=0,this.topDisplayedRowIndex=0,this.bottomDisplayedRowIndex=-1,this.currentPage=0,this.totalPages=0},o.prototype.calculatePagesMasterRowsOnly=function(){if(this.masterRowCount=this.rowModel.getTopLevelRowCount(),this.masterRowCount<=0)this.setZeroRows();else{var r=this.masterRowCount-1;this.totalPages=Math.floor(r/this.pageSize)+1,this.currentPage>=this.totalPages&&(this.currentPage=this.totalPages-1),(!wp(this.currentPage)||this.currentPage<0)&&(this.currentPage=0);var u=this.pageSize*(this.currentPage+1)-1;if(u>r&&(u=r),this.topDisplayedRowIndex=this.rowModel.getTopLevelRowDisplayedIndex(this.pageSize*this.currentPage),u===r)this.bottomDisplayedRowIndex=this.rowModel.getRowCount()-1;else{var c=this.rowModel.getTopLevelRowDisplayedIndex(u+1);this.bottomDisplayedRowIndex=c-1}}},o.prototype.getMasterRowCount=function(){return this.masterRowCount},o.prototype.calculatePagesAllRows=function(){if(this.masterRowCount=this.rowModel.getRowCount(),0!==this.masterRowCount){var r=this.masterRowCount-1;this.totalPages=Math.floor(r/this.pageSize)+1,this.currentPage>=this.totalPages&&(this.currentPage=this.totalPages-1),(!wp(this.currentPage)||this.currentPage<0)&&(this.currentPage=0),this.topDisplayedRowIndex=this.pageSize*this.currentPage,this.bottomDisplayedRowIndex=this.pageSize*(this.currentPage+1)-1,this.bottomDisplayedRowIndex>r&&(this.bottomDisplayedRowIndex=r)}else this.setZeroRows()},o.prototype.calculatedPagesNotActive=function(){this.pageSize=this.rowModel.getRowCount(),this.totalPages=1,this.currentPage=0,this.topDisplayedRowIndex=0,this.bottomDisplayedRowIndex=this.rowModel.getRowCount()-1},pd([F("rowModel")],o.prototype,"rowModel",void 0),pd([F("columnApi")],o.prototype,"columnApi",void 0),pd([F("gridApi")],o.prototype,"gridApi",void 0),pd([ye],o.prototype,"postConstruct",null),pd([Te("paginationProxy")],o)}(he),ZA=function(){var d=function(o,r){return(d=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(a,u){a.__proto__=u}||function(a,u){for(var c in u)u.hasOwnProperty(c)&&(a[c]=u[c])})(o,r)};return function(o,r){function a(){this.constructor=o}d(o,r),o.prototype=null===r?Object.create(r):(a.prototype=r.prototype,new a)}}(),Nh=function(d,o,r,a){var f,u=arguments.length,c=u<3?o:null===a?a=Object.getOwnPropertyDescriptor(o,r):a;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)c=Reflect.decorate(d,o,r,a);else for(var y=d.length-1;y>=0;y--)(f=d[y])&&(c=(u<3?f(c):u>3?f(o,r,c):f(o,r))||c);return u>3&&c&&Object.defineProperty(o,r,c),c},zE=function(d){function o(){return null!==d&&d.apply(this,arguments)||this}return ZA(o,d),o.prototype.postConstruct=function(){var r=this;this.ctrlsService.whenReady(function(a){r.centerRowContainerCon=a.centerRowContainerCtrl,r.addManagedListener(r.eventService,j.EVENT_BODY_HEIGHT_CHANGED,r.onBodyHeightChanged.bind(r)),r.addManagedListener(r.eventService,j.EVENT_SCROLL_VISIBILITY_CHANGED,r.onScrollVisibilityChanged.bind(r)),r.checkPageSize()})},o.prototype.notActive=function(){return!this.gridOptionsWrapper.isPaginationAutoPageSize()},o.prototype.onScrollVisibilityChanged=function(){this.checkPageSize()},o.prototype.onBodyHeightChanged=function(){this.checkPageSize()},o.prototype.checkPageSize=function(){if(!this.notActive()){var r=this.gridOptionsWrapper.getRowHeightAsNumber(),a=this.centerRowContainerCon.getViewportSizeFeature().getBodyHeight();if(a>0){var u=Math.floor(a/r);this.gridOptionsWrapper.setProperty("paginationPageSize",u)}}},Nh([F("ctrlsService")],o.prototype,"ctrlsService",void 0),Nh([ye],o.prototype,"postConstruct",null),Nh([Te("paginationAutoPageSizeService")],o)}(he),$E=function(){var d=function(o,r){return(d=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(a,u){a.__proto__=u}||function(a,u){for(var c in u)u.hasOwnProperty(c)&&(a[c]=u[c])})(o,r)};return function(o,r){function a(){this.constructor=o}d(o,r),o.prototype=null===r?Object.create(r):(a.prototype=r.prototype,new a)}}(),bC=function(d,o,r,a){var f,u=arguments.length,c=u<3?o:null===a?a=Object.getOwnPropertyDescriptor(o,r):a;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)c=Reflect.decorate(d,o,r,a);else for(var y=d.length-1;y>=0;y--)(f=d[y])&&(c=(u<3?f(c):u>3?f(o,r,c):f(o,r))||c);return u>3&&c&&Object.defineProperty(o,r,c),c},Lh=function(d){function o(){var r=null!==d&&d.apply(this,arguments)||this;return r.cacheVersion=0,r}return $E(o,d),o.prototype.init=function(){this.active=this.gridOptionsWrapper.isValueCache(),this.neverExpires=this.gridOptionsWrapper.isValueCacheNeverExpires()},o.prototype.onDataChanged=function(){this.neverExpires||this.expire()},o.prototype.expire=function(){this.cacheVersion++},o.prototype.setValue=function(r,a,u){this.active&&(r.__cacheVersion!==this.cacheVersion&&(r.__cacheVersion=this.cacheVersion,r.__cacheData={}),r.__cacheData[a]=u)},o.prototype.getValue=function(r,a){if(this.active&&r.__cacheVersion===this.cacheVersion)return r.__cacheData[a]},bC([ye],o.prototype,"init",null),bC([Te("valueCache")],o)}(he),YE=function(){var d=function(o,r){return(d=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(a,u){a.__proto__=u}||function(a,u){for(var c in u)u.hasOwnProperty(c)&&(a[c]=u[c])})(o,r)};return function(o,r){function a(){this.constructor=o}d(o,r),o.prototype=null===r?Object.create(r):(a.prototype=r.prototype,new a)}}(),Vh=function(d,o,r,a){var f,u=arguments.length,c=u<3?o:null===a?a=Object.getOwnPropertyDescriptor(o,r):a;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)c=Reflect.decorate(d,o,r,a);else for(var y=d.length-1;y>=0;y--)(f=d[y])&&(c=(u<3?f(c):u>3?f(o,r,c):f(o,r))||c);return u>3&&c&&Object.defineProperty(o,r,c),c},kh=function(d){function o(){return null!==d&&d.apply(this,arguments)||this}return YE(o,d),o.prototype.init=function(){this.rowModel.getType()===q.ROW_MODEL_TYPE_CLIENT_SIDE&&(this.clientSideRowModel=this.rowModel),this.addManagedListener(this.eventService,j.EVENT_CELL_VALUE_CHANGED,this.onCellValueChanged.bind(this))},o.prototype.onCellValueChanged=function(r){r.source!==q.SOURCE_PASTE&&this.doChangeDetection(r.node,r.column)},o.prototype.doChangeDetection=function(r,a){if(!this.gridOptionsWrapper.isSuppressChangeDetection()){if(this.clientSideRowModel&&!r.isRowPinned()){var u=this.gridOptionsWrapper.isAggregateOnlyChangedColumns(),c=new qc(u,this.clientSideRowModel.getRootNode());c.addParentNode(r.parent,[a]),this.clientSideRowModel.doAggregate(c)}this.rowRenderer.refreshCells()}},Vh([F("rowModel")],o.prototype,"rowModel",void 0),Vh([F("rowRenderer")],o.prototype,"rowRenderer",void 0),Vh([ye],o.prototype,"init",null),Vh([Te("changeDetectionService")],o)}(he),Fv=function(){var d=function(o,r){return(d=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(a,u){a.__proto__=u}||function(a,u){for(var c in u)u.hasOwnProperty(c)&&(a[c]=u[c])})(o,r)};return function(o,r){function a(){this.constructor=o}d(o,r),o.prototype=null===r?Object.create(r):(a.prototype=r.prototype,new a)}}(),hd=function(d,o,r,a){var f,u=arguments.length,c=u<3?o:null===a?a=Object.getOwnPropertyDescriptor(o,r):a;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)c=Reflect.decorate(d,o,r,a);else for(var y=d.length-1;y>=0;y--)(f=d[y])&&(c=(u<3?f(c):u>3?f(o,r,c):f(o,r))||c);return u>3&&c&&Object.defineProperty(o,r,c),c},Nv=function(d,o){return function(r,a){o(r,a,d)}},Gh=function(d){function o(){var r=null!==d&&d.apply(this,arguments)||this;return r.consuming=!1,r}return Fv(o,d),o.prototype.setBeans=function(r){this.logger=r.create("AlignedGridsService")},o.prototype.init=function(){this.addManagedListener(this.eventService,j.EVENT_COLUMN_MOVED,this.fireColumnEvent.bind(this)),this.addManagedListener(this.eventService,j.EVENT_COLUMN_VISIBLE,this.fireColumnEvent.bind(this)),this.addManagedListener(this.eventService,j.EVENT_COLUMN_PINNED,this.fireColumnEvent.bind(this)),this.addManagedListener(this.eventService,j.EVENT_COLUMN_GROUP_OPENED,this.fireColumnEvent.bind(this)),this.addManagedListener(this.eventService,j.EVENT_COLUMN_RESIZED,this.fireColumnEvent.bind(this)),this.addManagedListener(this.eventService,j.EVENT_BODY_SCROLL,this.fireScrollEvent.bind(this))},o.prototype.fireEvent=function(r){if(!this.consuming){var a=this.gridOptionsWrapper.getAlignedGrids();a&&a.forEach(function(u){if(u.api){var c=u.api.__getAlignedGridService();r(c)}})}},o.prototype.onEvent=function(r){this.consuming=!0,r(),this.consuming=!1},o.prototype.fireColumnEvent=function(r){this.fireEvent(function(a){a.onColumnEvent(r)})},o.prototype.fireScrollEvent=function(r){"horizontal"===r.direction&&this.fireEvent(function(a){a.onScrollEvent(r)})},o.prototype.onScrollEvent=function(r){var a=this;this.onEvent(function(){a.ctrlsService.getGridBodyCtrl().getScrollFeature().setHorizontalScrollPosition(r.left)})},o.prototype.getMasterColumns=function(r){var a=[];return r.columns?r.columns.forEach(function(u){a.push(u)}):r.column&&a.push(r.column),a},o.prototype.getColumnIds=function(r){var a=[];return r.columns?r.columns.forEach(function(u){a.push(u.getColId())}):r.column&&a.push(r.column.getColId()),a},o.prototype.onColumnEvent=function(r){var a=this;this.onEvent(function(){switch(r.type){case j.EVENT_COLUMN_MOVED:case j.EVENT_COLUMN_VISIBLE:case j.EVENT_COLUMN_PINNED:case j.EVENT_COLUMN_RESIZED:a.processColumnEvent(r);break;case j.EVENT_COLUMN_GROUP_OPENED:a.processGroupOpenedEvent(r);break;case j.EVENT_COLUMN_PIVOT_CHANGED:console.warn("AG Grid: pivoting is not supported with aligned grids. You can only use one of these features at a time in a grid.")}})},o.prototype.processGroupOpenedEvent=function(r){var a=r.columnGroup,u=null;if(a){var c=a.getGroupId();u=this.columnModel.getOriginalColumnGroup(c)}a&&!u||(this.logger.log("onColumnEvent-> processing "+r+" expanded = "+a.isExpanded()),this.columnModel.setColumnGroupOpened(u,a.isExpanded(),"alignedGridChanged"))},o.prototype.processColumnEvent=function(r){var a=this,u=r.column,c=null;if(u&&(c=this.columnModel.getPrimaryColumn(u.getColId())),!u||c){var f=this.getMasterColumns(r);switch(r.type){case j.EVENT_COLUMN_MOVED:var y=r,D=r.columnApi.getColumnState().map(function(ie){return{colId:ie.colId}});this.columnModel.applyColumnState({state:D,applyOrder:!0},"alignedGridChanged"),this.logger.log("onColumnEvent-> processing "+r.type+" toIndex = "+y.toIndex);break;case j.EVENT_COLUMN_VISIBLE:var O=r;D=r.columnApi.getColumnState().map(function(de){return{colId:de.colId,hide:de.hide}}),this.columnModel.applyColumnState({state:D},"alignedGridChanged"),this.logger.log("onColumnEvent-> processing "+r.type+" visible = "+O.visible);break;case j.EVENT_COLUMN_PINNED:var I=r;D=r.columnApi.getColumnState().map(function(de){return{colId:de.colId,pinned:de.pinned}}),this.columnModel.applyColumnState({state:D},"alignedGridChanged"),this.logger.log("onColumnEvent-> processing "+r.type+" pinned = "+I.pinned);break;case j.EVENT_COLUMN_RESIZED:var V=r;f.forEach(function(ie){a.logger.log("onColumnEvent-> processing "+r.type+" actualWidth = "+ie.getActualWidth());var _e=[{key:ie.getColId(),newWidth:ie.getActualWidth()}];a.columnModel.setColumnWidths(_e,!1,V.finished,"alignedGridChanged")})}var z=this.ctrlsService.getGridBodyCtrl().isVerticalScrollShowing(),ee=this.gridOptionsWrapper.getAlignedGrids();ee&&ee.forEach(function(ie){ie.api&&ie.api.setAlwaysShowVerticalScroll(z)})}},hd([F("columnModel")],o.prototype,"columnModel",void 0),hd([F("ctrlsService")],o.prototype,"ctrlsService",void 0),hd([Nv(0,br("loggerFactory"))],o.prototype,"setBeans",null),hd([ye],o.prototype,"init",null),hd([Te("alignedGridsService")],o)}(he),CC=function(){var d=function(o,r){return(d=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(a,u){a.__proto__=u}||function(a,u){for(var c in u)u.hasOwnProperty(c)&&(a[c]=u[c])})(o,r)};return function(o,r){function a(){this.constructor=o}d(o,r),o.prototype=null===r?Object.create(r):(a.prototype=r.prototype,new a)}}(),wC=function(d,o,r,a){var f,u=arguments.length,c=u<3?o:null===a?a=Object.getOwnPropertyDescriptor(o,r):a;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)c=Reflect.decorate(d,o,r,a);else for(var y=d.length-1;y>=0;y--)(f=d[y])&&(c=(u<3?f(c):u>3?f(o,r,c):f(o,r))||c);return u>3&&c&&Object.defineProperty(o,r,c),c},KE=function(d){function o(){return null!==d&&d.apply(this,arguments)||this}return CC(o,d),o.prototype.adaptFunction=function(r,a){var u=this.componentMetadataProvider.retrieve(r);return u&&u.functionAdapter?u.functionAdapter(a):null},o.prototype.adaptCellRendererFunction=function(r){return function(){function u(){}return u.prototype.refresh=function(c){return!1},u.prototype.getGui=function(){var c=r(this.params),f=typeof c;return"string"===f||"number"===f||"boolean"===f?Gs("<span>"+c+"</span>"):null==c?Gs("<span></span>"):c},u.prototype.init=function(c){this.params=c},u}()},o.prototype.doesImplementIComponent=function(r){return!!r&&r.prototype&&"getGui"in r.prototype},wC([F("componentMetadataProvider")],o.prototype,"componentMetadataProvider",void 0),wC([Te("agComponentUtils")],o)}(he),Lv=function(){var d=function(o,r){return(d=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(a,u){a.__proto__=u}||function(a,u){for(var c in u)u.hasOwnProperty(c)&&(a[c]=u[c])})(o,r)};return function(o,r){function a(){this.constructor=o}d(o,r),o.prototype=null===r?Object.create(r):(a.prototype=r.prototype,new a)}}(),DC=function(d,o,r,a){var f,u=arguments.length,c=u<3?o:null===a?a=Object.getOwnPropertyDescriptor(o,r):a;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)c=Reflect.decorate(d,o,r,a);else for(var y=d.length-1;y>=0;y--)(f=d[y])&&(c=(u<3?f(c):u>3?f(o,r,c):f(o,r))||c);return u>3&&c&&Object.defineProperty(o,r,c),c},XE=function(d){function o(){return null!==d&&d.apply(this,arguments)||this}return Lv(o,d),o.prototype.postConstruct=function(){this.componentMetaData={dateComponent:{mandatoryMethodList:["getDate","setDate"],optionalMethodList:["afterGuiAttached","setInputPlaceholder","setInputAriaLabel"]},detailCellRenderer:{mandatoryMethodList:[],optionalMethodList:["refresh"],functionAdapter:this.agComponentUtils.adaptCellRendererFunction.bind(this.agComponentUtils)},headerComponent:{mandatoryMethodList:[],optionalMethodList:["refresh"]},headerGroupComponent:{mandatoryMethodList:[],optionalMethodList:[]},loadingCellRenderer:{mandatoryMethodList:[],optionalMethodList:[]},loadingOverlayComponent:{mandatoryMethodList:[],optionalMethodList:[]},noRowsOverlayComponent:{mandatoryMethodList:[],optionalMethodList:[]},floatingFilterComponent:{mandatoryMethodList:["onParentModelChanged"],optionalMethodList:["afterGuiAttached"]},floatingFilterWrapperComponent:{mandatoryMethodList:[],optionalMethodList:[]},cellRenderer:{mandatoryMethodList:[],optionalMethodList:["refresh","afterGuiAttached"],functionAdapter:this.agComponentUtils.adaptCellRendererFunction.bind(this.agComponentUtils)},cellEditor:{mandatoryMethodList:["getValue"],optionalMethodList:["isPopup","isCancelBeforeStart","isCancelAfterEnd","getPopupPosition","focusIn","focusOut","afterGuiAttached"]},innerRenderer:{mandatoryMethodList:[],optionalMethodList:["afterGuiAttached"],functionAdapter:this.agComponentUtils.adaptCellRendererFunction.bind(this.agComponentUtils)},fullWidthCellRenderer:{mandatoryMethodList:[],optionalMethodList:["refresh","afterGuiAttached"],functionAdapter:this.agComponentUtils.adaptCellRendererFunction.bind(this.agComponentUtils)},pinnedRowCellRenderer:{mandatoryMethodList:[],optionalMethodList:["refresh","afterGuiAttached"],functionAdapter:this.agComponentUtils.adaptCellRendererFunction.bind(this.agComponentUtils)},groupRowRenderer:{mandatoryMethodList:[],optionalMethodList:["afterGuiAttached"],functionAdapter:this.agComponentUtils.adaptCellRendererFunction.bind(this.agComponentUtils)},filter:{mandatoryMethodList:["isFilterActive","doesFilterPass","getModel","setModel"],optionalMethodList:["afterGuiAttached","onNewRowsLoaded","getModelAsString","onFloatingFilterChanged"]},filterComponent:{mandatoryMethodList:["isFilterActive","doesFilterPass","getModel","setModel"],optionalMethodList:["afterGuiAttached","onNewRowsLoaded","getModelAsString","onFloatingFilterChanged"]},statusPanel:{mandatoryMethodList:[],optionalMethodList:["afterGuiAttached"]},toolPanel:{mandatoryMethodList:[],optionalMethodList:["refresh","afterGuiAttached"]},tooltipComponent:{mandatoryMethodList:[],optionalMethodList:[]}}},o.prototype.retrieve=function(r){return this.componentMetaData[r]},DC([F("agComponentUtils")],o.prototype,"agComponentUtils",void 0),DC([ye],o.prototype,"postConstruct",null),DC([Te("componentMetadataProvider")],o)}(he),SC=function(){var d=function(o,r){return(d=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(a,u){a.__proto__=u}||function(a,u){for(var c in u)u.hasOwnProperty(c)&&(a[c]=u[c])})(o,r)};return function(o,r){function a(){this.constructor=o}d(o,r),o.prototype=null===r?Object.create(r):(a.prototype=r.prototype,new a)}}(),Vv=function(d,o,r,a){var f,u=arguments.length,c=u<3?o:null===a?a=Object.getOwnPropertyDescriptor(o,r):a;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)c=Reflect.decorate(d,o,r,a);else for(var y=d.length-1;y>=0;y--)(f=d[y])&&(c=(u<3?f(c):u>3?f(o,r,c):f(o,r))||c);return u>3&&c&&Object.defineProperty(o,r,c),c},jh={"ag-theme-custom":{headerHeight:25,headerCellMinWidth:24,listItemHeight:20,rowHeight:25,chartMenuPanelWidth:220},"ag-theme-material":{headerHeight:56,headerCellMinWidth:48,listItemHeight:32,rowHeight:48,chartMenuPanelWidth:240},"ag-theme-balham":{headerHeight:32,headerCellMinWidth:24,listItemHeight:24,rowHeight:28,chartMenuPanelWidth:220},"ag-theme-alpine":{headerHeight:48,headerCellMinWidth:36,listItemHeight:24,rowHeight:42,chartMenuPanelWidth:240}},xC={headerHeight:["ag-header-row"],headerCellMinWidth:["ag-header-cell"],listItemHeight:["ag-virtual-list-item"],rowHeight:["ag-row"],chartMenuPanelWidth:["ag-chart-docked-container"]},fd={},qE=function(d){function o(){return null!==d&&d.apply(this,arguments)||this}return SC(o,d),o.prototype.getSassVariable=function(r,a){var u="ag-theme-"+(r.match("material")?"material":r.match("balham")?"balham":r.match("alpine")?"alpine":"custom"),c=jh[u][a],f=0;fd[r]||(fd[r]={});var y=fd[r][a];if(null!=y)return y;if(xC[a]){var w=xC[a],D=document.createElement("div");Me(D,r),D.style.position="absolute";var O=w.reduce(function(V,B){var z=document.createElement("div");return z.style.position="static",Me(z,B),V.appendChild(z),z},D);if(document.body){document.body.appendChild(D);var I=-1!==a.toLowerCase().indexOf("height")?"height":"width";f=parseInt(window.getComputedStyle(O)[I],10),document.body.removeChild(D)}}return fd[r][a]=f||c,fd[r][a]},o.prototype.isThemeDark=function(){var r=this.getTheme().theme;return!!r&&r.indexOf("dark")>=0},o.prototype.chartMenuPanelWidth=function(){var r=this.getTheme().themeFamily;return this.getSassVariable(r,"chartMenuPanelWidth")},o.prototype.getTheme=function(){for(var r=/\bag-(material|(?:theme-([\w\-]*)))\b/,a=this.eGridDiv,u=null;a&&!(u=r.exec(a.className));)a=a.parentElement||void 0;if(!u)return{};var c=u[0];if(void 0===u[2]){var y=c.replace("ag-","ag-theme-");Mi(function(){return console.warn("AG Grid: As of v19 old theme are no longer provided. Please replace "+c+" with "+y+".")},"using-old-theme")}return{theme:c,el:a,themeFamily:c.replace(/-dark$/,"")}},Vv([F("eGridDiv")],o.prototype,"eGridDiv",void 0),Vv([Te("environment")],o)}(he),Tu=function(){var d=function(o,r){return(d=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(a,u){a.__proto__=u}||function(a,u){for(var c in u)u.hasOwnProperty(c)&&(a[c]=u[c])})(o,r)};return function(o,r){function a(){this.constructor=o}d(o,r),o.prototype=null===r?Object.create(r):(a.prototype=r.prototype,new a)}}(),Wh=function(d,o,r,a){var f,u=arguments.length,c=u<3?o:null===a?a=Object.getOwnPropertyDescriptor(o,r):a;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)c=Reflect.decorate(d,o,r,a);else for(var y=d.length-1;y>=0;y--)(f=d[y])&&(c=(u<3?f(c):u>3?f(o,r,c):f(o,r))||c);return u>3&&c&&Object.defineProperty(o,r,c),c},Au=function(d){function o(){var r=null!==d&&d.apply(this,arguments)||this;return r.createTasksP1={list:[],sorted:!1},r.createTasksP2={list:[],sorted:!1},r.destroyTasks=[],r.ticking=!1,r.scrollGoingDown=!0,r.lastScrollTop=0,r.taskCount=0,r.cancelledTasks=new Set,r}return Tu(o,d),o.prototype.setScrollTop=function(r){this.scrollGoingDown=r>this.lastScrollTop,this.lastScrollTop=r},o.prototype.init=function(){this.useAnimationFrame=!this.gridOptionsWrapper.isSuppressAnimationFrame()},o.prototype.isOn=function(){return this.useAnimationFrame},o.prototype.verifyAnimationFrameOn=function(r){!1===this.useAnimationFrame&&console.warn("AG Grid: AnimationFrameService."+r+" called but animation frames are off")},o.prototype.createTask=function(r,a,u){this.verifyAnimationFrameOn(u);var c={task:r,index:a,createOrder:++this.taskCount};this.addTaskToList(this[u],c),this.schedule()},o.prototype.cancelTask=function(r){this.cancelledTasks.add(r)},o.prototype.addTaskToList=function(r,a){r.list.push(a),r.sorted=!1},o.prototype.sortTaskList=function(r){if(!r.sorted){var a=this.scrollGoingDown?1:-1;r.list.sort(function(u,c){return u.index!==c.index?a*(c.index-u.index):c.createOrder-u.createOrder}),r.sorted=!0}},o.prototype.addDestroyTask=function(r){this.verifyAnimationFrameOn("createTasksP3"),this.destroyTasks.push(r),this.schedule()},o.prototype.executeFrame=function(r){this.verifyAnimationFrameOn("executeFrame");for(var a=this.createTasksP1,u=a.list,c=this.createTasksP2,f=c.list,y=this.destroyTasks,w=(new Date).getTime(),D=(new Date).getTime()-w,O=r<=0,I=this.ctrlsService.getGridBodyCtrl();O||D<r;){if(!I.getScrollFeature().executeAnimationFrameScroll()){var B=void 0;if(u.length)this.sortTaskList(a),B=u.pop().task;else if(f.length)this.sortTaskList(c),B=f.pop().task;else{if(!y.length){this.cancelledTasks.clear();break}B=y.pop()}this.cancelledTasks.has(B)||B()}D=(new Date).getTime()-w}u.length||f.length||y.length?this.requestFrame():this.stopTicking()},o.prototype.stopTicking=function(){this.ticking=!1},o.prototype.flushAllFrames=function(){!this.useAnimationFrame||this.executeFrame(-1)},o.prototype.schedule=function(){!this.useAnimationFrame||this.ticking||(this.ticking=!0,this.requestFrame())},o.prototype.requestFrame=function(){var r=this.executeFrame.bind(this,60);window.requestAnimationFrame?window.requestAnimationFrame(r):window.webkitRequestAnimationFrame?window.webkitRequestAnimationFrame(r):window.setTimeout(r,0)},o.prototype.isQueueEmpty=function(){return!this.ticking},o.prototype.debounce=function(r){var a=this,u=!1;return function(){a.isOn()?u||(u=!0,a.addDestroyTask(function(){u=!1,r()})):a.getFrameworkOverrides().setTimeout(r,0)}},Wh([F("ctrlsService")],o.prototype,"ctrlsService",void 0),Wh([ye],o.prototype,"init",null),Wh([Te("animationFrameService")],o)}(he),gd=function(){var d=function(o,r){return(d=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(a,u){a.__proto__=u}||function(a,u){for(var c in u)u.hasOwnProperty(c)&&(a[c]=u[c])})(o,r)};return function(o,r){function a(){this.constructor=o}d(o,r),o.prototype=null===r?Object.create(r):(a.prototype=r.prototype,new a)}}(),Uh=function(){return(Uh=Object.assign||function(d){for(var o,r=1,a=arguments.length;r<a;r++)for(var u in o=arguments[r])Object.prototype.hasOwnProperty.call(o,u)&&(d[u]=o[u]);return d}).apply(this,arguments)},dr=function(d,o,r,a){var f,u=arguments.length,c=u<3?o:null===a?a=Object.getOwnPropertyDescriptor(o,r):a;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)c=Reflect.decorate(d,o,r,a);else for(var y=d.length-1;y>=0;y--)(f=d[y])&&(c=(u<3?f(c):u>3?f(o,r,c):f(o,r))||c);return u>3&&c&&Object.defineProperty(o,r,c),c},kv=function(d){function o(){var r=null!==d&&d.apply(this,arguments)||this;return r.timeLastPageEventProcessed=0,r}return gd(o,d),o.prototype.postConstruct=function(){var r=this;this.ctrlsService.whenReady(function(a){r.gridBodyCon=a.gridBodyCtrl})},o.prototype.handlePageScrollingKey=function(r){var a=r.which||r.keyCode,u=r.altKey,c=r.ctrlKey||r.metaKey,f=this.mouseEventService.getCellPositionForEvent(r);if(!f)return!1;var y=!1;switch(a){case me.PAGE_HOME:case me.PAGE_END:!c&&!u&&(this.onHomeOrEndKey(a),y=!0);break;case me.LEFT:case me.RIGHT:c&&!u&&(this.onCtrlLeftOrRight(a,f),y=!0);break;case me.UP:case me.DOWN:c&&!u&&(this.onCtrlUpOrDown(a,f),y=!0);break;case me.PAGE_DOWN:!c&&!u&&(this.onPageDown(f),y=!0);break;case me.PAGE_UP:!c&&!u&&(this.onPageUp(f),y=!0)}return y&&r.preventDefault(),y},o.prototype.isTimeSinceLastPageEventToRecent=function(){return(new Date).getTime()-this.timeLastPageEventProcessed<100},o.prototype.setTimeLastPageEventProcessed=function(){this.timeLastPageEventProcessed=(new Date).getTime()},o.prototype.navigateTo=function(r){var a=r.scrollIndex,u=r.scrollType,c=r.scrollColumn,f=r.focusIndex,y=r.focusColumn;ce(c)&&!c.isPinned()&&this.gridBodyCon.getScrollFeature().ensureColumnVisible(c),ce(a)&&this.gridBodyCon.getScrollFeature().ensureIndexVisible(a,u),this.animationFrameService.flushAllFrames(),this.focusService.setFocusedCell(f,y,null,!0),this.rangeService&&this.rangeService.setRangeToCell({rowIndex:f,rowPinned:null,column:y})},o.prototype.onPageDown=function(r){if(!this.isTimeSinceLastPageEventToRecent()){var u=this.ctrlsService.getGridBodyCtrl().getScrollFeature().getVScrollPosition(),c=this.gridOptionsWrapper.getScrollbarWidth(),f=u.bottom-u.top;this.ctrlsService.getCenterRowContainerCtrl().isHorizontalScrollShowing()&&(f-=c);var y=this.paginationProxy.getPixelOffset(),O=this.paginationProxy.getRowIndexAtPixel(u.top+f+y),I=this.paginationProxy.getRow(r.rowIndex).rowTop,B=this.paginationProxy.getRowIndexAtPixel(I+f-y+y),z=this.paginationProxy.getPageLastRow();B>z&&(B=z),O>z&&(O=z),this.navigateTo({scrollIndex:O,scrollType:"top",scrollColumn:null,focusIndex:B,focusColumn:r.column}),this.setTimeLastPageEventProcessed()}},o.prototype.onPageUp=function(r){if(!this.isTimeSinceLastPageEventToRecent()){var u=this.ctrlsService.getGridBodyCtrl().getScrollFeature().getVScrollPosition(),c=this.gridOptionsWrapper.getScrollbarWidth(),f=u.bottom-u.top;this.ctrlsService.getCenterRowContainerCtrl().isHorizontalScrollShowing()&&(f-=c);var y=this.paginationProxy.getPixelOffset(),O=this.paginationProxy.getRowIndexAtPixel(u.top+y),I=this.paginationProxy.getRow(r.rowIndex),B=this.paginationProxy.getRowIndexAtPixel(I.rowTop+I.rowHeight-f-y+y),z=this.paginationProxy.getPageFirstRow();B<z&&(B=z),O<z&&(O=z),this.navigateTo({scrollIndex:O,scrollType:"bottom",scrollColumn:null,focusIndex:B,focusColumn:r.column}),this.setTimeLastPageEventProcessed()}},o.prototype.getIndexToFocus=function(r,a){var u=r;if(a){var c=this.paginationProxy.getRow(r);c&&c.stub&&(u-=1)}return u},o.prototype.onCtrlUpOrDown=function(r,a){var u=r===me.UP,c=u?this.paginationProxy.getPageFirstRow():this.paginationProxy.getPageLastRow();this.navigateTo({scrollIndex:c,scrollType:null,scrollColumn:a.column,focusIndex:this.getIndexToFocus(c,!u),focusColumn:a.column})},o.prototype.onCtrlLeftOrRight=function(r,a){var u=r===me.LEFT,c=this.columnModel.getAllDisplayedColumns(),y=u!==this.gridOptionsWrapper.isEnableRtl()?c[0]:Jt(c);this.navigateTo({scrollIndex:a.rowIndex,scrollType:null,scrollColumn:y,focusIndex:a.rowIndex,focusColumn:y})},o.prototype.onHomeOrEndKey=function(r){var a=r===me.PAGE_HOME,u=this.columnModel.getAllDisplayedColumns(),c=a?u[0]:Jt(u),f=a?this.paginationProxy.getPageFirstRow():this.paginationProxy.getPageLastRow();this.navigateTo({scrollIndex:f,scrollType:null,scrollColumn:c,focusIndex:this.getIndexToFocus(f,!a),focusColumn:c})},o.prototype.onTabKeyDown=function(r,a){var u=a.shiftKey;if(this.tabToNextCellCommon(r,u))a.preventDefault();else if(u){var f=r.getRowPosition(),y=f.rowIndex;if(f.rowPinned?0===y:y===this.paginationProxy.getPageFirstRow()){a.preventDefault();var O=this.headerNavigationService.getHeaderRowCount()-1,I=Jt(this.columnModel.getAllDisplayedColumns());this.focusService.focusHeaderPosition({headerPosition:{headerRowIndex:O,column:I},event:a})}}else r instanceof ds&&r.focusCell(!0),this.focusService.focusNextGridCoreContainer(!1)&&a.preventDefault()},o.prototype.tabToNextCell=function(r){var a=this.focusService.getFocusedCell();if(!a)return!1;var u=this.getCellByPosition(a);return!!(u||(u=this.rowRenderer.getRowByPosition(a),u&&u.isFullWidth()))&&this.tabToNextCellCommon(u,r)},o.prototype.tabToNextCellCommon=function(r,a){var u=r.isEditing();if(!u&&r instanceof ds){var f=r.getRowCtrl();f&&(u=f.isEditing())}return(u?this.gridOptionsWrapper.isFullRowEdit()?this.moveToNextEditingRow(r,a):this.moveToNextEditingCell(r,a):this.moveToNextCellNotEditing(r,a))||!!this.focusService.getFocusedHeader()},o.prototype.moveToNextEditingCell=function(r,a){var u=r.getCellPosition();r.stopEditing();var c=this.findNextCellToFocusOn(u,a,!0);return null!=c&&(c.startEditing(null,null,!0),c.focusCell(!1),!0)},o.prototype.moveToNextEditingRow=function(r,a){var u=r.getCellPosition(),c=this.findNextCellToFocusOn(u,a,!0);if(null==c)return!1;var f=c.getCellPosition(),y=this.isCellEditable(u),w=this.isCellEditable(f),D=f&&u.rowIndex===f.rowIndex&&u.rowPinned===f.rowPinned;return y&&r.setFocusOutOnEditor(),D||(r.getRowCtrl().stopEditing(),c.getRowCtrl().startRowEditing()),w?(c.setFocusInOnEditor(),c.focusCell()):c.focusCell(!0),!0},o.prototype.moveToNextCellNotEditing=function(r,a){var c,u=this.columnModel.getAllDisplayedColumns();c=r instanceof La?Uh(Uh({},r.getRowPosition()),{column:a?u[0]:Jt(u)}):r.getCellPosition();var f=this.findNextCellToFocusOn(c,a,!1);if(f instanceof ds)f.focusCell(!0);else if(f)return this.tryToFocusFullWidthRow(f.getRowPosition(),a);return ce(f)},o.prototype.findNextCellToFocusOn=function(r,a,u){for(var c=r;;){a||(c=this.getLastCellOfColSpan(c)),c=this.cellNavigationService.getNextTabbedCell(c,a);var f=this.gridOptionsWrapper.getTabToNextCellFunc();if(ce(f)){var w=f({backwards:a,editing:u,previousCellPosition:r,nextCellPosition:c||null,api:this.gridOptionsWrapper.getApi(),columnApi:this.gridOptionsWrapper.getColumnApi()});ce(w)?(w.floating&&(Mi(function(){console.warn("AG Grid: tabToNextCellFunc return type should have attributes: rowIndex, rowPinned, column. However you had 'floating', maybe you meant 'rowPinned'?")},"no floating in userCell"),w.rowPinned=w.floating),c={rowIndex:w.rowIndex,column:w.column,rowPinned:w.rowPinned}):c=null}if(!c)return null;if(c.rowIndex<0){var D=this.headerNavigationService.getHeaderRowCount();return this.focusService.focusHeaderPosition({headerPosition:{headerRowIndex:D+c.rowIndex,column:c.column}}),null}var O=this.gridOptionsWrapper.isFullRowEdit();if(!u||O||this.isCellEditable(c)){this.ensureCellVisible(c);var V=this.getCellByPosition(c);if(!V){var B=this.rowRenderer.getRowByPosition(c);if(!B||!B.isFullWidth())continue;return B}if(!V.isSuppressNavigable())return this.rangeService&&this.rangeService.setRangeToCell(c),V}}},o.prototype.isCellEditable=function(r){var a=this.lookupRowNodeForCell(r);return!!a&&r.column.isCellEditable(a)},o.prototype.getCellByPosition=function(r){var a=this.rowRenderer.getRowByPosition(r);return a?a.getCellCtrl(r.column):null},o.prototype.lookupRowNodeForCell=function(r){return r.rowPinned===q.PINNED_TOP?this.pinnedRowModel.getPinnedTopRow(r.rowIndex):r.rowPinned===q.PINNED_BOTTOM?this.pinnedRowModel.getPinnedBottomRow(r.rowIndex):this.paginationProxy.getRow(r.rowIndex)},o.prototype.navigateToNextCell=function(r,a,u,c){for(var f=u,y=!1;f&&(f===u||!this.isValidNavigateCell(f));)this.gridOptionsWrapper.isEnableRtl()?a===me.LEFT&&(f=this.getLastCellOfColSpan(f)):a===me.RIGHT&&(f=this.getLastCellOfColSpan(f)),y=Ge(f=this.cellNavigationService.getNextCellToFocus(a,f));if(y&&r&&r.keyCode===me.UP&&(f={rowIndex:-1,rowPinned:null,column:u.column}),c){var w=this.gridOptionsWrapper.getNavigateToNextCellFunc();if(ce(w)){var O=w({key:a,previousCellPosition:u,nextCellPosition:f||null,event:r,api:this.gridOptionsWrapper.getApi(),columnApi:this.gridOptionsWrapper.getColumnApi()});ce(O)?(O.floating&&(Mi(function(){console.warn("AG Grid: tabToNextCellFunc return type should have attributes: rowIndex, rowPinned, column. However you had 'floating', maybe you meant 'rowPinned'?")},"no floating in userCell"),O.rowPinned=O.floating),f={rowPinned:O.rowPinned,rowIndex:O.rowIndex,column:O.column}):f=null}}if(f){if(f.rowIndex<0){var I=this.headerNavigationService.getHeaderRowCount();return void this.focusService.focusHeaderPosition({headerPosition:{headerRowIndex:I+f.rowIndex,column:u.column},event:r||void 0})}var V=this.getNormalisedPosition(f);V?this.focusPosition(V):this.tryToFocusFullWidthRow(f)}},o.prototype.getNormalisedPosition=function(r){this.ensureCellVisible(r);var a=this.getCellByPosition(r);return a?(r=a.getCellPosition(),this.ensureCellVisible(r),r):null},o.prototype.tryToFocusFullWidthRow=function(r,a){void 0===a&&(a=!1);var u=this.columnModel.getAllDisplayedColumns(),c=this.rowRenderer.getRowByPosition(r);if(!c||!c.isFullWidth())return!1;var f={rowIndex:r.rowIndex,rowPinned:r.rowPinned,column:r.column||(a?Jt(u):u[0])};return this.focusPosition(f),!0},o.prototype.focusPosition=function(r){this.focusService.setFocusedCell(r.rowIndex,r.column,r.rowPinned,!0),this.rangeService&&this.rangeService.setRangeToCell(r)},o.prototype.isValidNavigateCell=function(r){return!!this.rowPositionUtils.getRowNode(r)},o.prototype.getLastCellOfColSpan=function(r){var a=this.getCellByPosition(r);if(!a)return r;var u=a.getColSpanningList();return 1===u.length?r:{rowIndex:r.rowIndex,column:Jt(u),rowPinned:r.rowPinned}},o.prototype.ensureCellVisible=function(r){Ge(r.rowPinned)&&this.gridBodyCon.getScrollFeature().ensureIndexVisible(r.rowIndex),r.column.isPinned()||this.gridBodyCon.getScrollFeature().ensureColumnVisible(r.column),this.gridBodyCon.getScrollFeature().horizontallyScrollHeaderCenterAndFloatingCenter(),this.animationFrameService.flushAllFrames()},dr([F("mouseEventService")],o.prototype,"mouseEventService",void 0),dr([F("paginationProxy")],o.prototype,"paginationProxy",void 0),dr([F("focusService")],o.prototype,"focusService",void 0),dr([F("animationFrameService")],o.prototype,"animationFrameService",void 0),dr([et("rangeService")],o.prototype,"rangeService",void 0),dr([F("columnModel")],o.prototype,"columnModel",void 0),dr([F("ctrlsService")],o.prototype,"ctrlsService",void 0),dr([F("rowRenderer")],o.prototype,"rowRenderer",void 0),dr([F("headerNavigationService")],o.prototype,"headerNavigationService",void 0),dr([F("rowPositionUtils")],o.prototype,"rowPositionUtils",void 0),dr([F("cellNavigationService")],o.prototype,"cellNavigationService",void 0),dr([F("pinnedRowModel")],o.prototype,"pinnedRowModel",void 0),dr([ye],o.prototype,"postConstruct",null),dr([Te("navigationService")],o)}(he),ZE=function(){var d=function(o,r){return(d=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(a,u){a.__proto__=u}||function(a,u){for(var c in u)u.hasOwnProperty(c)&&(a[c]=u[c])})(o,r)};return function(o,r){function a(){this.constructor=o}d(o,r),o.prototype=null===r?Object.create(r):(a.prototype=r.prototype,new a)}}(),vd=function(d,o,r,a){var f,u=arguments.length,c=u<3?o:null===a?a=Object.getOwnPropertyDescriptor(o,r):a;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)c=Reflect.decorate(d,o,r,a);else for(var y=d.length-1;y>=0;y--)(f=d[y])&&(c=(u<3?f(c):u>3?f(o,r,c):f(o,r))||c);return u>3&&c&&Object.defineProperty(o,r,c),c},QE=function(d,o){return function(r,a){o(r,a,d)}},Gv=function(d){function o(){var r=null!==d&&d.apply(this,arguments)||this;return r.scrollY=0,r.uiBodyHeight=0,r}return ZE(o,d),o.prototype.agWire=function(r){this.logger=r.create("RowContainerHeightService")},o.prototype.postConstruct=function(){this.addManagedListener(this.eventService,j.EVENT_BODY_HEIGHT_CHANGED,this.updateOffset.bind(this)),this.maxDivHeight=Pc(),this.logger.log("maxDivHeight = "+this.maxDivHeight)},o.prototype.isStretching=function(){return this.stretching},o.prototype.getDivStretchOffset=function(){return this.divStretchOffset},o.prototype.updateOffset=function(){if(this.stretching){var a=this.ctrlsService.getGridBodyCtrl().getScrollFeature().getVScrollPosition().top,u=this.getUiBodyHeight();(a!==this.scrollY||u!==this.uiBodyHeight)&&(this.scrollY=a,this.uiBodyHeight=u,this.calculateOffset())}},o.prototype.calculateOffset=function(){this.setUiContainerHeight(this.maxDivHeight),this.pixelsToShave=this.modelHeight-this.uiContainerHeight,this.maxScrollY=this.uiContainerHeight-this.uiBodyHeight;var r=this.scrollY/this.maxScrollY,a=r*this.pixelsToShave;this.logger.log("Div Stretch Offset = "+a+" ("+this.pixelsToShave+" * "+r+")"),this.setDivStretchOffset(a)},o.prototype.setUiContainerHeight=function(r){r!==this.uiContainerHeight&&(this.uiContainerHeight=r,this.eventService.dispatchEvent({type:j.EVENT_ROW_CONTAINER_HEIGHT_CHANGED}))},o.prototype.clearOffset=function(){this.setUiContainerHeight(this.modelHeight),this.pixelsToShave=0,this.setDivStretchOffset(0)},o.prototype.setDivStretchOffset=function(r){var a="number"==typeof r?Math.floor(r):null;this.divStretchOffset!==a&&(this.divStretchOffset=a,this.eventService.dispatchEvent({type:j.EVENT_HEIGHT_SCALE_CHANGED}))},o.prototype.setModelHeight=function(r){this.modelHeight=r,this.stretching=null!=r&&this.maxDivHeight>0&&r>this.maxDivHeight,this.stretching?this.calculateOffset():this.clearOffset()},o.prototype.getUiContainerHeight=function(){return this.uiContainerHeight},o.prototype.getRealPixelPosition=function(r){return r-this.divStretchOffset},o.prototype.getUiBodyHeight=function(){var a=this.ctrlsService.getGridBodyCtrl().getScrollFeature().getVScrollPosition();return a.bottom-a.top},o.prototype.getScrollPositionForPixel=function(r){if(this.pixelsToShave<=0)return r;var a=this.modelHeight-this.getUiBodyHeight();return this.maxScrollY*(r/a)},vd([F("ctrlsService")],o.prototype,"ctrlsService",void 0),vd([QE(0,br("loggerFactory"))],o.prototype,"agWire",null),vd([ye],o.prototype,"postConstruct",null),vd([Te("rowContainerHeightService")],o)}(he),JE=function(){var d=function(o,r){return(d=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(a,u){a.__proto__=u}||function(a,u){for(var c in u)u.hasOwnProperty(c)&&(a[c]=u[c])})(o,r)};return function(o,r){function a(){this.constructor=o}d(o,r),o.prototype=null===r?Object.create(r):(a.prototype=r.prototype,new a)}}(),OC=function(d,o,r,a){var f,u=arguments.length,c=u<3?o:null===a?a=Object.getOwnPropertyDescriptor(o,r):a;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)c=Reflect.decorate(d,o,r,a);else for(var y=d.length-1;y>=0;y--)(f=d[y])&&(c=(u<3?f(c):u>3?f(o,r,c):f(o,r))||c);return u>3&&c&&Object.defineProperty(o,r,c),c},Hv=function(d){function o(){return null!==d&&d.apply(this,arguments)||this}return JE(o,d),o.prototype.init=function(){this.groupSelectsChildren=this.gridOptionsWrapper.isGroupSelectsChildren(),this.isRowSelectableFunc=this.gridOptionsWrapper.getIsRowSelectableFunc()},o.prototype.updateSelectableAfterGrouping=function(r){this.isRowSelectableFunc&&this.recurseDown(r.childrenAfterGroup,function(u){return u.childrenAfterGroup})},o.prototype.updateSelectableAfterFiltering=function(r){this.isRowSelectableFunc&&this.recurseDown(r.childrenAfterGroup,function(u){return u.childrenAfterFilter})},o.prototype.recurseDown=function(r,a){var u=this;!r||r.forEach(function(c){var f;c.group&&(c.hasChildren()&&u.recurseDown(a(c),a),f=u.groupSelectsChildren?ce(Un(a(c),"selectable",!0)):!!u.isRowSelectableFunc&&u.isRowSelectableFunc(c),c.setRowSelectable(f))})},OC([ye],o.prototype,"init",null),OC([Te("selectableService")],o)}(he),Iu=function(){var d=function(o,r){return(d=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(a,u){a.__proto__=u}||function(a,u){for(var c in u)u.hasOwnProperty(c)&&(a[c]=u[c])})(o,r)};return function(o,r){function a(){this.constructor=o}d(o,r),o.prototype=null===r?Object.create(r):(a.prototype=r.prototype,new a)}}(),so=function(d,o,r,a){var f,u=arguments.length,c=u<3?o:null===a?a=Object.getOwnPropertyDescriptor(o,r):a;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)c=Reflect.decorate(d,o,r,a);else for(var y=d.length-1;y>=0;y--)(f=d[y])&&(c=(u<3?f(c):u>3?f(o,r,c):f(o,r))||c);return u>3&&c&&Object.defineProperty(o,r,c),c},ex=function(d){function o(){var r=d.call(this)||this;return r.previousAndFirstButtonsDisabled=!1,r.nextButtonDisabled=!1,r.lastButtonDisabled=!1,r}return Iu(o,d),o.prototype.postConstruct=function(){var r=this,a=this.gridOptionsWrapper.isEnableRtl();this.setTemplate(this.getTemplate()),this.btFirst.insertAdjacentElement("afterbegin",An(a?"last":"first",this.gridOptionsWrapper)),this.btPrevious.insertAdjacentElement("afterbegin",An(a?"next":"previous",this.gridOptionsWrapper)),this.btNext.insertAdjacentElement("afterbegin",An(a?"previous":"next",this.gridOptionsWrapper)),this.btLast.insertAdjacentElement("afterbegin",An(a?"first":"last",this.gridOptionsWrapper)),this.gridOptionsWrapper.isPagination()&&!this.gridOptionsWrapper.isSuppressPaginationPanel()?(this.addManagedListener(this.eventService,j.EVENT_PAGINATION_CHANGED,this.onPaginationChanged.bind(this)),[{el:this.btFirst,fn:this.onBtFirst.bind(this)},{el:this.btPrevious,fn:this.onBtPrevious.bind(this)},{el:this.btNext,fn:this.onBtNext.bind(this)},{el:this.btLast,fn:this.onBtLast.bind(this)}].forEach(function(f){var y=f.el,w=f.fn;r.addManagedListener(y,"click",w),r.addManagedListener(y,"keydown",function(D){(D.keyCode===me.ENTER||D.keyCode===me.SPACE)&&(D.preventDefault(),w())})}),this.onPaginationChanged()):this.setDisplayed(!1)},o.prototype.onPaginationChanged=function(){this.enableOrDisableButtons(),this.updateRowLabels(),this.setCurrentPageLabel(),this.setTotalLabels()},o.prototype.onBtFirst=function(){this.previousAndFirstButtonsDisabled||this.paginationProxy.goToFirstPage()},o.prototype.setCurrentPageLabel=function(){var r=this.paginationProxy.getTotalPages()>0,a=this.paginationProxy.getCurrentPage();this.lbCurrent.innerHTML=this.formatNumber(r?a+1:0)},o.prototype.formatNumber=function(r){var a=this.gridOptionsWrapper.getPaginationNumberFormatterFunc();return a?a({value:r}):Dp(r)},o.prototype.getTemplate=function(){var r=this.gridOptionsWrapper.getLocaleTextFunc(),a=r("page","Page"),u=r("to","to"),c=r("of","of"),f=r("firstPage","First Page"),y=r("previousPage","Previous Page"),w=r("nextPage","Next Page"),D=r("lastPage","Last Page"),O=this.getCompId();return'<div class="ag-paging-panel ag-unselectable" id="ag-'+O+'">\n                <span class="ag-paging-row-summary-panel" role="status">\n                    <span id="ag-'+O+'-first-row" ref="lbFirstRowOnPage" class="ag-paging-row-summary-panel-number"></span>\n                    <span id="ag-'+O+'-to">'+u+'</span>\n                    <span id="ag-'+O+'-last-row" ref="lbLastRowOnPage" class="ag-paging-row-summary-panel-number"></span>\n                    <span id="ag-'+O+'-of">'+c+'</span>\n                    <span id="ag-'+O+'-row-count" ref="lbRecordCount" class="ag-paging-row-summary-panel-number"></span>\n                </span>\n                <span class="ag-paging-page-summary-panel" role="presentation">\n                    <div ref="btFirst" class="ag-paging-button" role="button" aria-label="'+f+'" tabindex="0"></div>\n                    <div ref="btPrevious" class="ag-paging-button" role="button" aria-label="'+y+'" tabindex="0"></div>\n                    <span class="ag-paging-description" role="status">\n                        <span id="ag-'+O+'-start-page">'+a+'</span>\n                        <span id="ag-'+O+'-start-page-number" ref="lbCurrent" class="ag-paging-number"></span>\n                        <span id="ag-'+O+'-of-page">'+c+'</span>\n                        <span id="ag-'+O+'-of-page-number" ref="lbTotal" class="ag-paging-number"></span>\n                    </span>\n                    <div ref="btNext" class="ag-paging-button" role="button" aria-label="'+w+'" tabindex="0"></div>\n                    <div ref="btLast" class="ag-paging-button" role="button" aria-label="'+D+'" tabindex="0"></div>\n                </span>\n            </div>'},o.prototype.onBtNext=function(){this.nextButtonDisabled||this.paginationProxy.goToNextPage()},o.prototype.onBtPrevious=function(){this.previousAndFirstButtonsDisabled||this.paginationProxy.goToPreviousPage()},o.prototype.onBtLast=function(){this.lastButtonDisabled||this.paginationProxy.goToLastPage()},o.prototype.enableOrDisableButtons=function(){var r=this.paginationProxy.getCurrentPage(),a=this.paginationProxy.isLastPageFound(),u=this.paginationProxy.getTotalPages();this.previousAndFirstButtonsDisabled=0===r,Ke(this.btFirst,"ag-disabled",this.previousAndFirstButtonsDisabled),su(this.btFirst,this.previousAndFirstButtonsDisabled),Ke(this.btPrevious,"ag-disabled",this.previousAndFirstButtonsDisabled),su(this.btPrevious,this.previousAndFirstButtonsDisabled);var c=this.isZeroPagesToDisplay();this.nextButtonDisabled=a&&r===u-1||c,Ke(this.btNext,"ag-disabled",this.nextButtonDisabled),su(this.btNext,this.nextButtonDisabled),this.lastButtonDisabled=!a||c||r===u-1,Ke(this.btLast,"ag-disabled",this.lastButtonDisabled),su(this.btLast,this.lastButtonDisabled)},o.prototype.updateRowLabels=function(){var f,y,r=this.paginationProxy.getCurrentPage(),a=this.paginationProxy.getPageSize(),u=this.paginationProxy.isLastPageFound(),c=this.paginationProxy.isLastPageFound()?this.paginationProxy.getMasterRowCount():null;this.isZeroPagesToDisplay()?f=y=0:(y=(f=a*r+1)+a-1,u&&y>c&&(y=c)),this.lbFirstRowOnPage.innerHTML=this.formatNumber(f),this.lbLastRowOnPage.innerHTML=this.rowNodeBlockLoader.isLoading()?"?":this.formatNumber(y)},o.prototype.isZeroPagesToDisplay=function(){var r=this.paginationProxy.isLastPageFound(),a=this.paginationProxy.getTotalPages();return r&&0===a},o.prototype.setTotalLabels=function(){var r=this.paginationProxy.isLastPageFound(),a=this.paginationProxy.getTotalPages(),u=r?this.paginationProxy.getMasterRowCount():null;if(1===u){var c=this.paginationProxy.getRow(0);if(c&&c.group&&!c.groupData&&!c.aggData)return void this.setTotalLabelsToZero()}if(r)this.lbTotal.innerHTML=this.formatNumber(a),this.lbRecordCount.innerHTML=this.formatNumber(u);else{var y=this.gridOptionsWrapper.getLocaleTextFunc()("more","more");this.lbTotal.innerHTML=y,this.lbRecordCount.innerHTML=y}},o.prototype.setTotalLabelsToZero=function(){this.lbFirstRowOnPage.innerHTML=this.formatNumber(0),this.lbCurrent.innerHTML=this.formatNumber(0),this.lbLastRowOnPage.innerHTML=this.formatNumber(0),this.lbTotal.innerHTML=this.formatNumber(0),this.lbRecordCount.innerHTML=this.formatNumber(0)},so([F("paginationProxy")],o.prototype,"paginationProxy",void 0),so([F("rowNodeBlockLoader")],o.prototype,"rowNodeBlockLoader",void 0),so([pe("btFirst")],o.prototype,"btFirst",void 0),so([pe("btPrevious")],o.prototype,"btPrevious",void 0),so([pe("btNext")],o.prototype,"btNext",void 0),so([pe("btLast")],o.prototype,"btLast",void 0),so([pe("lbRecordCount")],o.prototype,"lbRecordCount",void 0),so([pe("lbFirstRowOnPage")],o.prototype,"lbFirstRowOnPage",void 0),so([pe("lbLastRowOnPage")],o.prototype,"lbLastRowOnPage",void 0),so([pe("lbCurrent")],o.prototype,"lbCurrent",void 0),so([pe("lbTotal")],o.prototype,"lbTotal",void 0),so([ye],o.prototype,"postConstruct",null),o}(_t),tx=function(){var d=function(o,r){return(d=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(a,u){a.__proto__=u}||function(a,u){for(var c in u)u.hasOwnProperty(c)&&(a[c]=u[c])})(o,r)};return function(o,r){function a(){this.constructor=o}d(o,r),o.prototype=null===r?Object.create(r):(a.prototype=r.prototype,new a)}}(),RC=function(d){function o(){var r=null!==d&&d.apply(this,arguments)||this;return r.polyfillFunctions=[],r}return tx(o,d),o.prototype.observeResize=function(r,a){var O,u=this,c=qo(a,50),w=this.gridOptionsWrapper.isSuppressBrowserResizeObserver();return window.ResizeObserver&&!w?((O=new window.ResizeObserver(c)).observe(r),function(){return O.disconnect()}):function(){var O=en(r),I=Ap(r),V=!0,B=function(){if(V){var z=en(r),ee=Ap(r);(z!==O||ee!==I)&&(O=z,I=ee,a()),u.doNextPolyfillTurn(B)}};return B(),function(){return V=!1}}()},o.prototype.doNextPolyfillTurn=function(r){this.polyfillFunctions.push(r),this.schedulePolyfill()},o.prototype.schedulePolyfill=function(){var r=this;this.polyfillScheduled||(this.polyfillScheduled=!0,this.getFrameworkOverrides().setTimeout(function(){var u=r.polyfillFunctions;r.polyfillScheduled=!1,r.polyfillFunctions=[],u.forEach(function(c){return c()})},50))},function(d,o,r,a){var f,u=arguments.length,c=u<3?o:null===a?a=Object.getOwnPropertyDescriptor(o,r):a;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)c=Reflect.decorate(d,o,r,a);else for(var y=d.length-1;y>=0;y--)(f=d[y])&&(c=(u<3?f(c):u>3?f(o,r,c):f(o,r))||c);return u>3&&c&&Object.defineProperty(o,r,c),c}([Te("resizeObserverService")],o)}(he),ix=function(){var d=function(o,r){return(d=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(a,u){a.__proto__=u}||function(a,u){for(var c in u)u.hasOwnProperty(c)&&(a[c]=u[c])})(o,r)};return function(o,r){function a(){this.constructor=o}d(o,r),o.prototype=null===r?Object.create(r):(a.prototype=r.prototype,new a)}}(),Fu=function(d,o,r,a){var f,u=arguments.length,c=u<3?o:null===a?a=Object.getOwnPropertyDescriptor(o,r):a;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)c=Reflect.decorate(d,o,r,a);else for(var y=d.length-1;y>=0;y--)(f=d[y])&&(c=(u<3?f(c):u>3?f(o,r,c):f(o,r))||c);return u>3&&c&&Object.defineProperty(o,r,c),c},Nu=(()=>(function(d){d[d.Loading=0]="Loading",d[d.NoRows=1]="NoRows"}(Nu||(Nu={})),Nu))(),nx=function(d){function o(){var r=d.call(this,o.TEMPLATE)||this;return r.inProgress=!1,r.destroyRequested=!1,r}return ix(o,d),o.prototype.updateLayoutClasses=function(r,a){Ke(this.eOverlayWrapper,H.LBn.AUTO_HEIGHT,a.autoHeight),Ke(this.eOverlayWrapper,H.LBn.NORMAL,a.normal),Ke(this.eOverlayWrapper,H.LBn.PRINT,a.print)},o.prototype.postConstruct=function(){this.createManagedBean(new Sh(this)),this.setDisplayed(!1),this.addManagedListener(this.eventService,j.EVENT_ROW_DATA_CHANGED,this.onRowDataChanged.bind(this)),this.addManagedListener(this.eventService,j.EVENT_ROW_DATA_UPDATED,this.onRowDataChanged.bind(this)),this.addManagedListener(this.eventService,j.EVENT_NEW_COLUMNS_LOADED,this.onNewColumnsLoaded.bind(this)),this.gridOptionsWrapper.isRowModelDefault()&&!this.gridOptionsWrapper.getRowData()&&this.showLoadingOverlay(),this.gridApi.registerOverlayWrapperComp(this)},o.prototype.setWrapperTypeClass=function(r){Ke(this.eOverlayWrapper,"ag-overlay-loading-wrapper",r===Nu.Loading),Ke(this.eOverlayWrapper,"ag-overlay-no-rows-wrapper",r===Nu.NoRows)},o.prototype.showLoadingOverlay=function(){if(!this.gridOptionsWrapper.isSuppressLoadingOverlay()){var r={api:this.gridOptionsWrapper.getApi()},u=this.userComponentFactory.getLoadingOverlayCompDetails(r).newAgStackInstance();this.showOverlay(u,Nu.Loading)}},o.prototype.showNoRowsOverlay=function(){if(!this.gridOptionsWrapper.isSuppressNoRowsOverlay()){var r={api:this.gridOptionsWrapper.getApi()},u=this.userComponentFactory.getNoRowsOverlayCompDetails(r).newAgStackInstance();this.showOverlay(u,Nu.NoRows)}},o.prototype.showOverlay=function(r,a){var u=this;this.inProgress||(this.setWrapperTypeClass(a),this.destroyActiveOverlay(),this.inProgress=!0,r&&r.then(function(c){u.inProgress=!1,u.eOverlayWrapper.appendChild(c.getGui()),u.activeOverlay=c,u.destroyRequested&&(u.destroyRequested=!1,u.destroyActiveOverlay())}),this.setDisplayed(!0))},o.prototype.destroyActiveOverlay=function(){this.inProgress?this.destroyRequested=!0:!this.activeOverlay||(this.activeOverlay=this.getContext().destroyBean(this.activeOverlay),mo(this.eOverlayWrapper))},o.prototype.hideOverlay=function(){this.destroyActiveOverlay(),this.setDisplayed(!1)},o.prototype.destroy=function(){this.destroyActiveOverlay(),d.prototype.destroy.call(this)},o.prototype.showOrHideOverlay=function(){var r=this.paginationProxy.isEmpty(),a=this.gridOptionsWrapper.isSuppressNoRowsOverlay();r&&!a?this.showNoRowsOverlay():this.hideOverlay()},o.prototype.onRowDataChanged=function(){this.showOrHideOverlay()},o.prototype.onNewColumnsLoaded=function(){this.columnModel.isReady()&&!this.paginationProxy.isEmpty()&&this.hideOverlay()},o.TEMPLATE='\n        <div class="ag-overlay" aria-hidden="true">\n            <div class="ag-overlay-panel">\n                <div class="ag-overlay-wrapper" ref="eOverlayWrapper"></div>\n            </div>\n        </div>',Fu([F("userComponentFactory")],o.prototype,"userComponentFactory",void 0),Fu([F("paginationProxy")],o.prototype,"paginationProxy",void 0),Fu([F("gridApi")],o.prototype,"gridApi",void 0),Fu([F("columnModel")],o.prototype,"columnModel",void 0),Fu([pe("eOverlayWrapper")],o.prototype,"eOverlayWrapper",void 0),Fu([ye],o.prototype,"postConstruct",null),o}(_t),TC=function(){var d=function(o,r){return(d=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(a,u){a.__proto__=u}||function(a,u){for(var c in u)u.hasOwnProperty(c)&&(a[c]=u[c])})(o,r)};return function(o,r){function a(){this.constructor=o}d(o,r),o.prototype=null===r?Object.create(r):(a.prototype=r.prototype,new a)}}(),Et=function(d,o,r,a){var f,u=arguments.length,c=u<3?o:null===a?a=Object.getOwnPropertyDescriptor(o,r):a;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)c=Reflect.decorate(d,o,r,a);else for(var y=d.length-1;y>=0;y--)(f=d[y])&&(c=(u<3?f(c):u>3?f(o,r,c):f(o,r))||c);return u>3&&c&&Object.defineProperty(o,r,c),c},zh=function(d){function o(r){void 0===r&&(r={});var a=d.call(this,o.getTemplate(r))||this;a.suppressEnabledCheckbox=!0,a.suppressOpenCloseIcons=!1;var c=r.enabled,f=r.items,y=r.suppressEnabledCheckbox,w=r.suppressOpenCloseIcons;return a.title=r.title,a.cssIdentifier=r.cssIdentifier||"default",a.enabled=null==c||c,a.items=f||[],a.alignItems=r.alignItems||"center",null!=y&&(a.suppressEnabledCheckbox=y),null!=w&&(a.suppressOpenCloseIcons=w),a}return TC(o,d),o.getTemplate=function(r){var a=r.cssIdentifier||"default";return'<div class="ag-group ag-'+a+'-group" role="presentation">\n            <div class="ag-group-title-bar ag-'+a+'-group-title-bar ag-unselectable" ref="eTitleBar" role="button">\n                <span class="ag-group-title-bar-icon ag-'+a+'-group-title-bar-icon" ref="eGroupOpenedIcon" role="presentation"></span>\n                <span class="ag-group-title-bar-icon ag-'+a+'-group-title-bar-icon" ref="eGroupClosedIcon" role="presentation"></span>\n                <span ref="eTitle" class="ag-group-title ag-'+a+'-group-title"></span>\n            </div>\n            <div ref="eToolbar" class="ag-group-toolbar ag-'+a+'-group-toolbar">\n                <ag-checkbox ref="cbGroupEnabled"></ag-checkbox>\n            </div>\n            <div ref="eContainer" class="ag-group-container ag-group-container-'+(r.direction||"vertical")+" ag-"+a+'-group-container"></div>\n        </div>'},o.prototype.postConstruct=function(){if(this.items.length){var r=this.items;this.items=[],this.addItems(r)}var a=this.gridOptionsWrapper.getLocaleTextFunc();this.cbGroupEnabled.setLabel(a("enabled","Enabled")),this.title&&this.setTitle(this.title),this.enabled&&this.setEnabled(this.enabled),this.setAlignItems(this.alignItems),this.hideEnabledCheckbox(this.suppressEnabledCheckbox),this.hideOpenCloseIcons(this.suppressOpenCloseIcons),this.setupExpandContract(),this.refreshAriaStatus(),this.refreshChildDisplay()},o.prototype.setupExpandContract=function(){var r=this;this.eGroupClosedIcon.appendChild(kr("columnSelectClosed",this.gridOptionsWrapper,null)),this.eGroupOpenedIcon.appendChild(kr("columnSelectOpen",this.gridOptionsWrapper,null)),this.addManagedListener(this.eTitleBar,"click",function(){return r.toggleGroupExpand()}),this.addManagedListener(this.eTitleBar,"keydown",function(a){switch(a.keyCode){case me.ENTER:case me.SPACE:a.preventDefault(),r.toggleGroupExpand();break;case me.RIGHT:case me.LEFT:a.preventDefault(),r.toggleGroupExpand(a.keyCode===me.RIGHT)}})},o.prototype.refreshAriaStatus=function(){this.suppressOpenCloseIcons||Hp(this.eTitleBar,this.expanded)},o.prototype.refreshChildDisplay=function(){var r=!this.suppressOpenCloseIcons;Oi(this.eToolbar,this.expanded&&!this.suppressEnabledCheckbox),Oi(this.eGroupOpenedIcon,r&&this.expanded),Oi(this.eGroupClosedIcon,r&&!this.expanded)},o.prototype.isExpanded=function(){return this.expanded},o.prototype.setAlignItems=function(r){var a=this.getGui();return this.alignItems!==r&&Xn(a,"ag-group-item-alignment-"+this.alignItems),this.alignItems=r,Me(a,"ag-group-item-alignment-"+this.alignItems),this},o.prototype.toggleGroupExpand=function(r){return this.suppressOpenCloseIcons?(this.expanded=!0,this.refreshChildDisplay(),Oi(this.eContainer,!0),this):(this.expanded===(r=null!=r?r:!this.expanded)||(this.expanded=r,this.refreshAriaStatus(),this.refreshChildDisplay(),Oi(this.eContainer,r),this.dispatchEvent({type:this.expanded?o.EVENT_EXPANDED:o.EVENT_COLLAPSED})),this)},o.prototype.addItems=function(r){var a=this;r.forEach(function(u){return a.addItem(u)})},o.prototype.addItem=function(r){var a=this.eContainer,u=r instanceof _t?r.getGui():r;Me(u,"ag-group-item"),Me(u,"ag-"+this.cssIdentifier+"-group-item"),a.appendChild(u),this.items.push(u)},o.prototype.hideItem=function(r,a){Ke(this.items[a],"ag-hidden",r)},o.prototype.setTitle=function(r){return this.eTitle.innerText=r,this},o.prototype.addCssClassToTitleBar=function(r){Me(this.eTitleBar,r)},o.prototype.setEnabled=function(r,a){return this.enabled=r,this.refreshDisabledStyles(),this.toggleGroupExpand(r),a||this.cbGroupEnabled.setValue(r),this},o.prototype.isEnabled=function(){return this.enabled},o.prototype.onEnableChange=function(r){var a=this;return this.cbGroupEnabled.onValueChange(function(u){a.setEnabled(u,!0),r(u)}),this},o.prototype.hideEnabledCheckbox=function(r){return this.suppressEnabledCheckbox=r,this.refreshChildDisplay(),this.refreshDisabledStyles(),this},o.prototype.hideOpenCloseIcons=function(r){return this.suppressOpenCloseIcons=r,r&&this.toggleGroupExpand(!0),this},o.prototype.refreshDisabledStyles=function(){Ke(this.getGui(),"ag-disabled",!this.enabled),this.suppressEnabledCheckbox&&!this.enabled?(Me(this.eTitleBar,"ag-disabled-group-title-bar"),this.eTitleBar.removeAttribute("tabindex")):(Xn(this.eTitleBar,"ag-disabled-group-title-bar"),this.eTitleBar.setAttribute("tabindex","0")),Ke(this.eContainer,"ag-disabled-group-container",!this.enabled)},o.EVENT_EXPANDED="expanded",o.EVENT_COLLAPSED="collapsed",Et([pe("eTitleBar")],o.prototype,"eTitleBar",void 0),Et([pe("eGroupOpenedIcon")],o.prototype,"eGroupOpenedIcon",void 0),Et([pe("eGroupClosedIcon")],o.prototype,"eGroupClosedIcon",void 0),Et([pe("eToolbar")],o.prototype,"eToolbar",void 0),Et([pe("cbGroupEnabled")],o.prototype,"cbGroupEnabled",void 0),Et([pe("eTitle")],o.prototype,"eTitle",void 0),Et([pe("eContainer")],o.prototype,"eContainer",void 0),Et([ye],o.prototype,"postConstruct",null),o}(_t),QA=function(){var d=function(o,r){return(d=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(a,u){a.__proto__=u}||function(a,u){for(var c in u)u.hasOwnProperty(c)&&(a[c]=u[c])})(o,r)};return function(o,r){function a(){this.constructor=o}d(o,r),o.prototype=null===r?Object.create(r):(a.prototype=r.prototype,new a)}}(),ys=function(d,o,r,a){var f,u=arguments.length,c=u<3?o:null===a?a=Object.getOwnPropertyDescriptor(o,r):a;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)c=Reflect.decorate(d,o,r,a);else for(var y=d.length-1;y>=0;y--)(f=d[y])&&(c=(u<3?f(c):u>3?f(o,r,c):f(o,r))||c);return u>3&&c&&Object.defineProperty(o,r,c),c},rx=function(d){function o(r,a){var u=d.call(this)||this;return u.element=r,u.dragStartPosition={x:0,y:0},u.position={x:0,y:0},u.lastSize={width:-1,height:-1},u.positioned=!1,u.resizersAdded=!1,u.resizeListeners=[],u.boundaryEl=null,u.isResizing=!1,u.isMoving=!1,u.resizable={},u.movable=!1,u.currentResizer=null,u.config=rr({},{popup:!1},a),u}return QA(o,d),o.prototype.center=function(){var r=this.offsetParent,a=r.clientHeight,c=r.clientWidth/2-this.getWidth()/2,f=a/2-this.getHeight()/2;this.offsetElement(c,f)},o.prototype.initialisePosition=function(){var r=this.config,a=r.centered,u=r.forcePopupParentAsOffsetParent,c=r.minWidth,f=r.width,y=r.minHeight,w=r.height,D=r.x,O=r.y;this.offsetParent||this.setOffsetParent();var I=0,V=0,B=!!this.element.offsetParent;if(B){var z=this.findBoundaryElement(),ee=window.getComputedStyle(z);if(null!=ee.minWidth){var ie=z.offsetWidth-this.element.offsetWidth;V=parseInt(ee.minWidth,10)-ie}if(null!=ee.minHeight){var _e=z.offsetHeight-this.element.offsetHeight;I=parseInt(ee.minHeight,10)-_e}}if(this.minHeight=y||I,this.minWidth=c||V,f&&this.setWidth(f),w&&this.setHeight(w),(!f||!w)&&this.refreshSize(),a)this.center();else if(D||O)this.offsetElement(D,O);else if(B&&u&&this.boundaryEl){var de=parseFloat(this.boundaryEl.style.top),le=parseFloat(this.boundaryEl.style.left);this.offsetElement(isNaN(le)?0:le,isNaN(de)?0:de)}this.positioned=!!this.offsetParent},o.prototype.isPositioned=function(){return this.positioned},o.prototype.getPosition=function(){return this.position},o.prototype.setMovable=function(r,a){if(this.config.popup&&r!==this.movable){this.movable=r;var u=this.moveElementDragListener||{eElement:a,onDragStart:this.onMoveStart.bind(this),onDragging:this.onMove.bind(this),onDragStop:this.onMoveEnd.bind(this)};r?(this.dragService.addDragSource(u),this.moveElementDragListener=u):(this.dragService.removeDragSource(u),this.moveElementDragListener=void 0)}},o.prototype.setResizable=function(r){var a=this;if(this.clearResizeListeners(),r?this.addResizers():this.removeResizers(),"boolean"==typeof r){if(!1===r)return;r={topLeft:r,top:r,topRight:r,right:r,bottomRight:r,bottom:r,bottomLeft:r,left:r}}Object.keys(r).forEach(function(u){var f=!!r[u],y=a.getResizerElement(u),w={dragStartPixels:0,eElement:y,onDragStart:function(D){return a.onResizeStart(D,u)},onDragging:a.onResize.bind(a),onDragStop:function(D){return a.onResizeEnd(D,u)}};(!!a.resizable[u]!==f||!a.isAlive()&&!f)&&(f?(a.dragService.addDragSource(w),a.resizeListeners.push(w),y.style.pointerEvents="all"):y.style.pointerEvents="none")})},o.prototype.removeSizeFromEl=function(){this.element.style.removeProperty("height"),this.element.style.removeProperty("width"),this.element.style.removeProperty("flex")},o.prototype.restoreLastSize=function(){this.element.style.flex="0 0 auto";var r=this.lastSize,a=r.height,u=r.width;-1!==u&&(this.element.style.width=u+"px"),-1!==a&&(this.element.style.height=a+"px")},o.prototype.getHeight=function(){return this.element.offsetHeight},o.prototype.setHeight=function(r){var a=this.config.popup,u=this.element,c=!1;if("string"==typeof r&&-1!==r.indexOf("%"))Ta(u,r),r=C_(u),c=!0;else if(this.positioned){var f=this.element.getBoundingClientRect(),y=this.offsetParent.getBoundingClientRect();r=Math.max(this.minHeight,r);var w=this.offsetParent.clientHeight,D=a?this.position.y:f.top;w&&r+D>w+(a?0:y.top)&&(r=w-D)}this.getHeight()!==r&&(c?(u.style.maxHeight="unset",u.style.minHeight="unset"):a?Ta(u,r):(u.style.height=r+"px",u.style.flex="0 0 auto",this.lastSize.height="number"==typeof r?r:parseFloat(r)))},o.prototype.getWidth=function(){return this.element.offsetWidth},o.prototype.setWidth=function(r){var a=this.element,u=this.config.popup,c=!1;if("string"==typeof r&&-1!==r.indexOf("%"))un(a,r),r=fg(a),c=!0;else if(this.positioned){r=Math.max(this.minWidth,r);var f=this.offsetParent.clientWidth,y=u?this.position.x:this.element.getBoundingClientRect().left;f&&r+y>f&&(r=f-y)}this.getWidth()!==r&&(c?(a.style.maxWidth="unset",a.style.minWidth="unset"):this.config.popup?un(a,r):(a.style.width=r+"px",a.style.flex=" unset",this.lastSize.width="number"==typeof r?r:parseFloat(r)))},o.prototype.offsetElement=function(r,a){void 0===r&&(r=0),void 0===a&&(a=0);var u=this.config.forcePopupParentAsOffsetParent?this.boundaryEl:this.element;this.popupService.positionPopup({ePopup:u,x:r,y:a,keepWithinBounds:!0}),this.setPosition(parseFloat(u.style.left),parseFloat(u.style.top))},o.prototype.setPosition=function(r,a){this.position.x=r,this.position.y=a},o.prototype.updateDragStartPosition=function(r,a){this.dragStartPosition={x:r,y:a}},o.prototype.calculateMouseMovement=function(r){var a=r.e,c=r.isTop,y=r.topBuffer,w=a.clientX-this.dragStartPosition.x,D=a.clientY-this.dragStartPosition.y;return{movementX:this.shouldSkipX(a,!!r.isLeft,!!r.anywhereWithin,w)?0:w,movementY:this.shouldSkipY(a,!!c,y,D)?0:D}},o.prototype.shouldSkipX=function(r,a,u,c){var f=this.element.getBoundingClientRect(),y=this.offsetParent.getBoundingClientRect(),w=this.boundaryEl.getBoundingClientRect(),D=this.config.popup?this.position.x:f.left,O=D<=0&&y.left>=r.clientX||y.right<=r.clientX&&y.right<=w.right;return!!O||(a?c<0&&r.clientX>D+y.left||c>0&&r.clientX<D+y.left:u?c<0&&r.clientX>w.right||c>0&&r.clientX<D+y.left:c<0&&r.clientX>w.right||c>0&&r.clientX<w.right)},o.prototype.shouldSkipY=function(r,a,u,c){void 0===u&&(u=0);var f=this.element.getBoundingClientRect(),y=this.offsetParent.getBoundingClientRect(),w=this.boundaryEl.getBoundingClientRect(),D=this.config.popup?this.position.y:f.top,O=D<=0&&y.top>=r.clientY||y.bottom<=r.clientY&&y.bottom<=w.bottom;return!!O||(a?c<0&&r.clientY>D+y.top+u||c>0&&r.clientY<D+y.top:c<0&&r.clientY>w.bottom||c>0&&r.clientY<w.bottom)},o.prototype.createResizeMap=function(){var r=this.element;this.resizerMap={topLeft:{element:r.querySelector("[ref=eTopLeftResizer]")},top:{element:r.querySelector("[ref=eTopResizer]")},topRight:{element:r.querySelector("[ref=eTopRightResizer]")},right:{element:r.querySelector("[ref=eRightResizer]")},bottomRight:{element:r.querySelector("[ref=eBottomRightResizer]")},bottom:{element:r.querySelector("[ref=eBottomResizer]")},bottomLeft:{element:r.querySelector("[ref=eBottomLeftResizer]")},left:{element:r.querySelector("[ref=eLeftResizer]")}}},o.prototype.addResizers=function(){if(!this.resizersAdded){var r=this.element;if(r){var u=(new DOMParser).parseFromString('<div class="ag-resizer-wrapper">\n        <div ref="eTopLeftResizer" class="ag-resizer ag-resizer-topLeft"></div>\n        <div ref="eTopResizer" class="ag-resizer ag-resizer-top"></div>\n        <div ref="eTopRightResizer" class="ag-resizer ag-resizer-topRight"></div>\n        <div ref="eRightResizer" class="ag-resizer ag-resizer-right"></div>\n        <div ref="eBottomRightResizer" class="ag-resizer ag-resizer-bottomRight"></div>\n        <div ref="eBottomResizer" class="ag-resizer ag-resizer-bottom"></div>\n        <div ref="eBottomLeftResizer" class="ag-resizer ag-resizer-bottomLeft"></div>\n        <div ref="eLeftResizer" class="ag-resizer ag-resizer-left"></div>\n    </div>',"text/html").body;r.appendChild(u.firstChild),this.createResizeMap(),this.resizersAdded=!0}}},o.prototype.removeResizers=function(){this.resizerMap=void 0;var r=this.element.querySelector(".ag-resizer-wrapper");r&&this.element.removeChild(r),this.resizersAdded=!1},o.prototype.getResizerElement=function(r){return this.resizerMap[r].element},o.prototype.onResizeStart=function(r,a){this.boundaryEl=this.findBoundaryElement(),this.positioned||this.initialisePosition(),this.currentResizer={isTop:!!a.match(/top/i),isRight:!!a.match(/right/i),isBottom:!!a.match(/bottom/i),isLeft:!!a.match(/left/i)},Me(this.element,"ag-resizing"),Me(this.resizerMap[a].element,"ag-active");var u=this.config;!u.popup&&!u.forcePopupParentAsOffsetParent&&this.applySizeToSiblings(this.currentResizer.isBottom||this.currentResizer.isTop),this.isResizing=!0,this.updateDragStartPosition(r.clientX,r.clientY)},o.prototype.getSiblings=function(){var a=this.element.parentElement;return a?Array.prototype.slice.call(a.children).filter(function(u){return!ts(u,"ag-hidden")}):null},o.prototype.getMinSizeOfSiblings=function(){for(var r=this.getSiblings()||[],a=0,u=0,c=0;c<r.length;c++){var f=r[c];if(f!==this.element){var w=this.minHeight||0,D=this.minWidth||0;if(f.style.flex&&"0 0 auto"!==f.style.flex){var O=window.getComputedStyle(f);O.minHeight&&(w=parseInt(O.minHeight,10)),O.minWidth&&(D=parseInt(O.minWidth,10))}else w=f.offsetHeight,D=f.offsetWidth;a+=w,u+=D}}return{height:a,width:u}},o.prototype.applySizeToSiblings=function(r){var a=null,u=this.getSiblings();if(u){for(var c=0;c<u.length;c++){var f=u[c];f!==a&&(r?f.style.height=f.offsetHeight+"px":f.style.width=f.offsetWidth+"px",f.style.flex="0 0 auto",f===this.element&&(a=u[c+1]))}a&&(a.style.removeProperty("height"),a.style.removeProperty("min-height"),a.style.removeProperty("max-height"),a.style.flex="1 1 auto")}},o.prototype.onResize=function(r){if(this.isResizing&&this.currentResizer){var a=this.config,u=a.popup,c=a.forcePopupParentAsOffsetParent,f=this.currentResizer,y=f.isTop,O=f.isLeft,I=f.isRight||O,V=f.isBottom||y,B=this.calculateMouseMovement({e:r,isLeft:O,isTop:y}),z=B.movementX,ee=B.movementY,ie=this.position.x,_e=this.position.y,de=0,le=0;if(I&&z){var Ee=O?-1:1,ze=this.getWidth(),wt=ze+z*Ee,Ze=!1;O&&(ie+(de=ze-wt)<=0||wt<=this.minWidth)&&(Ze=!0,de=0),Ze||this.setWidth(wt)}if(V&&ee){Ee=y?-1:1;var ct=this.getHeight(),ei=ct+ee*Ee,Gt=!1;y?(_e+(le=ct-ei)<=0||ei<=this.minHeight)&&(Gt=!0,le=0):!this.config.popup&&!this.config.forcePopupParentAsOffsetParent&&ct<ei&&this.getMinSizeOfSiblings().height+ei>this.element.parentElement.offsetHeight&&(Gt=!0),Gt||this.setHeight(ei)}this.updateDragStartPosition(r.clientX,r.clientY),((u||c)&&de||le)&&this.offsetElement(ie+de,_e+le)}},o.prototype.onResizeEnd=function(r,a){this.isResizing=!1,this.currentResizer=null,this.boundaryEl=null;var u={type:"resize",api:this.gridOptionsWrapper.getApi(),columnApi:this.gridOptionsWrapper.getColumnApi()};Xn(this.element,"ag-resizing"),Xn(this.resizerMap[a].element,"ag-active"),this.dispatchEvent(u)},o.prototype.refreshSize=function(){var r=this.element;this.config.popup&&(this.config.width||this.setWidth(r.offsetWidth),this.config.height||this.setHeight(r.offsetHeight))},o.prototype.onMoveStart=function(r){this.boundaryEl=this.findBoundaryElement(),this.positioned||this.initialisePosition(),this.isMoving=!0,Me(this.element,"ag-moving"),this.updateDragStartPosition(r.clientX,r.clientY)},o.prototype.onMove=function(r){if(this.isMoving){var f,a=this.position,u=a.x,c=a.y;this.config.calculateTopBuffer&&(f=this.config.calculateTopBuffer());var y=this.calculateMouseMovement({e:r,isTop:!0,anywhereWithin:!0,topBuffer:f});this.offsetElement(u+y.movementX,c+y.movementY),this.updateDragStartPosition(r.clientX,r.clientY)}},o.prototype.onMoveEnd=function(){this.isMoving=!1,this.boundaryEl=null,Xn(this.element,"ag-moving")},o.prototype.setOffsetParent=function(){this.offsetParent=this.config.forcePopupParentAsOffsetParent?this.popupService.getPopupParent():this.element.offsetParent},o.prototype.findBoundaryElement=function(){for(var r=this.element;r;){if("static"!==window.getComputedStyle(r).position)return r;r=r.parentElement}return this.element},o.prototype.clearResizeListeners=function(){for(;this.resizeListeners.length;){var r=this.resizeListeners.pop();this.dragService.removeDragSource(r)}},o.prototype.destroy=function(){d.prototype.destroy.call(this),this.moveElementDragListener&&this.dragService.removeDragSource(this.moveElementDragListener),this.clearResizeListeners(),this.removeResizers()},ys([F("popupService")],o.prototype,"popupService",void 0),ys([F("dragService")],o.prototype,"dragService",void 0),o}(he),ox=function(){var d=function(o,r){return(d=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(a,u){a.__proto__=u}||function(a,u){for(var c in u)u.hasOwnProperty(c)&&(a[c]=u[c])})(o,r)};return function(o,r){function a(){this.constructor=o}d(o,r),o.prototype=null===r?Object.create(r):(a.prototype=r.prototype,new a)}}(),yd=function(d,o,r,a){var f,u=arguments.length,c=u<3?o:null===a?a=Object.getOwnPropertyDescriptor(o,r):a;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)c=Reflect.decorate(d,o,r,a);else for(var y=d.length-1;y>=0;y--)(f=d[y])&&(c=(u<3?f(c):u>3?f(o,r,c):f(o,r))||c);return u>3&&c&&Object.defineProperty(o,r,c),c},Yh=function(d){function o(r){var a=d.call(this,o.getTemplate(r))||this;return a.closable=!0,a.config=r,a}return ox(o,d),o.getTemplate=function(r){var a=r&&r.cssIdentifier||"default";return'<div class="ag-panel ag-'+a+'-panel" tabindex="-1">\n            <div ref="eTitleBar" class="ag-panel-title-bar ag-'+a+'-panel-title-bar ag-unselectable">\n                <span ref="eTitle" class="ag-panel-title-bar-title ag-'+a+'-panel-title-bar-title"></span>\n                <div ref="eTitleBarButtons" class="ag-panel-title-bar-buttons ag-'+a+'-panel-title-bar-buttons"></div>\n            </div>\n            <div ref="eContentWrapper" class="ag-panel-content-wrapper ag-'+a+'-panel-content-wrapper"></div>\n        </div>'},o.prototype.postConstruct=function(){var r=this,a=this.config,u=a.component,c=a.closable,f=a.hideTitleBar,y=a.title,w=a.minWidth,D=void 0===w?250:w,O=a.width,I=a.minHeight,V=void 0===I?250:I,B=a.height,z=a.centered,ee=a.popup,ie=a.x,_e=a.y;this.positionableFeature=new rx(this.getGui(),{minWidth:D,width:O,minHeight:V,height:B,centered:z,x:ie,y:_e,popup:ee,calculateTopBuffer:function(){return r.positionableFeature.getHeight()-r.getBodyHeight()}}),this.createManagedBean(this.positionableFeature);var de=this.getGui();u&&this.setBodyComponent(u),f?Me(this.eTitleBar,"ag-hidden"):(y&&this.setTitle(y),this.setClosable(null!=c?c:this.closable)),this.addManagedListener(this.eTitleBar,"mousedown",function(le){if(de.contains(le.relatedTarget)||de.contains(document.activeElement)||r.eTitleBarButtons.contains(le.target))le.preventDefault();else{var Ee=r.eContentWrapper.querySelector("button, [href], input, select, textarea, [tabindex]");Ee&&Ee.focus()}}),(!ee||!this.positionableFeature.isPositioned())&&(this.renderComponent&&this.renderComponent(),this.positionableFeature.initialisePosition(),this.eContentWrapper.style.height="0")},o.prototype.renderComponent=function(){var r=this,a=this.getGui();a.focus(),this.close=function(){a.parentElement.removeChild(a),r.destroy()}},o.prototype.getHeight=function(){return this.positionableFeature.getHeight()},o.prototype.setHeight=function(r){this.positionableFeature.setHeight(r)},o.prototype.getWidth=function(){return this.positionableFeature.getWidth()},o.prototype.setWidth=function(r){this.positionableFeature.setWidth(r)},o.prototype.setClosable=function(r){if(r!==this.closable&&(this.closable=r),r){var a=this.closeButtonComp=new _t(o.CLOSE_BTN_TEMPLATE);this.getContext().createBean(a),(u=a.getGui()).appendChild(Me(An("close",this.gridOptionsWrapper),"ag-panel-title-bar-button-icon")),this.addTitleBarButton(a),a.addManagedListener(u,"click",this.onBtClose.bind(this))}else if(this.closeButtonComp){var u;(u=this.closeButtonComp.getGui()).parentElement.removeChild(u),this.closeButtonComp=this.destroyBean(this.closeButtonComp)}},o.prototype.setBodyComponent=function(r){r.setParentComponent(this),this.eContentWrapper.appendChild(r.getGui())},o.prototype.addTitleBarButton=function(r,a){var u=this.eTitleBarButtons,c=u.children,f=c.length;null==a&&(a=f),a=Math.max(0,Math.min(a,f));var y=r.getGui();Me(y,"ag-panel-title-bar-button"),0===a?u.insertAdjacentElement("afterbegin",y):a===f?u.insertAdjacentElement("beforeend",y):c[a-1].insertAdjacentElement("afterend",y),r.setParentComponent(this)},o.prototype.getBodyHeight=function(){return Pp(this.eContentWrapper)},o.prototype.getBodyWidth=function(){return hg(this.eContentWrapper)},o.prototype.setTitle=function(r){this.eTitle.innerText=r},o.prototype.onBtClose=function(){this.close()},o.prototype.destroy=function(){this.closeButtonComp&&(this.closeButtonComp=this.destroyBean(this.closeButtonComp));var r=this.getGui();r&&r.offsetParent&&this.close(),d.prototype.destroy.call(this)},o.CLOSE_BTN_TEMPLATE='<div class="ag-button"></div>',yd([pe("eContentWrapper")],o.prototype,"eContentWrapper",void 0),yd([pe("eTitleBar")],o.prototype,"eTitleBar",void 0),yd([pe("eTitleBarButtons")],o.prototype,"eTitleBarButtons",void 0),yd([pe("eTitle")],o.prototype,"eTitle",void 0),yd([ye],o.prototype,"postConstruct",null),o}(_t),AC=function(){var d=function(o,r){return(d=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(a,u){a.__proto__=u}||function(a,u){for(var c in u)u.hasOwnProperty(c)&&(a[c]=u[c])})(o,r)};return function(o,r){function a(){this.constructor=o}d(o,r),o.prototype=null===r?Object.create(r):(a.prototype=r.prototype,new a)}}(),md=function(){return(md=Object.assign||function(d){for(var o,r=1,a=arguments.length;r<a;r++)for(var u in o=arguments[r])Object.prototype.hasOwnProperty.call(o,u)&&(d[u]=o[u]);return d}).apply(this,arguments)},jv=function(d){function o(r){var a=d.call(this,md(md({},r),{popup:!0}))||this;return a.isMaximizable=!1,a.isMaximized=!1,a.maximizeListeners=[],a.resizeListenerDestroy=null,a.lastPosition={x:0,y:0,width:0,height:0},a}return AC(o,d),o.prototype.postConstruct=function(){var r=this,a=this.getGui(),u=this.config,c=u.movable,f=u.resizable,y=u.maximizable;Me(a,"ag-dialog"),d.prototype.postConstruct.call(this),this.addManagedListener(a,"focusin",function(w){a.contains(w.relatedTarget)||r.popupService.bringPopupToFront(a)}),c&&this.setMovable(c),y&&this.setMaximizable(y),f&&this.setResizable(f)},o.prototype.renderComponent=function(){var r=this.getGui(),a=this.config,u=a.alwaysOnTop,c=a.modal,f=a.title,y=this.gridOptionsWrapper.getLocaleTextFunc(),w=this.popupService.addPopup({modal:c,eChild:r,closeOnEsc:!0,closedCallback:this.destroy.bind(this),alwaysOnTop:u,ariaLabel:f||y("ariaLabelDialog","Dialog")});w&&(this.close=w.hideFunc)},o.prototype.toggleMaximize=function(){var r=this.positionableFeature.getPosition();if(this.isMaximized){var a=this.lastPosition,u=a.x,c=a.y,y=a.height;this.setWidth(a.width),this.setHeight(y),this.positionableFeature.offsetElement(u,c)}else this.lastPosition.width=this.getWidth(),this.lastPosition.height=this.getHeight(),this.lastPosition.x=r.x,this.lastPosition.y=r.y,this.positionableFeature.offsetElement(0,0),this.setHeight("100%"),this.setWidth("100%");this.isMaximized=!this.isMaximized,this.refreshMaximizeIcon()},o.prototype.refreshMaximizeIcon=function(){Oi(this.maximizeIcon,!this.isMaximized),Oi(this.minimizeIcon,this.isMaximized)},o.prototype.clearMaximizebleListeners=function(){this.maximizeListeners.length&&(this.maximizeListeners.forEach(function(r){return r()}),this.maximizeListeners.length=0),this.resizeListenerDestroy&&(this.resizeListenerDestroy(),this.resizeListenerDestroy=null)},o.prototype.destroy=function(){this.maximizeButtonComp=this.destroyBean(this.maximizeButtonComp),this.clearMaximizebleListeners(),d.prototype.destroy.call(this)},o.prototype.setResizable=function(r){this.positionableFeature.setResizable(r)},o.prototype.setMovable=function(r){this.positionableFeature.setMovable(r,this.eTitleBar)},o.prototype.setMaximizable=function(r){var a=this;if(!r)return this.clearMaximizebleListeners(),void(this.maximizeButtonComp&&(this.destroyBean(this.maximizeButtonComp),this.maximizeButtonComp=this.maximizeIcon=this.minimizeIcon=void 0));var u=this.eTitleBar;if(u&&r!==this.isMaximizable){var c=this.maximizeButtonComp=this.createBean(new _t('<div class="ag-dialog-button"></span>')),f=c.getGui();f.appendChild(this.maximizeIcon=An("maximize",this.gridOptionsWrapper)),Me(this.maximizeIcon,"ag-panel-title-bar-button-icon"),f.appendChild(this.minimizeIcon=An("minimize",this.gridOptionsWrapper)),Me(this.minimizeIcon,"ag-panel-title-bar-button-icon"),Me(this.minimizeIcon,"ag-hidden"),c.addManagedListener(f,"click",this.toggleMaximize.bind(this)),this.addTitleBarButton(c,0),this.maximizeListeners.push(this.addManagedListener(u,"dblclick",this.toggleMaximize.bind(this))),this.resizeListenerDestroy=this.addManagedListener(this,"resize",function(){a.isMaximized=!1,a.refreshMaximizeIcon()})}},function(d,o,r,a){var f,u=arguments.length,c=u<3?o:null===a?a=Object.getOwnPropertyDescriptor(o,r):a;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)c=Reflect.decorate(d,o,r,a);else for(var y=d.length-1;y>=0;y--)(f=d[y])&&(c=(u<3?f(c):u>3?f(o,r,c):f(o,r))||c);u>3&&c&&Object.defineProperty(o,r,c)}([F("popupService")],o.prototype,"popupService",void 0),o}(Yh),sx=function(){var d=function(o,r){return(d=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(a,u){a.__proto__=u}||function(a,u){for(var c in u)u.hasOwnProperty(c)&&(a[c]=u[c])})(o,r)};return function(o,r){function a(){this.constructor=o}d(o,r),o.prototype=null===r?Object.create(r):(a.prototype=r.prototype,new a)}}(),Pl=function(d){function o(r,a,u){return void 0===a&&(a="ag-text-field"),void 0===u&&(u="text"),d.call(this,r,a,u)||this}return sx(o,d),o.prototype.postConstruct=function(){d.prototype.postConstruct.call(this),this.config.allowedCharPattern&&this.preventDisallowedCharacters()},o.prototype.setValue=function(r,a){var u=d.prototype.setValue.call(this,r,a);return this.eInput.value!==r&&(this.eInput.value=ce(r)?r:""),u},o.prototype.preventDisallowedCharacters=function(){var r=new RegExp("["+this.config.allowedCharPattern+"]");this.addManagedListener(this.eInput,"keypress",function(u){u.key&&!r.test(u.key)&&u.preventDefault()}),this.addManagedListener(this.eInput,"paste",function(u){qr(u.clipboardData.getData("text"),function(f){return!r.test(f)})&&u.preventDefault()})},o}(Gr),Wv=function(){var d=function(o,r){return(d=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(a,u){a.__proto__=u}||function(a,u){for(var c in u)u.hasOwnProperty(c)&&(a[c]=u[c])})(o,r)};return function(o,r){function a(){this.constructor=o}d(o,r),o.prototype=null===r?Object.create(r):(a.prototype=r.prototype,new a)}}(),Uv=function(d){function o(r){return d.call(this,r,"ag-text-area",null,"textarea")||this}return Wv(o,d),o.prototype.setValue=function(r,a){var u=d.prototype.setValue.call(this,r,a);return this.eInput.value=r,u},o.prototype.setCols=function(r){return this.eInput.cols=r,this},o.prototype.setRows=function(r){return this.eInput.rows=r,this},o}(Gr),MC=function(){var d=function(o,r){return(d=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(a,u){a.__proto__=u}||function(a,u){for(var c in u)u.hasOwnProperty(c)&&(a[c]=u[c])})(o,r)};return function(o,r){function a(){this.constructor=o}d(o,r),o.prototype=null===r?Object.create(r):(a.prototype=r.prototype,new a)}}(),_d=function(d,o,r,a){var f,u=arguments.length,c=u<3?o:null===a?a=Object.getOwnPropertyDescriptor(o,r):a;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)c=Reflect.decorate(d,o,r,a);else for(var y=d.length-1;y>=0;y--)(f=d[y])&&(c=(u<3?f(c):u>3?f(o,r,c):f(o,r))||c);return u>3&&c&&Object.defineProperty(o,r,c),c},zv=function(d){function o(r){var a=d.call(this,r,o.TEMPLATE)||this;return a.labelAlignment="top",a}return MC(o,d),o.prototype.init=function(){Me(this.eSlider.getGui(),"ag-slider-field")},o.prototype.onValueChange=function(r){var a=this,u=ss.EVENT_CHANGED;return this.addManagedListener(this.eText,u,function(){var c=parseFloat(a.eText.getValue());a.eSlider.setValue(c.toString(),!0),r(c||0)}),this.addManagedListener(this.eSlider,u,function(){var c=a.eSlider.getValue();a.eText.setValue(c,!0),r(parseFloat(c))}),this},o.prototype.setSliderWidth=function(r){return this.eSlider.setWidth(r),this},o.prototype.setTextFieldWidth=function(r){return this.eText.setWidth(r),this},o.prototype.setMinValue=function(r){return this.eSlider.setMinValue(r),this.eText.setMin(r),this},o.prototype.setMaxValue=function(r){return this.eSlider.setMaxValue(r),this.eText.setMax(r),this},o.prototype.getValue=function(){return this.eText.getValue()},o.prototype.setValue=function(r){return this.getValue()===r||(this.eText.setValue(r,!0),this.eSlider.setValue(r,!0),this.dispatchEvent({type:ss.EVENT_CHANGED})),this},o.prototype.setStep=function(r){return this.eSlider.setStep(r),this.eText.setStep(r),this},o.TEMPLATE='<div class="ag-slider">\n            <label ref="eLabel"></label>\n            <div class="ag-wrapper ag-slider-wrapper">\n                <ag-input-range ref="eSlider"></ag-input-range>\n                <ag-input-number-field ref="eText"></ag-input-number-field>\n            </div>\n        </div>',_d([pe("eLabel")],o.prototype,"eLabel",void 0),_d([pe("eSlider")],o.prototype,"eSlider",void 0),_d([pe("eText")],o.prototype,"eText",void 0),_d([ye],o.prototype,"init",null),o}(du),ax=function(){var d=function(o,r){return(d=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(a,u){a.__proto__=u}||function(a,u){for(var c in u)u.hasOwnProperty(c)&&(a[c]=u[c])})(o,r)};return function(o,r){function a(){this.constructor=o}d(o,r),o.prototype=null===r?Object.create(r):(a.prototype=r.prototype,new a)}}(),Xs=function(d,o,r,a){var f,u=arguments.length,c=u<3?o:null===a?a=Object.getOwnPropertyDescriptor(o,r):a;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)c=Reflect.decorate(d,o,r,a);else for(var y=d.length-1;y>=0;y--)(f=d[y])&&(c=(u<3?f(c):u>3?f(o,r,c):f(o,r))||c);return u>3&&c&&Object.defineProperty(o,r,c),c},lx=function(d){function o(r){var a=d.call(this,o.TEMPLATE)||this;return a.H=1,a.S=1,a.B=1,a.A=1,a.isSpectrumDragging=!1,a.isSpectrumHueDragging=!1,a.isSpectrumAlphaDragging=!1,a.colorChanged=!1,a.picker=r.picker,a}return ax(o,d),o.prototype.postConstruct=function(){var r=this.getGui();this.initRecentColors(),this.addManagedListener(this.spectrumVal,"mousedown",this.onSpectrumDraggerDown.bind(this)),this.addManagedListener(r,"mousemove",this.onSpectrumDraggerMove.bind(this)),this.addManagedListener(this.spectrumHue,"mousedown",this.onSpectrumHueDown.bind(this)),this.addManagedListener(r,"mousemove",this.onSpectrumHueMove.bind(this)),this.addManagedListener(this.spectrumAlpha,"mousedown",this.onSpectrumAlphaDown.bind(this)),this.addManagedListener(r,"mousemove",this.onSpectrumAlphaMove.bind(this)),this.addManagedListener(document,"mouseup",this.onMouseUp.bind(this)),this.addManagedListener(this.recentColors,"click",this.onRecentColorClick.bind(this))},o.prototype.refreshSpectrumRect=function(){return this.spectrumValRect=this.spectrumVal.getBoundingClientRect()},o.prototype.refreshHueRect=function(){return this.spectrumHueRect=this.spectrumHue.getBoundingClientRect()},o.prototype.refreshAlphaRect=function(){return this.spectrumAlphaRect=this.spectrumAlpha.getBoundingClientRect()},o.prototype.onSpectrumDraggerDown=function(r){this.refreshSpectrumRect(),this.isSpectrumDragging=!0,this.moveDragger(r)},o.prototype.onSpectrumDraggerMove=function(r){this.isSpectrumDragging&&this.moveDragger(r)},o.prototype.onSpectrumHueDown=function(r){this.refreshHueRect(),this.isSpectrumHueDragging=!0,this.moveHueSlider(r)},o.prototype.onSpectrumHueMove=function(r){this.isSpectrumHueDragging&&this.moveHueSlider(r)},o.prototype.onSpectrumAlphaDown=function(r){this.refreshAlphaRect(),this.isSpectrumAlphaDragging=!0,this.moveAlphaSlider(r)},o.prototype.onSpectrumAlphaMove=function(r){this.isSpectrumAlphaDragging&&this.moveAlphaSlider(r)},o.prototype.onMouseUp=function(){this.isSpectrumDragging=!1,this.isSpectrumHueDragging=!1,this.isSpectrumAlphaDragging=!1},o.prototype.moveDragger=function(r){var a=this.spectrumValRect;if(a){var u=r.clientX-a.left,c=r.clientY-a.top;u=Math.max(u,0),u=Math.min(u,a.width),c=Math.max(c,0),c=Math.min(c,a.height),this.setSpectrumValue(u/a.width,1-c/a.height)}},o.prototype.moveHueSlider=function(r){var a=this.spectrumHueRect;if(a){var u=this.spectrumHueSlider,c=u.getBoundingClientRect(),f=r.clientX-a.left;f=Math.max(f,0),f=Math.min(f,a.width),this.H=1-f/a.width,u.style.left=f+c.width/2+"px",this.update()}},o.prototype.moveAlphaSlider=function(r){var a=this.spectrumAlphaRect;if(a){var u=this.spectrumAlphaSlider,c=u.getBoundingClientRect(),f=r.clientX-a.left;f=Math.max(f,0),f=Math.min(f,a.width),this.A=f/a.width,u.style.left=f+c.width/2+"px",this.update()}},o.prototype.update=function(){var r=xi.fromHSB(360*this.H,this.S,this.B,this.A),a=xi.fromHSB(360*this.H,1,1),u=r.toRgbaString(),c=this.picker;xi.fromString(c.getValue()).toRgbaString()!==u&&(this.colorChanged=!0),c.setValue(u),this.spectrumColor.style.backgroundColor=a.toRgbaString(),this.spectrumDragger.style.backgroundColor=u},o.prototype.setSpectrumValue=function(r,a){var u=this.spectrumValRect||this.refreshSpectrumRect();if(u){var c=this.spectrumDragger,f=c.getBoundingClientRect();r=Math.max(0,r),r=Math.min(1,r),a=Math.max(0,a),a=Math.min(1,a),this.S=r,this.B=a,c.style.left=r*u.width-f.width/2+"px",c.style.top=(1-a)*u.height-f.height/2+"px",this.update()}},o.prototype.initRecentColors=function(){var a=o.recentColors.map(function(u,c){return'<div class="ag-recent-color" id='+c+' style="background-color: '+u+'; width: 15px; height: 15px;" recent-color="'+u+'"></div>'});this.recentColors.innerHTML=a.join("")},o.prototype.setValue=function(r){var a=xi.fromString(r),u=a.toHSB(),c=u[0],f=u[1],y=u[2];this.H=(isNaN(c)?0:c)/360,this.A=a.a;var w=this.spectrumHueRect||this.refreshHueRect(),D=this.spectrumAlphaRect||this.refreshAlphaRect();this.spectrumHueSlider.style.left=(this.H-1)*-w.width+"px",this.spectrumAlphaSlider.style.left=this.A*D.width+"px",this.setSpectrumValue(f,y)},o.prototype.onRecentColorClick=function(r){var a=r.target;if(ce(a.id)){var u=parseInt(a.id,10);this.setValue(o.recentColors[u]),this.destroy()}},o.prototype.addRecentColor=function(){var a=xi.fromHSB(360*this.H,this.S,this.B,this.A).toRgbaString(),u=o.recentColors;!this.colorChanged||u[0]===a||(u=u.filter(function(c){return c!=a}),(u=[a].concat(u)).length>o.maxRecentColors&&(u=u.slice(0,o.maxRecentColors)),o.recentColors=u)},o.prototype.destroy=function(){this.addRecentColor(),d.prototype.destroy.call(this)},o.maxRecentColors=8,o.recentColors=[],o.TEMPLATE='<div class="ag-color-panel">\n            <div ref="spectrumColor" class="ag-spectrum-color">\n                <div class="ag-spectrum-sat ag-spectrum-fill">\n                    <div ref="spectrumVal" class="ag-spectrum-val ag-spectrum-fill">\n                        <div ref="spectrumDragger" class="ag-spectrum-dragger"></div>\n                    </div>\n                </div>\n            </div>\n            <div class="ag-spectrum-tools">\n                <div ref="spectrumHue" class="ag-spectrum-hue ag-spectrum-tool">\n                    <div class="ag-spectrum-hue-background"></div>\n                    <div ref="spectrumHueSlider" class="ag-spectrum-slider"></div>\n                </div>\n                <div ref="spectrumAlpha" class="ag-spectrum-alpha ag-spectrum-tool">\n                    <div class="ag-spectrum-alpha-background"></div>\n                    <div ref="spectrumAlphaSlider" class="ag-spectrum-slider"></div>\n                </div>\n                <div ref="recentColors" class="ag-recent-colors"></div>\n            </div>\n        </div>',Xs([pe("spectrumColor")],o.prototype,"spectrumColor",void 0),Xs([pe("spectrumVal")],o.prototype,"spectrumVal",void 0),Xs([pe("spectrumDragger")],o.prototype,"spectrumDragger",void 0),Xs([pe("spectrumHue")],o.prototype,"spectrumHue",void 0),Xs([pe("spectrumHueSlider")],o.prototype,"spectrumHueSlider",void 0),Xs([pe("spectrumAlpha")],o.prototype,"spectrumAlpha",void 0),Xs([pe("spectrumAlphaSlider")],o.prototype,"spectrumAlphaSlider",void 0),Xs([pe("recentColors")],o.prototype,"recentColors",void 0),Xs([ye],o.prototype,"postConstruct",null),o}(_t),ux=function(){var d=function(o,r){return(d=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(a,u){a.__proto__=u}||function(a,u){for(var c in u)u.hasOwnProperty(c)&&(a[c]=u[c])})(o,r)};return function(o,r){function a(){this.constructor=o}d(o,r),o.prototype=null===r?Object.create(r):(a.prototype=r.prototype,new a)}}(),$v=function(d){function o(r){var a=d.call(this,r,"ag-color-picker","colorPicker")||this;return r&&r.color&&(a.value=r.color),a}return ux(o,d),o.prototype.postConstruct=function(){d.prototype.postConstruct.call(this),this.value&&this.setValue(this.value)},o.prototype.showPicker=function(){var r=this,a=this.getGui().getBoundingClientRect(),u=this.createBean(new jv({closable:!1,modal:!0,hideTitleBar:!0,minWidth:190,width:190,height:250,x:a.right-190,y:a.top-250}));this.isPickerDisplayed=!0,Me(u.getGui(),"ag-color-dialog");var c=this.createBean(new lx({picker:this}));return c.addDestroyFunc(function(){u.isAlive()&&r.destroyBean(u)}),u.setParentComponent(this),u.setBodyComponent(c),c.setValue(this.getValue()),u.addDestroyFunc(function(){r.isDestroyingPicker?r.isDestroyingPicker=!1:(r.isDestroyingPicker=!0,c.isAlive()&&r.destroyBean(c)),r.isAlive()&&r.getFocusableElement().focus(),r.isPickerDisplayed=!1}),u},o.prototype.setValue=function(r){return this.value===r?this:(this.eDisplayField.style.backgroundColor=r,d.prototype.setValue.call(this,r))},o.prototype.getValue=function(){return this.value},o}(Lg),JA=function(){var d=function(o,r){return(d=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(a,u){a.__proto__=u}||function(a,u){for(var c in u)u.hasOwnProperty(c)&&(a[c]=u[c])})(o,r)};return function(o,r){function a(){this.constructor=o}d(o,r),o.prototype=null===r?Object.create(r):(a.prototype=r.prototype,new a)}}(),Yv=function(d){function o(r){return d.call(this,r,"ag-number-field","number")||this}return JA(o,d),o.prototype.postConstruct=function(){var r=this;d.prototype.postConstruct.call(this),this.addManagedListener(this.eInput,"blur",function(){var a=parseFloat(r.eInput.value),u=isNaN(a)?"":r.normalizeValue(a.toString());r.value!==u&&r.setValue(u)})},o.prototype.normalizeValue=function(r){if(""===r)return"";this.precision&&(r=this.adjustPrecision(r));var a=parseFloat(r);return null!=this.min&&a<this.min?r=this.min.toString():null!=this.max&&a>this.max&&(r=this.max.toString()),r},o.prototype.adjustPrecision=function(r){if(this.precision){var a=parseFloat(r).toFixed(this.precision);r=parseFloat(a).toString()}return r},o.prototype.setMin=function(r){return this.min===r||(this.min=r,Mc(this.eInput,"min",r)),this},o.prototype.setMax=function(r){return this.max===r||(this.max=r,Mc(this.eInput,"max",r)),this},o.prototype.setPrecision=function(r){return this.precision=r,this},o.prototype.setStep=function(r){return this.step===r||(this.step=r,Mc(this.eInput,"step",r)),this},o.prototype.setValue=function(r,a){return(r=this.adjustPrecision(r))!=this.normalizeValue(r)?this:d.prototype.setValue.call(this,r,a)},o}(Pl),cx=function(){var d=function(o,r){return(d=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(a,u){a.__proto__=u}||function(a,u){for(var c in u)u.hasOwnProperty(c)&&(a[c]=u[c])})(o,r)};return function(o,r){function a(){this.constructor=o}d(o,r),o.prototype=null===r?Object.create(r):(a.prototype=r.prototype,new a)}}(),FC=function(d){function o(r){return d.call(this,r,"ag-range-field","range")||this}return cx(o,d),o.prototype.postConstruct=function(){d.prototype.postConstruct.call(this);var r=this.config,a=r.min,u=r.max,c=r.step;null!=a&&this.setMinValue(a),null!=u&&this.setMaxValue(u),this.setStep(c||1)},o.prototype.addInputListeners=function(){var r=this,a=Ji();this.addManagedListener(this.eInput,a?"change":"input",function(c){r.setValue(c.target.value)})},o.prototype.setMinValue=function(r){return this.min=r,this.eInput.setAttribute("min",r.toString()),this},o.prototype.setMaxValue=function(r){return this.max=r,this.eInput.setAttribute("max",r.toString()),this},o.prototype.setStep=function(r){return this.eInput.setAttribute("step",r.toString()),this},o.prototype.setValue=function(r,a){null!=this.min&&(r=Math.max(parseFloat(r),this.min).toString()),null!=this.max&&(r=Math.min(parseFloat(r),this.max).toString());var u=d.prototype.setValue.call(this,r,a);return this.eInput.value=r,u},o}(Gr),eI=function(){var d=function(o,r){return(d=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(a,u){a.__proto__=u}||function(a,u){for(var c in u)u.hasOwnProperty(c)&&(a[c]=u[c])})(o,r)};return function(o,r){function a(){this.constructor=o}d(o,r),o.prototype=null===r?Object.create(r):(a.prototype=r.prototype,new a)}}(),Kh=function(d,o,r,a){var f,u=arguments.length,c=u<3?o:null===a?a=Object.getOwnPropertyDescriptor(o,r):a;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)c=Reflect.decorate(d,o,r,a);else for(var y=d.length-1;y>=0;y--)(f=d[y])&&(c=(u<3?f(c):u>3?f(o,r,c):f(o,r))||c);return u>3&&c&&Object.defineProperty(o,r,c),c},Xh=function(d){function o(r){var a=d.call(this,r,o.TEMPLATE)||this;return a.radius=0,a.offsetX=0,a.offsetY=0,a}return eI(o,d),o.prototype.postConstruct=function(){var r=this;d.prototype.postConstruct.call(this),this.dragListener={eElement:this.eParentCircle,dragStartPixels:0,onDragStart:function(a){r.parentCircleRect=r.eParentCircle.getBoundingClientRect()},onDragging:function(a){return r.calculateAngleDrag(a)},onDragStop:function(){}},this.dragService.addDragSource(this.dragListener),this.eAngleValue.setLabel("").setLabelWidth(5).setInputWidth(45).setMin(0).setMax(360).setValue(""+this.degrees).onValueChange(function(a){(null==a||""===a)&&(a="0"),a=r.eAngleValue.normalizeValue(a);var u=parseFloat(a);u>180&&(u-=360),r.setValue(u)}),this.updateNumberInput(),ce(this.getValue())&&this.eAngleValue.setValue(this.normalizeNegativeValue(this.getValue()).toString()),this.addManagedListener(this,ss.EVENT_CHANGED,function(){r.eAngleValue.getInputElement().contains(document.activeElement)||r.updateNumberInput()})},o.prototype.updateNumberInput=function(){var r=this.normalizeNegativeValue(this.getValue());this.eAngleValue.setValue(r.toString())},o.prototype.positionChildCircle=function(r){var a=this.parentCircleRect||{width:24,height:24},u=this.eChildCircle,f=a.height/2;u.style.left=a.width/2+8*Math.cos(r)+"px",u.style.top=f+8*Math.sin(r)+"px"},o.prototype.calculatePolar=function(){var r=this.offsetX,a=this.offsetY,u=Math.atan2(a,r);this.degrees=this.toDegrees(u),this.radius=Math.sqrt(r*r+a*a),this.positionChildCircle(u)},o.prototype.calculateCartesian=function(){var r=this.toRadians(this.getValue()),a=this.getRadius();this.setOffsetX(Math.cos(r)*a).setOffsetY(Math.sin(r)*a)},o.prototype.setOffsetX=function(r){return this.offsetX!==r&&(this.offsetX=r,this.calculatePolar()),this},o.prototype.setOffsetY=function(r){return this.offsetY!==r&&(this.offsetY=r,this.calculatePolar()),this},o.prototype.calculateAngleDrag=function(r){var a=this.parentCircleRect,O=Math.atan2(r.clientY-a.top-a.height/2,r.clientX-a.left-a.width/2);this.setValue(O,!0)},o.prototype.toDegrees=function(r){return r/Math.PI*180},o.prototype.toRadians=function(r){return r/180*Math.PI},o.prototype.normalizeNegativeValue=function(r){return r<0?360+r:r},o.prototype.normalizeAngle180=function(r){return(r%=2*Math.PI)<-Math.PI?r+=2*Math.PI:r>=Math.PI&&(r-=2*Math.PI),r},o.prototype.getRadius=function(){return this.radius},o.prototype.setRadius=function(r){return this.radius===r||(this.radius=r,this.calculateCartesian()),this},o.prototype.onValueChange=function(r){var a=this;return this.addManagedListener(this,ss.EVENT_CHANGED,function(){r(a.degrees)}),this},o.prototype.getValue=function(r){return r?this.toRadians(this.degrees):this.degrees},o.prototype.setValue=function(r,a){var u;return u=a?r:this.normalizeAngle180(this.toRadians(r)),r=this.toDegrees(u),this.degrees!==r&&(this.degrees=Math.floor(r),this.calculateCartesian(),this.positionChildCircle(u),this.dispatchEvent({type:ss.EVENT_CHANGED})),this},o.prototype.setWidth=function(r){return un(this.getGui(),r),this},o.prototype.destroy=function(){this.dragService.removeDragSource(this.dragListener),d.prototype.destroy.call(this)},o.TEMPLATE='<div class="ag-angle-select">\n            <div ref="eLabel"></div>\n            <div class="ag-wrapper ag-angle-select-wrapper">\n                <div ref="eAngleSelectField" class="ag-angle-select-field">\n                    <div ref="eParentCircle" class="ag-angle-select-parent-circle">\n                        <div ref="eChildCircle" class="ag-angle-select-child-circle"></div>\n                    </div>\n                </div>\n                <ag-input-number-field ref="eAngleValue"></ag-input-number-field>\n            </div>\n        </div>',Kh([pe("eLabel")],o.prototype,"eLabel",void 0),Kh([pe("eParentCircle")],o.prototype,"eParentCircle",void 0),Kh([pe("eChildCircle")],o.prototype,"eChildCircle",void 0),Kh([pe("eAngleValue")],o.prototype,"eAngleValue",void 0),Kh([F("dragService")],o.prototype,"dragService",void 0),o}(du),dx=function(){var d=function(o,r){return(d=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(a,u){a.__proto__=u}||function(a,u){for(var c in u)u.hasOwnProperty(c)&&(a[c]=u[c])})(o,r)};return function(o,r){function a(){this.constructor=o}d(o,r),o.prototype=null===r?Object.create(r):(a.prototype=r.prototype,new a)}}(),Kv=function(d){function o(r){return d.call(this,r,"ag-toggle-button")||this}return dx(o,d),o.prototype.setValue=function(r,a){return d.prototype.setValue.call(this,r,a),Ke(this.getGui(),"ag-selected",this.getValue()),this},o}(ka),NC=function(){var d=function(o,r){return(d=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(a,u){a.__proto__=u}||function(a,u){for(var c in u)u.hasOwnProperty(c)&&(a[c]=u[c])})(o,r)};return function(o,r){function a(){this.constructor=o}d(o,r),o.prototype=null===r?Object.create(r):(a.prototype=r.prototype,new a)}}(),Xv=function(d,o,r,a){var f,u=arguments.length,c=u<3?o:null===a?a=Object.getOwnPropertyDescriptor(o,r):a;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)c=Reflect.decorate(d,o,r,a);else for(var y=d.length-1;y>=0;y--)(f=d[y])&&(c=(u<3?f(c):u>3?f(o,r,c):f(o,r))||c);return u>3&&c&&Object.defineProperty(o,r,c),c},Eo=function(d){function o(){return null!==d&&d.apply(this,arguments)||this}return NC(o,d),o.prototype.getFirstRow=function(){var a,r=0;return this.pinnedRowModel.getPinnedTopRowCount()?a=q.PINNED_TOP:this.rowModel.getRowCount()?(a=null,r=this.paginationProxy.getPageFirstRow()):this.pinnedRowModel.getPinnedBottomRowCount()&&(a=q.PINNED_BOTTOM),void 0===a?null:{rowIndex:r,rowPinned:a}},o.prototype.getLastRow=function(){var r,a=null,u=this.pinnedRowModel.getPinnedBottomRowCount(),c=this.pinnedRowModel.getPinnedTopRowCount();return u?(a=q.PINNED_BOTTOM,r=u-1):this.rowModel.getRowCount()?(a=null,r=this.paginationProxy.getPageLastRow()):c&&(a=q.PINNED_TOP,r=c-1),void 0===r?null:{rowIndex:r,rowPinned:a}},o.prototype.getRowNode=function(r){switch(r.rowPinned){case q.PINNED_TOP:return this.pinnedRowModel.getPinnedTopRowData()[r.rowIndex];case q.PINNED_BOTTOM:return this.pinnedRowModel.getPinnedBottomRowData()[r.rowIndex];default:return this.rowModel.getRow(r.rowIndex)}},o.prototype.sameRow=function(r,a){return!r&&!a||!(r&&!a||!r&&a)&&r.rowIndex===a.rowIndex&&r.rowPinned==a.rowPinned},o.prototype.before=function(r,a){switch(r.rowPinned){case q.PINNED_TOP:if(a.rowPinned!==q.PINNED_TOP)return!0;break;case q.PINNED_BOTTOM:if(a.rowPinned!==q.PINNED_BOTTOM)return!1;break;default:if(ce(a.rowPinned))return a.rowPinned!==q.PINNED_TOP}return r.rowIndex<a.rowIndex},Xv([F("rowModel")],o.prototype,"rowModel",void 0),Xv([F("pinnedRowModel")],o.prototype,"pinnedRowModel",void 0),Xv([F("paginationProxy")],o.prototype,"paginationProxy",void 0),Xv([Te("rowPositionUtils")],o)}(he),tI=function(){var d=function(o,r){return(d=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(a,u){a.__proto__=u}||function(a,u){for(var c in u)u.hasOwnProperty(c)&&(a[c]=u[c])})(o,r)};return function(o,r){function a(){this.constructor=o}d(o,r),o.prototype=null===r?Object.create(r):(a.prototype=r.prototype,new a)}}(),px=function(d){function o(){return null!==d&&d.apply(this,arguments)||this}return tI(o,d),o.prototype.createId=function(r){return this.createIdFromValues(r.rowIndex,r.column,r.rowPinned)},o.prototype.createIdFromValues=function(r,a,u){return r+"."+(null==u?"null":u)+"."+a.getId()},o.prototype.equals=function(r,a){return r.column===a.column&&r.rowPinned===a.rowPinned&&r.rowIndex===a.rowIndex},function(d,o,r,a){var f,u=arguments.length,c=u<3?o:null===a?a=Object.getOwnPropertyDescriptor(o,r):a;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)c=Reflect.decorate(d,o,r,a);else for(var y=d.length-1;y>=0;y--)(f=d[y])&&(c=(u<3?f(c):u>3?f(o,r,c):f(o,r))||c);return u>3&&c&&Object.defineProperty(o,r,c),c}([Te("cellPositionUtils")],o)}(he),LC=function(){var d=function(o,r){return(d=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(a,u){a.__proto__=u}||function(a,u){for(var c in u)u.hasOwnProperty(c)&&(a[c]=u[c])})(o,r)};return function(o,r){function a(){this.constructor=o}d(o,r),o.prototype=null===r?Object.create(r):(a.prototype=r.prototype,new a)}}(),Lu=function(d,o,r,a){var f,u=arguments.length,c=u<3?o:null===a?a=Object.getOwnPropertyDescriptor(o,r):a;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)c=Reflect.decorate(d,o,r,a);else for(var y=d.length-1;y>=0;y--)(f=d[y])&&(c=(u<3?f(c):u>3?f(o,r,c):f(o,r))||c);return u>3&&c&&Object.defineProperty(o,r,c),c},qv=function(d){function o(){return null!==d&&d.apply(this,arguments)||this}return LC(o,d),o.prototype.init=function(){this.setPinnedTopRowData(this.gridOptionsWrapper.getPinnedTopRowData()),this.setPinnedBottomRowData(this.gridOptionsWrapper.getPinnedBottomRowData())},o.prototype.isEmpty=function(r){return Vn(r===q.PINNED_TOP?this.pinnedTopRows:this.pinnedBottomRows)},o.prototype.isRowsToRender=function(r){return!this.isEmpty(r)},o.prototype.getRowAtPixel=function(r,a){var u=a===q.PINNED_TOP?this.pinnedTopRows:this.pinnedBottomRows;if(Vn(u))return 0;for(var c=0;c<u.length;c++){var f=u[c];if(f.rowTop+f.rowHeight-1>=r)return c}return u.length-1},o.prototype.setPinnedTopRowData=function(r){this.pinnedTopRows=this.createNodesFromData(r,!0),this.eventService.dispatchEvent({type:j.EVENT_PINNED_ROW_DATA_CHANGED,api:this.gridApi,columnApi:this.columnApi})},o.prototype.setPinnedBottomRowData=function(r){this.pinnedBottomRows=this.createNodesFromData(r,!1),this.eventService.dispatchEvent({type:j.EVENT_PINNED_ROW_DATA_CHANGED,api:this.gridApi,columnApi:this.columnApi})},o.prototype.createNodesFromData=function(r,a){var u=this,c=[];if(r){var f=0;r.forEach(function(y,w){var D=new bt(u.beans);D.data=y,D.id=(a?bt.ID_PREFIX_TOP_PINNED:bt.ID_PREFIX_BOTTOM_PINNED)+w,D.rowPinned=a?q.PINNED_TOP:q.PINNED_BOTTOM,D.setRowTop(f),D.setRowHeight(u.gridOptionsWrapper.getRowHeightForNode(D).height),D.setRowIndex(w),f+=D.rowHeight,c.push(D)})}return c},o.prototype.getPinnedTopRowData=function(){return this.pinnedTopRows},o.prototype.getPinnedBottomRowData=function(){return this.pinnedBottomRows},o.prototype.getPinnedTopTotalHeight=function(){return this.getTotalHeight(this.pinnedTopRows)},o.prototype.getPinnedTopRowCount=function(){return this.pinnedTopRows?this.pinnedTopRows.length:0},o.prototype.getPinnedBottomRowCount=function(){return this.pinnedBottomRows?this.pinnedBottomRows.length:0},o.prototype.getPinnedTopRow=function(r){return this.pinnedTopRows[r]},o.prototype.getPinnedBottomRow=function(r){return this.pinnedBottomRows[r]},o.prototype.forEachPinnedTopRow=function(r){Vn(this.pinnedTopRows)||this.pinnedTopRows.forEach(r)},o.prototype.forEachPinnedBottomRow=function(r){Vn(this.pinnedBottomRows)||this.pinnedBottomRows.forEach(r)},o.prototype.getPinnedBottomTotalHeight=function(){return this.getTotalHeight(this.pinnedBottomRows)},o.prototype.getTotalHeight=function(r){if(!r||0===r.length)return 0;var a=Jt(r);return a.rowTop+a.rowHeight},Lu([F("columnApi")],o.prototype,"columnApi",void 0),Lu([F("gridApi")],o.prototype,"gridApi",void 0),Lu([F("beans")],o.prototype,"beans",void 0),Lu([ye],o.prototype,"init",null),Lu([Te("pinnedRowModel")],o)}(he),hx=function(){var d=function(o,r){return(d=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(a,u){a.__proto__=u}||function(a,u){for(var c in u)u.hasOwnProperty(c)&&(a[c]=u[c])})(o,r)};return function(o,r){function a(){this.constructor=o}d(o,r),o.prototype=null===r?Object.create(r):(a.prototype=r.prototype,new a)}}(),Zv=function(o){this.cellValueChanges=o},qh=function(d){function o(r,a,u){var c=d.call(this,r)||this;return c.initialRange=a,c.finalRange=u,c}return hx(o,d),o}(Zv),Di=function(){function d(o){this.actionStack=[],this.maxStackSize=o||d.DEFAULT_STACK_SIZE,this.actionStack=new Array(this.maxStackSize)}return d.prototype.pop=function(){return this.actionStack.pop()},d.prototype.push=function(o){!(o.cellValueChanges&&o.cellValueChanges.length>0)||(this.actionStack.length===this.maxStackSize&&this.actionStack.shift(),this.actionStack.push(o))},d.prototype.clear=function(){this.actionStack=[]},d.prototype.getCurrentStackSize=function(){return this.actionStack.length},d.DEFAULT_STACK_SIZE=10,d}(),fx=function(){var d=function(o,r){return(d=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(a,u){a.__proto__=u}||function(a,u){for(var c in u)u.hasOwnProperty(c)&&(a[c]=u[c])})(o,r)};return function(o,r){function a(){this.constructor=o}d(o,r),o.prototype=null===r?Object.create(r):(a.prototype=r.prototype,new a)}}(),ms=function(d,o,r,a){var f,u=arguments.length,c=u<3?o:null===a?a=Object.getOwnPropertyDescriptor(o,r):a;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)c=Reflect.decorate(d,o,r,a);else for(var y=d.length-1;y>=0;y--)(f=d[y])&&(c=(u<3?f(c):u>3?f(o,r,c):f(o,r))||c);return u>3&&c&&Object.defineProperty(o,r,c),c},gx=function(d){function o(){var r=null!==d&&d.apply(this,arguments)||this;return r.cellValueChanges=[],r.activeCellEdit=null,r.activeRowEdit=null,r.isPasting=!1,r.isFilling=!1,r.onCellValueChanged=function(a){var u={column:a.column,rowIndex:a.rowIndex,rowPinned:a.rowPinned},c=null!==r.activeCellEdit&&r.cellPositionUtils.equals(r.activeCellEdit,u),f=null!==r.activeRowEdit&&r.rowPositionUtils.sameRow(r.activeRowEdit,u);if(c||f||r.isPasting||r.isFilling){var I=a.oldValue,V=a.value,B={rowPinned:a.rowPinned,rowIndex:a.rowIndex,columnId:a.column.getColId(),newValue:V,oldValue:I};r.cellValueChanges.push(B)}},r.clearStacks=function(){r.undoStack.clear(),r.redoStack.clear()},r}return fx(o,d),o.prototype.init=function(){if(this.gridOptionsWrapper.isUndoRedoCellEditing()){var r=this.gridOptionsWrapper.getUndoRedoCellEditingLimit();r<=0||(this.undoStack=new Di(r),this.redoStack=new Di(r),this.addRowEditingListeners(),this.addCellEditingListeners(),this.addPasteListeners(),this.addFillListeners(),this.addManagedListener(this.eventService,j.EVENT_CELL_VALUE_CHANGED,this.onCellValueChanged),this.addManagedListener(this.eventService,j.EVENT_MODEL_UPDATED,this.clearStacks),this.addManagedListener(this.eventService,j.EVENT_COLUMN_PIVOT_MODE_CHANGED,this.clearStacks),this.addManagedListener(this.eventService,j.EVENT_NEW_COLUMNS_LOADED,this.clearStacks),this.addManagedListener(this.eventService,j.EVENT_COLUMN_GROUP_OPENED,this.clearStacks),this.addManagedListener(this.eventService,j.EVENT_COLUMN_ROW_GROUP_CHANGED,this.clearStacks),this.addManagedListener(this.eventService,j.EVENT_COLUMN_MOVED,this.clearStacks),this.addManagedListener(this.eventService,j.EVENT_COLUMN_PINNED,this.clearStacks),this.addManagedListener(this.eventService,j.EVENT_COLUMN_VISIBLE,this.clearStacks),this.addManagedListener(this.eventService,j.EVENT_ROW_DRAG_END,this.clearStacks))}},o.prototype.getCurrentUndoStackSize=function(){return this.undoStack?this.undoStack.getCurrentStackSize():0},o.prototype.getCurrentRedoStackSize=function(){return this.redoStack?this.redoStack.getCurrentStackSize():0},o.prototype.undo=function(){if(this.undoStack){var r=this.undoStack.pop();!r||!r.cellValueChanges||(this.processAction(r,function(a){return a.oldValue}),r instanceof qh?this.processRangeAndCellFocus(r.cellValueChanges,r.initialRange):this.processRangeAndCellFocus(r.cellValueChanges),this.redoStack.push(r))}},o.prototype.redo=function(){if(this.redoStack){var r=this.redoStack.pop();!r||!r.cellValueChanges||(this.processAction(r,function(a){return a.newValue}),r instanceof qh?this.processRangeAndCellFocus(r.cellValueChanges,r.finalRange):this.processRangeAndCellFocus(r.cellValueChanges),this.undoStack.push(r))}},o.prototype.processAction=function(r,a){var u=this;r.cellValueChanges.forEach(function(c){var w=c.columnId,O=u.getRowNode({rowIndex:c.rowIndex,rowPinned:c.rowPinned});!O.displayed||O.setDataValue(w,a(c))})},o.prototype.processRangeAndCellFocus=function(r,a){var u;if(a){var c=a.startRow,f=a.endRow;return u={rowPinned:c.rowPinned,rowIndex:c.rowIndex,columnId:a.startColumn.getColId()},this.setLastFocusedCell(u),void this.gridApi.addCellRange({rowStartIndex:c.rowIndex,rowStartPinned:c.rowPinned,rowEndIndex:f.rowIndex,rowEndPinned:f.rowPinned,columnStart:a.startColumn,columns:a.columns})}var w=r[0],V=this.getRowNode({rowIndex:w.rowIndex,rowPinned:w.rowPinned});this.setLastFocusedCell(u={rowPinned:w.rowPinned,rowIndex:V.rowIndex,columnId:w.columnId})},o.prototype.setLastFocusedCell=function(r){var a=r.rowIndex,u=r.columnId,c=r.rowPinned;this.gridApi.ensureIndexVisible(a),this.gridApi.ensureColumnVisible(u),ot.isRegistered(H.GXE.RangeSelectionModule)&&this.gridApi.clearRangeSelection(),this.focusService.setFocusedCell(a,u,c,!0)},o.prototype.addRowEditingListeners=function(){var r=this;this.addManagedListener(this.eventService,j.EVENT_ROW_EDITING_STARTED,function(a){r.activeRowEdit={rowIndex:a.rowIndex,rowPinned:a.rowPinned}}),this.addManagedListener(this.eventService,j.EVENT_ROW_EDITING_STOPPED,function(){var a=new Zv(r.cellValueChanges);r.pushActionsToUndoStack(a),r.activeRowEdit=null})},o.prototype.addCellEditingListeners=function(){var r=this;this.addManagedListener(this.eventService,j.EVENT_CELL_EDITING_STARTED,function(a){r.activeCellEdit={column:a.column,rowIndex:a.rowIndex,rowPinned:a.rowPinned}}),this.addManagedListener(this.eventService,j.EVENT_CELL_EDITING_STOPPED,function(){if(r.activeCellEdit=null,!r.activeRowEdit&&!r.isPasting&&!r.isFilling){var u=new Zv(r.cellValueChanges);r.pushActionsToUndoStack(u)}})},o.prototype.addPasteListeners=function(){var r=this;this.addManagedListener(this.eventService,j.EVENT_PASTE_START,function(){r.isPasting=!0}),this.addManagedListener(this.eventService,j.EVENT_PASTE_END,function(){var a=new Zv(r.cellValueChanges);r.pushActionsToUndoStack(a),r.isPasting=!1})},o.prototype.addFillListeners=function(){var r=this;this.addManagedListener(this.eventService,j.EVENT_FILL_START,function(){r.isFilling=!0}),this.addManagedListener(this.eventService,j.EVENT_FILL_END,function(a){var u=new qh(r.cellValueChanges,a.initialRange,a.finalRange);r.pushActionsToUndoStack(u),r.isFilling=!1})},o.prototype.pushActionsToUndoStack=function(r){this.undoStack.push(r),this.cellValueChanges=[],this.redoStack.clear()},o.prototype.getRowNode=function(r){switch(r.rowPinned){case q.PINNED_TOP:return this.pinnedRowModel.getPinnedTopRowData()[r.rowIndex];case q.PINNED_BOTTOM:return this.pinnedRowModel.getPinnedBottomRowData()[r.rowIndex];default:return this.rowModel.getRow(r.rowIndex)}},ms([F("focusService")],o.prototype,"focusService",void 0),ms([F("gridApi")],o.prototype,"gridApi",void 0),ms([F("rowModel")],o.prototype,"rowModel",void 0),ms([F("pinnedRowModel")],o.prototype,"pinnedRowModel",void 0),ms([F("cellPositionUtils")],o.prototype,"cellPositionUtils",void 0),ms([F("rowPositionUtils")],o.prototype,"rowPositionUtils",void 0),ms([ye],o.prototype,"init",null),ms([Te("undoRedoService")],o)}(he),vx=function(){var d=function(o,r){return(d=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(a,u){a.__proto__=u}||function(a,u){for(var c in u)u.hasOwnProperty(c)&&(a[c]=u[c])})(o,r)};return function(o,r){function a(){this.constructor=o}d(o,r),o.prototype=null===r?Object.create(r):(a.prototype=r.prototype,new a)}}(),Qv=function(d,o,r,a){var f,u=arguments.length,c=u<3?o:null===a?a=Object.getOwnPropertyDescriptor(o,r):a;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)c=Reflect.decorate(d,o,r,a);else for(var y=d.length-1;y>=0;y--)(f=d[y])&&(c=(u<3?f(c):u>3?f(o,r,c):f(o,r))||c);return u>3&&c&&Object.defineProperty(o,r,c),c},VC=function(d){function o(){return null!==d&&d.apply(this,arguments)||this}return vx(o,d),o.prototype.findHeader=function(r,a){var u;if(u=r.column instanceof ar?this.columnModel["getDisplayedGroup"+a](r.column):this.columnModel["getDisplayedCol"+a](r.column))return{column:u,headerRowIndex:r.headerRowIndex}},o.prototype.findColAtEdgeForHeaderRow=function(r,a){var u=this.columnModel.getAllDisplayedColumns(),c=u["start"===a?0:u.length-1];if(c){var y=this.ctrlsService.getHeaderRowContainerCtrl(c.getPinned()).getRowType(r);return console.log("level="+r+" type = "+y),y==H.A6C.COLUMN_GROUP?{headerRowIndex:r,column:this.columnModel.getColumnGroupAtLevel(c,r)}:{headerRowIndex:null==y?-1:r,column:c}}},Qv([F("columnModel")],o.prototype,"columnModel",void 0),Qv([F("ctrlsService")],o.prototype,"ctrlsService",void 0),Qv([Te("headerPositionUtils")],o)}(he),mx=function(){function d(){}return d.prototype.buildColumnDefs=function(o,r,a){var u=this,c=[],f={};return o.forEach(function(y){for(var D=!0,O=u.createDefFromColumn(y,r,a),I=y.getOriginalParent();I;){var V=null;if(I.isPadding())I=I.getOriginalParent();else{var B=f[I.getGroupId()];if(B){B.children.push(O),D=!1;break}(V=u.createDefFromGroup(I))&&(V.children=[O],f[V.groupId]=V,O=V,I=I.getOriginalParent())}}D&&c.push(O)}),c},d.prototype.createDefFromGroup=function(o){var r=mp(o.getColGroupDef(),["children"]);return r&&(r.groupId=o.getGroupId()),r},d.prototype.createDefFromColumn=function(o,r,a){var u=mp(o.getColDef());return u.colId=o.getColId(),u.width=o.getActualWidth(),u.rowGroup=o.isRowGroupActive(),u.rowGroupIndex=o.isRowGroupActive()?r.indexOf(o):null,u.pivot=o.isPivotActive(),u.pivotIndex=o.isPivotActive()?a.indexOf(o):null,u.aggFunc=o.isValueActive()?o.getAggFunc():null,u.hide=!o.isVisible()||void 0,u.pinned=o.isPinned()?o.getPinned():null,u.sort=o.getSort()?o.getSort():null,u.sortIndex=null!=o.getSortIndex()?o.getSortIndex():null,u},function(d,o,r,a){var f,u=arguments.length,c=u<3?o:null===a?a=Object.getOwnPropertyDescriptor(o,r):a;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)c=Reflect.decorate(d,o,r,a);else for(var y=d.length-1;y>=0;y--)(f=d[y])&&(c=(u<3?f(c):u>3?f(o,r,c):f(o,r))||c);return u>3&&c&&Object.defineProperty(o,r,c),c}([Te("columnDefFactory")],d)}(),Vu=function(d,o,r,a){var f,u=arguments.length,c=u<3?o:null===a?a=Object.getOwnPropertyDescriptor(o,r):a;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)c=Reflect.decorate(d,o,r,a);else for(var y=d.length-1;y>=0;y--)(f=d[y])&&(c=(u<3?f(c):u>3?f(o,r,c):f(o,r))||c);return u>3&&c&&Object.defineProperty(o,r,c),c},ku=function(){function d(){}return d.prototype.getInitialRowClasses=function(o){var r=[];return ce(o.extraCssClass)&&r.push(o.extraCssClass),r.push("ag-row"),r.push(o.rowFocused?"ag-row-focus":"ag-row-no-focus"),o.fadeRowIn&&r.push("ag-opacity-zero"),r.push(o.rowIsEven?"ag-row-even":"ag-row-odd"),o.rowNode.isRowPinned()&&r.push("ag-row-pinned"),o.rowNode.isSelected()&&r.push("ag-row-selected"),o.rowNode.footer&&r.push("ag-row-footer"),r.push("ag-row-level-"+o.rowLevel),o.rowNode.stub&&r.push("ag-row-loading"),o.fullWidthRow&&r.push("ag-full-width-row"),o.expandable&&(r.push("ag-row-group"),r.push(o.rowNode.expanded?"ag-row-group-expanded":"ag-row-group-contracted")),o.rowNode.dragging&&r.push("ag-row-dragging"),Qf(r,this.processClassesFromGridOptions(o.rowNode,o.scope)),Qf(r,this.preProcessRowClassRules(o.rowNode,o.scope)),r.push(o.printLayout?"ag-row-position-relative":"ag-row-position-absolute"),o.firstRowOnPage&&r.push("ag-row-first"),o.lastRowOnPage&&r.push("ag-row-last"),o.fullWidthRow&&(o.pinned===q.PINNED_LEFT&&r.push("ag-cell-last-left-pinned"),o.pinned===q.PINNED_RIGHT&&r.push("ag-cell-first-right-pinned")),r},d.prototype.processClassesFromGridOptions=function(o,r){var a=[],u=function(D){"string"==typeof D?a.push(D):Array.isArray(D)&&D.forEach(function(O){return a.push(O)})},c=this.gridOptionsWrapper.getRowClass();if(c){if("function"==typeof c)return console.warn("AG Grid: rowClass should not be a function, please use getRowClass instead"),[];u(c)}var f=this.gridOptionsWrapper.getRowClassFunc();return f&&u(f({data:o.data,node:o,rowIndex:o.rowIndex,$scope:r,api:this.gridOptionsWrapper.getApi(),columnApi:this.gridOptionsWrapper.getColumnApi(),context:this.gridOptionsWrapper.getContext()})),a},d.prototype.preProcessRowClassRules=function(o,r){var a=[];return this.processRowClassRules(o,r,function(u){a.push(u)},function(u){}),a},d.prototype.processRowClassRules=function(o,r,a,u){var c={data:o.data,node:o,rowIndex:o.rowIndex,api:this.gridOptionsWrapper.getApi(),columnApi:this.gridOptionsWrapper.getColumnApi(),$scope:r,context:this.gridOptionsWrapper.getContext()};this.stylingService.processClassRules(this.gridOptionsWrapper.rowClassRules(),c,a,u)},d.prototype.calculateRowLevel=function(o){return o.group?o.level:o.parent?o.parent.level+1:0},Vu([F("stylingService")],d.prototype,"stylingService",void 0),Vu([F("gridOptionsWrapper")],d.prototype,"gridOptionsWrapper",void 0),Vu([Te("rowCssClassCalculator")],d)}(),kC=function(){var d=function(o,r){return(d=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(a,u){a.__proto__=u}||function(a,u){for(var c in u)u.hasOwnProperty(c)&&(a[c]=u[c])})(o,r)};return function(o,r){function a(){this.constructor=o}d(o,r),o.prototype=null===r?Object.create(r):(a.prototype=r.prototype,new a)}}(),Wr=function(d){function o(r){var a=d.call(this)||this;return a.state=o.STATE_WAITING_TO_LOAD,a.version=0,a.id=r,a}return kC(o,d),o.prototype.getId=function(){return this.id},o.prototype.load=function(){this.state=o.STATE_LOADING,this.loadFromDatasource()},o.prototype.getVersion=function(){return this.version},o.prototype.setStateWaitingToLoad=function(){this.version++,this.state=o.STATE_WAITING_TO_LOAD},o.prototype.getState=function(){return this.state},o.prototype.pageLoadFailed=function(r){this.isRequestMostRecentAndLive(r)&&(this.state=o.STATE_FAILED,this.processServerFail()),this.dispatchLoadCompleted(!1)},o.prototype.success=function(r,a){this.successCommon(r,a)},o.prototype.pageLoaded=function(r,a,u){this.successCommon(r,{rowData:a,rowCount:u})},o.prototype.isRequestMostRecentAndLive=function(r){var a=r===this.version,u=this.isAlive();return a&&u},o.prototype.successCommon=function(r,a){this.dispatchLoadCompleted(),this.isRequestMostRecentAndLive(r)&&(this.state=o.STATE_LOADED,this.processServerResult(a))},o.prototype.dispatchLoadCompleted=function(r){void 0===r&&(r=!0),this.dispatchEvent({type:o.EVENT_LOAD_COMPLETE,success:r,block:this})},o.EVENT_LOAD_COMPLETE="loadComplete",o.STATE_WAITING_TO_LOAD="needsLoading",o.STATE_LOADING="loading",o.STATE_LOADED="loaded",o.STATE_FAILED="failed",o}(he),bd=function(){var d=function(o,r){return(d=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(a,u){a.__proto__=u}||function(a,u){for(var c in u)u.hasOwnProperty(c)&&(a[c]=u[c])})(o,r)};return function(o,r){function a(){this.constructor=o}d(o,r),o.prototype=null===r?Object.create(r):(a.prototype=r.prototype,new a)}}(),Jv=function(d,o,r,a){var f,u=arguments.length,c=u<3?o:null===a?a=Object.getOwnPropertyDescriptor(o,r):a;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)c=Reflect.decorate(d,o,r,a);else for(var y=d.length-1;y>=0;y--)(f=d[y])&&(c=(u<3?f(c):u>3?f(o,r,c):f(o,r))||c);return u>3&&c&&Object.defineProperty(o,r,c),c},_x=function(d,o){return function(r,a){o(r,a,d)}},Zh=function(d){function o(){var a=null!==d&&d.apply(this,arguments)||this;return a.activeBlockLoadsCount=0,a.blocks=[],a.active=!0,a}var r;return bd(o,d),r=o,o.prototype.postConstruct=function(){this.maxConcurrentRequests=this.gridOptionsWrapper.getMaxConcurrentDatasourceRequests();var a=this.gridOptionsWrapper.getBlockLoadDebounceMillis();a&&a>0&&(this.checkBlockToLoadDebounce=Ie.debounce(this.performCheckBlocksToLoad.bind(this),a))},o.prototype.setBeans=function(a){this.logger=a.create("RowNodeBlockLoader")},o.prototype.addBlock=function(a){this.blocks.push(a),a.addEventListener(Wr.EVENT_LOAD_COMPLETE,this.loadComplete.bind(this)),this.checkBlockToLoad()},o.prototype.removeBlock=function(a){Ie.removeFromArray(this.blocks,a)},o.prototype.destroy=function(){d.prototype.destroy.call(this),this.active=!1},o.prototype.loadComplete=function(){this.activeBlockLoadsCount--,this.checkBlockToLoad(),0==this.activeBlockLoadsCount&&this.dispatchEvent({type:r.BLOCK_LOADER_FINISHED_EVENT})},o.prototype.checkBlockToLoad=function(){this.checkBlockToLoadDebounce?this.checkBlockToLoadDebounce():this.performCheckBlocksToLoad()},o.prototype.performCheckBlocksToLoad=function(){if(this.active){if(this.printCacheStatus(),null!=this.maxConcurrentRequests&&this.activeBlockLoadsCount>=this.maxConcurrentRequests)return void this.logger.log("checkBlockToLoad: max loads exceeded");var a=null;this.blocks.forEach(function(u){u.getState()===Wr.STATE_WAITING_TO_LOAD&&(a=u)}),a&&(a.load(),this.activeBlockLoadsCount++,this.printCacheStatus())}},o.prototype.getBlockState=function(){var a={};return this.blocks.forEach(function(u){var c=u.getBlockStateJson();a[c.id]=c.state}),a},o.prototype.printCacheStatus=function(){this.logger.isLogging()&&this.logger.log("printCacheStatus: activePageLoadsCount = "+this.activeBlockLoadsCount+", blocks = "+JSON.stringify(this.getBlockState()))},o.prototype.isLoading=function(){return this.activeBlockLoadsCount>0},o.BLOCK_LOADER_FINISHED_EVENT="blockLoaderFinished",Jv([ye],o.prototype,"postConstruct",null),Jv([_x(0,br("loggerFactory"))],o.prototype,"setBeans",null),r=Jv([Te("rowNodeBlockLoader")],o)}(he),ao=function(d,o,r,a){var f,u=arguments.length,c=u<3?o:null===a?a=Object.getOwnPropertyDescriptor(o,r):a;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)c=Reflect.decorate(d,o,r,a);else for(var y=d.length-1;y>=0;y--)(f=d[y])&&(c=(u<3?f(c):u>3?f(o,r,c):f(o,r))||c);return u>3&&c&&Object.defineProperty(o,r,c),c},Gu=function(){function d(){}return d.prototype.doFullSort=function(o,r){var u=o.map(function(c,f){return{currentPos:f,rowNode:c}});return u.sort(this.compareRowNodes.bind(this,r)),u.map(function(c){return c.rowNode})},d.prototype.compareRowNodes=function(o,r,a){for(var u=r.rowNode,c=a.rowNode,f=0,y=o.length;f<y;f++){var V,w=o[f],D=w.sort===q.SORT_DESC,O=this.getValue(u,w.column),I=this.getValue(c,w.column),B=this.getComparator(w,u);if(V=B?B(O,I,u,c,D):Ie.defaultComparator(O,I,this.gridOptionsWrapper.isAccentedSort()),!isNaN(V)&&0!==V)return w.sort===q.SORT_ASC?V:-1*V}return r.currentPos-a.currentPos},d.prototype.getComparator=function(o,r){var a=o.column,u=a.getColDef().comparator;if(null!=u)return u;if(r.rowGroupColumn)return r.rowGroupColumn.getColDef().comparator;if(a.getColDef().showRowGroup){var c=!r.group&&a.getColDef().field;if(c){var f=this.columnModel.getPrimaryColumn(c);if(f)return f.getColDef().comparator}}},d.prototype.getValue=function(o,r){return this.valueService.getValue(r,o,!1,!1)},ao([F("gridOptionsWrapper")],d.prototype,"gridOptionsWrapper",void 0),ao([F("valueService")],d.prototype,"valueService",void 0),ao([F("columnModel")],d.prototype,"columnModel",void 0),ao([Te("rowNodeSorter")],d)}(),pr=function(){var d=function(o,r){return(d=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(a,u){a.__proto__=u}||function(a,u){for(var c in u)u.hasOwnProperty(c)&&(a[c]=u[c])})(o,r)};return function(o,r){function a(){this.constructor=o}d(o,r),o.prototype=null===r?Object.create(r):(a.prototype=r.prototype,new a)}}(),Cd=function(d){function o(){var r=null!==d&&d.apply(this,arguments)||this;return r.ready=!1,r.readyCallbacks=[],r}return pr(o,d),o.prototype.checkReady=function(){if(this.ready=null!=this.gridCtrl&&null!=this.gridBodyCtrl&&null!=this.centerRowContainerCtrl&&null!=this.leftRowContainerCtrl&&null!=this.rightRowContainerCtrl&&null!=this.bottomCenterRowContainerCtrl&&null!=this.bottomLeftRowContainerCtrl&&null!=this.bottomRightRowContainerCtrl&&null!=this.topCenterRowContainerCtrl&&null!=this.topLeftRowContainerCtrl&&null!=this.topRightRowContainerCtrl&&null!=this.centerHeaderRowContainerCtrl&&null!=this.leftHeaderRowContainerCtrl&&null!=this.rightHeaderRowContainerCtrl&&null!=this.fakeHScrollCtrl&&null!=this.gridHeaderCtrl,this.ready){var r=this.createReadyParams();this.readyCallbacks.forEach(function(a){return a(r)}),this.readyCallbacks.length=0}},o.prototype.whenReady=function(r){this.ready?r(this.createReadyParams()):this.readyCallbacks.push(r)},o.prototype.createReadyParams=function(){return{centerRowContainerCtrl:this.centerRowContainerCtrl,leftRowContainerCtrl:this.leftRowContainerCtrl,rightRowContainerCtrl:this.rightRowContainerCtrl,bottomCenterRowContainerCtrl:this.bottomCenterRowContainerCtrl,bottomLeftRowContainerCtrl:this.bottomLeftRowContainerCtrl,bottomRightRowContainerCtrl:this.bottomRightRowContainerCtrl,topCenterRowContainerCtrl:this.topCenterRowContainerCtrl,topLeftRowContainerCtrl:this.topLeftRowContainerCtrl,topRightRowContainerCtrl:this.topRightRowContainerCtrl,centerHeaderRowContainerCtrl:this.centerHeaderRowContainerCtrl,leftHeaderRowContainerCtrl:this.leftHeaderRowContainerCtrl,rightHeaderRowContainerCtrl:this.rightHeaderRowContainerCtrl,fakeHScrollCtrl:this.fakeHScrollCtrl,gridBodyCtrl:this.gridBodyCtrl,gridCtrl:this.gridCtrl,gridHeaderCtrl:this.gridHeaderCtrl}},o.prototype.registerFakeHScrollCtrl=function(r){this.fakeHScrollCtrl=r,this.checkReady()},o.prototype.registerGridHeaderCtrl=function(r){this.gridHeaderCtrl=r,this.checkReady()},o.prototype.registerCenterRowContainerCtrl=function(r){this.centerRowContainerCtrl=r,this.checkReady()},o.prototype.registerLeftRowContainerCtrl=function(r){this.leftRowContainerCtrl=r,this.checkReady()},o.prototype.registerRightRowContainerCtrl=function(r){this.rightRowContainerCtrl=r,this.checkReady()},o.prototype.registerTopCenterRowContainerCtrl=function(r){this.topCenterRowContainerCtrl=r,this.checkReady()},o.prototype.registerTopLeftRowContainerCon=function(r){this.topLeftRowContainerCtrl=r,this.checkReady()},o.prototype.registerTopRightRowContainerCtrl=function(r){this.topRightRowContainerCtrl=r,this.checkReady()},o.prototype.registerBottomCenterRowContainerCtrl=function(r){this.bottomCenterRowContainerCtrl=r,this.checkReady()},o.prototype.registerBottomLeftRowContainerCtrl=function(r){this.bottomLeftRowContainerCtrl=r,this.checkReady()},o.prototype.registerBottomRightRowContainerCtrl=function(r){this.bottomRightRowContainerCtrl=r,this.checkReady()},o.prototype.registerHeaderContainer=function(r,a){switch(a){case q.PINNED_LEFT:this.leftHeaderRowContainerCtrl=r;break;case q.PINNED_RIGHT:this.rightHeaderRowContainerCtrl=r;break;default:this.centerHeaderRowContainerCtrl=r}this.checkReady()},o.prototype.registerGridBodyCtrl=function(r){this.gridBodyCtrl=r,this.checkReady()},o.prototype.registerGridCtrl=function(r){this.gridCtrl=r,this.checkReady()},o.prototype.getFakeHScrollCtrl=function(){return this.fakeHScrollCtrl},o.prototype.getGridHeaderCtrl=function(){return this.gridHeaderCtrl},o.prototype.getGridCtrl=function(){return this.gridCtrl},o.prototype.getCenterRowContainerCtrl=function(){return this.centerRowContainerCtrl},o.prototype.getTopCenterRowContainerCtrl=function(){return this.topCenterRowContainerCtrl},o.prototype.getBottomCenterRowContainerCtrl=function(){return this.bottomCenterRowContainerCtrl},o.prototype.getGridBodyCtrl=function(){return this.gridBodyCtrl},o.prototype.getHeaderRowContainerCtrls=function(){return[this.leftHeaderRowContainerCtrl,this.rightHeaderRowContainerCtrl,this.centerHeaderRowContainerCtrl]},o.prototype.getHeaderRowContainerCtrl=function(r){switch(r){case q.PINNED_LEFT:return this.leftHeaderRowContainerCtrl;case q.PINNED_RIGHT:return this.rightHeaderRowContainerCtrl;default:return this.centerHeaderRowContainerCtrl}},function(d,o,r,a){var f,u=arguments.length,c=u<3?o:null===a?a=Object.getOwnPropertyDescriptor(o,r):a;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)c=Reflect.decorate(d,o,r,a);else for(var y=d.length-1;y>=0;y--)(f=d[y])&&(c=(u<3?f(c):u>3?f(o,r,c):f(o,r))||c);return u>3&&c&&Object.defineProperty(o,r,c),c}([Te("ctrlsService")],o)}(he),xo=function(){var d=function(o,r){return(d=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(a,u){a.__proto__=u}||function(a,u){for(var c in u)u.hasOwnProperty(c)&&(a[c]=u[c])})(o,r)};return function(o,r){function a(){this.constructor=o}d(o,r),o.prototype=null===r?Object.create(r):(a.prototype=r.prototype,new a)}}(),Hu=function(d){function o(){var r=null!==d&&d.apply(this,arguments)||this;return r.registry={},r}return xo(o,d),o.prototype.register=function(r){this.registry[r.controllerName]=r.controllerClass},o.prototype.getInstance=function(r){var a=this.registry[r];if(null!=a)return new a},function(d,o,r,a){var f,u=arguments.length,c=u<3?o:null===a?a=Object.getOwnPropertyDescriptor(o,r):a;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)c=Reflect.decorate(d,o,r,a);else for(var y=d.length-1;y>=0;y--)(f=d[y])&&(c=(u<3?f(c):u>3?f(o,r,c):f(o,r))||c);return u>3&&c&&Object.defineProperty(o,r,c),c}([Te("ctrlsFactory")],o)}(he),Bu=function(){var d=function(o,r){return(d=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(a,u){a.__proto__=u}||function(a,u){for(var c in u)u.hasOwnProperty(c)&&(a[c]=u[c])})(o,r)};return function(o,r){function a(){this.constructor=o}d(o,r),o.prototype=null===r?Object.create(r):(a.prototype=r.prototype,new a)}}(),qs=function(d,o,r,a){var f,u=arguments.length,c=u<3?o:null===a?a=Object.getOwnPropertyDescriptor(o,r):a;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)c=Reflect.decorate(d,o,r,a);else for(var y=d.length-1;y>=0;y--)(f=d[y])&&(c=(u<3?f(c):u>3?f(o,r,c):f(o,r))||c);return u>3&&c&&Object.defineProperty(o,r,c),c},ju=function(d){function o(){return d.call(this)||this}return Bu(o,d),o.prototype.setComp=function(r,a,u,c){this.view=r,this.eViewport=u,this.eContainer=c,this.eGui=a,this.addManagedListener(this.eventService,j.EVENT_SCROLL_VISIBILITY_CHANGED,this.onScrollVisibilityChanged.bind(this)),this.onScrollVisibilityChanged();var f=this.setFakeHScrollSpacerWidths.bind(this);this.addManagedListener(this.eventService,j.EVENT_DISPLAYED_COLUMNS_CHANGED,f),this.addManagedListener(this.eventService,j.EVENT_DISPLAYED_COLUMNS_WIDTH_CHANGED,f),this.addManagedListener(this.gridOptionsWrapper,Fe.PROP_DOM_LAYOUT,f),this.setFakeHScrollSpacerWidths(),this.invisibleScrollbar&&(this.hideAndShowInvisibleScrollAsNeeded(),this.addActiveListenerToggles()),this.ctrlsService.registerFakeHScrollCtrl(this)},o.prototype.addActiveListenerToggles=function(){var r=this;["mouseenter","mousedown","touchstart"].forEach(function(c){return r.addManagedListener(r.eGui,c,function(){return r.view.addOrRemoveCssClass("ag-scrollbar-active",!0)})}),["mouseleave","mouseup","touchend"].forEach(function(c){return r.addManagedListener(r.eGui,c,function(){return r.view.addOrRemoveCssClass("ag-scrollbar-active",!1)})})},o.prototype.postConstruct=function(){this.enableRtl=this.gridOptionsWrapper.isEnableRtl(),this.invisibleScrollbar=b_()},o.prototype.onScrollVisibilityChanged=function(){this.setScrollVisible(),this.setFakeHScrollSpacerWidths()},o.prototype.hideAndShowInvisibleScrollAsNeeded=function(){var r=this;this.addManagedListener(this.eventService,j.EVENT_BODY_SCROLL,function(a){"horizontal"===a.direction&&r.view.addOrRemoveCssClass("ag-scrollbar-scrolling",!0)}),this.addManagedListener(this.eventService,j.EVENT_BODY_SCROLL_END,function(){return r.view.addOrRemoveCssClass("ag-scrollbar-scrolling",!1)})},o.prototype.setFakeHScrollSpacerWidths=function(){var r=this.scrollVisibleService.isVerticalScrollShowing(),a=this.columnModel.getDisplayedColumnsRightWidth(),u=!this.enableRtl&&r,c=this.gridOptionsWrapper.getScrollbarWidth();u&&(a+=c),this.view.setRightSpacerFixedWidth(a),this.view.includeRightSpacerScrollerCss("ag-scroller-corner",a<=c);var f=this.columnModel.getDisplayedColumnsLeftWidth();this.enableRtl&&r&&(f+=c),this.view.setLeftSpacerFixedWidth(f),this.view.includeLeftSpacerScrollerCss("ag-scroller-corner",f<=c)},o.prototype.setScrollVisible=function(){var r=this.scrollVisibleService.isHorizontalScrollShowing(),a=this.invisibleScrollbar,u=this.gridOptionsWrapper.isSuppressHorizontalScroll(),c=r&&this.gridOptionsWrapper.getScrollbarWidth()||0,y=u?0:0===c&&a?15:c,w=Ji()&&r;this.view.addOrRemoveCssClass("ag-scrollbar-invisible",a),this.view.setHeight(y),this.view.setViewportHeight(y+(w?1:0)),this.view.setContainerHeight(y)},o.prototype.getViewport=function(){return this.eViewport},o.prototype.getContainer=function(){return this.eContainer},qs([F("scrollVisibleService")],o.prototype,"scrollVisibleService",void 0),qs([F("columnModel")],o.prototype,"columnModel",void 0),qs([F("ctrlsService")],o.prototype,"ctrlsService",void 0),qs([ye],o.prototype,"postConstruct",null),o}(he),Wu=function(){var d=function(o,r){return(d=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(a,u){a.__proto__=u}||function(a,u){for(var c in u)u.hasOwnProperty(c)&&(a[c]=u[c])})(o,r)};return function(o,r){function a(){this.constructor=o}d(o,r),o.prototype=null===r?Object.create(r):(a.prototype=r.prototype,new a)}}(),_s=function(d,o,r,a){var f,u=arguments.length,c=u<3?o:null===a?a=Object.getOwnPropertyDescriptor(o,r):a;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)c=Reflect.decorate(d,o,r,a);else for(var y=d.length-1;y>=0;y--)(f=d[y])&&(c=(u<3?f(c):u>3?f(o,r,c):f(o,r))||c);return u>3&&c&&Object.defineProperty(o,r,c),c},Uu=function(d){function o(){return d.call(this,o.TEMPLATE)||this}return Wu(o,d),o.prototype.postConstruct=function(){var r=this,a={addOrRemoveCssClass:function(c,f){return r.addOrRemoveCssClass(c,f)},setHeight:function(c){return Ta(r.getGui(),c)},setContainerHeight:function(c){return Ta(r.eContainer,c)},setViewportHeight:function(c){return Ta(r.eViewport,c)},setRightSpacerFixedWidth:function(c){return un(r.eRightSpacer,c)},setLeftSpacerFixedWidth:function(c){return un(r.eLeftSpacer,c)},includeLeftSpacerScrollerCss:function(c,f){return Ke(r.eLeftSpacer,c,f)},includeRightSpacerScrollerCss:function(c,f){return Ke(r.eRightSpacer,c,f)}};this.createManagedBean(new ju).setComp(a,this.getGui(),this.eViewport,this.eContainer),this.createManagedBean(new Ob(function(c){return r.eContainer.style.width=c+"px"}))},o.TEMPLATE='<div class="ag-body-horizontal-scroll" aria-hidden="true">\n            <div class="ag-horizontal-left-spacer" ref="eLeftSpacer"></div>\n            <div class="ag-body-horizontal-scroll-viewport" ref="eViewport">\n                <div class="ag-body-horizontal-scroll-container" ref="eContainer"></div>\n            </div>\n            <div class="ag-horizontal-right-spacer" ref="eRightSpacer"></div>\n        </div>',_s([pe("eLeftSpacer")],o.prototype,"eLeftSpacer",void 0),_s([pe("eRightSpacer")],o.prototype,"eRightSpacer",void 0),_s([pe("eViewport")],o.prototype,"eViewport",void 0),_s([pe("eContainer")],o.prototype,"eContainer",void 0),_s([ye],o.prototype,"postConstruct",null),o}(_t),zu=function(){var d=function(o,r){return(d=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(a,u){a.__proto__=u}||function(a,u){for(var c in u)u.hasOwnProperty(c)&&(a[c]=u[c])})(o,r)};return function(o,r){function a(){this.constructor=o}d(o,r),o.prototype=null===r?Object.create(r):(a.prototype=r.prototype,new a)}}(),Ba=function(d,o,r,a){var f,u=arguments.length,c=u<3?o:null===a?a=Object.getOwnPropertyDescriptor(o,r):a;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)c=Reflect.decorate(d,o,r,a);else for(var y=d.length-1;y>=0;y--)(f=d[y])&&(c=(u<3?f(c):u>3?f(o,r,c):f(o,r))||c);return u>3&&c&&Object.defineProperty(o,r,c),c},GC=function(d){function o(){return null!==d&&d.apply(this,arguments)||this}return zu(o,d),o.prototype.postConstruct=function(){var r=this.checkContainerWidths.bind(this);this.addManagedListener(this.eventService,j.EVENT_DISPLAYED_COLUMNS_CHANGED,r),this.addManagedListener(this.eventService,j.EVENT_DISPLAYED_COLUMNS_WIDTH_CHANGED,r),this.addManagedListener(this.gridOptionsWrapper,Fe.PROP_DOM_LAYOUT,r)},o.prototype.checkContainerWidths=function(){var r=this.gridOptionsWrapper.getDomLayout()===q.DOM_LAYOUT_PRINT,a=r?0:this.columnModel.getDisplayedColumnsLeftWidth(),u=r?0:this.columnModel.getDisplayedColumnsRightWidth();a!=this.leftWidth&&(this.leftWidth=a,this.eventService.dispatchEvent({type:j.EVENT_LEFT_PINNED_WIDTH_CHANGED})),u!=this.rightWidth&&(this.rightWidth=u,this.eventService.dispatchEvent({type:j.EVENT_RIGHT_PINNED_WIDTH_CHANGED}))},o.prototype.getPinnedRightWidth=function(){return this.rightWidth},o.prototype.getPinnedLeftWidth=function(){return this.leftWidth},Ba([F("columnModel")],o.prototype,"columnModel",void 0),Ba([ye],o.prototype,"postConstruct",null),Ba([Te("pinnedWidthService")],o)}(he),HC=function(){var d=function(o,r){return(d=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(a,u){a.__proto__=u}||function(a,u){for(var c in u)u.hasOwnProperty(c)&&(a[c]=u[c])})(o,r)};return function(o,r){function a(){this.constructor=o}d(o,r),o.prototype=null===r?Object.create(r):(a.prototype=r.prototype,new a)}}(),ey=function(d){function o(r){var a=d.call(this,'<div class="ag-popup-editor" tabindex="-1"/>')||this;return a.params=r,a}return HC(o,d),o.prototype.postConstruct=function(){this.gridOptionsWrapper.setDomData(this.getGui(),o.DOM_KEY_POPUP_EDITOR_WRAPPER,!0),this.addKeyDownListener()},o.prototype.addKeyDownListener=function(){var r=this,a=this.getGui(),u=this.params;this.addManagedListener(a,"keydown",function(f){Nc(r.gridOptionsWrapper,f,u.node,u.column,!0)||u.onKeyDown(f)})},o.DOM_KEY_POPUP_EDITOR_WRAPPER="popupEditorWrapper",function(d,o,r,a){var f,u=arguments.length,c=u<3?o:null===a?a=Object.getOwnPropertyDescriptor(o,r):a;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)c=Reflect.decorate(d,o,r,a);else for(var y=d.length-1;y>=0;y--)(f=d[y])&&(c=(u<3?f(c):u>3?f(o,r,c):f(o,r))||c);u>3&&c&&Object.defineProperty(o,r,c)}([ye],o.prototype,"postConstruct",null),o}(jc),jC=function(){var d=function(o,r){return(d=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(a,u){a.__proto__=u}||function(a,u){for(var c in u)u.hasOwnProperty(c)&&(a[c]=u[c])})(o,r)};return function(o,r){function a(){this.constructor=o}d(o,r),o.prototype=null===r?Object.create(r):(a.prototype=r.prototype,new a)}}(),Qh=function(){return(Qh=Object.assign||function(d){for(var o,r=1,a=arguments.length;r<a;r++)for(var u in o=arguments[r])Object.prototype.hasOwnProperty.call(o,u)&&(d[u]=o[u]);return d}).apply(this,arguments)},ty=function(d){function o(r,a,u,c,f,y,w){var D=d.call(this)||this;D.scope=null,D.rendererVersion=0,D.editorVersion=0,D.scope=r,D.beans=a,D.column=u.getColumn(),D.rowNode=u.getRowNode(),D.rowCtrl=u.getRowCtrl(),D.autoHeightCell=c,D.eRow=y,D.setTemplate('<div comp-id="'+D.getCompId()+'"/>');var O=D.getGui(),I=O.style;D.eCellValue=O;var V=function(z,ee,ie){var _e=ie||O;null!=ee&&""!=ee?_e.setAttribute(z,ee):_e.removeAttribute(z)},B={addOrRemoveCssClass:function(z,ee){return D.addOrRemoveCssClass(z,ee)},setUserStyles:function(z){return Mp(O,z)},setAriaSelected:function(z){return lu(O,z)},setAriaExpanded:function(z){return Hp(O,z)},getFocusableElement:function(){return D.getFocusableElement()},setLeft:function(z){return I.left=z},setWidth:function(z){return I.width=z},setAriaColIndex:function(z){return bo(D.getGui(),z)},setHeight:function(z){return I.height=z},setZIndex:function(z){return I.zIndex=z},setTabIndex:function(z){return V("tabindex",z.toString())},setRole:function(z){return Sr(O,z)},setColId:function(z){return V("col-id",z)},setTitle:function(z){return V("title",z)},setUnselectable:function(z){return V("unselectable",z,D.eCellValue)},setTransition:function(z){return I.transition=z||""},setIncludeSelection:function(z){return D.includeSelection=z},setIncludeRowDrag:function(z){return D.includeRowDrag=z},setIncludeDndSource:function(z){return D.includeDndSource=z},setForceWrapper:function(z){return D.forceWrapper=z},setRenderDetails:function(z,ee,ie){return D.setRenderDetails(z,ee,ie)},setEditDetails:function(z,ee,ie){return D.setEditDetails(z,ee,ie)},getCellEditor:function(){return D.cellEditor||null},getCellRenderer:function(){return D.cellRenderer||null},getParentOfValue:function(){return D.eCellValue}};return D.cellCtrl=u,u.setComp(B,D.scope,D.getGui(),f,w),D}return jC(o,d),o.prototype.setRenderDetails=function(r,a,u){if(!this.cellEditor||this.cellEditorPopupWrapper){this.firstRender=null==this.firstRender;var f=this.isUsingAngular1Template(),y=this.setupControlsWrapper();r?!u&&!y&&this.refreshCellRenderer(r)||(this.destroyRenderer(),this.createCellRendererInstance(r)):(this.destroyRenderer(),f?this.insertValueUsingAngular1Template():this.insertValueWithoutCellRenderer(a))}},o.prototype.setEditDetails=function(r,a,u){r?this.createCellEditorInstance(r,a,u):this.destroyEditor()},o.prototype.removeControlsWrapper=function(){this.eCellValue=this.getGui(),this.eCellWrapper=null,this.checkboxSelectionComp=this.beans.context.destroyBean(this.checkboxSelectionComp),this.dndSourceComp=this.beans.context.destroyBean(this.dndSourceComp),this.rowDraggingComp=this.beans.context.destroyBean(this.rowDraggingComp)},o.prototype.setupControlsWrapper=function(){var r=this.includeRowDrag||this.includeDndSource||this.includeSelection||this.forceWrapper;return this.addOrRemoveCssClass("ag-cell-value",!r),r&&!this.eCellWrapper?(this.addControlsWrapper(),!0):!(r||!this.eCellWrapper||(this.removeControlsWrapper(),0))},o.prototype.addControlsWrapper=function(){this.getGui().innerHTML='<div ref="eCellWrapper" class="ag-cell-wrapper" role="presentation">\n                <span ref="eCellValue" class="ag-cell-value" role="presentation"></span>\n            </div>',this.eCellValue=this.getRefElement("eCellValue"),this.eCellWrapper=this.getRefElement("eCellWrapper"),this.forceWrapper||this.eCellValue.setAttribute("unselectable","on");var a=this.eCellValue.id="cell-"+this.getCompId(),u=[];this.includeRowDrag&&(this.rowDraggingComp=this.cellCtrl.createRowDragComp(),this.rowDraggingComp&&this.eCellWrapper.insertBefore(this.rowDraggingComp.getGui(),this.eCellValue)),this.includeDndSource&&(this.dndSourceComp=this.cellCtrl.createDndSource(),this.eCellWrapper.insertBefore(this.dndSourceComp.getGui(),this.eCellValue)),this.includeSelection&&(this.checkboxSelectionComp=this.cellCtrl.createSelectionCheckbox(),this.eCellWrapper.insertBefore(this.checkboxSelectionComp.getGui(),this.eCellValue),u.push(this.checkboxSelectionComp.getCheckboxId())),u.push(a),Gp(this.getGui(),u.join(" "))},o.prototype.createCellEditorInstance=function(r,a,u){var c=this,f=this.editorVersion,y=r.newAgStackInstance();if(y){var w=r.params;y.then(function(O){return c.afterCellEditorCreated(f,O,w,a,u)}),Ge(this.cellEditor)&&w.cellStartedEdit&&this.cellCtrl.focusCell(!0)}},o.prototype.insertValueWithoutCellRenderer=function(r){var a=null!=r?No(r):null;null!=a?this.eCellValue.innerHTML=a:mo(this.eCellValue)},o.prototype.insertValueUsingAngular1Template=function(){var f,r=this,a=this.column.getColDef(),u=a.template,c=a.templateUrl;null!=u?f=u:null!=c&&(f=this.beans.templateService.getTemplate(c,function(){return r.cellCtrl.refreshCell({forceRefresh:!0})})),null!=f&&(this.eCellValue.innerHTML=f,this.updateAngular1ScopeAndCompile())},o.prototype.destroyEditorAndRenderer=function(){this.destroyRenderer(),this.destroyEditor()},o.prototype.destroyRenderer=function(){this.cellRenderer=this.beans.context.destroyBean(this.cellRenderer),Vo(this.cellRendererGui),this.cellRendererGui=null,this.rendererVersion++},o.prototype.destroyEditor=function(){var r=this.beans.context;this.hideEditorPopup&&this.hideEditorPopup(),this.hideEditorPopup=void 0,this.cellEditor=r.destroyBean(this.cellEditor),this.cellEditorPopupWrapper=r.destroyBean(this.cellEditorPopupWrapper),Vo(this.cellEditorGui),this.cellEditorGui=null,this.editorVersion++},o.prototype.refreshCellRenderer=function(r){if(null==this.cellRenderer||null==this.cellRenderer.refresh||this.cellRendererClass!==r.componentClass)return!1;var a=this.cellRenderer.refresh(r.params);return!0===a||void 0===a},o.prototype.createCellRendererInstance=function(r){var a=this,u=this.beans.gridOptionsWrapper.isAngularCompileRows(),c=this.beans.gridOptionsWrapper.isSuppressAnimationFrame(),y=this.rendererVersion,w=r.componentClass,D=function(){if(a.rendererVersion===y&&a.isAlive()){var I=r.newAgStackInstance(),V=a.afterCellRendererCreated.bind(a,y,w);I&&I.then(V)}};u||c||this.autoHeightCell||!this.firstRender?D():this.beans.animationFrameService.createTask(D,this.rowNode.rowIndex,"createTasksP2")},o.prototype.isUsingAngular1Template=function(){var r=this.column.getColDef();return null!=r.template||null!=r.templateUrl},o.prototype.getCtrl=function(){return this.cellCtrl},o.prototype.getRowCtrl=function(){return this.rowCtrl},o.prototype.getCellRenderer=function(){return this.cellRenderer},o.prototype.getCellEditor=function(){return this.cellEditor},o.prototype.afterCellRendererCreated=function(r,a,u){this.isAlive()&&r===this.rendererVersion?(this.cellRenderer=u,this.cellRendererClass=a,this.cellRendererGui=this.cellRenderer.getGui(),null!=this.cellRendererGui&&(mo(this.eCellValue),this.eCellValue.appendChild(this.cellRendererGui),this.updateAngular1ScopeAndCompile())):this.beans.context.destroyBean(u)},o.prototype.afterCellEditorCreated=function(r,a,u,c,f){if(r!==this.editorVersion)this.beans.context.destroyBean(a);else{if(a.isCancelBeforeStart&&a.isCancelBeforeStart())return this.beans.context.destroyBean(a),void this.cellCtrl.stopEditing();if(!a.getGui)return console.warn("AG Grid: cellEditor for column "+this.column.getId()+" is missing getGui() method"),void this.beans.context.destroyBean(a);this.cellEditor=a,this.cellEditorGui=a.getGui(),c||void 0!==a.isPopup&&a.isPopup()?(c||this.cellCtrl.hackSayEditingInPopup(),this.addPopupCellEditor(u,f)):this.addInCellEditor(),a.afterGuiAttached&&a.afterGuiAttached()}},o.prototype.addInCellEditor=function(){var r=this.getGui();r.contains(document.activeElement)&&r.focus(),this.destroyRenderer(),this.removeControlsWrapper(),this.clearCellElement(),this.cellEditorGui&&r.appendChild(this.cellEditorGui)},o.prototype.addPopupCellEditor=function(r,a){var u=this;this.beans.gridOptionsWrapper.isFullRowEdit()&&console.warn("AG Grid: popup cellEditor does not work with fullRowEdit - you cannot use them both - either turn off fullRowEdit, or stop using popup editors.");var c=this.cellEditor;this.cellEditorPopupWrapper=this.beans.context.createBean(new ey(r));var f=this.cellEditorPopupWrapper.getGui();this.cellEditorGui&&f.appendChild(this.cellEditorGui);var y=this.beans.popupService,w=this.beans.gridOptionsWrapper.isStopEditingWhenCellsLoseFocus(),O=(null!=a||c.getPopupPosition&&c.getPopupPosition(),{column:this.column,rowNode:this.rowNode,type:"popupCellEditor",eventSource:this.getGui(),ePopup:f,keepWithinBounds:!0}),I="under"===a?y.positionPopupUnderComponent.bind(y,O):y.positionPopupOverComponent.bind(y,O),V=this.beans.gridOptionsWrapper.getLocaleTextFunc(),B=y.addPopup({modal:w,eChild:f,closeOnEsc:!0,closedCallback:function(){u.cellCtrl.onPopupEditorClosed()},anchorToElement:this.getGui(),positionCallback:I,ariaLabel:V("ariaLabelCellEditor","Cell Editor")});B&&(this.hideEditorPopup=B.hideFunc)},o.prototype.detach=function(){this.eRow.removeChild(this.getGui())},o.prototype.destroy=function(){this.cellCtrl.stopEditing(),this.destroyEditorAndRenderer(),this.removeControlsWrapper(),this.angularCompiledElement&&(this.angularCompiledElement.remove(),this.angularCompiledElement=void 0),d.prototype.destroy.call(this)},o.prototype.clearCellElement=function(){var r=this.getGui();r.contains(document.activeElement)&&!Ji()&&r.focus({preventScroll:!0}),mo(r)},o.prototype.updateAngular1ScopeAndCompile=function(){this.beans.gridOptionsWrapper.isAngularCompileRows()&&this.scope&&(this.scope.data=Qh({},this.rowNode.data),this.angularCompiledElement&&this.angularCompiledElement.remove(),this.angularCompiledElement=this.beans.$compile(this.eCellValue.children)(this.scope),this.beans.ctrlsService.getGridBodyCtrl().requestAngularApply())},o}(_t),WC=function(){var d=function(o,r){return(d=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(a,u){a.__proto__=u}||function(a,u){for(var c in u)u.hasOwnProperty(c)&&(a[c]=u[c])})(o,r)};return function(o,r){function a(){this.constructor=o}d(o,r),o.prototype=null===r?Object.create(r):(a.prototype=r.prototype,new a)}}(),UC=function(d){function o(r,a,u){var c=d.call(this)||this;c.cellComps={},c.beans=a,c.rowCtrl=r,c.setTemplate('<div comp-id="'+c.getCompId()+'" style="'+c.getInitialStyle()+'"/>');var f=c.getGui(),y=f.style;return r.setComp({setDisplay:function(D){null==D?y.removeProperty("display"):y.setProperty("display","none")},setDomOrder:function(D){return c.domOrder=D},setCellCtrls:function(D){return c.setCellCtrls(D)},showFullWidth:function(D){return c.showFullWidth(D)},getFullWidthCellRenderer:function(){return c.getFullWidthCellRenderer()},addOrRemoveCssClass:function(D,O){return c.addOrRemoveCssClass(D,O)},setAriaExpanded:function(D){return Hp(f,D)},setUserStyles:function(D){return Mp(f,D)},setAriaSelected:function(D){return lu(f,D)},setAriaLabel:function(D){ou(f,null==D?"":D)},setHeight:function(D){return y.height=D},setTop:function(D){return y.top=D},setTransform:function(D){return y.transform=D},setRowIndex:function(D){return f.setAttribute("row-index",D)},setRole:function(D){return Sr(f,D)},setAriaRowIndex:function(D){return Bp(c.getGui(),D)},setRowId:function(D){return f.setAttribute("row-id",D)},setRowBusinessKey:function(D){return f.setAttribute("row-business-key",D)},setTabIndex:function(D){return f.setAttribute("tabindex",D.toString())}},c.getGui(),u),c}return WC(o,d),o.prototype.getInitialStyle=function(){var r=this.rowCtrl.getInitialTransform(),a=this.rowCtrl.getInitialRowTop();return r?"transform: "+r:"top: "+a},o.prototype.showFullWidth=function(r){var a=this,c=r.newAgStackInstance(this.rowCtrl.getFullWidthCellRendererType());!c||c.then(function(f){if(a.isAlive()){var y=f.getGui();a.getGui().appendChild(y),a.rowCtrl.getRowType()===Sn.FullWidthDetail&&a.rowCtrl.setupDetailRowAutoHeight(y),a.setFullWidthRowComp(f)}else a.beans.context.destroyBean(f)})},o.prototype.setCellCtrls=function(r){var a=this,u=rr({},this.cellComps);r.forEach(function(f){var y=f.getInstanceId();null==a.cellComps[y]?a.newCellComp(f):u[y]=null});var c=Fr(u).filter(function(f){return null!=f});this.destroyCells(c),this.ensureDomOrder(r)},o.prototype.ensureDomOrder=function(r){var a=this;if(this.domOrder){var u=[];r.forEach(function(c){var f=a.cellComps[c.getInstanceId()];f&&u.push(f.getGui())}),vg(this.getGui(),u)}},o.prototype.newCellComp=function(r){var a=new ty(this.rowCtrl.getScope(),this.beans,r,!1,this.rowCtrl.isPrintLayout(),this.getGui(),this.rowCtrl.isEditing());this.cellComps[r.getInstanceId()]=a,this.getGui().appendChild(a.getGui())},o.prototype.destroy=function(){d.prototype.destroy.call(this),this.destroyAllCells()},o.prototype.destroyAllCells=function(){var r=Fr(this.cellComps).filter(function(a){return null!=a});this.destroyCells(r)},o.prototype.setFullWidthRowComp=function(r){var a=this;this.fullWidthCellRenderer&&console.error("AG Grid - should not be setting fullWidthRowComponent twice"),this.fullWidthCellRenderer=r,this.addDestroyFunc(function(){a.fullWidthCellRenderer=a.beans.context.destroyBean(a.fullWidthCellRenderer)})},o.prototype.getFullWidthCellRenderer=function(){return this.fullWidthCellRenderer},o.prototype.destroyCells=function(r){var a=this;r.forEach(function(u){if(u){var c=u.getCtrl().getInstanceId();a.cellComps[c]===u&&(u.detach(),u.destroy(),a.cellComps[c]=null)}})},o}(_t),bx=function(){var d=function(o,r){return(d=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(a,u){a.__proto__=u}||function(a,u){for(var c in u)u.hasOwnProperty(c)&&(a[c]=u[c])})(o,r)};return function(o,r){function a(){this.constructor=o}d(o,r),o.prototype=null===r?Object.create(r):(a.prototype=r.prototype,new a)}}(),xt=function(){return(xt=Object.assign||function(d){for(var o,r=1,a=arguments.length;r<a;r++)for(var u in o=arguments[r])Object.prototype.hasOwnProperty.call(o,u)&&(d[u]=o[u]);return d}).apply(this,arguments)},$u=function(d,o,r,a){var f,u=arguments.length,c=u<3?o:null===a?a=Object.getOwnPropertyDescriptor(o,r):a;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)c=Reflect.decorate(d,o,r,a);else for(var y=d.length-1;y>=0;y--)(f=d[y])&&(c=(u<3?f(c):u>3?f(o,r,c):f(o,r))||c);return u>3&&c&&Object.defineProperty(o,r,c),c},iy=function(d){function o(){var r=d.call(this,function(){var d=_t.elementGettingCreated.getAttribute("name"),o=Dv.getRowContainerCssClasses(d);return d===H.hA6.CENTER?'<div class="'+o.wrapper+'" ref="eWrapper" role="presentation" unselectable="on">\n                <div class="'+o.viewport+'" ref="eViewport" role="presentation">\n                    <div class="'+o.container+'" ref="eContainer" role="rowgroup" unselectable="on"></div>\n                </div>\n            </div>':d===H.hA6.TOP_CENTER||d===H.hA6.BOTTOM_CENTER?'<div class="'+o.viewport+'" ref="eViewport" role="presentation" unselectable="on">\n                <div class="'+o.container+'" ref="eContainer" role="presentation" unselectable="on"></div>\n            </div>':'<div class="'+o.container+'" ref="eContainer" role="presentation" unselectable="on"></div>'}())||this;return r.rowComps={},r.name=_t.elementGettingCreated.getAttribute("name"),r}return bx(o,d),o.prototype.postConstruct=function(){var r=this,a={setViewportHeight:function(c){return r.eViewport.style.height=c},setRowCtrls:function(c){return r.setRowCtrls(c)},setDomOrder:function(c){r.domOrder=c},setContainerWidth:function(c){return r.eContainer.style.width=c}};this.createManagedBean(new Dv(this.name)).setComp(a,this.eContainer,this.eViewport,this.eWrapper)},o.prototype.preDestroy=function(){this.setRowCtrls([])},o.prototype.setRowCtrls=function(r){var a=this,u=xt({},this.rowComps);this.rowComps={},this.lastPlacedElement=null,r.forEach(function(f){var y=f.getInstanceId(),w=u[y];if(w)a.rowComps[y]=w,delete u[y],a.ensureDomOrder(w.getGui());else{var D=a.newRowComp(f);a.rowComps[y]=D,a.appendRow(D.getGui())}}),Fr(u).forEach(function(f){a.eContainer.removeChild(f.getGui()),f.destroy()})},o.prototype.appendRow=function(r){this.domOrder?D_(this.eContainer,r,this.lastPlacedElement):this.eContainer.appendChild(r),this.lastPlacedElement=r},o.prototype.ensureDomOrder=function(r){this.domOrder&&(Ip(this.eContainer,r,this.lastPlacedElement),this.lastPlacedElement=r)},o.prototype.newRowComp=function(r){var a=Dv.getPinned(this.name);return new UC(r,this.beans,a)},$u([F("beans")],o.prototype,"beans",void 0),$u([pe("eViewport")],o.prototype,"eViewport",void 0),$u([pe("eContainer")],o.prototype,"eContainer",void 0),$u([pe("eWrapper")],o.prototype,"eWrapper",void 0),$u([ye],o.prototype,"postConstruct",null),$u([or],o.prototype,"preDestroy",null),o}(_t),Cx=function(){var d=function(o,r){return(d=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(a,u){a.__proto__=u}||function(a,u){for(var c in u)u.hasOwnProperty(c)&&(a[c]=u[c])})(o,r)};return function(o,r){function a(){this.constructor=o}d(o,r),o.prototype=null===r?Object.create(r):(a.prototype=r.prototype,new a)}}(),ny=function(d,o,r,a){var f,u=arguments.length,c=u<3?o:null===a?a=Object.getOwnPropertyDescriptor(o,r):a;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)c=Reflect.decorate(d,o,r,a);else for(var y=d.length-1;y>=0;y--)(f=d[y])&&(c=(u<3?f(c):u>3?f(o,r,c):f(o,r))||c);return u>3&&c&&Object.defineProperty(o,r,c),c},wx=function(d){function o(){var r=null!==d&&d.apply(this,arguments)||this;return r.events=[],r}return Cx(o,d),o.prototype.postConstruct=function(){this.rowModel.getType()==q.ROW_MODEL_TYPE_CLIENT_SIDE&&(this.clientSideRowModel=this.rowModel)},o.prototype.dispatchExpanded=function(r){var a=this;this.events.push(r),null==this.dispatchExpandedDebounced&&(this.dispatchExpandedDebounced=this.animationFrameService.debounce(function(){a.clientSideRowModel&&a.clientSideRowModel.onRowGroupOpened(),a.events.forEach(function(u){return a.eventService.dispatchEvent(u)}),a.events=[]})),this.dispatchExpandedDebounced()},ny([F("animationFrameService")],o.prototype,"animationFrameService",void 0),ny([F("rowModel")],o.prototype,"rowModel",void 0),ny([ye],o.prototype,"postConstruct",null),ny([Te("rowNodeEventThrottle")],o)}(he),zC=function(){var d=function(o,r){return(d=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(a,u){a.__proto__=u}||function(a,u){for(var c in u)u.hasOwnProperty(c)&&(a[c]=u[c])})(o,r)};return function(o,r){function a(){this.constructor=o}d(o,r),o.prototype=null===r?Object.create(r):(a.prototype=r.prototype,new a)}}(),wd=function(d,o,r,a){var f,u=arguments.length,c=u<3?o:null===a?a=Object.getOwnPropertyDescriptor(o,r):a;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)c=Reflect.decorate(d,o,r,a);else for(var y=d.length-1;y>=0;y--)(f=d[y])&&(c=(u<3?f(c):u>3?f(o,r,c):f(o,r))||c);return u>3&&c&&Object.defineProperty(o,r,c),c},ry=function(d){function o(){return null!==d&&d.apply(this,arguments)||this}return zC(o,d),o.prototype.hideActiveMenu=function(){this.hidePopup&&this.hidePopup()},o.prototype.showMenuAfterMouseEvent=function(r,a){var u=this;this.showPopup(r,function(c){u.popupService.positionPopupUnderMouseEvent({column:r,type:"columnMenu",mouseEvent:a,ePopup:c})},a.target)},o.prototype.showMenuAfterButtonClick=function(r,a,u){var c=this;this.showPopup(r,function(f){c.popupService.positionPopupUnderComponent({type:u,eventSource:a,ePopup:f,keepWithinBounds:!0,column:r})},a)},o.prototype.showPopup=function(r,a,u){var c=this,f=this.filterManager.getOrCreateFilterWrapper(r,"COLUMN_MENU"),y=document.createElement("div");Sr(y,"presentation"),Me(y,"ag-menu"),this.tabListener=this.addManagedListener(y,"keydown",function(B){return c.trapFocusWithin(B,y)}),f.guiPromise.then(function(B){return y.appendChild(B)});var w,D=u||this.ctrlsService.getGridBodyCtrl().getGui(),I=this.gridOptionsWrapper.getLocaleTextFunc(),V=this.popupService.addPopup({modal:!0,eChild:y,closeOnEsc:!0,closedCallback:function(B){r.setMenuVisible(!1,"contextMenu");var z=B instanceof KeyboardEvent;if(c.tabListener&&(c.tabListener=c.tabListener()),z&&u&&Tc(u)){var ee=c.focusService.findTabbableParent(u);ee&&ee.focus()}},positionCallback:function(){return a(y)},anchorToElement:D,ariaLabel:I("ariaLabelColumnMenu","Column Menu")});V&&(this.hidePopup=w=V.hideFunc),f.filterPromise.then(function(B){a(y),B.afterGuiAttached&&B.afterGuiAttached({container:"columnMenu",hidePopup:w})}),r.setMenuVisible(!0,"contextMenu")},o.prototype.trapFocusWithin=function(r,a){r.keyCode!==me.TAB||r.defaultPrevented||this.focusService.findNextFocusableElement(a,!1,r.shiftKey)||(r.preventDefault(),this.focusService.focusInto(a,r.shiftKey))},o.prototype.isMenuEnabled=function(r){return r.isFilterAllowed()},wd([F("filterManager")],o.prototype,"filterManager",void 0),wd([F("popupService")],o.prototype,"popupService",void 0),wd([F("focusService")],o.prototype,"focusService",void 0),wd([F("ctrlsService")],o.prototype,"ctrlsService",void 0),wd([Te("menuFactory")],o)}(he),oy=function(){function d(o,r,a){r?(this.gridOptions=r,(new $C).create(o,r,function(u){var c=new Fh(o);u.createBean(c)},a)):console.error("AG Grid: no gridOptions provided to the grid")}return d.prototype.destroy=function(){this.gridOptions&&this.gridOptions.api&&this.gridOptions.api.destroy()},d}(),$C=function(){function d(){}return d.prototype.create=function(o,r,a,u){var c=this,f=!!r.debug,y=this.getRegisteredModules(u),w=this.createBeansList(r.rowModelType,y),D=this.createProvidedBeans(o,r,u);if(w){var O={providedBeanInstances:D,beanClasses:w,debug:f},I=new ld("AG Grid",function(){return r.debug}),V=new ld("Context",function(){return O.debug}),B=new Ye(O,V),z=B.getBean("beans");this.registerModuleUserComponents(z,y),this.registerStackComponents(z,y),this.registerControllers(z,y),a(B),z.ctrlsService.whenReady(function(){c.setColumnsAndData(z),c.dispatchGridReadyEvent(z,r);var ee=ot.isRegistered(H.GXE.EnterpriseCoreModule);I.log("initialised successfully, enterprise = "+ee)})}},d.prototype.registerControllers=function(o,r){r.forEach(function(a){a.controllers&&a.controllers.forEach(function(u){return o.ctrlsFactory.register(u)})})},d.prototype.registerStackComponents=function(o,r){var a=this.createAgStackComponentsList(r);o.agStackComponentsRegistry.setupComponents(a)},d.prototype.getRegisteredModules=function(o){var r=o?o.modules:null,a=ot.getRegisteredModules(),u=[],c={};function f(y,w){var O;c[(O=w).moduleName]||(c[O.moduleName]=!0,u.push(O),ot.register(O,y)),w.dependantModules&&w.dependantModules.forEach(f.bind(null,y))}return r&&r.forEach(f.bind(null,!0)),a&&a.forEach(f.bind(null,!ot.isPackageBased())),u},d.prototype.registerModuleUserComponents=function(o,r){this.extractModuleEntity(r,function(u){return u.userComponents?u.userComponents:[]}).forEach(function(u){o.userComponentRegistry.registerDefaultComponent(u.componentName,u.componentClass)})},d.prototype.createProvidedBeans=function(o,r,a){var u=a?a.frameworkOverrides:null;Ge(u)&&(u=new BE);var c={gridOptions:r,eGridDiv:o,$scope:a?a.$scope:null,$compile:a?a.$compile:null,globalEventListener:a?a.globalEventListener:null,frameworkOverrides:u};return a&&a.providedBeanInstances&&rr(c,a.providedBeanInstances),c},d.prototype.createAgStackComponentsList=function(o){var r=[{componentName:"AgCheckbox",componentClass:ka},{componentName:"AgRadioButton",componentClass:HE},{componentName:"AgToggleButton",componentClass:Kv},{componentName:"AgInputTextField",componentClass:Pl},{componentName:"AgInputTextArea",componentClass:Uv},{componentName:"AgInputNumberField",componentClass:Yv},{componentName:"AgInputRange",componentClass:FC},{componentName:"AgSelect",componentClass:Vg},{componentName:"AgSlider",componentClass:zv},{componentName:"AgAngleSelect",componentClass:Xh},{componentName:"AgColorPicker",componentClass:$v},{componentName:"AgGridBody",componentClass:Sv},{componentName:"AgHeaderRoot",componentClass:wh},{componentName:"AgPagination",componentClass:ex},{componentName:"AgOverlayWrapper",componentClass:nx},{componentName:"AgGroupComponent",componentClass:zh},{componentName:"AgPanel",componentClass:Yh},{componentName:"AgDialog",componentClass:jv},{componentName:"AgRowContainer",componentClass:iy},{componentName:"AgFakeHorizontalScroll",componentClass:Uu}],a=this.extractModuleEntity(o,function(u){return u.agStackComponents?u.agStackComponents:[]});return r.concat(a)},d.prototype.createBeansList=function(o,r){var a=this.getRowModelClass(o,r);if(a){var u=[a,iv,Eo,px,VC,zE,Ph,Kg,KE,XE,RC,Zg,Gv,rC,qv,ud,wa,ma,Fe,Rh,ub,jb,v_,ed,_C,Db,AE,bp,ME,Gh,kv,Lh,Ub,Ks,wr,Ih,ry,Er,db,ad,aC,qE,uC,dC,fC,Rv,GE,vC,yC,Hv,vs,kh,Au,gx,Da,mx,ku,Zh,Gu,Cd,GC,wx,Hu],c=this.extractModuleEntity(r,function(y){return y.beans?y.beans:[]});u.push.apply(u,c);var f=[];return u.forEach(function(y){f.indexOf(y)<0&&f.push(y)}),f}},d.prototype.extractModuleEntity=function(o,r){return[].concat.apply([],o.map(r))},d.prototype.setColumnsAndData=function(o){var r=o.gridOptionsWrapper.getColumnDefs();o.columnModel.setColumnDefs(r||[],"gridInitializing"),o.rowModel.start()},d.prototype.dispatchGridReadyEvent=function(o,r){o.eventService.dispatchEvent({type:j.EVENT_GRID_READY,api:r.api,columnApi:r.columnApi})},d.prototype.getRowModelClass=function(o,r){o||(o=q.ROW_MODEL_TYPE_CLIENT_SIDE);var a={};r.forEach(function(c){zt(c.rowModels,function(f,y){a[f]=y})});var u=a[o];if(ce(u))return u;o===q.ROW_MODEL_TYPE_INFINITE&&console.error('AG Grid: Row Model "Infinite" not found. Please ensure the '+H.GXE.InfiniteRowModelModule+" is registered.';"),console.error("AG Grid: could not find matching row model for rowModelType "+o),o===q.ROW_MODEL_TYPE_VIEWPORT&&console.error('AG Grid: Row Model "Viewport" not found. Please ensure the AG Grid Enterprise Module '+H.GXE.ViewportRowModelModule+" is registered.';"),o===q.ROW_MODEL_TYPE_SERVER_SIDE&&console.error('AG Grid: Row Model "Server Side" not found. Please ensure the AG Grid Enterprise Module '+H.GXE.ServerSideRowModelModule+" is registered.';"),o===q.ROW_MODEL_TYPE_CLIENT_SIDE&&console.error('AG Grid: Row Model "Client Side" not found. Please ensure the '+H.GXE.ClientSideRowModelModule+" is registered.';")},d}();var sI=function(){var d=function(o,r){return(d=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(a,u){a.__proto__=u}||function(a,u){for(var c in u)u.hasOwnProperty(c)&&(a[c]=u[c])})(o,r)};return function(o,r){function a(){this.constructor=o}d(o,r),o.prototype=null===r?Object.create(r):(a.prototype=r.prototype,new a)}}(),Jh=function(d,o,r,a){var f,u=arguments.length,c=u<3?o:null===a?a=Object.getOwnPropertyDescriptor(o,r):a;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)c=Reflect.decorate(d,o,r,a);else for(var y=d.length-1;y>=0;y--)(f=d[y])&&(c=(u<3?f(c):u>3?f(o,r,c):f(o,r))||c);return u>3&&c&&Object.defineProperty(o,r,c),c};!function(d){function o(r){var a=d.call(this,o.getTemplate(r.cssClass))||this;return a.items=[],a.params=r,r.items&&r.items.forEach(function(u){return a.addItem(u)}),a}sI(o,d),o.prototype.postConstruct=function(){this.createManagedBean(new os(this.getFocusableElement(),{onTabKeyDown:this.onTabKeyDown.bind(this),handleKeyDown:this.handleKeyDown.bind(this)}))},o.getTemplate=function(r){return'<div class="ag-tabs '+r+'">\n            <div ref="eHeader" role="tablist" class="ag-tabs-header '+(r?r+"-header":"")+'"></div>\n            <div ref="eBody" role="presentation" class="ag-tabs-body '+(r?r+"-body":"")+'"></div>\n        </div>'},o.prototype.handleKeyDown=function(r){switch(r.keyCode){case me.RIGHT:case me.LEFT:if(!this.eHeader.contains(document.activeElement))return;var a=this.items.indexOf(this.activeItem),u=r.keyCode===me.RIGHT?Math.min(a+1,this.items.length-1):Math.max(a-1,0);if(a===u)return;r.preventDefault();var c=this.items[u];this.showItemWrapper(c),c.eHeaderButton.focus();break;case me.UP:case me.DOWN:r.stopPropagation()}},o.prototype.onTabKeyDown=function(r){if(!r.defaultPrevented){var a=this,u=a.focusService,c=a.eHeader,f=a.eBody,y=a.activeItem,w=document.activeElement;if(r.preventDefault(),c.contains(w))u.focusInto(f,r.shiftKey);else if(u.isFocusUnderManagedComponent(f))y.eHeaderButton.focus();else{var D=u.findNextFocusableElement(f,!1,r.shiftKey);D?D.focus():y.eHeaderButton.focus()}}},o.prototype.setAfterAttachedParams=function(r){this.afterAttachedParams=r},o.prototype.showFirstItem=function(){this.items.length>0&&this.showItemWrapper(this.items[0])},o.prototype.addItem=function(r){var a=document.createElement("span");Sr(a,"tab"),a.setAttribute("tabIndex","-1"),a.appendChild(r.title),Me(a,"ag-tab"),this.eHeader.appendChild(a),ou(a,r.titleLabel);var u={tabbedItem:r,eHeaderButton:a};this.items.push(u),a.addEventListener("click",this.showItemWrapper.bind(this,u))},o.prototype.showItem=function(r){var a=Un(this.items,function(u){return u.tabbedItem===r});a&&this.showItemWrapper(a)},o.prototype.showItemWrapper=function(r){var a=this;this.params.onItemClicked&&this.params.onItemClicked({item:r.tabbedItem}),this.activeItem!==r?(mo(this.eBody),r.tabbedItem.bodyPromise.then(function(u){a.eBody.appendChild(u);var c=!a.focusService.isKeyboardMode();a.focusService.focusInto(a.eBody,!1,c),r.tabbedItem.afterAttachedCallback&&r.tabbedItem.afterAttachedCallback(a.afterAttachedParams)}),this.activeItem&&Xn(this.activeItem.eHeaderButton,"ag-tab-selected"),Me(r.eHeaderButton,"ag-tab-selected"),this.activeItem=r):t_(this.params.onActiveItemClicked)},Jh([F("focusService")],o.prototype,"focusService",void 0),Jh([pe("eHeader")],o.prototype,"eHeader",void 0),Jh([pe("eBody")],o.prototype,"eBody",void 0),Jh([ye],o.prototype,"postConstruct",null)}(_t);!function(d){d.Applied="Applied",d.StoreNotFound="StoreNotFound",d.StoreLoading="StoreLoading",d.StoreWaitingToLoad="StoreWaitingToLoad",d.StoreLoadingFailed="StoreLoadingFailed",d.StoreWrongType="StoreWrongType",d.Cancelled="Cancelled"}(H.Qk6||(H.Qk6={}));var Ex=function(){var d=function(o,r){return(d=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(a,u){a.__proto__=u}||function(a,u){for(var c in u)u.hasOwnProperty(c)&&(a[c]=u[c])})(o,r)};return function(o,r){function a(){this.constructor=o}d(o,r),o.prototype=null===r?Object.create(r):(a.prototype=r.prototype,new a)}}(),Yu=function(d,o,r,a){var f,u=arguments.length,c=u<3?o:null===a?a=Object.getOwnPropertyDescriptor(o,r):a;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)c=Reflect.decorate(d,o,r,a);else for(var y=d.length-1;y>=0;y--)(f=d[y])&&(c=(u<3?f(c):u>3?f(o,r,c):f(o,r))||c);return u>3&&c&&Object.defineProperty(o,r,c),c},lI=(function(d){function o(r,a,u){void 0===r&&(r="default"),void 0===a&&(a="listbox");var c=d.call(this,o.getTemplate(r))||this;return c.cssIdentifier=r,c.ariaRole=a,c.listName=u,c.renderedRows=new Map,c.rowHeight=20,c.isDestroyed=!1,c}Ex(o,d),o.prototype.postConstruct=function(){var r=this;this.addScrollListener(),this.rowHeight=this.getItemHeight(),this.addResizeObserver(),this.initialiseTabGuard({onFocusIn:function(a){return r.onFocusIn(a)},onFocusOut:function(a){return r.onFocusOut(a)},focusInnerElement:function(a){return r.focusInnerElement(a)},onTabKeyDown:function(a){return r.onTabKeyDown(a)},handleKeyDown:function(a){return r.handleKeyDown(a)}}),this.setAriaProperties()},o.prototype.setAriaProperties=function(){var a=this.gridOptionsWrapper.getLocaleTextFunc()("ariaDefaultListName",this.listName||"List"),u=this.eContainer;Sr(u,this.ariaRole),ou(u,a)},o.prototype.addResizeObserver=function(){var r=this.drawVirtualRows.bind(this),a=this.resizeObserverService.observeResize(this.getGui(),r);this.addDestroyFunc(a)},o.prototype.focusInnerElement=function(r){this.focusRow(r?this.model.getRowCount()-1:0)},o.prototype.onFocusIn=function(r){var a=r.target;return ts(a,"ag-virtual-list-item")&&(this.lastFocusedRowIndex=kp(a)-1),!1},o.prototype.onFocusOut=function(r){return this.getFocusableElement().contains(r.relatedTarget)||(this.lastFocusedRowIndex=null),!1},o.prototype.handleKeyDown=function(r){switch(r.keyCode){case me.UP:case me.DOWN:this.navigate(r.keyCode===me.UP)&&r.preventDefault()}},o.prototype.onTabKeyDown=function(r){this.navigate(r.shiftKey)?r.preventDefault():this.focusService.focusInto(this.getGui(),!r.shiftKey)},o.prototype.navigate=function(r){if(null==this.lastFocusedRowIndex)return!1;var a=this.lastFocusedRowIndex+(r?-1:1);return!(a<0||a>=this.model.getRowCount()||(this.focusRow(a),0))},o.prototype.getLastFocusedRow=function(){return this.lastFocusedRowIndex},o.prototype.focusRow=function(r){var a=this;this.ensureIndexVisible(r),window.setTimeout(function(){var u=a.renderedRows.get(r);u&&u.eDiv.focus()},10)},o.prototype.getComponentAt=function(r){var a=this.renderedRows.get(r);return a&&a.rowComponent},o.getTemplate=function(r){return'\n            <div class="ag-virtual-list-viewport ag-'+r+'-virtual-list-viewport" role="presentation">\n                <div class="ag-virtual-list-container ag-'+r+'-virtual-list-container" ref="eContainer"></div>\n            </div>'},o.prototype.getItemHeight=function(){return this.gridOptionsWrapper.getListItemHeight()},o.prototype.ensureIndexVisible=function(r){var a=this.model.getRowCount();if("number"!=typeof r||r<0||r>=a)console.warn("invalid row index for ensureIndexVisible: "+r);else{var u=r*this.rowHeight,c=u+this.rowHeight,f=this.getGui(),y=f.scrollTop,w=f.offsetHeight,I=y+w<c;y>u?f.scrollTop=u:I&&(f.scrollTop=c-w)}},o.prototype.setComponentCreator=function(r){this.componentCreator=r},o.prototype.getRowHeight=function(){return this.rowHeight},o.prototype.getScrollTop=function(){return this.getGui().scrollTop},o.prototype.setRowHeight=function(r){this.rowHeight=r,this.refresh()},o.prototype.refresh=function(){var r=this;if(null!=this.model&&!this.isDestroyed){var a=this.model.getRowCount();this.eContainer.style.height=a*this.rowHeight+"px",Ct(function(){return r.eContainer.clientHeight>=a*r.rowHeight},function(){r.isDestroyed||(r.clearVirtualRows(),r.drawVirtualRows())})}},o.prototype.clearVirtualRows=function(){var r=this;this.renderedRows.forEach(function(a,u){return r.removeRow(u)})},o.prototype.drawVirtualRows=function(){var r=this.getGui(),a=r.scrollTop,u=a+r.offsetHeight,c=Math.floor(a/this.rowHeight),f=Math.floor(u/this.rowHeight);this.ensureRowsRendered(c,f)},o.prototype.ensureRowsRendered=function(r,a){var u=this;this.renderedRows.forEach(function(f,y){(y<r||y>a)&&y!==u.lastFocusedRowIndex&&u.removeRow(y)});for(var c=r;c<=a;c++)this.renderedRows.has(c)||c<this.model.getRowCount()&&this.insertRow(c)},o.prototype.insertRow=function(r){var a=this,u=this.model.getRow(r),c=document.createElement("div");if(Me(c,"ag-virtual-list-item"),Me(c,"ag-"+this.cssIdentifier+"-virtual-list-item"),Sr(c,"tree"===this.ariaRole?"treeitem":"option"),fe(c,this.model.getRowCount()),kt(c,r+1),c.setAttribute("tabindex","-1"),"function"==typeof this.model.isRowSelected){var f=this.model.isRowSelected(r);lu(c,!!f),Fc(c,f)}c.style.height=this.rowHeight+"px",c.style.top=this.rowHeight*r+"px";var y=this.componentCreator(u,c);y.addGuiEventListener("focusin",function(){return a.lastFocusedRowIndex=r}),c.appendChild(y.getGui()),this.renderedRows.has(r-1)?this.renderedRows.get(r-1).eDiv.insertAdjacentElement("afterend",c):this.renderedRows.has(r+1)?this.renderedRows.get(r+1).eDiv.insertAdjacentElement("beforebegin",c):this.eContainer.appendChild(c),this.renderedRows.set(r,{rowComponent:y,eDiv:c})},o.prototype.removeRow=function(r){var a=this.renderedRows.get(r);this.eContainer.removeChild(a.eDiv),this.destroyBean(a.rowComponent),this.renderedRows.delete(r)},o.prototype.addScrollListener=function(){var r=this;this.addGuiEventListener("scroll",function(){return r.drawVirtualRows()})},o.prototype.setModel=function(r){this.model=r},o.prototype.destroy=function(){this.isDestroyed||(this.clearVirtualRows(),this.isDestroyed=!0,d.prototype.destroy.call(this))},Yu([F("resizeObserverService")],o.prototype,"resizeObserverService",void 0),Yu([F("focusService")],o.prototype,"focusService",void 0),Yu([pe("eContainer")],o.prototype,"eContainer",void 0),Yu([ye],o.prototype,"postConstruct",null)}(xv),function(){function d(){}return d.prototype.wrap=function(o,r,a,u,c){var f=this;void 0===a&&(a=[]);var y=this.createWrapper(o,u,c);return r.forEach(function(w){f.createMethod(y,w,!0)}),a.forEach(function(w){f.createMethod(y,w,!1)}),y},d.prototype.unwrap=function(o){return o},d.prototype.createMethod=function(o,r,a){o.addMethod(r,this.createMethodProxy(o,r,a))},d.prototype.createMethodProxy=function(o,r,a){return function(){return o.hasMethod(r)?o.callMethod(r,arguments):(a&&console.warn("AG Grid: Framework component is missing the method "+r+"()"),null)}},d}());!function(d){d.Column="column",d.GroupedColumn="groupedColumn",d.StackedColumn="stackedColumn",d.NormalizedColumn="normalizedColumn",d.Bar="bar",d.GroupedBar="groupedBar",d.StackedBar="stackedBar",d.NormalizedBar="normalizedBar",d.Line="line",d.Scatter="scatter",d.Bubble="bubble",d.Pie="pie",d.Doughnut="doughnut",d.Area="area",d.StackedArea="stackedArea",d.NormalizedArea="normalizedArea",d.Histogram="histogram"}(H.oXM||(H.oXM={}));var Dd="undefined"==typeof global?{}:global;Dd.HTMLElement="undefined"==typeof HTMLElement?{}:HTMLElement,Dd.HTMLButtonElement="undefined"==typeof HTMLButtonElement?{}:HTMLButtonElement,Dd.HTMLSelectElement="undefined"==typeof HTMLSelectElement?{}:HTMLSelectElement,Dd.HTMLInputElement="undefined"==typeof HTMLInputElement?{}:HTMLInputElement,Dd.Node="undefined"==typeof Node?{}:Node,Dd.MouseEvent="undefined"==typeof MouseEvent?{}:MouseEvent;var Ox=function(){for(var d=0,o=0,r=arguments.length;o<r;o++)d+=arguments[o].length;var a=Array(d),u=0;for(o=0;o<r;o++)for(var c=arguments[o],f=0,y=c.length;f<y;f++,u++)a[u]=c[f];return a},Px=function(){function d(o,r,a,u,c,f,y,w){this.nextId=0,this.allNodesMap={},this.rootNode=o,this.gridOptionsWrapper=r,this.eventService=a,this.columnModel=u,this.gridApi=c,this.columnApi=f,this.beans=w,this.selectionService=y,this.rootNode.group=!0,this.rootNode.level=-1,this.rootNode.id=d.ROOT_NODE_ID,this.rootNode.allLeafChildren=[],this.rootNode.childrenAfterGroup=[],this.rootNode.childrenAfterSort=[],this.rootNode.childrenAfterFilter=[],this.postConstruct()}return d.prototype.postConstruct=function(){this.suppressParentsInRowNodes=this.gridOptionsWrapper.isSuppressParentsInRowNodes(),this.isRowMasterFunc=this.gridOptionsWrapper.getIsRowMasterFunc(),this.doingTreeData=this.gridOptionsWrapper.isTreeData(),this.doingMasterDetail=this.gridOptionsWrapper.isMasterDetail()},d.prototype.getCopyOfNodesMap=function(){return Ie.cloneObject(this.allNodesMap)},d.prototype.getRowNode=function(o){return this.allNodesMap[o]},d.prototype.setRowData=function(o){var r=this;if("string"!=typeof o){var a=this.rootNode,u=this.rootNode.sibling;a.childrenAfterFilter=null,a.childrenAfterGroup=null,a.childrenAfterSort=null,a.childrenMapped=null,a.updateHasChildren(),this.nextId=0,this.allNodesMap={},o?a.allLeafChildren=o.map(function(c){return r.createNode(c,r.rootNode,d.TOP_LEVEL)}):(a.allLeafChildren=[],a.childrenAfterGroup=[]),u&&(u.childrenAfterFilter=a.childrenAfterFilter,u.childrenAfterGroup=a.childrenAfterGroup,u.childrenAfterSort=a.childrenAfterSort,u.childrenMapped=a.childrenMapped,u.allLeafChildren=a.allLeafChildren)}else console.warn("AG Grid: rowData must be an array, however you passed in a string. If you are loading JSON, make sure you convert the JSON string to JavaScript objects first")},d.prototype.updateRowData=function(o,r){var a={remove:[],update:[],add:[]},u=[];return this.executeRemove(o,a,u),this.executeUpdate(o,a,u),this.executeAdd(o,a),this.updateSelection(u),r&&Ie.sortRowNodesByOrder(this.rootNode.allLeafChildren,r),a},d.prototype.updateSelection=function(o){var r=o.length>0;r&&o.forEach(function(u){u.setSelected(!1,!1,!0)}),this.selectionService.updateGroupsFromChildrenSelections(),r&&this.eventService.dispatchEvent({type:j.EVENT_SELECTION_CHANGED,api:this.gridApi,columnApi:this.columnApi})},d.prototype.executeAdd=function(o,r){var a=this,u=o.add,c=o.addIndex;if(!Ie.missingOrEmpty(u)){var f=u.map(function(I){return a.createNode(I,a.rootNode,d.TOP_LEVEL)});if("number"==typeof c&&c>=0){var w=this.rootNode.allLeafChildren,D=w.slice(0,c),O=w.slice(c,w.length);this.rootNode.allLeafChildren=Ox(D,f,O)}else this.rootNode.allLeafChildren=Ox(this.rootNode.allLeafChildren,f);this.rootNode.sibling&&(this.rootNode.sibling.allLeafChildren=this.rootNode.allLeafChildren),r.add=f}},d.prototype.executeRemove=function(o,r,a){var u=this,c=o.remove;if(!Ie.missingOrEmpty(c)){var f={};c.forEach(function(y){var w=u.lookupRowNode(y);!w||(w.isSelected()&&a.push(w),w.clearRowTopAndRowIndex(),f[w.id]=!0,delete u.allNodesMap[w.id],r.remove.push(w))}),this.rootNode.allLeafChildren=this.rootNode.allLeafChildren.filter(function(y){return!f[y.id]}),this.rootNode.sibling&&(this.rootNode.sibling.allLeafChildren=this.rootNode.allLeafChildren)}},d.prototype.executeUpdate=function(o,r,a){var u=this,c=o.update;Ie.missingOrEmpty(c)||c.forEach(function(f){var y=u.lookupRowNode(f);!y||(y.updateData(f),!y.selectable&&y.isSelected()&&a.push(y),u.setMasterForRow(y,f,d.TOP_LEVEL,!1),r.update.push(y))})},d.prototype.lookupRowNode=function(o){var a,r=this.gridOptionsWrapper.getRowNodeIdFunc();if(Ie.exists(r)){var u=r(o);if(!(a=this.allNodesMap[u]))return console.error("AG Grid: could not find row id="+u+", data item was not found for this id"),null}else if(!(a=Ie.find(this.rootNode.allLeafChildren,function(c){return c.data===o})))return console.error("AG Grid: could not find data item as object was not found",o),console.error("Consider using getRowNodeId to help the Grid find matching row data"),null;return a},d.prototype.createNode=function(o,r,a){var u=new bt(this.beans);return u.group=!1,this.setMasterForRow(u,o,a,!0),r&&!this.suppressParentsInRowNodes&&(u.parent=r),u.level=a,u.setDataAndId(o,this.nextId.toString()),this.allNodesMap[u.id]&&console.warn("ag-grid: duplicate node id '"+u.id+"' detected from getRowNodeId callback, this could cause issues in your grid."),this.allNodesMap[u.id]=u,this.nextId++,u},d.prototype.setMasterForRow=function(o,r,a,u){if(this.doingTreeData)o.setMaster(!1),u&&(o.expanded=!1);else if(o.setMaster(!!this.doingMasterDetail&&(!this.isRowMasterFunc||this.isRowMasterFunc(r))),u){var c=this.columnModel.getRowGroupColumns();o.expanded=!!o.master&&this.isExpanded(a+(c?c.length:0))}},d.prototype.isExpanded=function(o){var r=this.gridOptionsWrapper.getGroupDefaultExpanded();return-1===r||o<r},d.TOP_LEVEL=0,d.ROOT_NODE_ID="ROOT_NODE_ID",d}(),YC=function(){var d=function(o,r){return(d=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(a,u){a.__proto__=u}||function(a,u){for(var c in u)u.hasOwnProperty(c)&&(a[c]=u[c])})(o,r)};return function(o,r){function a(){this.constructor=o}d(o,r),o.prototype=null===r?Object.create(r):(a.prototype=r.prototype,new a)}}(),Pr=function(d,o,r,a){var f,u=arguments.length,c=u<3?o:null===a?a=Object.getOwnPropertyDescriptor(o,r):a;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)c=Reflect.decorate(d,o,r,a);else for(var y=d.length-1;y>=0;y--)(f=d[y])&&(c=(u<3?f(c):u>3?f(o,r,c):f(o,r))||c);return u>3&&c&&Object.defineProperty(o,r,c),c},jo=(()=>(function(d){d[d.Normal=0]="Normal",d[d.AfterFilter=1]="AfterFilter",d[d.AfterFilterAndSort=2]="AfterFilterAndSort",d[d.PivotNodes=3]="PivotNodes"}(jo||(jo={})),jo))(),Ku=function(d){function o(){return null!==d&&d.apply(this,arguments)||this}return YC(o,d),o.prototype.init=function(){var r=this.refreshModel.bind(this,{step:H.j_r.EVERYTHING}),a=this.refreshModel.bind(this,{step:H.j_r.EVERYTHING,afterColumnsChanged:!0,keepRenderedRows:!0,animate:!0});this.addManagedListener(this.eventService,j.EVENT_NEW_COLUMNS_LOADED,a),this.addManagedListener(this.eventService,j.EVENT_COLUMN_ROW_GROUP_CHANGED,r),this.addManagedListener(this.eventService,j.EVENT_COLUMN_VALUE_CHANGED,this.onValueChanged.bind(this)),this.addManagedListener(this.eventService,j.EVENT_COLUMN_PIVOT_CHANGED,this.refreshModel.bind(this,{step:H.j_r.PIVOT})),this.addManagedListener(this.eventService,j.EVENT_FILTER_CHANGED,this.onFilterChanged.bind(this)),this.addManagedListener(this.eventService,j.EVENT_SORT_CHANGED,this.onSortChanged.bind(this)),this.addManagedListener(this.eventService,j.EVENT_COLUMN_PIVOT_MODE_CHANGED,r);var u=this.refreshModel.bind(this,{step:H.j_r.MAP,keepRenderedRows:!0,animate:!0});this.addManagedListener(this.gridOptionsWrapper,Fe.PROP_GROUP_REMOVE_SINGLE_CHILDREN,u),this.addManagedListener(this.gridOptionsWrapper,Fe.PROP_GROUP_REMOVE_LOWEST_SINGLE_CHILDREN,u),this.rootNode=new bt(this.beans),this.nodeManager=new Px(this.rootNode,this.gridOptionsWrapper,this.eventService,this.columnModel,this.gridApi,this.columnApi,this.selectionService,this.beans)},o.prototype.start=function(){var r=this.gridOptionsWrapper.getRowData();r&&this.setRowData(r)},o.prototype.ensureRowHeightsValid=function(r,a,u,c){var f,y=!1;do{f=!1;for(var w=this.getRowIndexAtPixel(r),D=this.getRowIndexAtPixel(a),O=Math.max(w,u),I=Math.min(D,c),V=O;V<=I;V++){var B=this.getRow(V);if(B.rowHeightEstimated){var z=this.gridOptionsWrapper.getRowHeightForNode(B);B.setRowHeight(z.height),f=!0,y=!0}}f&&this.setRowTopAndRowIndex()}while(f);return y},o.prototype.setRowTopAndRowIndex=function(){for(var r=this.gridOptionsWrapper.getDefaultRowHeight(),a=0,u=new Set,c=this.gridOptionsWrapper.getDomLayout()===q.DOM_LAYOUT_NORMAL,f=0;f<this.rowsToDisplay.length;f++){var y=this.rowsToDisplay[f];if(null!=y.id&&u.add(y.id),null==y.rowHeight){var w=this.gridOptionsWrapper.getRowHeightForNode(y,c,r);y.setRowHeight(w.height,w.estimated)}y.setRowTop(a),y.setRowIndex(f),a+=y.rowHeight}return u},o.prototype.clearRowTopAndRowIndex=function(r,a){var u=r.isActive(),c=function(y){y&&null!=y.id&&!a.has(y.id)&&y.clearRowTopAndRowIndex()},f=function(y){c(y),c(y.detailNode),c(y.sibling),y.hasChildren()&&y.childrenAfterGroup&&(u&&-1!=y.level&&!y.expanded||y.childrenAfterGroup.forEach(f))};f(this.rootNode)},o.prototype.ensureRowsAtPixel=function(r,a,u){var c=this;void 0===u&&(u=0);var f=this.getRowIndexAtPixel(a);return this.getRow(f)!==r[0]&&(r.forEach(function(w){Ie.removeFromArray(c.rootNode.allLeafChildren,w)}),r.forEach(function(w,D){Ie.insertIntoArray(c.rootNode.allLeafChildren,w,Math.max(f+u,0)+D)}),this.refreshModel({step:H.j_r.EVERYTHING,keepRenderedRows:!0,animate:!0,keepEditingRows:!0}),!0)},o.prototype.highlightRowAtPixel=function(r,a){var u=null!=a?this.getRowIndexAtPixel(a):null,c=null!=u?this.getRow(u):null;if(c&&r&&c!==r&&null!=a){var f=this.getHighlightPosition(a,c);this.lastHighlightedRow&&this.lastHighlightedRow!==c&&(this.lastHighlightedRow.setHighlighted(null),this.lastHighlightedRow=null),c.setHighlighted(f),this.lastHighlightedRow=c}else this.lastHighlightedRow&&(this.lastHighlightedRow.setHighlighted(null),this.lastHighlightedRow=null)},o.prototype.getHighlightPosition=function(r,a){if(!a){var u=this.getRowIndexAtPixel(r);if(!(a=this.getRow(u||0)))return H.oh5.Below}return r-a.rowTop<a.rowHeight/2?H.oh5.Above:H.oh5.Below},o.prototype.getLastHighlightedRowNode=function(){return this.lastHighlightedRow},o.prototype.isLastRowIndexKnown=function(){return!0},o.prototype.getRowCount=function(){return this.rowsToDisplay?this.rowsToDisplay.length:0},o.prototype.getTopLevelRowCount=function(){return this.rowsToDisplay&&this.rowsToDisplay[0]===this.rootNode?1:this.rootNode.childrenAfterFilter?this.rootNode.childrenAfterFilter.length:0},o.prototype.getTopLevelRowDisplayedIndex=function(r){if(this.rowsToDisplay&&this.rowsToDisplay[0]===this.rootNode)return r;var u=this.rootNode.childrenAfterSort[r];if(this.gridOptionsWrapper.isGroupHideOpenParents())for(;u.expanded&&u.childrenAfterSort&&u.childrenAfterSort.length>0;)u=u.childrenAfterSort[0];return u.rowIndex},o.prototype.getRowBounds=function(r){if(Ie.missing(this.rowsToDisplay))return null;var a=this.rowsToDisplay[r];return a?{rowTop:a.rowTop,rowHeight:a.rowHeight}:null},o.prototype.onRowGroupOpened=function(){var r=this.gridOptionsWrapper.isAnimateRows();this.refreshModel({step:H.j_r.MAP,keepRenderedRows:!0,animate:r})},o.prototype.onFilterChanged=function(r){if(!r.afterDataChange){var a=this.gridOptionsWrapper.isAnimateRows();this.refreshModel({step:H.j_r.FILTER,keepRenderedRows:!0,animate:a})}},o.prototype.onSortChanged=function(){var r=this.gridOptionsWrapper.isAnimateRows();this.refreshModel({step:H.j_r.SORT,keepRenderedRows:!0,animate:r,keepEditingRows:!0})},o.prototype.getType=function(){return q.ROW_MODEL_TYPE_CLIENT_SIDE},o.prototype.onValueChanged=function(){this.columnModel.isPivotActive()?this.refreshModel({step:H.j_r.PIVOT}):this.refreshModel({step:H.j_r.AGGREGATE})},o.prototype.createChangePath=function(r){var a=Ie.missingOrEmpty(r),u=new qc(!1,this.rootNode);return(a||this.gridOptionsWrapper.isTreeData())&&u.setInactive(),u},o.prototype.isSuppressModelUpdateAfterUpdateTransaction=function(r){if(!this.gridOptionsWrapper.isSuppressModelUpdateAfterUpdateTransaction()||null==r.rowNodeTransactions)return!1;var a=Ie.filter(r.rowNodeTransactions,function(c){return null!=c.add&&c.add.length>0||null!=c.remove&&c.remove.length>0});return null==a||0==a.length},o.prototype.refreshModel=function(r){var a=this;if(!this.isSuppressModelUpdateAfterUpdateTransaction(r)){var u=this.createChangePath(r.rowNodeTransactions);switch(r.step){case H.j_r.EVERYTHING:this.doRowGrouping(r.groupState,r.rowNodeTransactions,r.rowNodeOrder,u,!!r.afterColumnsChanged);case H.j_r.FILTER:this.doFilter(u);case H.j_r.PIVOT:this.doPivot(u);case H.j_r.AGGREGATE:this.doAggregate(u);case H.j_r.SORT:this.doSort(r.rowNodeTransactions,u);case H.j_r.MAP:this.doRowsToDisplay()}var c=this.setRowTopAndRowIndex();this.clearRowTopAndRowIndex(u,c),this.eventService.dispatchEvent({type:j.EVENT_MODEL_UPDATED,api:this.gridApi,columnApi:this.columnApi,animate:r.animate,keepRenderedRows:r.keepRenderedRows,newData:r.newData,newPage:!1}),this.$scope&&window.setTimeout(function(){a.$scope.$apply()},0)}},o.prototype.isEmpty=function(){var r=Ie.missing(this.rootNode.allLeafChildren)||0===this.rootNode.allLeafChildren.length;return Ie.missing(this.rootNode)||r||!this.columnModel.isReady()},o.prototype.isRowsToRender=function(){return Ie.exists(this.rowsToDisplay)&&this.rowsToDisplay.length>0},o.prototype.getNodesInRangeForSelection=function(r,a){var f,u=!a,c=!1,y=[],w=this.gridOptionsWrapper.isGroupSelectsChildren();return this.forEachNodeAfterFilterAndSort(function(D){var O=u&&!c;if(u||(D===a||D===r)&&(u=!0),!D.group||!w){var V=u&&!c,B=D.isParentOfNode(f);(V||B)&&y.push(D)}O&&(D===a||D===r)&&(c=!0,f=D===a?a:r)}),y},o.prototype.setDatasource=function(r){console.error("AG Grid: should never call setDatasource on clientSideRowController")},o.prototype.getTopLevelNodes=function(){return this.rootNode?this.rootNode.childrenAfterGroup:null},o.prototype.getRootNode=function(){return this.rootNode},o.prototype.getRow=function(r){return this.rowsToDisplay[r]},o.prototype.isRowPresent=function(r){return this.rowsToDisplay.indexOf(r)>=0},o.prototype.getRowIndexAtPixel=function(r){if(this.isEmpty())return-1;var a=0,u=this.rowsToDisplay.length-1;if(r<=0)return 0;if(Ie.last(this.rowsToDisplay).rowTop<=r)return this.rowsToDisplay.length-1;for(;;){var f=Math.floor((a+u)/2),y=this.rowsToDisplay[f];if(this.isRowInPixel(y,r))return f;y.rowTop<r?a=f+1:y.rowTop>r&&(u=f-1)}},o.prototype.isRowInPixel=function(r,a){return r.rowTop<=a&&r.rowTop+r.rowHeight>a},o.prototype.forEachLeafNode=function(r){this.rootNode.allLeafChildren&&this.rootNode.allLeafChildren.forEach(function(a,u){return r(a,u)})},o.prototype.forEachNode=function(r){this.recursivelyWalkNodesAndCallback(this.rootNode.childrenAfterGroup,r,jo.Normal,0)},o.prototype.forEachNodeAfterFilter=function(r){this.recursivelyWalkNodesAndCallback(this.rootNode.childrenAfterFilter,r,jo.AfterFilter,0)},o.prototype.forEachNodeAfterFilterAndSort=function(r){this.recursivelyWalkNodesAndCallback(this.rootNode.childrenAfterSort,r,jo.AfterFilterAndSort,0)},o.prototype.forEachPivotNode=function(r){this.recursivelyWalkNodesAndCallback([this.rootNode],r,jo.PivotNodes,0)},o.prototype.recursivelyWalkNodesAndCallback=function(r,a,u,c){if(!r)return c;for(var f=0;f<r.length;f++){var y=r[f];if(a(y,c++),y.hasChildren()){var w=null;switch(u){case jo.Normal:w=y.childrenAfterGroup;break;case jo.AfterFilter:w=y.childrenAfterFilter;break;case jo.AfterFilterAndSort:w=y.childrenAfterSort;break;case jo.PivotNodes:w=y.leafGroup?null:y.childrenAfterSort}w&&(c=this.recursivelyWalkNodesAndCallback(w,a,u,c))}}return c},o.prototype.doAggregate=function(r){this.aggregationStage&&this.aggregationStage.execute({rowNode:this.rootNode,changedPath:r})},o.prototype.expandOrCollapseAll=function(r){var a=this.gridOptionsWrapper.isTreeData();this.rootNode&&function u(y){!y||y.forEach(function(w){(a?Ie.exists(w.childrenAfterGroup):w.group)&&(w.expanded=r,u(w.childrenAfterGroup))})}(this.rootNode.childrenAfterGroup),this.refreshModel({step:H.j_r.MAP}),this.eventService.dispatchEvent({api:this.gridApi,columnApi:this.columnApi,type:j.EVENT_EXPAND_COLLAPSE_ALL,source:r?"expandAll":"collapseAll"})},o.prototype.doSort=function(r,a){this.sortStage.execute({rowNode:this.rootNode,rowNodeTransactions:r,changedPath:a})},o.prototype.doRowGrouping=function(r,a,u,c,f){this.groupStage?(a?this.groupStage.execute({rowNode:this.rootNode,rowNodeTransactions:a,rowNodeOrder:u,changedPath:c}):(this.groupStage.execute({rowNode:this.rootNode,changedPath:c,afterColumnsChanged:f}),this.restoreGroupState(r)),this.gridOptionsWrapper.isGroupSelectsChildren()&&this.selectionService.updateGroupsFromChildrenSelections(c)):(this.rootNode.childrenAfterGroup=this.rootNode.allLeafChildren,this.rootNode.sibling&&(this.rootNode.sibling.childrenAfterGroup=this.rootNode.childrenAfterGroup),this.rootNode.updateHasChildren())},o.prototype.restoreGroupState=function(r){!r||Ie.traverseNodesWithKey(this.rootNode.childrenAfterGroup,function(a,u){"boolean"==typeof r[u]&&(a.expanded=r[u])})},o.prototype.doFilter=function(r){this.filterStage.execute({rowNode:this.rootNode,changedPath:r})},o.prototype.doPivot=function(r){this.pivotStage&&this.pivotStage.execute({rowNode:this.rootNode,changedPath:r})},o.prototype.getGroupState=function(){if(!this.rootNode.childrenAfterGroup||!this.gridOptionsWrapper.isRememberGroupStateWhenNewData())return null;var r={};return Ie.traverseNodesWithKey(this.rootNode.childrenAfterGroup,function(a,u){return r[u]=a.expanded}),r},o.prototype.getCopyOfNodesMap=function(){return this.nodeManager.getCopyOfNodesMap()},o.prototype.getRowNode=function(r){if("string"==typeof r&&0==r.indexOf(bt.ID_PREFIX_ROW_GROUP)){var u=void 0;return this.forEachNode(function(c){c.id===r&&(u=c)}),u}return this.nodeManager.getRowNode(r)},o.prototype.setRowData=function(r){var a=this.getGroupState();this.nodeManager.setRowData(r),this.eventService.dispatchEvent({type:j.EVENT_ROW_DATA_CHANGED,api:this.gridApi,columnApi:this.columnApi}),this.refreshModel({step:H.j_r.EVERYTHING,groupState:a,newData:!0})},o.prototype.batchUpdateRowData=function(r,a){var u=this;if(null==this.applyAsyncTransactionsTimeout){this.rowDataTransactionBatch=[];var c=this.gridOptionsWrapper.getAsyncTransactionWaitMillis();this.applyAsyncTransactionsTimeout=window.setTimeout(function(){u.executeBatchUpdateRowData()},c)}this.rowDataTransactionBatch.push({rowDataTransaction:r,callback:a})},o.prototype.flushAsyncTransactions=function(){null!=this.applyAsyncTransactionsTimeout&&(clearTimeout(this.applyAsyncTransactionsTimeout),this.executeBatchUpdateRowData())},o.prototype.executeBatchUpdateRowData=function(){var r=this;this.valueCache.onDataChanged();var a=[],u=[],c=!1;if(this.rowDataTransactionBatch&&this.rowDataTransactionBatch.forEach(function(y){var w=r.nodeManager.updateRowData(y.rowDataTransaction,void 0);u.push(w),y.callback&&a.push(y.callback.bind(null,w)),"number"==typeof y.rowDataTransaction.addIndex&&(c=!0)}),this.commonUpdateRowData(u,void 0,c),a.length>0&&window.setTimeout(function(){a.forEach(function(y){return y()})},0),u.length>0){var f={api:this.gridOptionsWrapper.getApi(),columnApi:this.gridOptionsWrapper.getColumnApi(),type:j.EVENT_ASYNC_TRANSACTIONS_FLUSHED,results:u};this.eventService.dispatchEvent(f)}this.rowDataTransactionBatch=null,this.applyAsyncTransactionsTimeout=void 0},o.prototype.updateRowData=function(r,a){this.valueCache.onDataChanged();var u=this.nodeManager.updateRowData(r,a);return this.commonUpdateRowData([u],a,"number"==typeof r.addIndex),u},o.prototype.createRowNodeOrder=function(){if(!this.gridOptionsWrapper.isSuppressMaintainUnsortedOrder()){var a={};if(this.rootNode&&this.rootNode.allLeafChildren)for(var u=0;u<this.rootNode.allLeafChildren.length;u++)a[this.rootNode.allLeafChildren[u].id]=u;return a}},o.prototype.commonUpdateRowData=function(r,a,u){u&&(a=this.createRowNodeOrder()),this.refreshModel({step:H.j_r.EVERYTHING,rowNodeTransactions:r,rowNodeOrder:a,keepRenderedRows:!0,animate:!0,keepEditingRows:!0}),this.eventService.dispatchEvent({type:j.EVENT_ROW_DATA_UPDATED,api:this.gridApi,columnApi:this.columnApi})},o.prototype.doRowsToDisplay=function(){this.rowsToDisplay=this.flattenStage.execute({rowNode:this.rootNode})},o.prototype.onRowHeightChanged=function(){this.refreshModel({step:H.j_r.MAP,keepRenderedRows:!0,keepEditingRows:!0})},o.prototype.resetRowHeights=function(){var r=!1;this.forEachNode(function(a){a.setRowHeight(a.rowHeight,!0);var u=a.detailNode;u&&u.setRowHeight(u.rowHeight,!0),r=!0}),r&&this.onRowHeightChanged()},Pr([F("columnModel")],o.prototype,"columnModel",void 0),Pr([F("$scope")],o.prototype,"$scope",void 0),Pr([F("selectionService")],o.prototype,"selectionService",void 0),Pr([F("valueCache")],o.prototype,"valueCache",void 0),Pr([F("columnApi")],o.prototype,"columnApi",void 0),Pr([F("gridApi")],o.prototype,"gridApi",void 0),Pr([F("animationFrameService")],o.prototype,"animationFrameService",void 0),Pr([F("beans")],o.prototype,"beans",void 0),Pr([F("filterStage")],o.prototype,"filterStage",void 0),Pr([F("sortStage")],o.prototype,"sortStage",void 0),Pr([F("flattenStage")],o.prototype,"flattenStage",void 0),Pr([et("groupStage")],o.prototype,"groupStage",void 0),Pr([et("aggregationStage")],o.prototype,"aggregationStage",void 0),Pr([et("pivotStage")],o.prototype,"pivotStage",void 0),Pr([ye],o.prototype,"init",null),Pr([Te("rowModel")],o)}(he),Rx=function(){var d=function(o,r){return(d=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(a,u){a.__proto__=u}||function(a,u){for(var c in u)u.hasOwnProperty(c)&&(a[c]=u[c])})(o,r)};return function(o,r){function a(){this.constructor=o}d(o,r),o.prototype=null===r?Object.create(r):(a.prototype=r.prototype,new a)}}(),ef=function(d,o,r,a){var f,u=arguments.length,c=u<3?o:null===a?a=Object.getOwnPropertyDescriptor(o,r):a;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)c=Reflect.decorate(d,o,r,a);else for(var y=d.length-1;y>=0;y--)(f=d[y])&&(c=(u<3?f(c):u>3?f(o,r,c):f(o,r))||c);return u>3&&c&&Object.defineProperty(o,r,c),c},Tx=function(d){function o(){return null!==d&&d.apply(this,arguments)||this}return Rx(o,d),o.prototype.execute=function(r){var a=r.rowNode;this.filterService.filter(r.changedPath),this.selectableService.updateSelectableAfterFiltering(a)},ef([F("selectableService")],o.prototype,"selectableService",void 0),ef([F("filterService")],o.prototype,"filterService",void 0),ef([Te("filterStage")],o)}(he),KC=function(){var d=function(o,r){return(d=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(a,u){a.__proto__=u}||function(a,u){for(var c in u)u.hasOwnProperty(c)&&(a[c]=u[c])})(o,r)};return function(o,r){function a(){this.constructor=o}d(o,r),o.prototype=null===r?Object.create(r):(a.prototype=r.prototype,new a)}}(),Tl=function(d,o,r,a){var f,u=arguments.length,c=u<3?o:null===a?a=Object.getOwnPropertyDescriptor(o,r):a;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)c=Reflect.decorate(d,o,r,a);else for(var y=d.length-1;y>=0;y--)(f=d[y])&&(c=(u<3?f(c):u>3?f(o,r,c):f(o,r))||c);return u>3&&c&&Object.defineProperty(o,r,c),c},Ax=function(d){function o(){return null!==d&&d.apply(this,arguments)||this}return KC(o,d),o.prototype.execute=function(r){var a=this.sortController.getSortOptions(),u=Ie.exists(a)&&a.length>0,c=u&&Ie.exists(r.rowNodeTransactions)&&this.gridOptionsWrapper.isDeltaSort(),f=c?this.calculateDirtyNodes(r.rowNodeTransactions):null,y=Ie.missingOrEmpty(this.columnModel.getValueColumns()),w=Ie.some(a,function(D){return!!D.column.getColDef().showRowGroup});this.sortService.sort(a,u,c,f,r.changedPath,y,w)},o.prototype.calculateDirtyNodes=function(r){var a={},u=function(c){c&&c.forEach(function(f){return a[f.id]=!0})};return r&&r.forEach(function(c){u(c.add),u(c.update),u(c.remove)}),a},Tl([F("sortService")],o.prototype,"sortService",void 0),Tl([F("sortController")],o.prototype,"sortController",void 0),Tl([F("columnModel")],o.prototype,"columnModel",void 0),Tl([Te("sortStage")],o)}(he),XC=function(){var d=function(o,r){return(d=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(a,u){a.__proto__=u}||function(a,u){for(var c in u)u.hasOwnProperty(c)&&(a[c]=u[c])})(o,r)};return function(o,r){function a(){this.constructor=o}d(o,r),o.prototype=null===r?Object.create(r):(a.prototype=r.prototype,new a)}}(),ly=function(d,o,r,a){var f,u=arguments.length,c=u<3?o:null===a?a=Object.getOwnPropertyDescriptor(o,r):a;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)c=Reflect.decorate(d,o,r,a);else for(var y=d.length-1;y>=0;y--)(f=d[y])&&(c=(u<3?f(c):u>3?f(o,r,c):f(o,r))||c);return u>3&&c&&Object.defineProperty(o,r,c),c},Ix=function(d){function o(){return null!==d&&d.apply(this,arguments)||this}return XC(o,d),o.prototype.execute=function(r){var a=r.rowNode,u=[],c={value:0},f=this.columnModel.isPivotMode(),y=f&&a.leafGroup;return this.recursivelyAddToRowsToDisplay(y?[a]:a.childrenAfterSort,u,c,f,0),!y&&u.length>0&&this.gridOptionsWrapper.isGroupIncludeTotalFooter()&&(this.ensureFooterNodeExists(a),this.addRowNodeToRowsToDisplay(a.sibling,u,c,0)),u},o.prototype.recursivelyAddToRowsToDisplay=function(r,a,u,c,f){if(!Ie.missingOrEmpty(r))for(var y=this.gridOptionsWrapper.isGroupHideOpenParents(),w=this.gridOptionsWrapper.isGroupRemoveSingleChildren(),D=!w&&this.gridOptionsWrapper.isGroupRemoveLowestSingleChildren(),O=0;O<r.length;O++){var I=r[O],V=I.hasChildren(),z=w&&V&&1===I.childrenAfterGroup.length,ee=D&&V&&I.leafGroup&&1===I.childrenAfterGroup.length;if(!(c&&!V||y&&I.expanded&&(!c||!I.leafGroup)||z||ee)&&this.addRowNodeToRowsToDisplay(I,a,u,f),!c||!I.leafGroup)if(V){var le=z||ee;(I.expanded||le)&&(this.recursivelyAddToRowsToDisplay(I.childrenAfterSort,a,u,c,le?f:f+1),this.gridOptionsWrapper.isGroupIncludeFooter()&&(this.ensureFooterNodeExists(I),this.addRowNodeToRowsToDisplay(I.sibling,a,u,f)))}else if(I.master&&I.expanded){var ze=this.createDetailNode(I);this.addRowNodeToRowsToDisplay(ze,a,u,f)}}},o.prototype.addRowNodeToRowsToDisplay=function(r,a,u,c){var f=this.gridOptionsWrapper.isGroupMultiAutoColumn();a.push(r),r.setUiLevel(f?0:c)},o.prototype.ensureFooterNodeExists=function(r){if(!Ie.exists(r.sibling)){var a=new bt(this.beans);Object.keys(r).forEach(function(u){a[u]=r[u]}),a.footer=!0,a.setRowTop(null),a.setRowIndex(null),a.oldRowTop=null,Ie.exists(a.id)&&(a.id="rowGroupFooter_"+a.id),a.sibling=r,r.sibling=a}},o.prototype.createDetailNode=function(r){if(Ie.exists(r.detailNode))return r.detailNode;var a=new bt(this.beans);return a.detail=!0,a.selectable=!1,a.parent=r,Ie.exists(r.id)&&(a.id="detail_"+r.id),a.data=r.data,a.level=r.level+1,r.detailNode=a,a},ly([F("columnModel")],o.prototype,"columnModel",void 0),ly([F("beans")],o.prototype,"beans",void 0),ly([Te("flattenStage")],o)}(he),Mx=function(){var d=function(o,r){return(d=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(a,u){a.__proto__=u}||function(a,u){for(var c in u)u.hasOwnProperty(c)&&(a[c]=u[c])})(o,r)};return function(o,r){function a(){this.constructor=o}d(o,r),o.prototype=null===r?Object.create(r):(a.prototype=r.prototype,new a)}}(),tf=function(d,o,r,a){var f,u=arguments.length,c=u<3?o:null===a?a=Object.getOwnPropertyDescriptor(o,r):a;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)c=Reflect.decorate(d,o,r,a);else for(var y=d.length-1;y>=0;y--)(f=d[y])&&(c=(u<3?f(c):u>3?f(o,r,c):f(o,r))||c);return u>3&&c&&Object.defineProperty(o,r,c),c},Fx=function(d){function o(){return null!==d&&d.apply(this,arguments)||this}return Mx(o,d),o.prototype.init=function(){this.postSortFunc=this.gridOptionsWrapper.getPostSortFunc()},o.prototype.sort=function(r,a,u,c,f,y,w){var D=this,O=this.gridOptionsWrapper.isGroupMaintainOrder(),I=Ie.some(this.columnModel.getAllGridColumns(),function(B){return B.isRowGroupActive()});f&&f.forEachChangedNodeDepthFirst(function(B){D.pullDownGroupDataForHideOpenParents(B.childrenAfterFilter,!0),B.childrenAfterSort=a?O&&I&&!B.leafGroup&&!w?B.childrenAfterFilter.slice(0):u?D.doDeltaSort(B,r,c,f,y):D.rowNodeSorter.doFullSort(B.childrenAfterFilter,r):B.childrenAfterFilter.slice(0),B.sibling&&(B.sibling.childrenAfterSort=B.childrenAfterSort),D.updateChildIndexes(B),D.postSortFunc&&D.postSortFunc(B.childrenAfterSort)}),this.updateGroupDataForHideOpenParents(f)},o.prototype.mapNodeToSortedNode=function(r,a){return{currentPos:a,rowNode:r}},o.prototype.doDeltaSort=function(r,a,u,c,f){var y=r.childrenAfterSort.filter(function(I){var V=!u[I.id],B=f||c&&c.canSkip(I);return V&&B}).map(this.mapNodeToSortedNode.bind(this)),w={};y.forEach(function(I){return w[I.rowNode.id]=I.rowNode});var D=r.childrenAfterFilter.filter(function(I){return!w[I.id]}).map(this.mapNodeToSortedNode.bind(this));return D.sort(this.rowNodeSorter.compareRowNodes.bind(this,a)),(0===D.length?y:0===y.length?D:this.mergeSortedArrays(a,y,D)).map(function(I){return I.rowNode})},o.prototype.mergeSortedArrays=function(r,a,u){for(var c=[],f=0,y=0;f<a.length&&y<u.length;){var w=this.rowNodeSorter.compareRowNodes(r,a[f],u[y]);c.push(w<0?a[f++]:u[y++])}for(;f<a.length;)c.push(a[f++]);for(;y<u.length;)c.push(u[y++]);return c},o.prototype.updateChildIndexes=function(r){if(!Ie.missing(r.childrenAfterSort))for(var a=r.childrenAfterSort,u=0;u<a.length;u++){var c=a[u],y=u===r.childrenAfterSort.length-1;c.setFirstChild(0===u),c.setLastChild(y),c.setChildIndex(u)}},o.prototype.updateGroupDataForHideOpenParents=function(r){var a=this;if(this.gridOptionsWrapper.isGroupHideOpenParents()){if(this.gridOptionsWrapper.isTreeData())return Ie.doOnce(function(){return console.warn("AG Grid: The property hideOpenParents dose not work with Tree Data. This is because Tree Data has values at the group level, it doesn't make sense to hide them (as opposed to Row Grouping, which only has Aggregated Values at the group level).")},"sortService.hideOpenParentsWithTreeData"),!1;var c=function(f){a.pullDownGroupDataForHideOpenParents(f.childrenAfterSort,!1),f.childrenAfterSort.forEach(function(y){y.hasChildren()&&c(y)})};r&&r.executeFromRootNode(function(f){return c(f)})}},o.prototype.pullDownGroupDataForHideOpenParents=function(r,a){var u=this;!this.gridOptionsWrapper.isGroupHideOpenParents()||Ie.missing(r)||r.forEach(function(c){u.columnModel.getGroupDisplayColumns().forEach(function(y){var w=y.getColDef().showRowGroup;if("string"==typeof w){var O=u.columnModel.getPrimaryColumn(w);if(O!==c.rowGroupColumn)if(a)c.setGroupValue(y.getId(),void 0);else{var V=c.getFirstChildOfFirstChild(O);V&&c.setGroupValue(y.getId(),V.key)}}else console.error("AG Grid: groupHideOpenParents only works when specifying specific columns for colDef.showRowGroup")})})},tf([F("columnModel")],o.prototype,"columnModel",void 0),tf([F("rowNodeSorter")],o.prototype,"rowNodeSorter",void 0),tf([ye],o.prototype,"init",null),tf([Te("sortService")],o)}(he),qC=function(){var d=function(o,r){return(d=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(a,u){a.__proto__=u}||function(a,u){for(var c in u)u.hasOwnProperty(c)&&(a[c]=u[c])})(o,r)};return function(o,r){function a(){this.constructor=o}d(o,r),o.prototype=null===r?Object.create(r):(a.prototype=r.prototype,new a)}}(),uy=function(d,o,r,a){var f,u=arguments.length,c=u<3?o:null===a?a=Object.getOwnPropertyDescriptor(o,r):a;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)c=Reflect.decorate(d,o,r,a);else for(var y=d.length-1;y>=0;y--)(f=d[y])&&(c=(u<3?f(c):u>3?f(o,r,c):f(o,r))||c);return u>3&&c&&Object.defineProperty(o,r,c),c},ZC=function(d){function o(){return null!==d&&d.apply(this,arguments)||this}return qC(o,d),o.prototype.postConstruct=function(){this.doingTreeData=this.gridOptionsWrapper.isTreeData()},o.prototype.filter=function(r){var a=this.filterManager.isAnyFilterPresent();this.filterNodes(a,r)},o.prototype.filterNodes=function(r,a){var u=this,c=function(D,O){D.hasChildren()?(D.childrenAfterFilter=r&&!O?D.childrenAfterGroup.filter(function(I){var V=I.childrenAfterFilter&&I.childrenAfterFilter.length>0,B=I.data&&u.filterManager.doesRowPassFilter({rowNode:I});return V||B}):D.childrenAfterGroup,u.setAllChildrenCount(D)):(D.childrenAfterFilter=D.childrenAfterGroup,D.setAllChildrenCount(null)),D.sibling&&(D.sibling.childrenAfterFilter=D.childrenAfterFilter)};if(this.doingTreeDataFiltering()){var f=function(D,O){if(D.childrenAfterGroup)for(var I=0;I<D.childrenAfterGroup.length;I++){var V=D.childrenAfterGroup[I],B=O||u.filterManager.doesRowPassFilter({rowNode:V});V.childrenAfterGroup?f(D.childrenAfterGroup[I],B):c(V,B)}c(D,O)};a.executeFromRootNode(function(D){return f(D,!1)})}else a.forEachChangedNodeDepthFirst(function(D){return c(D,!1)},!0)},o.prototype.setAllChildrenCountTreeData=function(r){var a=0;r.childrenAfterFilter.forEach(function(u){a++,a+=u.allChildrenCount}),r.setAllChildrenCount(a)},o.prototype.setAllChildrenCountGridGrouping=function(r){var a=0;r.childrenAfterFilter.forEach(function(u){u.group?a+=u.allChildrenCount:a++}),r.setAllChildrenCount(a)},o.prototype.setAllChildrenCount=function(r){this.doingTreeData?this.setAllChildrenCountTreeData(r):this.setAllChildrenCountGridGrouping(r)},o.prototype.doingTreeDataFiltering=function(){return this.gridOptionsWrapper.isTreeData()&&!this.gridOptionsWrapper.isExcludeChildrenWhenTreeDataFiltering()},uy([F("filterManager")],o.prototype,"filterManager",void 0),uy([ye],o.prototype,"postConstruct",null),uy([Te("filterService")],o)}(he),QC=function(){var d=function(o,r){return(d=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(a,u){a.__proto__=u}||function(a,u){for(var c in u)u.hasOwnProperty(c)&&(a[c]=u[c])})(o,r)};return function(o,r){function a(){this.constructor=o}d(o,r),o.prototype=null===r?Object.create(r):(a.prototype=r.prototype,new a)}}(),Sd=function(d,o,r,a){var f,u=arguments.length,c=u<3?o:null===a?a=Object.getOwnPropertyDescriptor(o,r):a;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)c=Reflect.decorate(d,o,r,a);else for(var y=d.length-1;y>=0;y--)(f=d[y])&&(c=(u<3?f(c):u>3?f(o,r,c):f(o,r))||c);return u>3&&c&&Object.defineProperty(o,r,c),c},uI=function(d){function o(){return null!==d&&d.apply(this,arguments)||this}return QC(o,d),o.prototype.postConstruct=function(){this.rowModel.getType()===q.ROW_MODEL_TYPE_CLIENT_SIDE&&(this.clientSideRowModel=this.rowModel)},o.prototype.createTransactionForRowData=function(r){if(Ie.missing(this.clientSideRowModel))console.error("AG Grid: ImmutableService only works with ClientSideRowModel");else{var a=this.gridOptionsWrapper.getRowNodeIdFunc();if(a&&!Ie.missing(a)){var u={remove:[],update:[],add:[]},c=this.clientSideRowModel.getCopyOfNodesMap(),y=this.gridOptionsWrapper.isSuppressMaintainUnsortedOrder()?null:{};return Ie.exists(r)&&r.forEach(function(w,D){var O=a(w),I=c[O];y&&(y[O]=D),I?(I.data!==w&&u.update.push(w),c[O]=void 0):u.add.push(w)}),Ie.iterateObject(c,function(w,D){D&&u.remove.push(D.data)}),[u,y]}console.error("AG Grid: ImmutableService requires getRowNodeId() callback to be implemented, your row data need IDs!")}},Sd([F("rowModel")],o.prototype,"rowModel",void 0),Sd([ye],o.prototype,"postConstruct",null),Sd([Te("immutableService")],o)}(he),cy={moduleName:H.GXE.ClientSideRowModelModule,beans:[Tx,Ax,Ix,Fx,ZC,uI],rowModels:{clientSide:Ku}},Nx=function(){var d=function(o,r){return(d=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(a,u){a.__proto__=u}||function(a,u){for(var c in u)u.hasOwnProperty(c)&&(a[c]=u[c])})(o,r)};return function(o,r){function a(){this.constructor=o}d(o,r),o.prototype=null===r?Object.create(r):(a.prototype=r.prototype,new a)}}(),JC=function(d,o,r,a){var f,u=arguments.length,c=u<3?o:null===a?a=Object.getOwnPropertyDescriptor(o,r):a;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)c=Reflect.decorate(d,o,r,a);else for(var y=d.length-1;y>=0;y--)(f=d[y])&&(c=(u<3?f(c):u>3?f(o,r,c):f(o,r))||c);return u>3&&c&&Object.defineProperty(o,r,c),c},te=function(d){function o(r,a,u){var c=d.call(this,r)||this;return c.parentCache=a,c.params=u,c.startRow=r*u.blockSize,c.endRow=c.startRow+u.blockSize,c}return Nx(o,d),o.prototype.postConstruct=function(){this.createRowNodes()},o.prototype.getBlockStateJson=function(){return{id:""+this.getId(),state:{blockNumber:this.getId(),startRow:this.getStartRow(),endRow:this.getEndRow(),pageStatus:this.getState()}}},o.prototype.setDataAndId=function(r,a,u){!r.id&&r.alreadyRendered&&(r.alreadyRendered=!1),Ie.exists(a)?r.setDataAndId(a,u.toString()):r.setDataAndId(void 0,void 0)},o.prototype.loadFromDatasource=function(){var r=this,a=this.createLoadParams();Ie.missing(this.params.datasource.getRows)?console.warn("AG Grid: datasource is missing getRows method"):window.setTimeout(function(){r.params.datasource.getRows(a)},0)},o.prototype.processServerFail=function(){},o.prototype.createLoadParams=function(){return{startRow:this.getStartRow(),endRow:this.getEndRow(),successCallback:this.pageLoaded.bind(this,this.getVersion()),failCallback:this.pageLoadFailed.bind(this,this.getVersion()),sortModel:this.params.sortModel,filterModel:this.params.filterModel,context:this.gridOptionsWrapper.getContext()}},o.prototype.forEachNode=function(r,a,u){var c=this;this.rowNodes.forEach(function(f,y){c.startRow+y<u&&r(f,a.next())})},o.prototype.getLastAccessed=function(){return this.lastAccessed},o.prototype.getRow=function(r,a){return void 0===a&&(a=!1),a||(this.lastAccessed=this.params.lastAccessedSequence.next()),this.rowNodes[r-this.startRow]},o.prototype.getStartRow=function(){return this.startRow},o.prototype.getEndRow=function(){return this.endRow},o.prototype.createRowNodes=function(){this.rowNodes=[];for(var r=0;r<this.params.blockSize;r++){var a=this.startRow+r,u=new bt(this.beans);u.setRowHeight(this.params.rowHeight),u.uiLevel=0,u.setRowIndex(a),u.setRowTop(this.params.rowHeight*a),this.rowNodes.push(u)}},o.prototype.processServerResult=function(r){var a=this;this.rowNodes.forEach(function(c,f){a.setDataAndId(c,r.rowData?r.rowData[f]:void 0,a.startRow+f)}),this.parentCache.pageLoaded(this,null!=r.rowCount&&r.rowCount>=0?r.rowCount:void 0)},o.prototype.destroyRowNodes=function(){this.rowNodes.forEach(function(r){r.clearRowTopAndRowIndex()})},JC([F("beans")],o.prototype,"beans",void 0),JC([ye],o.prototype,"postConstruct",null),JC([or],o.prototype,"destroyRowNodes",null),o}(Wr),Lx=function(){var d=function(o,r){return(d=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(a,u){a.__proto__=u}||function(a,u){for(var c in u)u.hasOwnProperty(c)&&(a[c]=u[c])})(o,r)};return function(o,r){function a(){this.constructor=o}d(o,r),o.prototype=null===r?Object.create(r):(a.prototype=r.prototype,new a)}}(),Ft=function(d,o,r,a){var f,u=arguments.length,c=u<3?o:null===a?a=Object.getOwnPropertyDescriptor(o,r):a;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)c=Reflect.decorate(d,o,r,a);else for(var y=d.length-1;y>=0;y--)(f=d[y])&&(c=(u<3?f(c):u>3?f(o,r,c):f(o,r))||c);return u>3&&c&&Object.defineProperty(o,r,c),c},dy=function(d,o){return function(r,a){o(r,a,d)}},Vx=function(d){function o(r){var a=d.call(this)||this;return a.lastRowIndexKnown=!1,a.blocks={},a.blockCount=0,a.rowCount=r.initialRowCount,a.params=r,a}return Lx(o,d),o.prototype.setBeans=function(r){this.logger=r.create("InfiniteCache")},o.prototype.getRow=function(r,a){void 0===a&&(a=!1);var u=Math.floor(r/this.params.blockSize),c=this.blocks[u];if(!c){if(a)return;c=this.createBlock(u)}return c.getRow(r)},o.prototype.createBlock=function(r){var a=this.createBean(new te(r,this,this.params));return this.blocks[a.getId()]=a,this.blockCount++,this.purgeBlocksIfNeeded(a),this.params.rowNodeBlockLoader.addBlock(a),a},o.prototype.refreshCache=function(){0==this.blockCount?this.purgeCache():(this.getBlocksInOrder().forEach(function(a){return a.setStateWaitingToLoad()}),this.params.rowNodeBlockLoader.checkBlockToLoad())},o.prototype.destroyAllBlocks=function(){var r=this;this.getBlocksInOrder().forEach(function(a){return r.destroyBlock(a)})},o.prototype.getRowCount=function(){return this.rowCount},o.prototype.isLastRowIndexKnown=function(){return this.lastRowIndexKnown},o.prototype.pageLoaded=function(r,a){!this.isAlive()||(this.logger.log("onPageLoaded: page = "+r.getId()+", lastRow = "+a),this.checkRowCount(r,a),this.onCacheUpdated())},o.prototype.purgeBlocksIfNeeded=function(r){var a=this,u=this.getBlocksInOrder().filter(function(D){return D!=r});u.sort(function(D,O){return O.getLastAccessed()-D.getLastAccessed()});var f=this.params.maxBlocksInCache>0,y=f?this.params.maxBlocksInCache-1:null,w=o.MAX_EMPTY_BLOCKS_TO_KEEP-1;u.forEach(function(D,O){if(D.getState()===te.STATE_WAITING_TO_LOAD&&O>=w||f&&O>=y){if(a.isBlockCurrentlyDisplayed(D)||a.isBlockFocused(D))return;a.removeBlockFromCache(D)}})},o.prototype.isBlockFocused=function(r){var a=this.focusService.getFocusCellToUseAfterRefresh();if(!a||null!=a.rowPinned)return!1;var u=r.getStartRow(),c=r.getEndRow();return a.rowIndex>=u&&a.rowIndex<c},o.prototype.isBlockCurrentlyDisplayed=function(r){var a=r.getStartRow(),u=r.getEndRow()-1;return this.rowRenderer.isRangeInRenderedViewport(a,u)},o.prototype.removeBlockFromCache=function(r){!r||this.destroyBlock(r)},o.prototype.checkRowCount=function(r,a){if("number"==typeof a&&a>=0)this.rowCount=a,this.lastRowIndexKnown=!0;else if(!this.lastRowIndexKnown){var c=(r.getId()+1)*this.params.blockSize+this.params.overflowSize;this.rowCount<c&&(this.rowCount=c)}},o.prototype.setRowCount=function(r,a){this.rowCount=r,Ie.exists(a)&&(this.lastRowIndexKnown=a),this.lastRowIndexKnown||this.rowCount%this.params.blockSize==0&&this.rowCount++,this.onCacheUpdated()},o.prototype.forEachNodeDeep=function(r){var a=this,u=new rs;this.getBlocksInOrder().forEach(function(c){return c.forEachNode(r,u,a.rowCount)})},o.prototype.getBlocksInOrder=function(){return Ie.getAllValuesInObject(this.blocks).sort(function(u,c){return u.getId()-c.getId()})},o.prototype.destroyBlock=function(r){delete this.blocks[r.getId()],this.destroyBean(r),this.blockCount--,this.params.rowNodeBlockLoader.removeBlock(r)},o.prototype.onCacheUpdated=function(){this.isAlive()&&(this.destroyAllBlocksPastVirtualRowCount(),this.eventService.dispatchEvent({type:j.EVENT_STORE_UPDATED}))},o.prototype.destroyAllBlocksPastVirtualRowCount=function(){var r=this,a=[];this.getBlocksInOrder().forEach(function(u){u.getId()*r.params.blockSize>=r.rowCount&&a.push(u)}),a.length>0&&a.forEach(function(u){return r.destroyBlock(u)})},o.prototype.purgeCache=function(){var r=this;this.getBlocksInOrder().forEach(function(a){return r.removeBlockFromCache(a)}),this.lastRowIndexKnown=!1,0===this.rowCount&&(this.rowCount=this.params.initialRowCount),this.onCacheUpdated()},o.prototype.getRowNodesInRange=function(r,a){var u=this,c=[],f=-1,y=!1,w=new rs;Ie.missing(r)&&(y=!0);var D=!1;return this.getBlocksInOrder().forEach(function(I){if(!D){if(y&&f+1!==I.getId())return void(D=!0);f=I.getId(),I.forEachNode(function(V){var B=V===r||V===a;(y||B)&&c.push(V),B&&(y=!y)},w,u.rowCount)}}),D||y?[]:c},o.MAX_EMPTY_BLOCKS_TO_KEEP=2,Ft([F("rowRenderer")],o.prototype,"rowRenderer",void 0),Ft([F("focusService")],o.prototype,"focusService",void 0),Ft([dy(0,br("loggerFactory"))],o.prototype,"setBeans",null),Ft([or],o.prototype,"destroyAllBlocks",null),o}(he),Pe=function(){var d=function(o,r){return(d=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(a,u){a.__proto__=u}||function(a,u){for(var c in u)u.hasOwnProperty(c)&&(a[c]=u[c])})(o,r)};return function(o,r){function a(){this.constructor=o}d(o,r),o.prototype=null===r?Object.create(r):(a.prototype=r.prototype,new a)}}(),De=function(d,o,r,a){var f,u=arguments.length,c=u<3?o:null===a?a=Object.getOwnPropertyDescriptor(o,r):a;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)c=Reflect.decorate(d,o,r,a);else for(var y=d.length-1;y>=0;y--)(f=d[y])&&(c=(u<3?f(c):u>3?f(o,r,c):f(o,r))||c);return u>3&&c&&Object.defineProperty(o,r,c),c},Al=function(d){function o(){return null!==d&&d.apply(this,arguments)||this}return Pe(o,d),o.prototype.getRowBounds=function(r){return{rowHeight:this.rowHeight,rowTop:this.rowHeight*r}},o.prototype.ensureRowHeightsValid=function(r,a,u,c){return!1},o.prototype.init=function(){var r=this;!this.gridOptionsWrapper.isRowModelInfinite()||(this.rowHeight=this.gridOptionsWrapper.getRowHeightAsNumber(),this.addEventListeners(),this.addDestroyFunc(function(){return r.destroyCache()}),this.verifyProps())},o.prototype.verifyProps=function(){null!=this.gridOptionsWrapper.getDefaultGroupOrderComparator()&&Ie.doOnce(function(){return console.warn("AG Grid: defaultGroupOrderComparator cannot be used with Infinite Row Model. If using Infinite Row Model, then sorting is done on the server side, nothing to do with the client.")},"IRM.DefaultGroupOrderComparator")},o.prototype.start=function(){this.setDatasource(this.gridOptionsWrapper.getDatasource())},o.prototype.destroyDatasource=function(){this.datasource&&(this.getContext().destroyBean(this.datasource),this.rowRenderer.datasourceChanged(),this.datasource=null)},o.prototype.addEventListeners=function(){this.addManagedListener(this.eventService,j.EVENT_FILTER_CHANGED,this.onFilterChanged.bind(this)),this.addManagedListener(this.eventService,j.EVENT_SORT_CHANGED,this.onSortChanged.bind(this)),this.addManagedListener(this.eventService,j.EVENT_NEW_COLUMNS_LOADED,this.onColumnEverything.bind(this)),this.addManagedListener(this.eventService,j.EVENT_STORE_UPDATED,this.onCacheUpdated.bind(this))},o.prototype.onFilterChanged=function(){this.reset()},o.prototype.onSortChanged=function(){this.reset()},o.prototype.onColumnEverything=function(){(!this.cacheParams||this.isSortModelDifferent())&&this.reset()},o.prototype.isSortModelDifferent=function(){return!Ie.jsonEquals(this.cacheParams.sortModel,this.sortController.getSortModel())},o.prototype.getType=function(){return q.ROW_MODEL_TYPE_INFINITE},o.prototype.setDatasource=function(r){this.destroyDatasource(),this.datasource=r,r&&this.reset()},o.prototype.isEmpty=function(){return!this.infiniteCache},o.prototype.isRowsToRender=function(){return!!this.infiniteCache},o.prototype.getNodesInRangeForSelection=function(r,a){return this.infiniteCache?this.infiniteCache.getRowNodesInRange(r,a):[]},o.prototype.reset=function(){if(this.datasource){Ie.exists(this.gridOptionsWrapper.getRowNodeIdFunc())||this.selectionService.reset(),this.resetCache();var a=this.createModelUpdatedEvent();this.eventService.dispatchEvent(a)}},o.prototype.createModelUpdatedEvent=function(){return{type:j.EVENT_MODEL_UPDATED,api:this.gridApi,columnApi:this.columnApi,newPage:!1,newData:!1,keepRenderedRows:!0,animate:!1}},o.prototype.resetCache=function(){this.destroyCache();var r=this.gridOptionsWrapper.getMaxConcurrentDatasourceRequests();this.cacheParams={datasource:this.datasource,filterModel:this.filterManager.getFilterModel(),sortModel:this.sortController.getSortModel(),rowNodeBlockLoader:this.rowNodeBlockLoader,maxConcurrentRequests:this.defaultIfInvalid(r,2),initialRowCount:this.defaultIfInvalid(this.gridOptionsWrapper.getInfiniteInitialRowCount(),1),maxBlocksInCache:this.gridOptionsWrapper.getMaxBlocksInCache(),rowHeight:this.gridOptionsWrapper.getRowHeightAsNumber(),overflowSize:this.defaultIfInvalid(this.gridOptionsWrapper.getCacheOverflowSize(),1),blockSize:this.defaultIfInvalid(this.gridOptionsWrapper.getCacheBlockSize(),100),lastAccessedSequence:new rs},this.infiniteCache=this.createBean(new Vx(this.cacheParams))},o.prototype.defaultIfInvalid=function(r,a){return r>0?r:a},o.prototype.destroyCache=function(){this.infiniteCache&&(this.infiniteCache=this.destroyBean(this.infiniteCache))},o.prototype.onCacheUpdated=function(){var r=this.createModelUpdatedEvent();this.eventService.dispatchEvent(r)},o.prototype.getRow=function(r){if(this.infiniteCache&&!(r>=this.infiniteCache.getRowCount()))return this.infiniteCache.getRow(r)},o.prototype.getRowNode=function(r){var a=void 0;return this.forEachNode(function(u){u.id===r&&(a=u)}),a},o.prototype.forEachNode=function(r){this.infiniteCache&&this.infiniteCache.forEachNodeDeep(r)},o.prototype.getTopLevelRowCount=function(){return this.getRowCount()},o.prototype.getTopLevelRowDisplayedIndex=function(r){return r},o.prototype.getRowIndexAtPixel=function(r){if(0!==this.rowHeight){var a=Math.floor(r/this.rowHeight),u=this.getRowCount()-1;return a>u?u:a}return 0},o.prototype.getRowCount=function(){return this.infiniteCache?this.infiniteCache.getRowCount():0},o.prototype.isRowPresent=function(r){return!!this.getRowNode(r.id)},o.prototype.refreshCache=function(){this.infiniteCache&&this.infiniteCache.refreshCache()},o.prototype.purgeCache=function(){this.infiniteCache&&this.infiniteCache.purgeCache()},o.prototype.isLastRowIndexKnown=function(){return!!this.infiniteCache&&this.infiniteCache.isLastRowIndexKnown()},o.prototype.setRowCount=function(r,a){this.infiniteCache&&this.infiniteCache.setRowCount(r,a)},De([F("filterManager")],o.prototype,"filterManager",void 0),De([F("sortController")],o.prototype,"sortController",void 0),De([F("selectionService")],o.prototype,"selectionService",void 0),De([F("gridApi")],o.prototype,"gridApi",void 0),De([F("columnApi")],o.prototype,"columnApi",void 0),De([F("rowRenderer")],o.prototype,"rowRenderer",void 0),De([F("rowNodeBlockLoader")],o.prototype,"rowNodeBlockLoader",void 0),De([ye],o.prototype,"init",null),De([or],o.prototype,"destroyDatasource",null),De([Te("rowModel")],o)}(he),cI={moduleName:H.GXE.InfiniteRowModelModule,rowModels:{infinite:Al}},ew=function(){function d(){}return d.prototype.setBeans=function(o){this.beans=o},d.prototype.getFileName=function(o){var r=this.getDefaultFileExtension();return(null==o||!o.length)&&(o=this.getDefaultFileName()),-1===o.indexOf(".")?o+"."+r:o},d.prototype.getMergedParamsAndData=function(o){var r=this.mergeDefaultParams(o);return{mergedParams:r,data:this.beans.gridSerializer.serialize(this.createSerializingSession(r),r)}},d.prototype.mergeDefaultParams=function(o){var r=this.getDefaultExportParams(),a={};return Ie.assign(a,r),Ie.assign(a,o),a},d}(),py=function(){function d(o){this.groupColumns=[];var a=o.valueService,u=o.gridOptionsWrapper,c=o.processCellCallback,f=o.processHeaderCallback,y=o.processGroupHeaderCallback,w=o.processRowGroupCallback;this.columnModel=o.columnModel,this.valueService=a,this.gridOptionsWrapper=u,this.processCellCallback=c,this.processHeaderCallback=f,this.processGroupHeaderCallback=y,this.processRowGroupCallback=w}return d.prototype.prepare=function(o){this.groupColumns=Ie.filter(o,function(r){return!!r.getColDef().showRowGroup})},d.prototype.extractHeaderValue=function(o){var r=this.getHeaderName(this.processHeaderCallback,o);return null!=r?r:""},d.prototype.extractRowCellValue=function(o,r,a,u,c){var w,f=this.gridOptionsWrapper.isGroupMultiAutoColumn()?c.rowGroupIndex:0;w=c&&c.group&&(r===f&&-1!==this.groupColumns.indexOf(o)||0===r&&this.gridOptionsWrapper.isGroupUseEntireRow(this.columnModel.isPivotMode()))?this.createValueForGroupNode(c):this.valueService.getValue(o,c);var D=this.processCell(a,c,o,w,this.processCellCallback,u);return null!=D?D:""},d.prototype.getHeaderName=function(o,r){return o?o({column:r,api:this.gridOptionsWrapper.getApi(),columnApi:this.gridOptionsWrapper.getColumnApi(),context:this.gridOptionsWrapper.getContext()}):this.columnModel.getDisplayNameForColumn(r,"csv",!0)},d.prototype.createValueForGroupNode=function(o){if(this.processRowGroupCallback)return this.processRowGroupCallback({node:o,api:this.gridOptionsWrapper.getApi(),columnApi:this.gridOptionsWrapper.getColumnApi(),context:this.gridOptionsWrapper.getContext()});var r=[o.key];if(!this.gridOptionsWrapper.isGroupMultiAutoColumn())for(;o.parent;)r.push((o=o.parent).key);return r.reverse().join(" -> ")},d.prototype.processCell=function(o,r,a,u,c,f){return c?c({accumulatedRowIndex:o,column:a,node:r,value:u,api:this.gridOptionsWrapper.getApi(),columnApi:this.gridOptionsWrapper.getColumnApi(),context:this.gridOptionsWrapper.getContext(),type:f}):null!=u?u:""},d}(),hy=function(){function d(){}return d.download=function(o,r){var a=document.defaultView||window;if(a)if(a.navigator.msSaveOrOpenBlob)a.navigator.msSaveOrOpenBlob(r,o);else{var u=document.createElement("a"),c=a.URL.createObjectURL(r);u.setAttribute("href",c),u.setAttribute("download",o),u.style.display="none",document.body.appendChild(u),u.dispatchEvent(new MouseEvent("click",{bubbles:!1,cancelable:!0,view:a})),document.body.removeChild(u),a.setTimeout(function(){a.URL.revokeObjectURL(c)},0)}else console.warn("AG Grid: There is no `window` associated with the current `document`")},d}(),kx=function(){var d=function(o,r){return(d=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(a,u){a.__proto__=u}||function(a,u){for(var c in u)u.hasOwnProperty(c)&&(a[c]=u[c])})(o,r)};return function(o,r){function a(){this.constructor=o}d(o,r),o.prototype=null===r?Object.create(r):(a.prototype=r.prototype,new a)}}(),Ed=function(d){function o(r){var a=d.call(this,r)||this;a.isFirstLine=!0,a.result="";var c=r.columnSeparator;return a.suppressQuotes=r.suppressQuotes,a.columnSeparator=c,a}return kx(o,d),o.prototype.addCustomContent=function(r){var a=this;!r||("string"==typeof r?(/^\s*\n/.test(r)||this.beginNewLine(),r=r.replace(/\r?\n/g,"\r\n"),this.result+=r):r.forEach(function(u){a.beginNewLine(),u.forEach(function(c,f){0!==f&&(a.result+=a.columnSeparator),a.result+=a.putInQuotes(c.data.value||""),c.mergeAcross&&a.appendEmptyCells(c.mergeAcross)})}))},o.prototype.onNewHeaderGroupingRow=function(){return this.beginNewLine(),{onColumn:this.onNewHeaderGroupingRowColumn.bind(this)}},o.prototype.onNewHeaderGroupingRowColumn=function(r,a,u){0!=a&&(this.result+=this.columnSeparator),this.result+=this.putInQuotes(r),this.appendEmptyCells(u)},o.prototype.appendEmptyCells=function(r){for(var a=1;a<=r;a++)this.result+=this.columnSeparator+this.putInQuotes("")},o.prototype.onNewHeaderRow=function(){return this.beginNewLine(),{onColumn:this.onNewHeaderRowColumn.bind(this)}},o.prototype.onNewHeaderRowColumn=function(r,a){0!=a&&(this.result+=this.columnSeparator),this.result+=this.putInQuotes(this.extractHeaderValue(r))},o.prototype.onNewBodyRow=function(){return this.beginNewLine(),{onColumn:this.onNewBodyRowColumn.bind(this)}},o.prototype.onNewBodyRowColumn=function(r,a,u){0!=a&&(this.result+=this.columnSeparator),this.result+=this.putInQuotes(this.extractRowCellValue(r,a,a,q.EXPORT_TYPE_CSV,u))},o.prototype.putInQuotes=function(r){return this.suppressQuotes?r:null==r?'""':("string"==typeof r?a=r:"function"==typeof r.toString?a=r.toString():(console.warn("unknown value type during csv conversion"),a=""),'"'+a.replace(/"/g,'""')+'"');var a},o.prototype.parse=function(){return this.result},o.prototype.beginNewLine=function(){this.isFirstLine||(this.result+="\r\n"),this.isFirstLine=!1},o}(py),tw=function(){var d=function(o,r){return(d=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(a,u){a.__proto__=u}||function(a,u){for(var c in u)u.hasOwnProperty(c)&&(a[c]=u[c])})(o,r)};return function(o,r){function a(){this.constructor=o}d(o,r),o.prototype=null===r?Object.create(r):(a.prototype=r.prototype,new a)}}(),Qs=function(d,o,r,a){var f,u=arguments.length,c=u<3?o:null===a?a=Object.getOwnPropertyDescriptor(o,r):a;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)c=Reflect.decorate(d,o,r,a);else for(var y=d.length-1;y>=0;y--)(f=d[y])&&(c=(u<3?f(c):u>3?f(o,r,c):f(o,r))||c);return u>3&&c&&Object.defineProperty(o,r,c),c},ai=function(d){function o(){return null!==d&&d.apply(this,arguments)||this}return tw(o,d),o.prototype.postConstruct=function(){this.setBeans({gridSerializer:this.gridSerializer,gridOptionsWrapper:this.gridOptionsWrapper})},o.prototype.getDefaultExportParams=function(){return this.gridOptionsWrapper.getDefaultExportParams("csv")},o.prototype.export=function(r){if(this.isExportSuppressed())return console.warn("ag-grid: Export cancelled. Export is not allowed as per your configuration."),"";var a=this.getMergedParamsAndData(r),u=a.mergedParams,c=a.data,f=new Blob(["\ufeff",c],{type:window.navigator.msSaveOrOpenBlob?this.getMimeType():"octet/stream"});return hy.download(this.getFileName(u.fileName),f),c},o.prototype.exportDataAsCsv=function(r){return this.export(r)},o.prototype.getDataAsCsv=function(r){return this.getMergedParamsAndData(r).data},o.prototype.getMimeType=function(){return"text/csv;charset=utf-8;"},o.prototype.getDefaultFileName=function(){return"export.csv"},o.prototype.getDefaultFileExtension=function(){return"csv"},o.prototype.createSerializingSession=function(r){var a=this;return new Ed({columnModel:a.columnModel,valueService:a.valueService,gridOptionsWrapper:a.gridOptionsWrapper,processCellCallback:r.processCellCallback||void 0,processHeaderCallback:r.processHeaderCallback||void 0,processGroupHeaderCallback:r.processGroupHeaderCallback||void 0,processRowGroupCallback:r.processRowGroupCallback||void 0,suppressQuotes:r.suppressQuotes||!1,columnSeparator:r.columnSeparator||","})},o.prototype.isExportSuppressed=function(){return this.gridOptionsWrapper.isSuppressCsvExport()},Qs([F("columnModel")],o.prototype,"columnModel",void 0),Qs([F("valueService")],o.prototype,"valueService",void 0),Qs([F("gridSerializer")],o.prototype,"gridSerializer",void 0),Qs([F("gridOptionsWrapper")],o.prototype,"gridOptionsWrapper",void 0),Qs([ye],o.prototype,"postConstruct",null),Qs([Te("csvCreator")],o)}(ew),iw=function(){var d=function(o,r){return(d=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(a,u){a.__proto__=u}||function(a,u){for(var c in u)u.hasOwnProperty(c)&&(a[c]=u[c])})(o,r)};return function(o,r){function a(){this.constructor=o}d(o,r),o.prototype=null===r?Object.create(r):(a.prototype=r.prototype,new a)}}(),Xu=function(d,o,r,a){var f,u=arguments.length,c=u<3?o:null===a?a=Object.getOwnPropertyDescriptor(o,r):a;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)c=Reflect.decorate(d,o,r,a);else for(var y=d.length-1;y>=0;y--)(f=d[y])&&(c=(u<3?f(c):u>3?f(o,r,c):f(o,r))||c);return u>3&&c&&Object.defineProperty(o,r,c),c};!function(d){d[d.HEADER_GROUPING=0]="HEADER_GROUPING",d[d.HEADER=1]="HEADER",d[d.BODY=2]="BODY"}(H.aCu||(H.aCu={}));var fy=function(d){function o(){return null!==d&&d.apply(this,arguments)||this}return iw(o,d),o.prototype.serialize=function(r,a){void 0===a&&(a={});var u=this.getColumnsToExport(a.allColumns,a.columnKeys);return Ie.compose(this.prepareSession(u),this.prependContent(a),this.exportColumnGroups(a,u),this.exportHeaders(a,u),this.processPinnedTopRows(a,u),this.processRows(a,u),this.processPinnedBottomRows(a,u),this.appendContent(a))(r).parse()},o.prototype.processRow=function(r,a,u,c){var f=a.shouldRowBeSkipped||function(){return!1},y=this.gridOptionsWrapper,w=y.getContext(),D=y.getApi(),O=y.getColumnApi(),I=y.isGroupRemoveSingleChildren(),V=y.isGroupHideOpenParents(),B=y.isGroupRemoveLowestSingleChildren(),z=this.columnModel.isPivotMode()?c.leafGroup:!c.group,_e=1===c.allChildrenCount&&(I||B&&c.leafGroup);if((a.skipGroups||a.skipRowGroups)&&a.skipGroups&&Ie.doOnce(function(){return console.warn("AG Grid: Since v25.2 `skipGroups` has been renamed to `skipRowGroups`.")},"gridSerializer-skipGroups"),!(!z&&(a.skipRowGroups||_e||V)||a.onlySelected&&!c.isSelected()||a.skipPinnedTop&&"top"===c.rowPinned||a.skipPinnedBottom&&"bottom"===c.rowPinned)&&(-1!==c.level||c.leafGroup)&&!f({node:c,api:D,context:w})){var Ee=r.onNewBodyRow();if(u.forEach(function(wt,Ze){Ee.onColumn(wt,Ze,c)}),a.getCustomContentBelowRow){var ze=a.getCustomContentBelowRow({node:c,api:D,columnApi:O,context:w});ze&&r.addCustomContent(ze)}}},o.prototype.appendContent=function(r){return function(a){var u=r.customFooter||r.appendContent;return u&&(r.customFooter&&Ie.doOnce(function(){return console.warn("AG Grid: Since version 25.2.0 the `customFooter` param has been deprecated. Use `appendContent` instead.")},"gridSerializer-customFooter"),a.addCustomContent(u)),a}},o.prototype.prependContent=function(r){return function(a){var u=r.customHeader||r.prependContent;return u&&(r.customHeader&&Ie.doOnce(function(){return console.warn("AG Grid: Since version 25.2.0 the `customHeader` param has been deprecated. Use `prependContent` instead.")},"gridSerializer-customHeader"),a.addCustomContent(u)),a}},o.prototype.prepareSession=function(r){return function(a){return a.prepare(r),a}},o.prototype.exportColumnGroups=function(r,a){var u=this;return function(c){if(r.skipColumnGroupHeaders)r.columnGroups&&Ie.doOnce(function(){return console.warn("AG Grid: Since v25.2 the `columnGroups` param has deprecated, and groups are exported by default.")},"gridSerializer-columnGroups");else{var f=new Qo,y=u.displayedGroupCreator.createDisplayedGroups(a,u.columnModel.getGridBalancedTree(),f,null);u.recursivelyAddHeaderGroups(y,c,r.processGroupHeaderCallback)}return c}},o.prototype.exportHeaders=function(r,a){return function(u){if(r.skipHeader||r.skipColumnHeaders)r.skipHeader&&Ie.doOnce(function(){return console.warn("AG Grid: Since v25.2 the `skipHeader` param has been renamed to `skipColumnHeaders`.")},"gridSerializer-skipHeader");else{var c=u.onNewHeaderRow();a.forEach(function(f,y){c.onColumn(f,y,void 0)})}return u}},o.prototype.processPinnedTopRows=function(r,a){var u=this;return function(c){var f=u.processRow.bind(u,c,r,a);return u.pinnedRowModel.forEachPinnedTopRow(f),c}},o.prototype.processRows=function(r,a){var u=this;return function(c){var f=u.rowModel,y=f.getType(),w=y===q.ROW_MODEL_TYPE_CLIENT_SIDE,D=y===q.ROW_MODEL_TYPE_SERVER_SIDE,O=!w&&r.onlySelected,I=u.processRow.bind(u,c,r,a);return u.columnModel.isPivotMode()?w?f.forEachPivotNode(I):f.forEachNode(I):r.onlySelectedAllPages||O?u.selectionService.getSelectedNodes().forEach(I):w||D?f.forEachNodeAfterFilterAndSort(I):f.forEachNode(I),c}},o.prototype.processPinnedBottomRows=function(r,a){var u=this;return function(c){var f=u.processRow.bind(u,c,r,a);return u.pinnedRowModel.forEachPinnedBottomRow(f),c}},o.prototype.getColumnsToExport=function(r,a){void 0===r&&(r=!1);var u=this.columnModel.isPivotMode();return a&&a.length?this.columnModel.getGridColumns(a):r&&!u?(this.gridOptionsWrapper.isTreeData()?this.columnModel.getGridColumns([q.GROUP_AUTO_COLUMN_ID]):[]).concat(this.columnModel.getAllPrimaryColumns()||[]):this.columnModel.getAllDisplayedColumns()},o.prototype.recursivelyAddHeaderGroups=function(r,a,u){var c=[];r.forEach(function(f){!f.getChildren||f.getChildren().forEach(function(w){return c.push(w)})}),r.length>0&&r[0]instanceof ar&&this.doAddHeaderHeader(a,r,u),c&&c.length>0&&this.recursivelyAddHeaderGroups(c,a,u)},o.prototype.doAddHeaderHeader=function(r,a,u){var c=this,f=r.onNewHeaderGroupingRow(),y=0;a.forEach(function(w){var O,D=w;O=u?u({columnGroup:D,api:c.gridOptionsWrapper.getApi(),columnApi:c.gridOptionsWrapper.getColumnApi(),context:c.gridOptionsWrapper.getContext()}):c.columnModel.getDisplayNameForColumnGroup(D,"header"),f.onColumn(O||"",y++,D.getLeafColumns().length-1)})},Xu([F("displayedGroupCreator")],o.prototype,"displayedGroupCreator",void 0),Xu([F("columnModel")],o.prototype,"columnModel",void 0),Xu([F("rowModel")],o.prototype,"rowModel",void 0),Xu([F("pinnedRowModel")],o.prototype,"pinnedRowModel",void 0),Xu([F("selectionService")],o.prototype,"selectionService",void 0),Xu([Te("gridSerializer")],o)}(he),gy={moduleName:H.GXE.CsvExportModule,beans:[ai,fy]},Gx=(function(){function d(){}d.createHeader=function(o){void 0===o&&(o={});var u=["version"];return o.version||(o.version="1.0"),o.encoding&&u.push("encoding"),o.standalone&&u.push("standalone"),"<?xml "+u.map(function(f){return f+'="'+o[f]+'"'}).join(" ")+" ?>"},d.createXml=function(o,r){var a=this,u="";o.properties&&(o.properties.prefixedAttributes&&o.properties.prefixedAttributes.forEach(function(f){Object.keys(f.map).forEach(function(y){u+=a.returnAttributeIfPopulated(f.prefix+y,f.map[y],r)})}),o.properties.rawMap&&Object.keys(o.properties.rawMap).forEach(function(f){u+=a.returnAttributeIfPopulated(f,o.properties.rawMap[f],r)}));var c="<"+o.name+u;return o.children||null!=o.textNode?null!=o.textNode?c+">"+o.textNode+"</"+o.name+">\r\n":(c+=">\r\n",o.children&&o.children.forEach(function(f){c+=a.createXml(f,r)}),c+"</"+o.name+">\r\n"):c+"/>\r\n"},d.returnAttributeIfPopulated=function(o,r,a){if(!r&&""!==r&&0!==r)return"";var u=r;return"boolean"==typeof r&&a&&(u=a(r))," "+o+'="'+u+'"'}}(),new Uint32Array([0,1996959894,3993919788,2567524794,124634137,1886057615,3915621685,2657392035,249268274,2044508324,3772115230,2547177864,162941995,2125561021,3887607047,2428444049,498536548,1789927666,4089016648,2227061214,450548861,1843258603,4107580753,2211677639,325883990,1684777152,4251122042,2321926636,335633487,1661365465,4195302755,2366115317,997073096,1281953886,3579855332,2724688242,1006888145,1258607687,3524101629,2768942443,901097722,1119000684,3686517206,2898065728,853044451,1172266101,3705015759,2882616665,651767980,1373503546,3369554304,3218104598,565507253,1454621731,3485111705,3099436303,671266974,1594198024,3322730930,2970347812,795835527,1483230225,3244367275,3060149565,1994146192,31158534,2563907772,4023717930,1907459465,112637215,2680153253,3904427059,2013776290,251722036,2517215374,3775830040,2137656763,141376813,2439277719,3865271297,1802195444,476864866,2238001368,4066508878,1812370925,453092731,2181625025,4111451223,1706088902,314042704,2344532202,4240017532,1658658271,366619977,2362670323,4224994405,1303535960,984961486,2747007092,3569037538,1256170817,1037604311,2765210733,3554079995,1131014506,879679996,2909243462,3663771856,1141124467,855842277,2852801631,3708648649,1342533948,654459306,3188396048,3373015174,1466479909,544179635,3110523913,3462522015,1591671054,702138776,2966460450,3352799412,1504918807,783551873,3082640443,3233442989,3988292384,2596254646,62317068,1957810842,3939845945,2647816111,81470997,1943803523,3814918930,2489596804,225274430,2053790376,3826175755,2466906013,167816743,2097651377,4027552580,2265490386,503444072,1762050814,4150417245,2154129355,426522225,1852507879,4275313526,2312317920,282753626,1742555852,4189708143,2394877945,397917763,1622183637,3604390888,2714866558,953729732,1340076626,3518719985,2797360999,1068828381,1219638859,3624741850,2936675148,906185462,1090812512,3747672003,2825379669,829329135,1181335161,3412177804,3160834842,628085408,1382605366,3423369109,3138078467,570562233,1426400815,3317316542,2998733608,733239954,1555261956,3268935591,3050360625,752459403,1541320221,2607071920,3965973030,1969922972,40735498,2617837225,3943577151,1913087877,83908371,2512341634,3803740692,2075208622,213261112,2463272603,3855990285,2094854071,198958881,2262029012,4057260610,1759359992,534414190,2176718541,4139329115,1873836001,414664567,2282248934,4279200368,1711684554,285281116,2405801727,4167216745,1634467795,376229701,2685067896,3608007406,1308918612,956543938,2808555105,3495958263,1231636301,1047427035,2932959818,3654703836,1088359270,936918e3,2847714899,3736837829,1202900863,817233897,3183342108,3401237130,1404277552,615818150,3134207493,3453421203,1423857449,601450431,3009837614,3294710456,1567103746,711928724,3020668471,3272380065,1510334235,755167117]));!function(){function d(){}d.addFolders=function(o){o.forEach(this.addFolder.bind(this))},d.addFolder=function(o){this.folders.push({path:o,created:new Date,isBase64:!1})},d.addFile=function(o,r,a){void 0===a&&(a=!1),this.files.push({path:o,created:new Date,content:r,isBase64:a})},d.getContent=function(o){void 0===o&&(o="application/zip");var r=this.buildFileStream(),a=this.buildUint8Array(r);return this.clearStream(),new Blob([a],{type:o})},d.clearStream=function(){this.folders=[],this.files=[]},d.buildFileStream=function(o){void 0===o&&(o="");for(var r=this.folders.concat(this.files),a=r.length,u="",c=0,f=0,y=0,w=r;y<w.length;y++){var O=this.getHeader(w[y],c),I=O.fileHeader,V=O.folderHeader,B=O.content;c+=I.length+B.length,f+=V.length,o+=I+B,u+=V}return o+u+this.buildFolderEnd(a,f,c)},d.getHeader=function(o,r){var a=o.content,u=o.path,c=o.created,f=o.isBase64,w=Ie.decToHex,D=(0,Ie.utf8_encode)(u),O=D!==u,I=this.convertTime(c),V=this.convertDate(c),B="";if(O){var z=w(1,1)+w(this.getFromCrc32Table(D),4)+D;B="up"+w(z.length,2)+z}var ee=a?this.getConvertedContent(a,f):{size:0,content:""},ie=ee.size,_e=ee.content,de="\n\0"+(O?"\0\b":"\0\0")+"\0\0"+w(I,2)+w(V,2)+w(ie?this.getFromCrc32Table(_e):0,4)+w(ie,4)+w(ie,4)+w(D.length,2)+w(B.length,2);return{fileHeader:"PK\x03\x04"+de+D+B,folderHeader:"PK\x01\x02\x14\0"+de+"\0\0\0\0\0\0"+(a?"\0\0\0\0":"\x10\0\0\0")+w(r,4)+D+B,content:_e||""}},d.getConvertedContent=function(o,r){return void 0===r&&(r=!1),r&&(o=o.split(";base64,")[1]),{size:(o=r?atob(o):o).length,content:o}},d.buildFolderEnd=function(o,r,a){var u=Ie.decToHex;return"PK\x05\x06\0\0\0\0"+u(o,2)+u(o,2)+u(r,4)+u(a,4)+"\0\0"},d.buildUint8Array=function(o){for(var r=new Uint8Array(o.length),a=0;a<r.length;a++)r[a]=o.charCodeAt(a);return r},d.getFromCrc32Table=function(o){if(!o.length)return 0;for(var r=o.length,a=new Uint8Array(r),u=0;u<r;u++)a[u]=o.charCodeAt(u);var c=-1;for(u=0;u<r;u++)c=c>>>8^Gx[255&(c^a[u])];return-1^c},d.convertTime=function(o){var r=o.getHours();return r<<=6,r|=o.getMinutes(),(r<<=5)|o.getSeconds()/2},d.convertDate=function(o){var r=o.getFullYear()-1980;return r<<=4,r|=o.getMonth()+1,(r<<=5)|o.getDate()},d.folders=[],d.files=[]}();ot.register(cy,!1),ot.register(cI,!1),ot.register(gy,!1),H.j_S=Qn,H.Nk3=lI,H.plv=tt,H.rjZ=oy,H.vA3=BE},105:(hp,H,Z)=>{"use strict";function _r(n){return"function"==typeof n}let ce=!1;const Ge={Promise:void 0,set useDeprecatedSynchronousErrorHandling(n){if(n){const t=new Error;console.warn("DEPRECATED! RxJS was set to use deprecated synchronous error handling behavior by code at: \n"+t.stack)}else ce&&console.log("RxJS: Back to a better error behavior. Thank you. <3");ce=n},get useDeprecatedSynchronousErrorHandling(){return ce}};function Vn(n){setTimeout(()=>{throw n},0)}const zl={closed:!0,next(n){},error(n){if(Ge.useDeprecatedSynchronousErrorHandling)throw n;Vn(n)},complete(){}},Tn=Array.isArray||(n=>n&&"number"==typeof n.length);function ga(n){return null!==n&&"object"==typeof n}const fp=(()=>{function n(t){return Error.call(this),this.message=t?`${t.length} errors occurred during unsubscription:\n${t.map((e,i)=>`${i+1}) ${e.toString()}`).join("\n  ")}`:"",this.name="UnsubscriptionError",this.errors=t,this}return n.prototype=Object.create(Error.prototype),n})();class ji{constructor(t){this.closed=!1,this._parentOrParents=null,this._subscriptions=null,t&&(this._ctorUnsubscribe=!0,this._unsubscribe=t)}unsubscribe(){let t;if(this.closed)return;let{_parentOrParents:e,_ctorUnsubscribe:i,_unsubscribe:s,_subscriptions:l}=this;if(this.closed=!0,this._parentOrParents=null,this._subscriptions=null,e instanceof ji)e.remove(this);else if(null!==e)for(let p=0;p<e.length;++p)e[p].remove(this);if(_r(s)){i&&(this._unsubscribe=void 0);try{s.call(this)}catch(p){t=p instanceof fp?gp(p.errors):[p]}}if(Tn(l)){let p=-1,h=l.length;for(;++p<h;){const g=l[p];if(ga(g))try{g.unsubscribe()}catch(v){t=t||[],v instanceof fp?t=t.concat(gp(v.errors)):t.push(v)}}}if(t)throw new fp(t)}add(t){let e=t;if(!t)return ji.EMPTY;switch(typeof t){case"function":e=new ji(t);case"object":if(e===this||e.closed||"function"!=typeof e.unsubscribe)return e;if(this.closed)return e.unsubscribe(),e;if(!(e instanceof ji)){const l=e;e=new ji,e._subscriptions=[l]}break;default:throw new Error("unrecognized teardown "+t+" added to Subscription.")}let{_parentOrParents:i}=e;if(null===i)e._parentOrParents=this;else if(i instanceof ji){if(i===this)return e;e._parentOrParents=[i,this]}else{if(-1!==i.indexOf(this))return e;i.push(this)}const s=this._subscriptions;return null===s?this._subscriptions=[e]:s.push(e),e}remove(t){const e=this._subscriptions;if(e){const i=e.indexOf(t);-1!==i&&e.splice(i,1)}}}var n;function gp(n){return n.reduce((t,e)=>t.concat(e instanceof fp?e.errors:e),[])}ji.EMPTY=((n=new ji).closed=!0,n);const Un="function"==typeof Symbol?Symbol("rxSubscriber"):"@@rxSubscriber_"+Math.random();class Ci extends ji{constructor(t,e,i){switch(super(),this.syncErrorValue=null,this.syncErrorThrown=!1,this.syncErrorThrowable=!1,this.isStopped=!1,arguments.length){case 0:this.destination=zl;break;case 1:if(!t){this.destination=zl;break}if("object"==typeof t){t instanceof Ci?(this.syncErrorThrowable=t.syncErrorThrowable,this.destination=t,t.add(this)):(this.syncErrorThrowable=!0,this.destination=new Kf(this,t));break}default:this.syncErrorThrowable=!0,this.destination=new Kf(this,t,e,i)}}[Un](){return this}static create(t,e,i){const s=new Ci(t,e,i);return s.syncErrorThrowable=!1,s}next(t){this.isStopped||this._next(t)}error(t){this.isStopped||(this.isStopped=!0,this._error(t))}complete(){this.isStopped||(this.isStopped=!0,this._complete())}unsubscribe(){this.closed||(this.isStopped=!0,super.unsubscribe())}_next(t){this.destination.next(t)}_error(t){this.destination.error(t),this.unsubscribe()}_complete(){this.destination.complete(),this.unsubscribe()}_unsubscribeAndRecycle(){const{_parentOrParents:t}=this;return this._parentOrParents=null,this.unsubscribe(),this.closed=!1,this.isStopped=!1,this._parentOrParents=t,this}}class Kf extends Ci{constructor(t,e,i,s){super(),this._parentSubscriber=t;let l,p=this;_r(e)?l=e:e&&(l=e.next,i=e.error,s=e.complete,e!==zl&&(p=Object.create(e),_r(p.unsubscribe)&&this.add(p.unsubscribe.bind(p)),p.unsubscribe=this.unsubscribe.bind(this))),this._context=p,this._next=l,this._error=i,this._complete=s}next(t){if(!this.isStopped&&this._next){const{_parentSubscriber:e}=this;Ge.useDeprecatedSynchronousErrorHandling&&e.syncErrorThrowable?this.__tryOrSetError(e,this._next,t)&&this.unsubscribe():this.__tryOrUnsub(this._next,t)}}error(t){if(!this.isStopped){const{_parentSubscriber:e}=this,{useDeprecatedSynchronousErrorHandling:i}=Ge;if(this._error)i&&e.syncErrorThrowable?(this.__tryOrSetError(e,this._error,t),this.unsubscribe()):(this.__tryOrUnsub(this._error,t),this.unsubscribe());else if(e.syncErrorThrowable)i?(e.syncErrorValue=t,e.syncErrorThrown=!0):Vn(t),this.unsubscribe();else{if(this.unsubscribe(),i)throw t;Vn(t)}}}complete(){if(!this.isStopped){const{_parentSubscriber:t}=this;if(this._complete){const e=()=>this._complete.call(this._context);Ge.useDeprecatedSynchronousErrorHandling&&t.syncErrorThrowable?(this.__tryOrSetError(t,e),this.unsubscribe()):(this.__tryOrUnsub(e),this.unsubscribe())}else this.unsubscribe()}}__tryOrUnsub(t,e){try{t.call(this._context,e)}catch(i){if(this.unsubscribe(),Ge.useDeprecatedSynchronousErrorHandling)throw i;Vn(i)}}__tryOrSetError(t,e,i){if(!Ge.useDeprecatedSynchronousErrorHandling)throw new Error("bad call");try{e.call(this._context,i)}catch(s){return Ge.useDeprecatedSynchronousErrorHandling?(t.syncErrorValue=s,t.syncErrorThrown=!0,!0):(Vn(s),!0)}return!1}_unsubscribe(){const{_parentSubscriber:t}=this;this._context=null,this._parentSubscriber=null,t.unsubscribe()}}const bc="function"==typeof Symbol&&Symbol.observable||"@@observable";function Jt(n){return n}let ni=(()=>{class n{constructor(e){this._isScalar=!1,e&&(this._subscribe=e)}lift(e){const i=new n;return i.source=this,i.operator=e,i}subscribe(e,i,s){const{operator:l}=this,p=function(n,t,e){if(n){if(n instanceof Ci)return n;if(n[Un])return n[Un]()}return n||t||e?new Ci(n,t,e):new Ci(zl)}(e,i,s);if(p.add(l?l.call(p,this.source):this.source||Ge.useDeprecatedSynchronousErrorHandling&&!p.syncErrorThrowable?this._subscribe(p):this._trySubscribe(p)),Ge.useDeprecatedSynchronousErrorHandling&&p.syncErrorThrowable&&(p.syncErrorThrowable=!1,p.syncErrorThrown))throw p.syncErrorValue;return p}_trySubscribe(e){try{return this._subscribe(e)}catch(i){Ge.useDeprecatedSynchronousErrorHandling&&(e.syncErrorThrown=!0,e.syncErrorValue=i),function(n){for(;n;){const{closed:t,destination:e,isStopped:i}=n;if(t||i)return!1;n=e&&e instanceof Ci?e:null}return!0}(e)?e.error(i):console.warn(i)}}forEach(e,i){return new(i=qf(i))((s,l)=>{let p;p=this.subscribe(h=>{try{e(h)}catch(g){l(g),p&&p.unsubscribe()}},l,s)})}_subscribe(e){const{source:i}=this;return i&&i.subscribe(e)}[bc](){return this}pipe(...e){return 0===e.length?this:function(n){return 0===n.length?Jt:1===n.length?n[0]:function(e){return n.reduce((i,s)=>s(i),e)}}(e)(this)}toPromise(e){return new(e=qf(e))((i,s)=>{let l;this.subscribe(p=>l=p,p=>s(p),()=>i(l))})}}return n.create=t=>new n(t),n})();function qf(n){if(n||(n=Ge.Promise||Promise),!n)throw new Error("no Promise impl found");return n}const ln=(()=>{function n(){return Error.call(this),this.message="object unsubscribed",this.name="ObjectUnsubscribedError",this}return n.prototype=Object.create(Error.prototype),n})();class Zf extends ji{constructor(t,e){super(),this.subject=t,this.subscriber=e,this.closed=!1}unsubscribe(){if(this.closed)return;this.closed=!0;const t=this.subject,e=t.observers;if(this.subject=null,!e||0===e.length||t.isStopped||t.closed)return;const i=e.indexOf(this.subscriber);-1!==i&&e.splice(i,1)}}class Cc extends Ci{constructor(t){super(t),this.destination=t}}let Qi=(()=>{class n extends ni{constructor(){super(),this.observers=[],this.closed=!1,this.isStopped=!1,this.hasError=!1,this.thrownError=null}[Un](){return new Cc(this)}lift(e){const i=new vp(this,this);return i.operator=e,i}next(e){if(this.closed)throw new ln;if(!this.isStopped){const{observers:i}=this,s=i.length,l=i.slice();for(let p=0;p<s;p++)l[p].next(e)}}error(e){if(this.closed)throw new ln;this.hasError=!0,this.thrownError=e,this.isStopped=!0;const{observers:i}=this,s=i.length,l=i.slice();for(let p=0;p<s;p++)l[p].error(e);this.observers.length=0}complete(){if(this.closed)throw new ln;this.isStopped=!0;const{observers:e}=this,i=e.length,s=e.slice();for(let l=0;l<i;l++)s[l].complete();this.observers.length=0}unsubscribe(){this.isStopped=!0,this.closed=!0,this.observers=null}_trySubscribe(e){if(this.closed)throw new ln;return super._trySubscribe(e)}_subscribe(e){if(this.closed)throw new ln;return this.hasError?(e.error(this.thrownError),ji.EMPTY):this.isStopped?(e.complete(),ji.EMPTY):(this.observers.push(e),new Zf(this,e))}asObservable(){const e=new ni;return e.source=this,e}}return n.create=(t,e)=>new vp(t,e),n})();class vp extends Qi{constructor(t,e){super(),this.destination=t,this.source=e}next(t){const{destination:e}=this;e&&e.next&&e.next(t)}error(t){const{destination:e}=this;e&&e.error&&this.destination.error(t)}complete(){const{destination:t}=this;t&&t.complete&&this.destination.complete()}_subscribe(t){const{source:e}=this;return e?this.source.subscribe(t):ji.EMPTY}}function zn(n){return n&&"function"==typeof n.schedule}function It(n,t){return function(i){if("function"!=typeof n)throw new TypeError("argument is not a function. Are you looking for `mapTo()`?");return i.lift(new Qf(n,t))}}class Qf{constructor(t,e){this.project=t,this.thisArg=e}call(t,e){return e.subscribe(new UD(t,this.project,this.thisArg))}}class UD extends Ci{constructor(t,e,i){super(t),this.project=e,this.count=0,this.thisArg=i||this}_next(t){let e;try{e=this.project.call(this.thisArg,t,this.count++)}catch(i){return void this.destination.error(i)}this.destination.next(e)}}const va=n=>t=>{for(let e=0,i=n.length;e<i&&!t.closed;e++)t.next(n[e]);t.complete()},qr="function"==typeof Symbol&&Symbol.iterator?Symbol.iterator:"@@iterator",yp=n=>n&&"number"==typeof n.length&&"function"!=typeof n;function Zm(n){return!!n&&"function"!=typeof n.subscribe&&"function"==typeof n.then}const Jf=n=>{if(n&&"function"==typeof n[bc])return(n=>t=>{const e=n[bc]();if("function"!=typeof e.subscribe)throw new TypeError("Provided object does not correctly implement Symbol.observable");return e.subscribe(t)})(n);if(yp(n))return va(n);if(Zm(n))return(n=>t=>(n.then(e=>{t.closed||(t.next(e),t.complete())},e=>t.error(e)).then(null,Vn),t))(n);if(n&&"function"==typeof n[qr])return(n=>t=>{const e=n[qr]();for(;;){let i;try{i=e.next()}catch(s){return t.error(s),t}if(i.done){t.complete();break}if(t.next(i.value),t.closed)break}return"function"==typeof e.return&&t.add(()=>{e.return&&e.return()}),t})(n);{const e=`You provided ${ga(n)?"an invalid object":`'${n}'`} where a stream was expected. You can provide an Observable, Promise, Array, or Iterable.`;throw new TypeError(e)}};function Dc(n,t){return new ni(e=>{const i=new ji;let s=0;return i.add(t.schedule(function(){s!==n.length?(e.next(n[s++]),e.closed||i.add(this.schedule())):e.complete()})),i})}function $n(n,t){return t?function(n,t){if(null!=n){if(function(n){return n&&"function"==typeof n[bc]}(n))return function(n,t){return new ni(e=>{const i=new ji;return i.add(t.schedule(()=>{const s=n[bc]();i.add(s.subscribe({next(l){i.add(t.schedule(()=>e.next(l)))},error(l){i.add(t.schedule(()=>e.error(l)))},complete(){i.add(t.schedule(()=>e.complete()))}}))})),i})}(n,t);if(Zm(n))return function(n,t){return new ni(e=>{const i=new ji;return i.add(t.schedule(()=>n.then(s=>{i.add(t.schedule(()=>{e.next(s),i.add(t.schedule(()=>e.complete()))}))},s=>{i.add(t.schedule(()=>e.error(s)))}))),i})}(n,t);if(yp(n))return Dc(n,t);if(function(n){return n&&"function"==typeof n[qr]}(n)||"string"==typeof n)return function(n,t){if(!n)throw new Error("Iterable cannot be null");return new ni(e=>{const i=new ji;let s;return i.add(()=>{s&&"function"==typeof s.return&&s.return()}),i.add(t.schedule(()=>{s=n[qr](),i.add(t.schedule(function(){if(e.closed)return;let l,p;try{const h=s.next();l=h.value,p=h.done}catch(h){return void e.error(h)}p?e.complete():(e.next(l),this.schedule())}))})),i})}(n,t)}throw new TypeError((null!==n&&typeof n||n)+" is not observable")}(n,t):n instanceof ni?n:new ni(Jf(n))}class Kl extends Ci{constructor(t){super(),this.parent=t}_next(t){this.parent.notifyNext(t)}_error(t){this.parent.notifyError(t),this.unsubscribe()}_complete(){this.parent.notifyComplete(),this.unsubscribe()}}class Fr extends Ci{notifyNext(t){this.destination.next(t)}notifyError(t){this.destination.error(t)}notifyComplete(){this.destination.complete()}}function rr(n,t){if(t.closed)return;if(n instanceof ni)return n.subscribe(t);let e;try{e=Jf(n)(t)}catch(i){t.error(i)}return e}function Yn(n,t,e=Number.POSITIVE_INFINITY){return"function"==typeof t?i=>i.pipe(Yn((s,l)=>$n(n(s,l)).pipe(It((p,h)=>t(s,p,l,h))),e)):("number"==typeof t&&(e=t),i=>i.lift(new qD(n,e)))}class qD{constructor(t,e=Number.POSITIVE_INFINITY){this.project=t,this.concurrent=e}call(t,e){return e.subscribe(new ZD(t,this.project,this.concurrent))}}class ZD extends Fr{constructor(t,e,i=Number.POSITIVE_INFINITY){super(t),this.project=e,this.concurrent=i,this.hasCompleted=!1,this.buffer=[],this.active=0,this.index=0}_next(t){this.active<this.concurrent?this._tryNext(t):this.buffer.push(t)}_tryNext(t){let e;const i=this.index++;try{e=this.project(t,i)}catch(s){return void this.destination.error(s)}this.active++,this._innerSub(e)}_innerSub(t){const e=new Kl(this),i=this.destination;i.add(e);const s=rr(t,e);s!==e&&i.add(s)}_complete(){this.hasCompleted=!0,0===this.active&&0===this.buffer.length&&this.destination.complete(),this.unsubscribe()}notifyNext(t){this.destination.next(t)}notifyComplete(){const t=this.buffer;this.active--,t.length>0?this._next(t.shift()):0===this.active&&this.hasCompleted&&this.destination.complete()}}function ya(n=Number.POSITIVE_INFINITY){return Yn(Jt,n)}function Xl(n,t){return t?Dc(n,t):new ni(va(n))}function eg(){return function(t){return t.lift(new JD(t))}}class JD{constructor(t){this.connectable=t}call(t,e){const{connectable:i}=this;i._refCount++;const s=new eS(t,i),l=e.subscribe(s);return s.closed||(s.connection=i.connect()),l}}class eS extends Ci{constructor(t,e){super(t),this.connectable=e}_unsubscribe(){const{connectable:t}=this;if(!t)return void(this.connection=null);this.connectable=null;const e=t._refCount;if(e<=0)return void(this.connection=null);if(t._refCount=e-1,e>1)return void(this.connection=null);const{connection:i}=this,s=t._connection;this.connection=null,s&&(!i||s===i)&&s.unsubscribe()}}class tg extends ni{constructor(t,e){super(),this.source=t,this.subjectFactory=e,this._refCount=0,this._isComplete=!1}_subscribe(t){return this.getSubject().subscribe(t)}getSubject(){const t=this._subject;return(!t||t.isStopped)&&(this._subject=this.subjectFactory()),this._subject}connect(){let t=this._connection;return t||(this._isComplete=!1,t=this._connection=new ji,t.add(this.source.subscribe(new _p(this.getSubject(),this))),t.closed&&(this._connection=null,t=ji.EMPTY)),t}refCount(){return eg()(this)}}const Mi=(()=>{const n=tg.prototype;return{operator:{value:null},_refCount:{value:0,writable:!0},_subject:{value:null,writable:!0},_connection:{value:null,writable:!0},_subscribe:{value:n._subscribe},_isComplete:{value:n._isComplete,writable:!0},getSubject:{value:n.getSubject},connect:{value:n.connect},refCount:{value:n.refCount}}})();class _p extends Cc{constructor(t,e){super(t),this.connectable=e}_error(t){this._unsubscribe(),super._error(t)}_complete(){this.connectable._isComplete=!0,this._unsubscribe(),super._complete()}_unsubscribe(){const t=this.connectable;if(t){this.connectable=null;const e=t._connection;t._refCount=0,t._subject=null,t._connection=null,e&&e.unsubscribe()}}}function rg(){return new Qi}function qt(n){for(let t in n)if(n[t]===qt)return t;throw Error("Could not find renamed property on target object.")}function Ct(n){if("string"==typeof n)return n;if(Array.isArray(n))return"["+n.map(Ct).join(", ")+"]";if(null==n)return""+n;if(n.overriddenName)return`${n.overriddenName}`;if(n.name)return`${n.name}`;const t=n.toString();if(null==t)return""+t;const e=t.indexOf("\n");return-1===e?t:t.substring(0,e)}function sg(n,t){return null==n||""===n?null===t?"":t:null==t||""===t?n:n+" "+t}const t_=qt({__forward_ref__:qt});function $t(n){return n.__forward_ref__=$t,n.toString=function(){return Ct(this())},n}function Ye(n){return function(n){return"function"==typeof n&&n.hasOwnProperty(t_)&&n.__forward_ref__===$t}(n)?n():n}class ye extends Error{constructor(t,e){super(function(n,t){return`${n?`NG0${n}: `:""}${t}`}(t,e)),this.code=t}}function F(n){return"string"==typeof n?n:null==n?"":String(n)}function et(n){return"function"==typeof n?n.name||n.toString():"object"==typeof n&&null!=n&&"function"==typeof n.type?n.type.name||n.type.toString():F(n)}function Sc(n,t){const e=t?` in ${t}`:"";throw new ye("201",`No provider for ${et(n)} found${e}`)}function Cr(n,t){null==n&&function(n,t,e,i){throw new Error(`ASSERTION ERROR: ${n}`+(null==i?"":` [Expected=> ${e} ${i} ${t} <=Actual]`))}(t,n,null,"!=")}function Xe(n){return{token:n.token,providedIn:n.providedIn||null,factory:n.factory,value:void 0}}function Vt(n){return{providers:n.providers||[],imports:n.imports||[]}}function Zo(n){return a_(n,_a)||a_(n,c_)}function a_(n,t){return n.hasOwnProperty(t)?n[t]:null}function u_(n){return n&&(n.hasOwnProperty(he)||n.hasOwnProperty(ug))?n[he]:null}const _a=qt({\u0275prov:qt}),he=qt({\u0275inj:qt}),c_=qt({ngInjectableDef:qt}),ug=qt({ngInjectorDef:qt});var qe=(()=>((qe=qe||{})[qe.Default=0]="Default",qe[qe.Host=1]="Host",qe[qe.Self=2]="Self",qe[qe.SkipSelf=4]="SkipSelf",qe[qe.Optional=8]="Optional",qe))();let bp;function Qo(n){const t=bp;return bp=n,t}function d_(n,t,e){const i=Zo(n);return i&&"root"==i.providedIn?void 0===i.value?i.value=i.factory():i.value:e&qe.Optional?null:void 0!==t?t:void Sc(Ct(n),"Injector")}function ba(n){return{toString:n}.toString()}var Zr=(()=>((Zr=Zr||{})[Zr.OnPush=0]="OnPush",Zr[Zr.Default=1]="Default",Zr))(),mn=(()=>((mn=mn||{})[mn.Emulated=0]="Emulated",mn[mn.None=2]="None",mn[mn.ShadowDom=3]="ShadowDom",mn))();const h_="undefined"!=typeof globalThis&&globalThis,No="undefined"!=typeof window&&window,cg="undefined"!=typeof self&&"undefined"!=typeof WorkerGlobalScope&&self instanceof WorkerGlobalScope&&self,oi=h_||"undefined"!=typeof global&&global||No||cg,Ql={},gi=[],Cp=qt({\u0275cmp:qt}),_n=qt({\u0275dir:qt}),dg=qt({\u0275pipe:qt}),g_=qt({\u0275mod:qt}),v_=qt({\u0275loc:qt}),Lo=qt({\u0275fac:qt}),Jl=qt({__NG_ELEMENT_ID__:qt});let wp=0;function Lr(n){return ba(()=>{const e={},i={type:n.type,providersResolver:null,decls:n.decls,vars:n.vars,factory:null,template:n.template||null,consts:n.consts||null,ngContentSelectors:n.ngContentSelectors,hostBindings:n.hostBindings||null,hostVars:n.hostVars||0,hostAttrs:n.hostAttrs||null,contentQueries:n.contentQueries||null,declaredInputs:e,inputs:null,outputs:null,exportAs:n.exportAs||null,onPush:n.changeDetection===Zr.OnPush,directiveDefs:null,pipeDefs:null,selectors:n.selectors||gi,viewQuery:n.viewQuery||null,features:n.features||null,data:n.data||{},encapsulation:n.encapsulation||mn.Emulated,id:"c",styles:n.styles||gi,_:null,setInput:null,schemas:n.schemas||null,tView:null},s=n.directives,l=n.features,p=n.pipes;return i.id+=wp++,i.inputs=__(n.inputs,e),i.outputs=__(n.outputs),l&&l.forEach(h=>h(i)),i.directiveDefs=s?()=>("function"==typeof s?s():s).map(y_):null,i.pipeDefs=p?()=>("function"==typeof p?p():p).map(m_):null,i})}function y_(n){return Dr(n)||function(n){return n[_n]||null}(n)}function m_(n){return function(n){return n[dg]||null}(n)}const Dp={};function si(n){return ba(()=>{const t={type:n.type,bootstrap:n.bootstrap||gi,declarations:n.declarations||gi,imports:n.imports||gi,exports:n.exports||gi,transitiveCompileScopes:null,schemas:n.schemas||null,id:n.id||null};return null!=n.id&&(Dp[n.id]=n.type),t})}function __(n,t){if(null==n)return Ql;const e={};for(const i in n)if(n.hasOwnProperty(i)){let s=n[i],l=s;Array.isArray(s)&&(l=s[1],s=s[0]),e[s]=i,t&&(t[s]=l)}return e}const Re=Lr;function Dr(n){return n[Cp]||null}function vo(n,t){const e=n[g_]||null;if(!e&&!0===t)throw new Error(`Type ${Ct(n)} does not have '\u0275mod' property.`);return e}function es(n){return Array.isArray(n)&&"object"==typeof n[1]}function yo(n){return Array.isArray(n)&&!0===n[1]}function Ep(n){return 0!=(8&n.flags)}function xp(n){return 2==(2&n.flags)}function Me(n){return null!==n.template}function Xn(n){return 0!=(512&n[2])}function cl(n,t){return n.hasOwnProperty(Lo)?n[Lo]:null}class Ap{constructor(t,e,i){this.previousValue=t,this.currentValue=e,this.firstChange=i}isFirstChange(){return this.firstChange}}function Ip(n){return n.type.prototype.ngOnChanges&&(n.setInput=D_),vg}function vg(){const n=Mp(this),t=null==n?void 0:n.current;if(t){const e=n.previous;if(e===Ql)n.previous=t;else for(let i in t)e[i]=t[i];n.current=null,this.ngOnChanges(t)}}function D_(n,t,e,i){const s=Mp(n)||function(n,t){return n[S_]=t}(n,{previous:Ql,current:null}),l=s.current||(s.current={}),p=s.previous,h=this.declaredInputs[e],g=p[h];l[h]=new Ap(g&&g.currentValue,t,p===Ql),n[i]=t}const S_="__ngSimpleChanges__";function Mp(n){return n[S_]||null}let Ic;function Ui(n){return!!n.listen}const O_={createRenderer:(n,t)=>void 0!==Ic?Ic:"undefined"!=typeof document?document:void 0};function tn(n){for(;Array.isArray(n);)n=n[0];return n}function _o(n,t){return tn(t[n.index])}function _g(n,t){return n.data[t]}function ci(n,t){const e=t[n];return es(e)?e:e[0]}function dl(n){return 4==(4&n[2])}function Vp(n){return 128==(128&n[2])}function Hs(n,t){return null==t?null:n[t]}function P_(n){n[18]=0}function kp(n,t){n[5]+=t;let e=n,i=n[3];for(;null!==i&&(1===t&&1===e[5]||-1===t&&0===e[5]);)i[5]+=t,e=i,i=i[3]}const at={lFrame:Nc(null),bindingsEnabled:!0,isInCheckNoChangesMode:!1};function su(){return at.bindingsEnabled}function fe(){return at.lFrame.lView}function kt(){return at.lFrame.tView}function bn(){let n=Bp();for(;null!==n&&64===n.type;)n=n.parent;return n}function Bp(){return at.lFrame.currentTNode}function bo(n,t){const e=at.lFrame;e.currentTNode=n,e.isParent=t}function jp(){return at.lFrame.isParent}function Wp(){at.lFrame.isParent=!1}function Fc(){return at.isInCheckNoChangesMode}function Up(n){at.isInCheckNoChangesMode=n}function ns(n){const t=at.lFrame,e=t.bindingIndex;return t.bindingIndex=t.bindingIndex+n,e}function T_(n,t){const e=at.lFrame;e.bindingIndex=e.bindingRootIndex=n,zp(t)}function zp(n){at.lFrame.currentDirectiveIndex=n}function An(){return at.lFrame.currentQueryIndex}function Dg(n){at.lFrame.currentQueryIndex=n}function fS(n){const t=n[1];return 2===t.type?t.declTNode:1===t.type?n[6]:null}function A_(n,t,e){if(e&qe.SkipSelf){let s=t,l=n;for(;!(s=s.parent,null!==s||e&qe.Host||(s=fS(l),null===s||(l=l[15],10&s.type))););if(null===s)return!1;t=s,n=l}const i=at.lFrame=Sg();return i.currentTNode=t,i.lView=n,!0}function uu(n){const t=Sg(),e=n[1];at.lFrame=t,t.currentTNode=e.firstChild,t.lView=n,t.tView=e,t.contextLView=n,t.bindingIndex=e.bindingStartIndex,t.inI18n=!1}function Sg(){const n=at.lFrame,t=null===n?null:n.child;return null===t?Nc(n):t}function Nc(n){const t={currentTNode:null,isParent:!0,lView:null,tView:null,selectedIndex:-1,contextLView:null,elementDepthCount:0,currentNamespace:null,currentDirectiveIndex:-1,bindingRootIndex:-1,bindingIndex:-1,currentQueryIndex:0,parent:n,child:null,inI18n:!1};return null!==n&&(n.child=t),t}function Eg(){const n=at.lFrame;return at.lFrame=n.parent,n.currentTNode=null,n.lView=null,n}const I_=Eg;function $p(){const n=Eg();n.isParent=!0,n.tView=null,n.selectedIndex=-1,n.contextLView=null,n.elementDepthCount=0,n.currentDirectiveIndex=-1,n.currentNamespace=null,n.bindingRootIndex=-1,n.bindingIndex=-1,n.currentQueryIndex=0}function Zn(){return at.lFrame.selectedIndex}function Aa(n){at.lFrame.selectedIndex=n}function Ie(n,t){for(let e=t.directiveStart,i=t.directiveEnd;e<i;e++){const l=n.data[e].type.prototype,{ngAfterContentInit:p,ngAfterContentChecked:h,ngAfterViewInit:g,ngAfterViewChecked:v,ngOnDestroy:m}=l;p&&(n.contentHooks||(n.contentHooks=[])).push(-e,p),h&&((n.contentHooks||(n.contentHooks=[])).push(e,h),(n.contentCheckHooks||(n.contentCheckHooks=[])).push(e,h)),g&&(n.viewHooks||(n.viewHooks=[])).push(-e,g),v&&((n.viewHooks||(n.viewHooks=[])).push(e,v),(n.viewCheckHooks||(n.viewCheckHooks=[])).push(e,v)),null!=m&&(n.destroyHooks||(n.destroyHooks=[])).push(e,m)}}function rs(n,t,e){M_(n,t,3,e)}function Qn(n,t,e,i){(3&n[2])===e&&M_(n,t,e,i)}function Og(n,t){let e=n[2];(3&e)===t&&(e&=2047,e+=1,n[2]=e)}function M_(n,t,e,i){const l=null!=i?i:-1,p=t.length-1;let h=0;for(let g=void 0!==i?65535&n[18]:0;g<p;g++)if("number"==typeof t[g+1]){if(h=t[g],null!=i&&h>=i)break}else t[g]<0&&(n[18]+=65536),(h<l||-1==l)&&(Pg(n,e,t,g),n[18]=(4294901760&n[18])+g+2),g++}function Pg(n,t,e,i){const s=e[i]<0,l=e[i+1],h=n[s?-e[i]:e[i]];if(s){if(n[2]>>11<n[18]>>16&&(3&n[2])===t){n[2]+=2048;try{l.call(h)}finally{}}}else try{l.call(h)}finally{}}class ur{constructor(t,e,i){this.factory=t,this.resolving=!1,this.canSeeViewProviders=e,this.injectImpl=i}}function Yp(n,t,e){const i=Ui(n);let s=0;for(;s<e.length;){const l=e[s];if("number"==typeof l){if(0!==l)break;s++;const p=e[s++],h=e[s++],g=e[s++];i?n.setAttribute(t,h,g,p):t.setAttributeNS(p,h,g)}else{const p=l,h=e[++s];Ag(p)?i&&n.setProperty(t,p,h):i?n.setAttribute(t,p,h):t.setAttribute(p,h),s++}}return s}function F_(n){return 3===n||4===n||6===n}function Ag(n){return 64===n.charCodeAt(0)}function Lc(n,t){if(null!==t&&0!==t.length)if(null===n||0===n.length)n=t.slice();else{let e=-1;for(let i=0;i<t.length;i++){const s=t[i];"number"==typeof s?e=s:0===e||N_(n,e,s,null,-1===e||2===e?t[++i]:null)}}return n}function N_(n,t,e,i,s){let l=0,p=n.length;if(-1===t)p=-1;else for(;l<n.length;){const h=n[l++];if("number"==typeof h){if(h===t){p=-1;break}if(h>t){p=l-1;break}}}for(;l<n.length;){const h=n[l];if("number"==typeof h)break;if(h===e){if(null===i)return void(null!==s&&(n[l+1]=s));if(i===n[l+1])return void(n[l+2]=s)}l++,null!==i&&l++,null!==s&&l++}-1!==p&&(n.splice(p,0,t),l=p+1),n.splice(l++,0,e),null!==i&&n.splice(l++,0,i),null!==s&&n.splice(l++,0,s)}function Ig(n){return-1!==n}function Ia(n){return 32767&n}function cu(n,t){let e=function(n){return n>>16}(n),i=t;for(;e>0;)i=i[15],e--;return i}let me=!0;function Kp(n){const t=me;return me=n,t}let SS=0;function Bs(n,t){const e=Ng(n,t);if(-1!==e)return e;const i=t[1];i.firstCreatePass&&(n.injectorIndex=t.length,Fg(i.data,n),Fg(t,null),Fg(i.blueprint,null));const s=du(n,t),l=n.injectorIndex;if(Ig(s)){const p=Ia(s),h=cu(s,t),g=h[1].data;for(let v=0;v<8;v++)t[l+v]=h[p+v]|g[p+v]}return t[l+8]=s,l}function Fg(n,t){n.push(0,0,0,0,0,0,0,0,t)}function Ng(n,t){return-1===n.injectorIndex||n.parent&&n.parent.injectorIndex===n.injectorIndex||null===t[n.injectorIndex+8]?-1:n.injectorIndex}function du(n,t){if(n.parent&&-1!==n.parent.injectorIndex)return n.parent.injectorIndex;let e=0,i=null,s=t;for(;null!==s;){const l=s[1],p=l.type;if(i=2===p?l.declTNode:1===p?s[6]:null,null===i)return-1;if(e++,s=s[15],-1!==i.injectorIndex)return i.injectorIndex|e<<16}return-1}function Xp(n,t,e){!function(n,t,e){let i;"string"==typeof e?i=e.charCodeAt(0)||0:e.hasOwnProperty(Jl)&&(i=e[Jl]),null==i&&(i=e[Jl]=SS++);const s=255&i;t.data[n+(s>>5)]|=1<<s}(n,t,e)}function G_(n,t,e){if(e&qe.Optional)return n;Sc(t,"NodeInjector")}function Vc(n,t,e,i){if(e&qe.Optional&&void 0===i&&(i=null),0==(e&(qe.Self|qe.Host))){const s=n[9],l=Qo(void 0);try{return s?s.get(t,i,e&qe.Optional):d_(t,i,e&qe.Optional)}finally{Qo(l)}}return G_(i,t,e)}function Lg(n,t,e,i=qe.Default,s){if(null!==n){const l=function(n){if("string"==typeof n)return n.charCodeAt(0)||0;const t=n.hasOwnProperty(Jl)?n[Jl]:void 0;return"number"==typeof t?t>=0?255&t:ES:t}(e);if("function"==typeof l){if(!A_(t,n,i))return i&qe.Host?G_(s,e,i):Vc(t,e,i,s);try{const p=l(i);if(null!=p||i&qe.Optional)return p;Sc(e)}finally{I_()}}else if("number"==typeof l){let p=null,h=Ng(n,t),g=-1,v=i&qe.Host?t[16][6]:null;for((-1===h||i&qe.SkipSelf)&&(g=-1===h?du(n,t):t[h+8],-1!==g&&Zp(i,!1)?(p=t[1],h=Ia(g),t=cu(g,t)):h=-1);-1!==h;){const m=t[1];if(j_(l,h,m.data)){const _=B_(h,t,e,p,i,v);if(_!==H_)return _}g=t[h+8],-1!==g&&Zp(i,t[1].data[h+8]===v)&&j_(l,h,t)?(p=m,h=Ia(g),t=cu(g,t)):h=-1}}}return Vc(t,e,i,s)}const H_={};function ES(){return new Gr(bn(),fe())}function B_(n,t,e,i,s,l){const p=t[1],h=p.data[n+8],m=qp(h,p,e,null==i?xp(h)&&me:i!=p&&0!=(3&h.type),s&qe.Host&&l===h);return null!==m?pu(t,p,m,h):H_}function qp(n,t,e,i,s){const l=n.providerIndexes,p=t.data,h=1048575&l,g=n.directiveStart,m=l>>20,b=s?h+m:n.directiveEnd;for(let C=i?h:h+m;C<b;C++){const S=p[C];if(C<g&&e===S||C>=g&&S.type===e)return C}if(s){const C=p[g];if(C&&Me(C)&&C.type===e)return g}return null}function pu(n,t,e,i){let s=n[e];const l=t.data;if(function(n){return n instanceof ur}(s)){const p=s;p.resolving&&function(n,t){throw new ye("200",`Circular dependency in DI detected for ${n}`)}(et(l[e]));const h=Kp(p.canSeeViewProviders);p.resolving=!0;const g=p.injectImpl?Qo(p.injectImpl):null;A_(n,i,qe.Default);try{s=n[e]=p.factory(void 0,l,n,i),t.firstCreatePass&&e>=i.directiveStart&&function(n,t,e){const{ngOnChanges:i,ngOnInit:s,ngDoCheck:l}=t.type.prototype;if(i){const p=Ip(t);(e.preOrderHooks||(e.preOrderHooks=[])).push(n,p),(e.preOrderCheckHooks||(e.preOrderCheckHooks=[])).push(n,p)}s&&(e.preOrderHooks||(e.preOrderHooks=[])).push(0-n,s),l&&((e.preOrderHooks||(e.preOrderHooks=[])).push(n,l),(e.preOrderCheckHooks||(e.preOrderCheckHooks=[])).push(n,l))}(e,l[e],t)}finally{null!==g&&Qo(g),Kp(h),p.resolving=!1,I_()}}return s}function j_(n,t,e){return!!(e[t+(n>>5)]&1<<n)}function Zp(n,t){return!(n&qe.Self||n&qe.Host&&t)}class Gr{constructor(t,e){this._tNode=t,this._lView=e}get(t,e,i){return Lg(this._tNode,this._lView,t,i,e)}}const hu="__parameters__",wn="__prop__metadata__";function Gc(n){return function(...e){if(n){const i=n(...e);for(const s in i)this[s]=i[s]}}}function ko(n,t,e){return ba(()=>{const i=Gc(t);function s(...l){if(this instanceof s)return i.apply(this,l),this;const p=new s(...l);return h.annotation=p,h;function h(g,v,m){const _=g.hasOwnProperty(hu)?g[hu]:Object.defineProperty(g,hu,{value:[]})[hu];for(;_.length<=m;)_.push(null);return(_[m]=_[m]||[]).push(p),g}}return e&&(s.prototype=Object.create(e.prototype)),s.prototype.ngMetadataName=n,s.annotationCls=s,s})}function Qp(n,t,e,i){return ba(()=>{const s=Gc(t);function l(...p){if(this instanceof l)return s.apply(this,p),this;const h=new l(...p);return function(v,m){const _=v.constructor,b=_.hasOwnProperty(wn)?_[wn]:Object.defineProperty(_,wn,{value:{}})[wn];b[m]=b.hasOwnProperty(m)&&b[m]||[],b[m].unshift(h),i&&i(v,m,...p)}}return e&&(l.prototype=Object.create(e.prototype)),l.prototype.ngMetadataName=n,l.annotationCls=l,l})}class Pt{constructor(t,e){this._desc=t,this.ngMetadataName="InjectionToken",this.\u0275prov=void 0,"number"==typeof e?this.__NG_ELEMENT_ID__=e:void 0!==e&&(this.\u0275prov=Xe({token:this,providedIn:e.providedIn||"root",factory:e.factory}))}toString(){return`InjectionToken ${this._desc}`}}const Hc=new Pt("AnalyzeForEntryComponents");class OS{}const z_=Qp("ContentChildren",(n,t={})=>Object.assign({selector:n,first:!1,isViewQuery:!1,descendants:!1,emitDistinctChangesOnly:!0},t),OS),Jp=Function;function $i(n,t){void 0===t&&(t=n);for(let e=0;e<n.length;e++){let i=n[e];Array.isArray(i)?(t===n&&(t=n.slice(0,e)),$i(i,t)):t!==n&&t.push(i)}return t}function as(n,t){n.forEach(e=>Array.isArray(e)?as(e,t):t(e))}function eo(n,t,e){t>=n.length?n.push(e):n.splice(t,0,e)}function fl(n,t){return t>=n.length-1?n.pop():n.splice(t,1)[0]}function Ma(n,t){const e=[];for(let i=0;i<n;i++)e.push(t);return e}function Hr(n,t,e){let i=gl(n,t);return i>=0?n[1|i]=e:(i=~i,function(n,t,e,i){let s=n.length;if(s==t)n.push(e,i);else if(1===s)n.push(i,n[0]),n[0]=e;else{for(s--,n.push(n[s-1],n[s]);s>t;)n[s]=n[s-2],s--;n[t]=e,n[t+1]=i}}(n,i,t,e)),i}function jg(n,t){const e=gl(n,t);if(e>=0)return n[1|e]}function gl(n,t){return function(n,t,e){let i=0,s=n.length>>e;for(;s!==i;){const l=i+(s-i>>1),p=n[l<<e];if(t===p)return l<<e;p>t?s=l:i=l+1}return~(s<<e)}(n,t,1)}const Wc={},rh="__NG_DI_FLAG__",gu="ngTempTokenPath",J_=/\n/gm,Ug="__source",Uc=qt({provide:String,useValue:qt});let zc;function wo(n){const t=zc;return zc=n,t}function Er(n,t=qe.Default){if(void 0===zc)throw new Error("inject() must be called from an injection context");return null===zc?d_(n,void 0,t):zc.get(n,t&qe.Optional?null:void 0,t)}function Se(n,t=qe.Default){return(bp||Er)(Ye(n),t)}function Fa(n){const t=[];for(let e=0;e<n.length;e++){const i=Ye(n[e]);if(Array.isArray(i)){if(0===i.length)throw new Error("Arguments array must have arguments.");let s,l=qe.Default;for(let p=0;p<i.length;p++){const h=i[p],g=NS(h);"number"==typeof g?-1===g?s=h.token:l|=g:s=h}t.push(Se(s,l))}else t.push(Se(i))}return t}function $c(n,t){return n[rh]=t,n.prototype[rh]=t,n}function NS(n){return n[rh]}function eb(n,t,e,i){const s=n[gu];throw t[Ug]&&s.unshift(t[Ug]),n.message=function(n,t,e,i=null){n=n&&"\n"===n.charAt(0)&&"\u0275"==n.charAt(1)?n.substr(2):n;let s=Ct(t);if(Array.isArray(t))s=t.map(Ct).join(" -> ");else if("object"==typeof t){let l=[];for(let p in t)if(t.hasOwnProperty(p)){let h=t[p];l.push(p+":"+("string"==typeof h?JSON.stringify(h):Ct(h)))}s=`{${l.join(", ")}}`}return`${e}${i?"("+i+")":""}[${s}]: ${n.replace(J_,"\n  ")}`}("\n"+n.message,s,e,i),n.ngTokenPath=s,n[gu]=null,n}const vl=$c(ko("Inject",n=>({token:n})),-1),Br=$c(ko("Optional"),8),ls=$c(ko("SkipSelf"),4);function to(n){return n instanceof class{constructor(t){this.changingThisBreaksApplicationSecurity=t}toString(){return`SafeValue must use [property]=binding: ${this.changingThisBreaksApplicationSecurity} (see https://g.co/ng/security#xss)`}}?n.changingThisBreaksApplicationSecurity:n}const bb="__ngContext__";function cr(n,t){n[bb]=t}function Sn(n){const t=function(n){return n[bb]||null}(n);return t?Array.isArray(t)?t:t.lView:null}function gh(n){return n.ngOriginalError}function vh(n,...t){n.error(...t)}class Va{constructor(){this._console=console}handleError(t){const e=this._findOriginalError(t),i=this._findContext(t),s=function(n){return n&&n.ngErrorLogger||vh}(t);s(this._console,"ERROR",t),e&&s(this._console,"ORIGINAL ERROR",e),i&&s(this._console,"ERROR CONTEXT",i)}_findContext(t){return t?function(n){return n.ngDebugContext}(t)||this._findContext(gh(t)):null}_findOriginalError(t){let e=t&&gh(t);for(;e&&gh(e);)e=gh(e);return e||null}}const Cu=(()=>("undefined"!=typeof requestAnimationFrame&&requestAnimationFrame||setTimeout).bind(oi))();function jr(n){return n instanceof Function?n():n}var Jn=(()=>((Jn=Jn||{})[Jn.Important=1]="Important",Jn[Jn.DashCase=2]="DashCase",Jn))();function lv(n,t){return undefined(n,t)}function nd(n){const t=n[3];return yo(t)?t[3]:t}function cv(n){return dv(n[13])}function zs(n){return dv(n[4])}function dv(n){for(;null!==n&&!yo(n);)n=n[4];return n}function Du(n,t,e,i,s){if(null!=i){let l,p=!1;yo(i)?l=i:es(i)&&(p=!0,i=i[0]);const h=tn(i);0===n&&null!==e?null==s?kb(t,e,h):Ga(t,e,h,s||null,!0):1===n&&null!==e?Ga(t,e,h,s||null,!0):2===n?function(n,t,e){const i=bl(n,t);i&&function(n,t,e,i){Ui(n)?n.removeChild(t,e,i):t.removeChild(e)}(n,i,t,e)}(t,h,p):3===n&&t.destroyNode(h),null!=l&&function(n,t,e,i,s){const l=e[7];l!==tn(e)&&Du(t,n,i,l,s);for(let h=10;h<e.length;h++){const g=e[h];Or(g[1],g,n,t,i,l)}}(t,n,l,e,s)}}function ka(n,t,e){return Ui(n)?n.createElement(t,e):null===e?n.createElement(t):n.createElementNS(e,t)}function Nb(n,t){const e=n[9],i=e.indexOf(t),s=t[3];1024&t[2]&&(t[2]&=-1025,kp(s,-1)),e.splice(i,1)}function od(n,t){if(n.length<=10)return;const e=10+t,i=n[e];if(i){const s=i[17];null!==s&&s!==n&&Nb(s,i),t>0&&(n[e-1][4]=i[4]);const l=fl(n,10+t);!function(n,t){Or(n,t,t[11],2,null,null),t[0]=null,t[6]=null}(i[1],i);const p=l[19];null!==p&&p.detachView(l[1]),i[3]=null,i[4]=null,i[2]&=-129}return i}function Lb(n,t){if(!(256&t[2])){const e=t[11];Ui(e)&&e.destroyNode&&Or(n,t,e,3,null,null),function(n){let t=n[13];if(!t)return pv(n[1],n);for(;t;){let e=null;if(es(t))e=t[13];else{const i=t[10];i&&(e=i)}if(!e){for(;t&&!t[4]&&t!==n;)es(t)&&pv(t[1],t),t=t[3];null===t&&(t=n),es(t)&&pv(t[1],t),e=t&&t[4]}t=e}}(t)}}function pv(n,t){if(!(256&t[2])){t[2]&=-129,t[2]|=256,function(n,t){let e;if(null!=n&&null!=(e=n.destroyHooks))for(let i=0;i<e.length;i+=2){const s=t[e[i]];if(!(s instanceof ur)){const l=e[i+1];if(Array.isArray(l))for(let p=0;p<l.length;p+=2){const h=s[l[p]],g=l[p+1];try{g.call(h)}finally{}}else try{l.call(s)}finally{}}}}(n,t),function(n,t){const e=n.cleanup,i=t[7];let s=-1;if(null!==e)for(let l=0;l<e.length-1;l+=2)if("string"==typeof e[l]){const p=e[l+1],h="function"==typeof p?p(t):tn(t[p]),g=i[s=e[l+2]],v=e[l+3];"boolean"==typeof v?h.removeEventListener(e[l],g,v):v>=0?i[s=v]():i[s=-v].unsubscribe(),l+=2}else{const p=i[s=e[l+1]];e[l].call(p)}if(null!==i){for(let l=s+1;l<i.length;l++)i[l]();t[7]=null}}(n,t),1===t[1].type&&Ui(t[11])&&t[11].destroy();const e=t[17];if(null!==e&&yo(t[3])){e!==t[3]&&Nb(e,t);const i=t[19];null!==i&&i.detachView(n)}}}function Vb(n,t,e){return function(n,t,e){let i=t;for(;null!==i&&40&i.type;)i=(t=i).parent;if(null===i)return e[0];if(2&i.flags){const s=n.data[i.directiveStart].encapsulation;if(s===mn.None||s===mn.Emulated)return null}return _o(i,e)}(n,t.parent,e)}function Ga(n,t,e,i,s){Ui(n)?n.insertBefore(t,e,i,s):t.insertBefore(e,i,s)}function kb(n,t,e){Ui(n)?n.appendChild(t,e):t.appendChild(e)}function hv(n,t,e,i,s){null!==i?Ga(n,t,e,i,s):kb(n,t,e)}function bl(n,t){return Ui(n)?n.parentNode(t):t.parentNode}function Su(n,t,e){return fv(n,t,e)}let fv=function(n,t,e){return 40&n.type?_o(n,e):null};function Cl(n,t,e,i){const s=Vb(n,i,t),l=t[11],h=Su(i.parent||t[6],i,t);if(null!=s)if(Array.isArray(e))for(let g=0;g<e.length;g++)hv(l,s,e[g],h,!1);else hv(l,s,e,h,!1)}function Ch(n,t){if(null!==t){const e=t.type;if(3&e)return _o(t,n);if(4&e)return wh(-1,n[t.index]);if(8&e){const i=t.child;if(null!==i)return Ch(n,i);{const s=n[t.index];return yo(s)?wh(-1,s):tn(s)}}if(32&e)return lv(t,n)()||tn(n[t.index]);{const i=Hb(n,t);return null!==i?Array.isArray(i)?i[0]:Ch(nd(n[16]),i):Ch(n,t.next)}}return null}function Hb(n,t){return null!==t?n[16][6].projection[t.projection]:null}function wh(n,t){const e=10+n+1;if(e<t.length){const i=t[e],s=i[1].firstChild;if(null!==s)return Ch(i,s)}return t[7]}function Eu(n,t,e,i,s,l,p){for(;null!=e;){const h=i[e.index],g=e.type;if(p&&0===t&&(h&&cr(tn(h),i),e.flags|=4),64!=(64&e.flags))if(8&g)Eu(n,t,e.child,i,s,l,!1),Du(t,n,s,h,l);else if(32&g){const v=lv(e,i);let m;for(;m=v();)Du(t,n,s,m,l);Du(t,n,s,h,l)}else 16&g?Wb(n,t,i,e,s,l):Du(t,n,s,h,l);e=p?e.projectionNext:e.next}}function Or(n,t,e,i,s,l){Eu(e,i,n.firstChild,t,s,l,!1)}function Wb(n,t,e,i,s,l){const p=e[16],g=p[6].projection[i.projection];if(Array.isArray(g))for(let v=0;v<g.length;v++)Du(t,n,s,g[v],l);else Eu(n,t,g,p[3],s,l,!0)}function zb(n,t,e){Ui(n)?n.setAttribute(t,"style",e):t.style.cssText=e}function Dh(n,t,e){Ui(n)?""===e?n.removeAttribute(t,"class"):n.setAttribute(t,"class",e):t.className=e}function Sh(n,t,e){let i=n.length;for(;;){const s=n.indexOf(t,e);if(-1===s)return s;if(0===s||n.charCodeAt(s-1)<=32){const l=t.length;if(s+l===i||n.charCodeAt(s+l)<=32)return s}e=s+1}}const Go="ng-template";function DE(n,t,e){let i=0;for(;i<n.length;){let s=n[i++];if(e&&"class"===s){if(s=n[i],-1!==Sh(s.toLowerCase(),t,0))return!0}else if(1===s){for(;i<n.length&&"string"==typeof(s=n[i++]);)if(s.toLowerCase()===t)return!0;return!1}}return!1}function vv(n){return 4===n.type&&n.value!==Go}function SE(n,t,e){return t===(4!==n.type||e?n.value:Go)}function yv(n,t,e){let i=4;const s=n.attrs||[],l=function(n){for(let t=0;t<n.length;t++)if(F_(n[t]))return t;return n.length}(s);let p=!1;for(let h=0;h<t.length;h++){const g=t[h];if("number"!=typeof g){if(!p)if(4&i){if(i=2|1&i,""!==g&&!SE(n,g,e)||""===g&&1===t.length){if(sn(i))return!1;p=!0}}else{const v=8&i?g:t[++h];if(8&i&&null!==n.attrs){if(!DE(n.attrs,v,e)){if(sn(i))return!1;p=!0}continue}const _=$b(8&i?"class":g,s,vv(n),e);if(-1===_){if(sn(i))return!1;p=!0;continue}if(""!==v){let b;b=_>l?"":s[_+1].toLowerCase();const C=8&i?b:null;if(C&&-1!==Sh(C,v,0)||2&i&&v!==b){if(sn(i))return!1;p=!0}}}}else{if(!p&&!sn(i)&&!sn(g))return!1;if(p&&sn(g))continue;p=!1,i=g|1&i}}return sn(i)||p}function sn(n){return 0==(1&n)}function $b(n,t,e,i){if(null===t)return-1;let s=0;if(i||!e){let l=!1;for(;s<t.length;){const p=t[s];if(p===n)return s;if(3===p||6===p)l=!0;else{if(1===p||2===p){let h=t[++s];for(;"string"==typeof h;)h=t[++s];continue}if(4===p)break;if(0===p){s+=4;continue}}s+=l?1:2}return-1}return function(n,t){let e=n.indexOf(4);if(e>-1)for(e++;e<n.length;){const i=n[e];if("number"==typeof i)return-1;if(i===t)return e;e++}return-1}(t,n)}function Yb(n,t,e=!1){for(let i=0;i<t.length;i++)if(yv(n,t[i],e))return!0;return!1}function Xb(n,t){e:for(let e=0;e<t.length;e++){const i=t[e];if(n.length===i.length){for(let s=0;s<n.length;s++)if(n[s]!==i[s])continue e;return!0}}return!1}function mv(n,t){return n?":not("+t.trim()+")":t}function qb(n){let t=n[0],e=1,i=2,s="",l=!1;for(;e<n.length;){let p=n[e];if("string"==typeof p)if(2&i){const h=n[++e];s+="["+p+(h.length>0?'="'+h+'"':"")+"]"}else 8&i?s+="."+p:4&i&&(s+=" "+p);else""!==s&&!sn(p)&&(t+=mv(l,s),s=""),i=p,l=l||!sn(i);e++}return""!==s&&(t+=mv(l,s)),t}const ut={};function Eh(n,t){return n<<17|t<<2}function Ho(n){return n>>17&32767}function bv(n){return 2|n}function hs(n){return(131068&n)>>2}function Cv(n,t){return-131069&n|t<<2}function xh(n){return 1|n}function Mh(n,t){const e=n.contentQueries;if(null!==e)for(let i=0;i<e.length;i+=2){const s=e[i],l=e[i+1];if(-1!==l){const p=n.data[l];Dg(s),p.contentQueries(2,t[l],l)}}}function So(n,t,e,i,s,l,p,h,g,v){const m=t.blueprint.slice();return m[0]=s,m[2]=140|i,P_(m),m[3]=m[15]=n,m[8]=e,m[10]=p||n&&n[10],m[11]=h||n&&n[11],m[12]=g||n&&n[12]||null,m[9]=v||n&&n[9]||null,m[6]=l,m[16]=2==t.type?n[16]:m,m}function Sl(n,t,e,i,s){let l=n.data[t];if(null===l)l=function(n,t,e,i,s){const l=Bp(),p=jp(),g=n.data[t]=function(n,t,e,i,s,l){return{type:e,index:i,insertBeforeIndex:null,injectorIndex:t?t.injectorIndex:-1,directiveStart:-1,directiveEnd:-1,directiveStylingLast:-1,propertyBindings:null,flags:0,providerIndexes:0,value:s,attrs:l,mergedAttrs:null,localNames:null,initialInputs:void 0,inputs:null,outputs:null,tViews:null,next:null,projectionNext:null,child:null,parent:t,projection:null,styles:null,stylesWithoutHost:null,residualStyles:void 0,classes:null,classesWithoutHost:null,residualClasses:void 0,classBindings:0,styleBindings:0}}(0,p?l:l&&l.parent,e,t,i,s);return null===n.firstChild&&(n.firstChild=g),null!==l&&(p?null==l.child&&null!==g.parent&&(l.child=g):null===l.next&&(l.next=g)),g}(n,t,e,i,s),at.lFrame.inI18n&&(l.flags|=64);else if(64&l.type){l.type=e,l.value=i,l.attrs=s;const p=function(){const n=at.lFrame,t=n.currentTNode;return n.isParent?t:t.parent}();l.injectorIndex=null===p?-1:p.injectorIndex}return bo(l,!0),l}function El(n,t,e,i){if(0===e)return-1;const s=t.length;for(let l=0;l<e;l++)t.push(i),n.blueprint.push(i),n.data.push(null);return s}function Ou(n,t,e){uu(t);try{const i=n.viewQuery;null!==i&&Lv(1,i,e);const s=n.template;null!==s&&oC(n,t,s,1,e),n.firstCreatePass&&(n.firstCreatePass=!1),n.staticContentQueries&&Mh(n,t),n.staticViewQueries&&Lv(2,n.viewQuery,e);const l=n.components;null!==l&&function(n,t){for(let e=0;e<t.length;e++)YE(n,t[e])}(t,l)}catch(i){throw n.firstCreatePass&&(n.incompleteFirstPass=!0,n.firstCreatePass=!1),i}finally{t[2]&=-5,$p()}}function Pu(n,t,e,i){const s=t[2];if(256==(256&s))return;uu(t);const l=Fc();try{P_(t),function(n){at.lFrame.bindingIndex=n}(n.bindingStartIndex),null!==e&&oC(n,t,e,2,i);const p=3==(3&s);if(!l)if(p){const v=n.preOrderCheckHooks;null!==v&&rs(t,v,null)}else{const v=n.preOrderHooks;null!==v&&Qn(t,v,0,null),Og(t,0)}if(function(n){for(let t=cv(n);null!==t;t=zs(t)){if(!t[2])continue;const e=t[9];for(let i=0;i<e.length;i++){const s=e[i],l=s[3];0==(1024&s[2])&&kp(l,1),s[2]|=1024}}}(t),function(n){for(let t=cv(n);null!==t;t=zs(t))for(let e=10;e<t.length;e++){const i=t[e],s=i[1];Vp(i)&&Pu(s,i,s.template,i[8])}}(t),null!==n.contentQueries&&Mh(n,t),!l)if(p){const v=n.contentCheckHooks;null!==v&&rs(t,v)}else{const v=n.contentHooks;null!==v&&Qn(t,v,1),Og(t,1)}!function(n,t){const e=n.hostBindingOpCodes;if(null!==e)try{for(let i=0;i<e.length;i++){const s=e[i];if(s<0)Aa(~s);else{const l=s,p=e[++i],h=e[++i];T_(p,l),h(2,t[l])}}}finally{Aa(-1)}}(n,t);const h=n.components;null!==h&&function(n,t){for(let e=0;e<t.length;e++)bC(n,t[e])}(t,h);const g=n.viewQuery;if(null!==g&&Lv(2,g,i),!l)if(p){const v=n.viewCheckHooks;null!==v&&rs(t,v)}else{const v=n.viewHooks;null!==v&&Qn(t,v,2),Og(t,2)}!0===n.firstUpdatePass&&(n.firstUpdatePass=!1),l||(t[2]&=-73),1024&t[2]&&(t[2]&=-1025,kp(t[3],-1))}finally{$p()}}function xv(n,t,e,i){const s=t[10],l=!Fc(),p=dl(t);try{l&&!p&&s.begin&&s.begin(),p&&Ou(n,t,i),Pu(n,t,e,i)}finally{l&&!p&&s.end&&s.end()}}function oC(n,t,e,i,s){const l=Zn(),p=2&i;try{Aa(-1),p&&t.length>20&&function(n,t,e,i){if(!i)if(3==(3&t[2])){const l=n.preOrderCheckHooks;null!==l&&rs(t,l,e)}else{const l=n.preOrderHooks;null!==l&&Qn(t,l,0,e)}Aa(e)}(n,t,20,Fc()),e(i,s)}finally{Aa(l)}}function xl(n){const t=n.tView;return null===t||t.incompleteFirstPass?n.tView=ud(1,null,n.template,n.decls,n.vars,n.directiveDefs,n.pipeDefs,n.viewQuery,n.schemas,n.consts):t}function ud(n,t,e,i,s,l,p,h,g,v){const m=20+i,_=m+s,b=function(n,t){const e=[];for(let i=0;i<t;i++)e.push(i<n?null:ut);return e}(m,_),C="function"==typeof v?v():v;return b[1]={type:n,blueprint:b,template:e,queries:null,viewQuery:h,declTNode:t,data:b.slice().fill(null,m),bindingStartIndex:m,expandoStartIndex:_,hostBindingOpCodes:null,firstCreatePass:!0,firstUpdatePass:!0,staticViewQueries:!1,staticContentQueries:!1,preOrderHooks:null,preOrderCheckHooks:null,contentHooks:null,contentCheckHooks:null,viewHooks:null,viewCheckHooks:null,destroyHooks:null,cleanup:null,contentQueries:null,components:null,directiveRegistry:"function"==typeof l?l():l,pipeRegistry:"function"==typeof p?p():p,firstChild:null,schemas:g,consts:C,incompleteFirstPass:!1}}function Pv(n,t,e,i){const s=function(n){return n[7]||(n[7]=[])}(t);null===e?s.push(i):(s.push(e),n.firstCreatePass&&function(n){return n.cleanup||(n.cleanup=[])}(n).push(i,s.length-1))}function lC(n,t,e){for(let i in n)if(n.hasOwnProperty(i)){const s=n[i];(e=null===e?{}:e).hasOwnProperty(i)?e[i].push(t,s):e[i]=[t,s]}return e}function Rv(n,t,e,i,s,l){const p=l.hostBindings;if(p){let h=n.hostBindingOpCodes;null===h&&(h=n.hostBindingOpCodes=[]);const g=~t.index;(function(n){let t=n.length;for(;t>0;){const e=n[--t];if("number"==typeof e&&e<0)return e}return 0})(h)!=g&&h.push(g),h.push(i,s,p)}}function gC(n,t){null!==n.hostBindings&&n.hostBindings(1,t)}function vC(n,t){t.flags|=2,(n.components||(n.components=[])).push(t.index)}function Av(n,t,e){if(e){if(t.exportAs)for(let i=0;i<t.exportAs.length;i++)e[t.exportAs[i]]=n;Me(t)&&(e[""]=n)}}function yC(n,t,e){n.flags|=1,n.directiveStart=t,n.directiveEnd=t+e,n.providerIndexes=t}function mC(n,t,e,i,s){n.data[i]=s;const l=s.factory||(s.factory=cl(s.type)),p=new ur(l,Me(s),null);n.blueprint[i]=p,e[i]=p,Rv(n,t,0,i,El(n,e,s.hostVars,ut),s)}function Iv(n,t,e){const i=_o(t,n),s=xl(e),l=n[10],p=kh(n,So(n,s,null,e.onPush?64:16,i,t,l,l.createRenderer(i,e),null,null));n[t.index]=p}function vs(n,t,e,i,s,l){const p=_o(n,t);!function(n,t,e,i,s,l,p){if(null==l)Ui(n)?n.removeAttribute(t,s,e):t.removeAttribute(s);else{const h=null==p?F(l):p(l,i||"",s);Ui(n)?n.setAttribute(t,s,h,e):e?t.setAttributeNS(e,s,h):t.setAttribute(s,h)}}(t[11],p,l,n.value,e,i,s)}function pd(n,t,e,i,s,l){const p=l[t];if(null!==p){const h=i.setInput;for(let g=0;g<p.length;){const v=p[g++],m=p[g++],_=p[g++];null!==h?i.setInput(e,_,v,m):e[m]=_}}}function _C(n,t){let e=null,i=0;for(;i<t.length;){const s=t[i];if(0!==s)if(5!==s){if("number"==typeof s)break;n.hasOwnProperty(s)&&(null===e&&(e=[]),e.push(s,n[s],t[i+1])),i+=2}else i+=2;else i+=4}return e}function bC(n,t){const e=ci(t,n);if(Vp(e)){const i=e[1];80&e[2]?Pu(i,e,i.template,e[8]):e[5]>0&&Lh(e)}}function Lh(n){for(let i=cv(n);null!==i;i=zs(i))for(let s=10;s<i.length;s++){const l=i[s];if(1024&l[2]){const p=l[1];Pu(p,l,p.template,l[8])}else l[5]>0&&Lh(l)}const e=n[1].components;if(null!==e)for(let i=0;i<e.length;i++){const s=ci(e[i],n);Vp(s)&&s[5]>0&&Lh(s)}}function YE(n,t){const e=ci(t,n),i=e[1];(function(n,t){for(let e=t.length;e<n.blueprint.length;e++)t.push(n.blueprint[e])})(i,e),Ou(i,e,e[8])}function kh(n,t){return n[13]?n[14][4]=t:n[13]=t,n[14]=t,t}function Gh(n,t,e){const i=t[10];i.begin&&i.begin();try{Pu(n,t,n.template,e)}catch(s){throw function(n,t){const e=n[9],i=e?e.get(Va,null):null;i&&i.handleError(t)}(t,s),s}finally{i.end&&i.end()}}function CC(n){!function(n){for(let t=0;t<n.components.length;t++){const e=n.components[t],i=Sn(e),s=i[1];xv(s,i,s.template,e)}}(n[8])}function Lv(n,t,e){Dg(0),t(n,e)}const XE=(()=>Promise.resolve(null))();function jh(n,t,e){let i=e?n.styles:null,s=e?n.classes:null,l=0;if(null!==t)for(let p=0;p<t.length;p++){const h=t[p];"number"==typeof h?l=h:1==l?s=sg(s,h):2==l&&(i=sg(i,h+": "+t[++p]+";"))}e?n.styles=i:n.stylesWithoutHost=i,e?n.classes=s:n.classesWithoutHost=s}const Tu=new Pt("INJECTOR",-1);class Wh{get(t,e=Wc){if(e===Wc){const i=new Error(`NullInjectorError: No provider for ${Ct(t)}!`);throw i.name="NullInjectorError",i}return e}}const Au=new Pt("Set Injector scope."),gd={},Uh={};let dr;function kv(){return void 0===dr&&(dr=new Wh),dr}function vd(n,t=null,e=null,i){return new QE(n,e,t||kv(),i)}class QE{constructor(t,e,i,s=null){this.parent=i,this.records=new Map,this.injectorDefTypes=new Set,this.onDestroy=new Set,this._destroyed=!1;const l=[];e&&as(e,h=>this.processProvider(h,t,e)),as([t],h=>this.processInjectorType(h,[],l)),this.records.set(Tu,Iu(void 0,this));const p=this.records.get(Au);this.scope=null!=p?p.value:null,this.source=s||("object"==typeof t?null:Ct(t))}get destroyed(){return this._destroyed}destroy(){this.assertNotDestroyed(),this._destroyed=!0;try{this.onDestroy.forEach(t=>t.ngOnDestroy())}finally{this.records.clear(),this.onDestroy.clear(),this.injectorDefTypes.clear()}}get(t,e=Wc,i=qe.Default){this.assertNotDestroyed();const s=wo(this),l=Qo(void 0);try{if(!(i&qe.SkipSelf)){let h=this.records.get(t);if(void 0===h){const g=function(n){return"function"==typeof n||"object"==typeof n&&n instanceof Pt}(t)&&Zo(t);h=g&&this.injectableDefInScope(g)?Iu(Gv(t),gd):null,this.records.set(t,h)}if(null!=h)return this.hydrate(t,h)}return(i&qe.Self?kv():this.parent).get(t,e=i&qe.Optional&&e===Wc?null:e)}catch(p){if("NullInjectorError"===p.name){if((p[gu]=p[gu]||[]).unshift(Ct(t)),s)throw p;return eb(p,t,"R3InjectorError",this.source)}throw p}finally{Qo(l),wo(s)}}_resolveInjectorDefTypes(){this.injectorDefTypes.forEach(t=>this.get(t))}toString(){const t=[];return this.records.forEach((i,s)=>t.push(Ct(s))),`R3Injector[${t.join(", ")}]`}assertNotDestroyed(){if(this._destroyed)throw new Error("Injector has already been destroyed.")}processInjectorType(t,e,i){if(!(t=Ye(t)))return!1;let s=u_(t);const l=null==s&&t.ngModule||void 0,p=void 0===l?t:l,h=-1!==i.indexOf(p);if(void 0!==l&&(s=u_(l)),null==s)return!1;if(null!=s.imports&&!h){let m;i.push(p);try{as(s.imports,_=>{this.processInjectorType(_,e,i)&&(void 0===m&&(m=[]),m.push(_))})}finally{}if(void 0!==m)for(let _=0;_<m.length;_++){const{ngModule:b,providers:C}=m[_];as(C,S=>this.processProvider(S,b,C||gi))}}this.injectorDefTypes.add(p);const g=cl(p)||(()=>new p);this.records.set(p,Iu(g,gd));const v=s.providers;if(null!=v&&!h){const m=t;as(v,_=>this.processProvider(_,m,v))}return void 0!==l&&void 0!==t.providers}processProvider(t,e,i){let s=Mu(t=Ye(t))?t:Ye(t&&t.provide);const l=function(n,t,e){return so(n)?Iu(void 0,n.useValue):Iu(function(n,t,e){let i;if(Mu(n)){const s=Ye(n);return cl(s)||Gv(s)}if(so(n))i=()=>Ye(n.useValue);else if(function(n){return!(!n||!n.useFactory)}(n))i=()=>n.useFactory(...Fa(n.deps||[]));else if(function(n){return!(!n||!n.useExisting)}(n))i=()=>Se(Ye(n.useExisting));else{const s=Ye(n&&(n.useClass||n.provide));if(!function(n){return!!n.deps}(n))return cl(s)||Gv(s);i=()=>new s(...Fa(n.deps))}return i}(n),gd)}(t);if(Mu(t)||!0!==t.multi)this.records.get(s);else{let p=this.records.get(s);p||(p=Iu(void 0,gd,!0),p.factory=()=>Fa(p.multi),this.records.set(s,p)),s=t,p.multi.push(t)}this.records.set(s,l)}hydrate(t,e){return e.value===gd&&(e.value=Uh,e.value=e.factory()),"object"==typeof e.value&&e.value&&function(n){return null!==n&&"object"==typeof n&&"function"==typeof n.ngOnDestroy}(e.value)&&this.onDestroy.add(e.value),e.value}injectableDefInScope(t){if(!t.providedIn)return!1;const e=Ye(t.providedIn);return"string"==typeof e?"any"===e||e===this.scope:this.injectorDefTypes.has(e)}}function Gv(n){const t=Zo(n),e=null!==t?t.factory:cl(n);if(null!==e)return e;if(n instanceof Pt)throw new Error(`Token ${Ct(n)} is missing a \u0275prov definition.`);if(n instanceof Function)return function(n){const t=n.length;if(t>0){const i=Ma(t,"?");throw new Error(`Can't resolve all parameters for ${Ct(n)}: (${i.join(", ")}).`)}const e=function(n){const t=n&&(n[_a]||n[c_]);if(t){const e=function(n){if(n.hasOwnProperty("name"))return n.name;const t=(""+n).match(/^function\s*([^\s(]+)/);return null===t?"":t[1]}(n);return console.warn(`DEPRECATED: DI is instantiating a token "${e}" that inherits its @Injectable decorator but does not provide one itself.\nThis will become an error in a future version of Angular. Please add @Injectable() to the "${e}" class.`),t}return null}(n);return null!==e?()=>e.factory(n):()=>new n}(n);throw new Error("unreachable")}function Iu(n,t,e=!1){return{factory:n,value:t,multi:e?[]:void 0}}function so(n){return null!==n&&"object"==typeof n&&Uc in n}function Mu(n){return"function"==typeof n}const TC=function(n,t,e){return function(n,t=null,e=null,i){const s=vd(n,t,e,i);return s._resolveInjectorDefTypes(),s}({name:e},t,n,e)};let Et=(()=>{class n{static create(e,i){return Array.isArray(e)?TC(e,i,""):TC(e.providers,e.parent,e.name||"")}}return n.THROW_IF_NOT_FOUND=Wc,n.NULL=new Wh,n.\u0275prov=Xe({token:n,providedIn:"any",factory:()=>Se(Tu)}),n.__NG_ELEMENT_ID__=-1,n})();function hx(n,t){Ie(Sn(n)[1],bn())}let Vu=null;function ku(){if(!Vu){const n=oi.Symbol;if(n&&n.iterator)Vu=n.iterator;else{const t=Object.getOwnPropertyNames(Map.prototype);for(let e=0;e<t.length;++e){const i=t[e];"entries"!==i&&"size"!==i&&Map.prototype[i]===Map.prototype.entries&&(Vu=i)}}}return Vu}function bd(n){return!!Zh(n)&&(Array.isArray(n)||!(n instanceof Map)&&ku()in n)}function Zh(n){return null!==n&&("function"==typeof n||"object"==typeof n)}function pr(n,t,e){return!Object.is(n[t],e)&&(n[t]=e,!0)}function vi(n,t,e,i){const s=fe();return pr(s,at.lFrame.bindingIndex++,t)&&(kt(),vs(function(){const n=at.lFrame;return _g(n.tView,n.selectedIndex)}(),s,n,t,e,i)),vi}function te(n,t=qe.Default){const e=fe();return null===e?Se(n,t):Lg(bn(),e,Ye(n),t)}function dy(n,t,e,i,s){const p=s?"class":"style";!function(n,t,e,i,s){for(let l=0;l<e.length;){const p=e[l++],h=e[l++],g=t[p],v=n.data[p];null!==v.setInput?v.setInput(g,s,i,h):g[h]=s}}(n,e,t.inputs[p],p,i)}function Pe(n,t,e,i){const s=fe(),l=kt(),p=20+n,h=s[11],g=s[p]=ka(h,t,at.lFrame.currentNamespace),v=l.firstCreatePass?function(n,t,e,i,s,l,p){const h=t.consts,v=Sl(t,n,2,s,Hs(h,l));return function(n,t,e,i){let s=!1;if(su()){const l=function(n,t,e){const i=n.directiveRegistry;let s=null;if(i)for(let l=0;l<i.length;l++){const p=i[l];Yb(e,p.selectors,!1)&&(s||(s=[]),Xp(Bs(e,t),n,p.type),Me(p)?(vC(n,e),s.unshift(p)):s.push(p))}return s}(n,t,e),p=null===i?null:{"":-1};if(null!==l){s=!0,yC(e,n.data.length,l.length);for(let m=0;m<l.length;m++){const _=l[m];_.providersResolver&&_.providersResolver(_)}let h=!1,g=!1,v=El(n,t,l.length,null);for(let m=0;m<l.length;m++){const _=l[m];e.mergedAttrs=Lc(e.mergedAttrs,_.hostAttrs),mC(n,e,t,v,_),Av(v,_,p),null!==_.contentQueries&&(e.flags|=8),(null!==_.hostBindings||null!==_.hostAttrs||0!==_.hostVars)&&(e.flags|=128);const b=_.type.prototype;!h&&(b.ngOnChanges||b.ngOnInit||b.ngDoCheck)&&((n.preOrderHooks||(n.preOrderHooks=[])).push(e.index),h=!0),!g&&(b.ngOnChanges||b.ngDoCheck)&&((n.preOrderCheckHooks||(n.preOrderCheckHooks=[])).push(e.index),g=!0),v++}!function(n,t){const i=t.directiveEnd,s=n.data,l=t.attrs,p=[];let h=null,g=null;for(let v=t.directiveStart;v<i;v++){const m=s[v],_=m.inputs,b=null===l||vv(t)?null:_C(_,l);p.push(b),h=lC(_,v,h),g=lC(m.outputs,v,g)}null!==h&&(h.hasOwnProperty("class")&&(t.flags|=16),h.hasOwnProperty("style")&&(t.flags|=32)),t.initialInputs=p,t.inputs=h,t.outputs=g}(n,e)}p&&function(n,t,e){if(t){const i=n.localNames=[];for(let s=0;s<t.length;s+=2){const l=e[t[s+1]];if(null==l)throw new ye("301",`Export of name '${t[s+1]}' not found!`);i.push(t[s],l)}}}(e,i,p)}e.mergedAttrs=Lc(e.mergedAttrs,e.attrs)}(t,e,v,Hs(h,p)),null!==v.attrs&&jh(v,v.attrs,!1),null!==v.mergedAttrs&&jh(v,v.mergedAttrs,!0),null!==t.queries&&t.queries.elementStart(t,v),v}(p,l,s,0,t,e,i):l.data[p];bo(v,!0);const m=v.mergedAttrs;null!==m&&Yp(h,g,m);const _=v.classes;null!==_&&Dh(h,g,_);const b=v.styles;null!==b&&zb(h,g,b),64!=(64&v.flags)&&Cl(l,s,g,v),0===at.lFrame.elementDepthCount&&cr(g,s),at.lFrame.elementDepthCount++,function(n){return 1==(1&n.flags)}(v)&&(function(n,t,e){!su()||(function(n,t,e,i){const s=e.directiveStart,l=e.directiveEnd;n.firstCreatePass||Bs(e,t),cr(i,t);const p=e.initialInputs;for(let h=s;h<l;h++){const g=n.data[h],v=Me(g);v&&Iv(t,e,g);const m=pu(t,n,h,e);cr(m,t),null!==p&&pd(0,h-s,m,g,0,p),v&&(ci(e.index,t)[8]=m)}}(n,t,e,_o(e,t)),128==(128&e.flags)&&function(n,t,e){const i=e.directiveStart,s=e.directiveEnd,p=e.index,h=at.lFrame.currentDirectiveIndex;try{Aa(p);for(let g=i;g<s;g++){const v=n.data[g],m=t[g];zp(g),(null!==v.hostBindings||0!==v.hostVars||null!==v.hostAttrs)&&gC(v,m)}}finally{Aa(-1),zp(h)}}(n,t,e))}(l,s,v),function(n,t,e){if(Ep(t)){const s=t.directiveEnd;for(let l=t.directiveStart;l<s;l++){const p=n.data[l];p.contentQueries&&p.contentQueries(1,e[l],l)}}}(l,v,s)),null!==i&&function(n,t,e=_o){const i=t.localNames;if(null!==i){let s=t.index+1;for(let l=0;l<i.length;l+=2){const p=i[l+1],h=-1===p?e(t,n):n[p];n[s++]=h}}}(s,v)}function De(){let n=bn();jp()?Wp():(n=n.parent,bo(n,!1));const t=n;at.lFrame.elementDepthCount--;const e=kt();e.firstCreatePass&&(Ie(e,n),Ep(n)&&e.queries.elementEnd(n)),null!=t.classesWithoutHost&&function(n){return 0!=(16&n.flags)}(t)&&dy(e,t,fe(),t.classesWithoutHost,!0),null!=t.stylesWithoutHost&&function(n){return 0!=(32&n.flags)}(t)&&dy(e,t,fe(),t.stylesWithoutHost,!1)}function Al(n,t,e,i){Pe(n,t,e,i),De()}function Ed(n){return!!n&&"function"==typeof n.then}const Qs=function(n){return!!n&&"function"==typeof n.subscribe};function Gx(n,t){let e=null;const i=function(n){const t=n.attrs;if(null!=t){const e=t.indexOf(5);if(0==(1&e))return t[e+1]}return null}(n);for(let s=0;s<t.length;s++){const l=t[s];if("*"!==l){if(null===i?Yb(n,l,!0):Xb(i,l))return s}else e=s}return e}function z(n,t,e,i,s){const l=n[e+1],p=null===t;let h=i?Ho(l):hs(l),g=!1;for(;0!==h&&(!1===g||p);){const m=n[h+1];ee(n[h],t)&&(g=!0,n[h+1]=i?xh(m):bv(m)),h=i?Ho(m):hs(m)}g&&(n[e+1]=i?bv(l):xh(l))}function ee(n,t){return null===n||null==t||(Array.isArray(n)?n[1]:n)===t||!(!Array.isArray(n)||"string"!=typeof t)&&gl(n,t)>=0}const ie={textEnd:0,key:0,keyEnd:0,value:0,valueEnd:0};function _e(n){return n.substring(ie.key,ie.keyEnd)}function Ee(n,t){const e=ie.textEnd;return e===t?-1:(t=ie.keyEnd=function(n,t,e){for(;t<e&&n.charCodeAt(t)>32;)t++;return t}(n,ie.key=t,e),ct(n,t,e))}function ct(n,t,e){for(;t<e&&n.charCodeAt(t)<=32;)t++;return t}function Ri(n,t){return function(n,t,e,i){const s=fe(),l=kt(),p=ns(2);l.firstUpdatePass&&pI(l,n,p,i),t!==ut&&pr(s,p,t)&&fI(l,l.data[Zn()],s,s[11],n,s[p+1]=function(n,t){return null==n||("string"==typeof t?n+=t:"object"==typeof n&&(n=Ct(to(n)))),n}(t,e),i,p)}(n,t,null,!0),Ri}function Od(n){!function(n,t,e,i){const s=kt(),l=ns(2);s.firstUpdatePass&&pI(s,null,l,i);const p=fe();if(e!==ut&&pr(p,l,e)){const h=s.data[Zn()];if(vI(h,i)&&!dI(s,l)){let g=i?h.classesWithoutHost:h.stylesWithoutHost;null!==g&&(e=sg(g,e||"")),dy(s,h,p,e,i)}else!function(n,t,e,i,s,l,p,h){s===ut&&(s=gi);let g=0,v=0,m=0<s.length?s[0]:null,_=0<l.length?l[0]:null;for(;null!==m||null!==_;){const b=g<s.length?s[g+1]:void 0,C=v<l.length?l[v+1]:void 0;let E,S=null;m===_?(g+=2,v+=2,b!==C&&(S=_,E=C)):null===_||null!==m&&m<_?(g+=2,S=m):(v+=2,S=_,E=C),null!==S&&fI(n,t,e,i,S,E,p,h),m=g<s.length?s[g]:null,_=v<l.length?l[v]:null}}(s,h,p,p[11],p[l+1],p[l+1]=function(n,t,e){if(null==e||""===e)return gi;const i=[],s=to(e);if(Array.isArray(s))for(let l=0;l<s.length;l++)n(i,s[l],!0);else if("object"==typeof s)for(const l in s)s.hasOwnProperty(l)&&n(i,l,s[l]);else"string"==typeof s&&t(i,s);return i}(n,t,e),i,l)}}(Hr,Wa,n,!0)}function Wa(n,t){for(let e=function(n){return function(n){ie.key=0,ie.keyEnd=0,ie.value=0,ie.valueEnd=0,ie.textEnd=n.length}(n),Ee(n,ct(n,0,ie.textEnd))}(t);e>=0;e=Ee(t,e))Hr(n,_e(t),!0)}function dI(n,t){return t>=n.expandoStartIndex}function pI(n,t,e,i){const s=n.data;if(null===s[e+1]){const l=s[Zn()],p=dI(n,e);vI(l,i)&&null===t&&!p&&(t=!1),t=function(n,t,e,i){const s=function(n){const t=at.lFrame.currentDirectiveIndex;return-1===t?null:n[t]}(n);let l=i?t.residualClasses:t.residualStyles;if(null===s)0===(i?t.classBindings:t.styleBindings)&&(e=vy(e=Hx(null,n,t,e,i),t.attrs,i),l=null);else{const p=t.directiveStylingLast;if(-1===p||n[p]!==s)if(e=Hx(s,n,t,e,i),null===l){let g=function(n,t,e){const i=e?t.classBindings:t.styleBindings;if(0!==hs(i))return n[Ho(i)]}(n,t,i);void 0!==g&&Array.isArray(g)&&(g=Hx(null,n,t,g[1],i),g=vy(g,t.attrs,i),function(n,t,e,i){n[Ho(e?t.classBindings:t.styleBindings)]=i}(n,t,i,g))}else l=function(n,t,e){let i;const s=t.directiveEnd;for(let l=1+t.directiveStylingLast;l<s;l++)i=vy(i,n[l].hostAttrs,e);return vy(i,t.attrs,e)}(n,t,i)}return void 0!==l&&(i?t.residualClasses=l:t.residualStyles=l),e}(s,l,t,i),function(n,t,e,i,s,l){let p=l?t.classBindings:t.styleBindings,h=Ho(p),g=hs(p);n[i]=e;let m,v=!1;if(Array.isArray(e)){const _=e;m=_[1],(null===m||gl(_,m)>0)&&(v=!0)}else m=e;if(s)if(0!==g){const b=Ho(n[h+1]);n[i+1]=Eh(b,h),0!==b&&(n[b+1]=Cv(n[b+1],i)),n[h+1]=function(n,t){return 131071&n|t<<17}(n[h+1],i)}else n[i+1]=Eh(h,0),0!==h&&(n[h+1]=Cv(n[h+1],i)),h=i;else n[i+1]=Eh(g,0),0===h?h=i:n[g+1]=Cv(n[g+1],i),g=i;v&&(n[i+1]=bv(n[i+1])),z(n,m,i,!0),z(n,m,i,!1),function(n,t,e,i,s){const l=s?n.residualClasses:n.residualStyles;null!=l&&"string"==typeof t&&gl(l,t)>=0&&(e[i+1]=xh(e[i+1]))}(t,m,n,i,l),p=Eh(h,g),l?t.classBindings=p:t.styleBindings=p}(s,l,t,e,p,i)}}function Hx(n,t,e,i,s){let l=null;const p=e.directiveEnd;let h=e.directiveStylingLast;for(-1===h?h=e.directiveStart:h++;h<p&&(l=t[h],i=vy(i,l.hostAttrs,s),l!==n);)h++;return null!==n&&(e.directiveStylingLast=h),i}function vy(n,t,e){const i=e?1:2;let s=-1;if(null!==t)for(let l=0;l<t.length;l++){const p=t[l];"number"==typeof p?s=p:s===i&&(Array.isArray(n)||(n=void 0===n?[]:["",n]),Hr(n,p,!!e||t[++l]))}return void 0===n?null:n}function fI(n,t,e,i,s,l,p,h){if(!(3&t.type))return;const g=n.data,v=g[h+1];rw(function(n){return 1==(1&n)}(v)?gI(g,t,e,s,hs(v),p):void 0)||(rw(l)||function(n){return 2==(2&n)}(v)&&(l=gI(g,null,e,s,h,p)),function(n,t,e,i,s){const l=Ui(n);if(t)s?l?n.addClass(e,i):e.classList.add(i):l?n.removeClass(e,i):e.classList.remove(i);else{let p=-1===i.indexOf("-")?void 0:Jn.DashCase;if(null==s)l?n.removeStyle(e,i,p):e.style.removeProperty(i);else{const h="string"==typeof s&&s.endsWith("!important");h&&(s=s.slice(0,-10),p|=Jn.Important),l?n.setStyle(e,i,s,p):e.style.setProperty(i,s,h?"important":"")}}}(i,p,function(n,t){return tn(t[n])}(Zn(),e),s,l))}function gI(n,t,e,i,s,l){const p=null===t;let h;for(;s>0;){const g=n[s],v=Array.isArray(g),m=v?g[1]:g,_=null===m;let b=e[s+1];b===ut&&(b=_?gi:void 0);let C=_?jg(b,i):m===i?b:void 0;if(v&&!rw(C)&&(C=jg(g,i)),rw(C)&&(h=C,p))return h;const S=n[s+1];s=p?Ho(S):hs(S)}if(null!==t){let g=l?t.residualClasses:t.residualStyles;null!=g&&(h=jg(g,i))}return h}function rw(n){return void 0!==n}function vI(n,t){return 0!=(n.flags&(t?16:32))}function Ti(n,t=""){const e=fe(),i=kt(),s=n+20,l=i.firstCreatePass?Sl(i,s,1,t,null):i.data[s],p=e[s]=function(n,t){return Ui(n)?n.createText(t):n.createTextNode(t)}(e[11],t);Cl(i,e,p,l),bo(l,!1)}const Pd=void 0;var HH=["en",[["a","p"],["AM","PM"],Pd],[["AM","PM"],Pd,Pd],[["S","M","T","W","T","F","S"],["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],["Su","Mo","Tu","We","Th","Fr","Sa"]],Pd,[["J","F","M","A","M","J","J","A","S","O","N","D"],["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],["January","February","March","April","May","June","July","August","September","October","November","December"]],Pd,[["B","A"],["BC","AD"],["Before Christ","Anno Domini"]],0,[6,0],["M/d/yy","MMM d, y","MMMM d, y","EEEE, MMMM d, y"],["h:mm a","h:mm:ss a","h:mm:ss a z","h:mm:ss a zzzz"],["{1}, {0}",Pd,"{1} 'at' {0}",Pd],[".",",",";","%","+","-","E","\xd7","\u2030","\u221e","NaN",":"],["#,##0.###","#,##0%","\xa4#,##0.00","#E0"],"USD","$","US Dollar",{},"ltr",function(n){const t=Math.floor(Math.abs(n)),e=n.toString().replace(/^[^.]*\.?/,"").length;return 1===t&&0===e?1:5}];let nf={};function VI(n){return n in nf||(nf[n]=oi.ng&&oi.ng.common&&oi.ng.common.locales&&oi.ng.common.locales[n]),nf[n]}var Ne=(()=>((Ne=Ne||{})[Ne.LocaleId=0]="LocaleId",Ne[Ne.DayPeriodsFormat=1]="DayPeriodsFormat",Ne[Ne.DayPeriodsStandalone=2]="DayPeriodsStandalone",Ne[Ne.DaysFormat=3]="DaysFormat",Ne[Ne.DaysStandalone=4]="DaysStandalone",Ne[Ne.MonthsFormat=5]="MonthsFormat",Ne[Ne.MonthsStandalone=6]="MonthsStandalone",Ne[Ne.Eras=7]="Eras",Ne[Ne.FirstDayOfWeek=8]="FirstDayOfWeek",Ne[Ne.WeekendRange=9]="WeekendRange",Ne[Ne.DateFormat=10]="DateFormat",Ne[Ne.TimeFormat=11]="TimeFormat",Ne[Ne.DateTimeFormat=12]="DateTimeFormat",Ne[Ne.NumberSymbols=13]="NumberSymbols",Ne[Ne.NumberFormats=14]="NumberFormats",Ne[Ne.CurrencyCode=15]="CurrencyCode",Ne[Ne.CurrencySymbol=16]="CurrencySymbol",Ne[Ne.CurrencyName=17]="CurrencyName",Ne[Ne.Currencies=18]="Currencies",Ne[Ne.Directionality=19]="Directionality",Ne[Ne.PluralCase=20]="PluralCase",Ne[Ne.ExtraData=21]="ExtraData",Ne))();const ow="en-US";let kI=ow;function Bx(n){Cr(n,"Expected localeId to be defined"),"string"==typeof n&&(kI=n.toLowerCase().replace(/_/g,"-"))}class uM{}const dM="ngComponent";class kB{resolveComponentFactory(t){throw function(n){const t=Error(`No component factory found for ${Ct(n)}. Did you add it to @NgModule.entryComponents?`);return t[dM]=n,t}(t)}}let Ua=(()=>{class n{}return n.NULL=new kB,n})();function cw(...n){}function sf(n,t){return new ti(_o(n,t))}const BB=function(){return sf(bn(),fe())};let ti=(()=>{class n{constructor(e){this.nativeElement=e}}return n.__NG_ELEMENT_ID__=BB,n})();function pM(n){return n instanceof ti?n.nativeElement:n}class wy{}let qx=(()=>{class n{}return n.\u0275prov=Xe({token:n,providedIn:"root",factory:()=>null}),n})();class Dy{constructor(t){this.full=t,this.major=t.split(".")[0],this.minor=t.split(".")[1],this.patch=t.split(".").slice(2).join(".")}}const hM=new Dy("12.2.15");class fM{constructor(){}supports(t){return bd(t)}create(t){return new YB(t)}}const $B=(n,t)=>t;class YB{constructor(t){this.length=0,this._linkedRecords=null,this._unlinkedRecords=null,this._previousItHead=null,this._itHead=null,this._itTail=null,this._additionsHead=null,this._additionsTail=null,this._movesHead=null,this._movesTail=null,this._removalsHead=null,this._removalsTail=null,this._identityChangesHead=null,this._identityChangesTail=null,this._trackByFn=t||$B}forEachItem(t){let e;for(e=this._itHead;null!==e;e=e._next)t(e)}forEachOperation(t){let e=this._itHead,i=this._removalsHead,s=0,l=null;for(;e||i;){const p=!i||e&&e.currentIndex<vM(i,s,l)?e:i,h=vM(p,s,l),g=p.currentIndex;if(p===i)s--,i=i._nextRemoved;else if(e=e._next,null==p.previousIndex)s++;else{l||(l=[]);const v=h-s,m=g-s;if(v!=m){for(let b=0;b<v;b++){const C=b<l.length?l[b]:l[b]=0,S=C+b;m<=S&&S<v&&(l[b]=C+1)}l[p.previousIndex]=m-v}}h!==g&&t(p,h,g)}}forEachPreviousItem(t){let e;for(e=this._previousItHead;null!==e;e=e._nextPrevious)t(e)}forEachAddedItem(t){let e;for(e=this._additionsHead;null!==e;e=e._nextAdded)t(e)}forEachMovedItem(t){let e;for(e=this._movesHead;null!==e;e=e._nextMoved)t(e)}forEachRemovedItem(t){let e;for(e=this._removalsHead;null!==e;e=e._nextRemoved)t(e)}forEachIdentityChange(t){let e;for(e=this._identityChangesHead;null!==e;e=e._nextIdentityChange)t(e)}diff(t){if(null==t&&(t=[]),!bd(t))throw new Error(`Error trying to diff '${Ct(t)}'. Only arrays and iterables are allowed`);return this.check(t)?this:null}onDestroy(){}check(t){this._reset();let s,l,p,e=this._itHead,i=!1;if(Array.isArray(t)){this.length=t.length;for(let h=0;h<this.length;h++)l=t[h],p=this._trackByFn(h,l),null!==e&&Object.is(e.trackById,p)?(i&&(e=this._verifyReinsertion(e,l,p,h)),Object.is(e.item,l)||this._addIdentityChange(e,l)):(e=this._mismatch(e,l,p,h),i=!0),e=e._next}else s=0,function(n,t){if(Array.isArray(n))for(let e=0;e<n.length;e++)t(n[e]);else{const e=n[ku()]();let i;for(;!(i=e.next()).done;)t(i.value)}}(t,h=>{p=this._trackByFn(s,h),null!==e&&Object.is(e.trackById,p)?(i&&(e=this._verifyReinsertion(e,h,p,s)),Object.is(e.item,h)||this._addIdentityChange(e,h)):(e=this._mismatch(e,h,p,s),i=!0),e=e._next,s++}),this.length=s;return this._truncate(e),this.collection=t,this.isDirty}get isDirty(){return null!==this._additionsHead||null!==this._movesHead||null!==this._removalsHead||null!==this._identityChangesHead}_reset(){if(this.isDirty){let t;for(t=this._previousItHead=this._itHead;null!==t;t=t._next)t._nextPrevious=t._next;for(t=this._additionsHead;null!==t;t=t._nextAdded)t.previousIndex=t.currentIndex;for(this._additionsHead=this._additionsTail=null,t=this._movesHead;null!==t;t=t._nextMoved)t.previousIndex=t.currentIndex;this._movesHead=this._movesTail=null,this._removalsHead=this._removalsTail=null,this._identityChangesHead=this._identityChangesTail=null}}_mismatch(t,e,i,s){let l;return null===t?l=this._itTail:(l=t._prev,this._remove(t)),null!==(t=null===this._unlinkedRecords?null:this._unlinkedRecords.get(i,null))?(Object.is(t.item,e)||this._addIdentityChange(t,e),this._reinsertAfter(t,l,s)):null!==(t=null===this._linkedRecords?null:this._linkedRecords.get(i,s))?(Object.is(t.item,e)||this._addIdentityChange(t,e),this._moveAfter(t,l,s)):t=this._addAfter(new KB(e,i),l,s),t}_verifyReinsertion(t,e,i,s){let l=null===this._unlinkedRecords?null:this._unlinkedRecords.get(i,null);return null!==l?t=this._reinsertAfter(l,t._prev,s):t.currentIndex!=s&&(t.currentIndex=s,this._addToMoves(t,s)),t}_truncate(t){for(;null!==t;){const e=t._next;this._addToRemovals(this._unlink(t)),t=e}null!==this._unlinkedRecords&&this._unlinkedRecords.clear(),null!==this._additionsTail&&(this._additionsTail._nextAdded=null),null!==this._movesTail&&(this._movesTail._nextMoved=null),null!==this._itTail&&(this._itTail._next=null),null!==this._removalsTail&&(this._removalsTail._nextRemoved=null),null!==this._identityChangesTail&&(this._identityChangesTail._nextIdentityChange=null)}_reinsertAfter(t,e,i){null!==this._unlinkedRecords&&this._unlinkedRecords.remove(t);const s=t._prevRemoved,l=t._nextRemoved;return null===s?this._removalsHead=l:s._nextRemoved=l,null===l?this._removalsTail=s:l._prevRemoved=s,this._insertAfter(t,e,i),this._addToMoves(t,i),t}_moveAfter(t,e,i){return this._unlink(t),this._insertAfter(t,e,i),this._addToMoves(t,i),t}_addAfter(t,e,i){return this._insertAfter(t,e,i),this._additionsTail=null===this._additionsTail?this._additionsHead=t:this._additionsTail._nextAdded=t,t}_insertAfter(t,e,i){const s=null===e?this._itHead:e._next;return t._next=s,t._prev=e,null===s?this._itTail=t:s._prev=t,null===e?this._itHead=t:e._next=t,null===this._linkedRecords&&(this._linkedRecords=new gM),this._linkedRecords.put(t),t.currentIndex=i,t}_remove(t){return this._addToRemovals(this._unlink(t))}_unlink(t){null!==this._linkedRecords&&this._linkedRecords.remove(t);const e=t._prev,i=t._next;return null===e?this._itHead=i:e._next=i,null===i?this._itTail=e:i._prev=e,t}_addToMoves(t,e){return t.previousIndex===e||(this._movesTail=null===this._movesTail?this._movesHead=t:this._movesTail._nextMoved=t),t}_addToRemovals(t){return null===this._unlinkedRecords&&(this._unlinkedRecords=new gM),this._unlinkedRecords.put(t),t.currentIndex=null,t._nextRemoved=null,null===this._removalsTail?(this._removalsTail=this._removalsHead=t,t._prevRemoved=null):(t._prevRemoved=this._removalsTail,this._removalsTail=this._removalsTail._nextRemoved=t),t}_addIdentityChange(t,e){return t.item=e,this._identityChangesTail=null===this._identityChangesTail?this._identityChangesHead=t:this._identityChangesTail._nextIdentityChange=t,t}}class KB{constructor(t,e){this.item=t,this.trackById=e,this.currentIndex=null,this.previousIndex=null,this._nextPrevious=null,this._prev=null,this._next=null,this._prevDup=null,this._nextDup=null,this._prevRemoved=null,this._nextRemoved=null,this._nextAdded=null,this._nextMoved=null,this._nextIdentityChange=null}}class XB{constructor(){this._head=null,this._tail=null}add(t){null===this._head?(this._head=this._tail=t,t._nextDup=null,t._prevDup=null):(this._tail._nextDup=t,t._prevDup=this._tail,t._nextDup=null,this._tail=t)}get(t,e){let i;for(i=this._head;null!==i;i=i._nextDup)if((null===e||e<=i.currentIndex)&&Object.is(i.trackById,t))return i;return null}remove(t){const e=t._prevDup,i=t._nextDup;return null===e?this._head=i:e._nextDup=i,null===i?this._tail=e:i._prevDup=e,null===this._head}}class gM{constructor(){this.map=new Map}put(t){const e=t.trackById;let i=this.map.get(e);i||(i=new XB,this.map.set(e,i)),i.add(t)}get(t,e){const s=this.map.get(t);return s?s.get(t,e):null}remove(t){const e=t.trackById;return this.map.get(e).remove(t)&&this.map.delete(e),t}get isEmpty(){return 0===this.map.size}clear(){this.map.clear()}}function vM(n,t,e){const i=n.previousIndex;if(null===i)return i;let s=0;return e&&i<e.length&&(s=e[i]),i+t+s}class yM{constructor(){}supports(t){return t instanceof Map||Zh(t)}create(){return new qB}}class qB{constructor(){this._records=new Map,this._mapHead=null,this._appendAfter=null,this._previousMapHead=null,this._changesHead=null,this._changesTail=null,this._additionsHead=null,this._additionsTail=null,this._removalsHead=null,this._removalsTail=null}get isDirty(){return null!==this._additionsHead||null!==this._changesHead||null!==this._removalsHead}forEachItem(t){let e;for(e=this._mapHead;null!==e;e=e._next)t(e)}forEachPreviousItem(t){let e;for(e=this._previousMapHead;null!==e;e=e._nextPrevious)t(e)}forEachChangedItem(t){let e;for(e=this._changesHead;null!==e;e=e._nextChanged)t(e)}forEachAddedItem(t){let e;for(e=this._additionsHead;null!==e;e=e._nextAdded)t(e)}forEachRemovedItem(t){let e;for(e=this._removalsHead;null!==e;e=e._nextRemoved)t(e)}diff(t){if(t){if(!(t instanceof Map||Zh(t)))throw new Error(`Error trying to diff '${Ct(t)}'. Only maps and objects are allowed`)}else t=new Map;return this.check(t)?this:null}onDestroy(){}check(t){this._reset();let e=this._mapHead;if(this._appendAfter=null,this._forEach(t,(i,s)=>{if(e&&e.key===s)this._maybeAddToChanges(e,i),this._appendAfter=e,e=e._next;else{const l=this._getOrCreateRecordForKey(s,i);e=this._insertBeforeOrAppend(e,l)}}),e){e._prev&&(e._prev._next=null),this._removalsHead=e;for(let i=e;null!==i;i=i._nextRemoved)i===this._mapHead&&(this._mapHead=null),this._records.delete(i.key),i._nextRemoved=i._next,i.previousValue=i.currentValue,i.currentValue=null,i._prev=null,i._next=null}return this._changesTail&&(this._changesTail._nextChanged=null),this._additionsTail&&(this._additionsTail._nextAdded=null),this.isDirty}_insertBeforeOrAppend(t,e){if(t){const i=t._prev;return e._next=t,e._prev=i,t._prev=e,i&&(i._next=e),t===this._mapHead&&(this._mapHead=e),this._appendAfter=t,t}return this._appendAfter?(this._appendAfter._next=e,e._prev=this._appendAfter):this._mapHead=e,this._appendAfter=e,null}_getOrCreateRecordForKey(t,e){if(this._records.has(t)){const s=this._records.get(t);this._maybeAddToChanges(s,e);const l=s._prev,p=s._next;return l&&(l._next=p),p&&(p._prev=l),s._next=null,s._prev=null,s}const i=new ZB(t);return this._records.set(t,i),i.currentValue=e,this._addToAdditions(i),i}_reset(){if(this.isDirty){let t;for(this._previousMapHead=this._mapHead,t=this._previousMapHead;null!==t;t=t._next)t._nextPrevious=t._next;for(t=this._changesHead;null!==t;t=t._nextChanged)t.previousValue=t.currentValue;for(t=this._additionsHead;null!=t;t=t._nextAdded)t.previousValue=t.currentValue;this._changesHead=this._changesTail=null,this._additionsHead=this._additionsTail=null,this._removalsHead=null}}_maybeAddToChanges(t,e){Object.is(e,t.currentValue)||(t.previousValue=t.currentValue,t.currentValue=e,this._addToChanges(t))}_addToAdditions(t){null===this._additionsHead?this._additionsHead=this._additionsTail=t:(this._additionsTail._nextAdded=t,this._additionsTail=t)}_addToChanges(t){null===this._changesHead?this._changesHead=this._changesTail=t:(this._changesTail._nextChanged=t,this._changesTail=t)}_forEach(t,e){t instanceof Map?t.forEach(e):Object.keys(t).forEach(i=>e(t[i],i))}}class ZB{constructor(t){this.key=t,this.previousValue=null,this.currentValue=null,this._nextPrevious=null,this._next=null,this._prev=null,this._nextAdded=null,this._nextRemoved=null,this._nextChanged=null}}function mM(){return new Sy([new fM])}let Sy=(()=>{class n{constructor(e){this.factories=e}static create(e,i){if(null!=i){const s=i.factories.slice();e=e.concat(s)}return new n(e)}static extend(e){return{provide:n,useFactory:i=>n.create(e,i||mM()),deps:[[n,new ls,new Br]]}}find(e){const i=this.factories.find(s=>s.supports(e));if(null!=i)return i;throw new Error(`Cannot find a differ supporting object '${e}' of type '${function(n){return n.name||typeof n}(e)}'`)}}return n.\u0275prov=Xe({token:n,providedIn:"root",factory:mM}),n})();function _M(){return new af([new yM])}let af=(()=>{class n{constructor(e){this.factories=e}static create(e,i){if(i){const s=i.factories.slice();e=e.concat(s)}return new n(e)}static extend(e){return{provide:n,useFactory:i=>n.create(e,i||_M()),deps:[[n,new ls,new Br]]}}find(e){const i=this.factories.find(s=>s.supports(e));if(i)return i;throw new Error(`Cannot find a differ supporting object '${e}'`)}}return n.\u0275prov=Xe({token:n,providedIn:"root",factory:_M}),n})();function dw(n,t,e,i,s=!1){for(;null!==e;){const l=t[e.index];if(null!==l&&i.push(tn(l)),yo(l))for(let h=10;h<l.length;h++){const g=l[h],v=g[1].firstChild;null!==v&&dw(g[1],g,v,i)}const p=e.type;if(8&p)dw(n,t,e.child,i);else if(32&p){const h=lv(e,t);let g;for(;g=h();)i.push(g)}else if(16&p){const h=Hb(t,e);if(Array.isArray(h))i.push(...h);else{const g=nd(t[16]);dw(g[1],g,h,i,!0)}}e=s?e.projectionNext:e.next}return i}class Ey{constructor(t,e){this._lView=t,this._cdRefInjectingView=e,this._appRef=null,this._attachedToViewContainer=!1}get rootNodes(){const t=this._lView,e=t[1];return dw(e,t,e.firstChild,[])}get context(){return this._lView[8]}set context(t){this._lView[8]=t}get destroyed(){return 256==(256&this._lView[2])}destroy(){if(this._appRef)this._appRef.detachView(this);else if(this._attachedToViewContainer){const t=this._lView[3];if(yo(t)){const e=t[8],i=e?e.indexOf(this):-1;i>-1&&(od(t,i),fl(e,i))}this._attachedToViewContainer=!1}Lb(this._lView[1],this._lView)}onDestroy(t){Pv(this._lView[1],this._lView,null,t)}markForCheck(){!function(n){for(;n;){n[2]|=64;const t=nd(n);if(Xn(n)&&!t)return n;n=t}}(this._cdRefInjectingView||this._lView)}detach(){this._lView[2]&=-129}reattach(){this._lView[2]|=128}detectChanges(){Gh(this._lView[1],this._lView,this.context)}checkNoChanges(){!function(n,t,e){Up(!0);try{Gh(n,t,e)}finally{Up(!1)}}(this._lView[1],this._lView,this.context)}attachToViewContainerRef(){if(this._appRef)throw new Error("This view is already attached directly to the ApplicationRef!");this._attachedToViewContainer=!0}detachFromAppRef(){this._appRef=null,function(n,t){Or(n,t,t[11],2,null,null)}(this._lView[1],this._lView)}attachToAppRef(t){if(this._attachedToViewContainer)throw new Error("This view is already attached to a ViewContainer!");this._appRef=t}}class JB extends Ey{constructor(t){super(t),this._view=t}detectChanges(){CC(this._view)}checkNoChanges(){!function(n){Up(!0);try{CC(n)}finally{Up(!1)}}(this._view)}get context(){return null}}const tj=function(n){return function(n,t,e){if(xp(n)&&!e){const i=ci(n.index,t);return new Ey(i,i)}return 47&n.type?new Ey(t[16],t):null}(bn(),fe(),16==(16&n))};let za=(()=>{class n{}return n.__NG_ELEMENT_ID__=tj,n})();const rj=[new yM],sj=new Sy([new fM]),aj=new af(rj),uj=function(){return pw(bn(),fe())};let xn=(()=>{class n{}return n.__NG_ELEMENT_ID__=uj,n})();const cj=xn,dj=class extends cj{constructor(t,e,i){super(),this._declarationLView=t,this._declarationTContainer=e,this.elementRef=i}createEmbeddedView(t){const e=this._declarationTContainer.tViews,i=So(this._declarationLView,e,t,16,null,e.declTNode,null,null,null,null);i[17]=this._declarationLView[this._declarationTContainer.index];const l=this._declarationLView[19];return null!==l&&(i[19]=l.createEmbeddedView(e)),Ou(e,i,t),new Ey(i)}};function pw(n,t){return 4&n.type?new dj(t,n,sf(n,t)):null}class $a{}class bM{}const fj=function(){return DM(bn(),fe())};let Wo=(()=>{class n{}return n.__NG_ELEMENT_ID__=fj,n})();const vj=Wo,CM=class extends vj{constructor(t,e,i){super(),this._lContainer=t,this._hostTNode=e,this._hostLView=i}get element(){return sf(this._hostTNode,this._hostLView)}get injector(){return new Gr(this._hostTNode,this._hostLView)}get parentInjector(){const t=du(this._hostTNode,this._hostLView);if(Ig(t)){const e=cu(t,this._hostLView),i=Ia(t);return new Gr(e[1].data[i+8],e)}return new Gr(null,this._hostLView)}clear(){for(;this.length>0;)this.remove(this.length-1)}get(t){const e=wM(this._lContainer);return null!==e&&e[t]||null}get length(){return this._lContainer.length-10}createEmbeddedView(t,e,i){const s=t.createEmbeddedView(e||{});return this.insert(s,i),s}createComponent(t,e,i,s,l){const p=i||this.parentInjector;if(!l&&null==t.ngModule&&p){const g=p.get($a,null);g&&(l=g)}const h=t.create(p,s,void 0,l);return this.insert(h.hostView,e),h}insert(t,e){const i=t._lView,s=i[1];if(function(n){return yo(n[3])}(i)){const m=this.indexOf(t);if(-1!==m)this.detach(m);else{const _=i[3],b=new CM(_,_[6],_[3]);b.detach(b.indexOf(t))}}const l=this._adjustIndex(e),p=this._lContainer;!function(n,t,e,i){const s=10+i,l=e.length;i>0&&(e[s-1][4]=t),i<l-10?(t[4]=e[s],eo(e,10+i,t)):(e.push(t),t[4]=null),t[3]=e;const p=t[17];null!==p&&e!==p&&function(n,t){const e=n[9];t[16]!==t[3][3][16]&&(n[2]=!0),null===e?n[9]=[t]:e.push(t)}(p,t);const h=t[19];null!==h&&h.insertView(n),t[2]|=128}(s,i,p,l);const h=wh(l,p),g=i[11],v=bl(g,p[7]);return null!==v&&function(n,t,e,i,s,l){i[0]=s,i[6]=t,Or(n,i,e,1,s,l)}(s,p[6],g,i,v,h),t.attachToViewContainerRef(),eo(Zx(p),l,t),t}move(t,e){return this.insert(t,e)}indexOf(t){const e=wM(this._lContainer);return null!==e?e.indexOf(t):-1}remove(t){const e=this._adjustIndex(t,-1),i=od(this._lContainer,e);i&&(fl(Zx(this._lContainer),e),Lb(i[1],i))}detach(t){const e=this._adjustIndex(t,-1),i=od(this._lContainer,e);return i&&null!=fl(Zx(this._lContainer),e)?new Ey(i):null}_adjustIndex(t,e=0){return null==t?this.length+e:t}};function wM(n){return n[8]}function Zx(n){return n[8]||(n[8]=[])}function DM(n,t){let e;const i=t[n.index];if(yo(i))e=i;else{let s;if(8&n.type)s=tn(i);else{const l=t[11];s=l.createComment("");const p=_o(n,t);Ga(l,bl(l,p),s,function(n,t){return Ui(n)?n.nextSibling(t):t.nextSibling}(l,p),!1)}t[n.index]=e=function(n,t,e,i){return new Array(n,!0,!1,t,null,0,i,e,null,null)}(i,t,s,n),kh(t,e)}return new CM(e,n,t)}const df={};class WM extends Ua{constructor(t){super(),this.ngModule=t}resolveComponentFactory(t){const e=Dr(t);return new zM(e,this.ngModule)}}function UM(n){const t=[];for(let e in n)n.hasOwnProperty(e)&&t.push({propName:n[e],templateName:e});return t}const pW=new Pt("SCHEDULER_TOKEN",{providedIn:"root",factory:()=>Cu});class zM extends uM{constructor(t,e){super(),this.componentDef=t,this.ngModule=e,this.componentType=t.type,this.selector=function(n){return n.map(qb).join(",")}(t.selectors),this.ngContentSelectors=t.ngContentSelectors?t.ngContentSelectors:[],this.isBoundToModule=!!e}get inputs(){return UM(this.componentDef.inputs)}get outputs(){return UM(this.componentDef.outputs)}create(t,e,i,s){const l=(s=s||this.ngModule)?function(n,t){return{get:(e,i,s)=>{const l=n.get(e,df,s);return l!==df||i===df?l:t.get(e,i,s)}}}(t,s.injector):t,p=l.get(wy,O_),h=l.get(qx,null),g=p.createRenderer(null,this.componentDef),v=this.componentDef.selectors[0][0]||"div",m=i?function(n,t,e){if(Ui(n))return n.selectRootElement(t,e===mn.ShadowDom);let i="string"==typeof t?n.querySelector(t):t;return i.textContent="",i}(g,i,this.componentDef.encapsulation):ka(p.createRenderer(null,this.componentDef),v,function(n){const t=n.toLowerCase();return"svg"===t?"http://www.w3.org/2000/svg":"math"===t?"http://www.w3.org/1998/MathML/":null}(v)),_=this.componentDef.onPush?576:528,b=function(n,t){return{components:[],scheduler:n||Cu,clean:XE,playerHandler:t||null,flags:0}}(),C=ud(0,null,null,1,0,null,null,null,null,null),S=So(null,C,b,_,null,null,p,g,h,l);let E,x;uu(S);try{const R=function(n,t,e,i,s,l){const p=e[1];e[20]=n;const g=Sl(p,20,2,"#host",null),v=g.mergedAttrs=t.hostAttrs;null!==v&&(jh(g,v,!0),null!==n&&(Yp(s,n,v),null!==g.classes&&Dh(s,n,g.classes),null!==g.styles&&zb(s,n,g.styles)));const m=i.createRenderer(n,t),_=So(e,xl(t),null,t.onPush?64:16,e[20],g,i,m,l||null,null);return p.firstCreatePass&&(Xp(Bs(g,e),p,t.type),vC(p,g),yC(g,e.length,1)),kh(e,_),e[20]=_}(m,this.componentDef,S,p,g);if(m)if(i)Yp(g,m,["ng-version",hM.full]);else{const{attrs:P,classes:k}=function(n){const t=[],e=[];let i=1,s=2;for(;i<n.length;){let l=n[i];if("string"==typeof l)2===s?""!==l&&t.push(l,n[++i]):8===s&&e.push(l);else{if(!sn(s))break;s=l}i++}return{attrs:t,classes:e}}(this.componentDef.selectors[0]);P&&Yp(g,m,P),k&&k.length>0&&Dh(g,m,k.join(" "))}if(x=_g(C,20),void 0!==e){const P=x.projection=[];for(let k=0;k<this.ngContentSelectors.length;k++){const U=e[k];P.push(null!=U?Array.from(U):null)}}E=function(n,t,e,i,s){const l=e[1],p=function(n,t,e){const i=bn();n.firstCreatePass&&(e.providersResolver&&e.providersResolver(e),mC(n,i,t,El(n,t,1,null),e));const s=pu(t,n,i.directiveStart,i);cr(s,t);const l=_o(i,t);return l&&cr(l,t),s}(l,e,t);if(i.components.push(p),n[8]=p,s&&s.forEach(g=>g(p,t)),t.contentQueries){const g=bn();t.contentQueries(1,p,g.directiveStart)}const h=bn();return!l.firstCreatePass||null===t.hostBindings&&null===t.hostAttrs||(Aa(h.index),Rv(e[1],h,0,h.directiveStart,h.directiveEnd,t),gC(t,p)),p}(R,this.componentDef,S,b,[hx]),Ou(C,S,null)}finally{$p()}return new gW(this.componentType,E,sf(x,S),S,x)}}class gW extends class{}{constructor(t,e,i,s,l){super(),this.location=i,this._rootLView=s,this._tNode=l,this.instance=e,this.hostView=this.changeDetectorRef=new JB(s),this.componentType=t}get injector(){return new Gr(this._tNode,this._rootLView)}destroy(){this.hostView.destroy()}onDestroy(t){this.hostView.onDestroy(t)}}const pf=new Map;class mW extends $a{constructor(t,e){super(),this._parent=e,this._bootstrapComponents=[],this.injector=this,this.destroyCbs=[],this.componentFactoryResolver=new WM(this);const i=vo(t),s=function(n){return n[v_]||null}(t);s&&Bx(s),this._bootstrapComponents=jr(i.bootstrap),this._r3Injector=vd(t,e,[{provide:$a,useValue:this},{provide:Ua,useValue:this.componentFactoryResolver}],Ct(t)),this._r3Injector._resolveInjectorDefTypes(),this.instance=this.get(t)}get(t,e=Et.THROW_IF_NOT_FOUND,i=qe.Default){return t===Et||t===$a||t===Tu?this:this._r3Injector.get(t,e,i)}destroy(){const t=this._r3Injector;!t.destroyed&&t.destroy(),this.destroyCbs.forEach(e=>e()),this.destroyCbs=null}onDestroy(t){this.destroyCbs.push(t)}}class cO extends bM{constructor(t){super(),this.moduleType=t,null!==vo(t)&&function(n){const t=new Set;!function e(i){const s=vo(i,!0),l=s.id;null!==l&&(function(n,t,e){if(t&&t!==e)throw new Error(`Duplicate module registered for ${n} - ${Ct(t)} vs ${Ct(t.name)}`)}(l,pf.get(l),i),pf.set(l,i));const p=jr(s.imports);for(const h of p)t.has(h)||(t.add(h),e(h))}(n)}(t)}create(t){return new mW(this.moduleType,t)}}function pO(n){return t=>{setTimeout(n,void 0,t)}}const Q=class extends Qi{constructor(t=!1){super(),this.__isAsync=t}emit(t){super.next(t)}subscribe(t,e,i){var s,l,p;let h=t,g=e||(()=>null),v=i;if(t&&"object"==typeof t){const _=t;h=null===(s=_.next)||void 0===s?void 0:s.bind(_),g=null===(l=_.error)||void 0===l?void 0:l.bind(_),v=null===(p=_.complete)||void 0===p?void 0:p.bind(_)}this.__isAsync&&(g=pO(g),h&&(h=pO(h)),v&&(v=pO(v)));const m=super.subscribe({next:h,error:g,complete:v});return t instanceof ji&&t.add(m),m}};function FW(){return this._results[ku()]()}class hf{constructor(t=!1){this._emitDistinctChangesOnly=t,this.dirty=!0,this._results=[],this._changesDetected=!1,this._changes=null,this.length=0,this.first=void 0,this.last=void 0;const e=ku(),i=hf.prototype;i[e]||(i[e]=FW)}get changes(){return this._changes||(this._changes=new Q)}get(t){return this._results[t]}map(t){return this._results.map(t)}filter(t){return this._results.filter(t)}find(t){return this._results.find(t)}reduce(t,e){return this._results.reduce(t,e)}forEach(t){this._results.forEach(t)}some(t){return this._results.some(t)}toArray(){return this._results.slice()}toString(){return this._results.toString()}reset(t,e){const i=this;i.dirty=!1;const s=$i(t);(this._changesDetected=!function(n,t,e){if(n.length!==t.length)return!1;for(let i=0;i<n.length;i++){let s=n[i],l=t[i];if(e&&(s=e(s),l=e(l)),l!==s)return!1}return!0}(i._results,s,e))&&(i._results=s,i.length=s.length,i.last=s[this.length-1],i.first=s[0])}notifyOnChanges(){this._changes&&(this._changesDetected||!this._emitDistinctChangesOnly)&&this._changes.emit(this)}setDirty(){this.dirty=!0}destroy(){this.changes.complete(),this.changes.unsubscribe()}}Symbol;class hO{constructor(t){this.queryList=t,this.matches=null}clone(){return new hO(this.queryList)}setDirty(){this.queryList.setDirty()}}class fO{constructor(t=[]){this.queries=t}createEmbeddedView(t){const e=t.queries;if(null!==e){const i=null!==t.contentQueries?t.contentQueries[0]:e.length,s=[];for(let l=0;l<i;l++){const p=e.getByIndex(l);s.push(this.queries[p.indexInDeclarationView].clone())}return new fO(s)}return null}insertView(t){this.dirtyQueriesWithMatches(t)}detachView(t){this.dirtyQueriesWithMatches(t)}dirtyQueriesWithMatches(t){for(let e=0;e<this.queries.length;e++)null!==nF(t,e).matches&&this.queries[e].setDirty()}}class JM{constructor(t,e,i=null){this.predicate=t,this.flags=e,this.read=i}}class gO{constructor(t=[]){this.queries=t}elementStart(t,e){for(let i=0;i<this.queries.length;i++)this.queries[i].elementStart(t,e)}elementEnd(t){for(let e=0;e<this.queries.length;e++)this.queries[e].elementEnd(t)}embeddedTView(t){let e=null;for(let i=0;i<this.length;i++){const s=null!==e?e.length:0,l=this.getByIndex(i).embeddedTView(t,s);l&&(l.indexInDeclarationView=i,null!==e?e.push(l):e=[l])}return null!==e?new gO(e):null}template(t,e){for(let i=0;i<this.queries.length;i++)this.queries[i].template(t,e)}getByIndex(t){return this.queries[t]}get length(){return this.queries.length}track(t){this.queries.push(t)}}class vO{constructor(t,e=-1){this.metadata=t,this.matches=null,this.indexInDeclarationView=-1,this.crossesNgTemplate=!1,this._appliesToNextNode=!0,this._declarationNodeIndex=e}elementStart(t,e){this.isApplyingToNode(e)&&this.matchTNode(t,e)}elementEnd(t){this._declarationNodeIndex===t.index&&(this._appliesToNextNode=!1)}template(t,e){this.elementStart(t,e)}embeddedTView(t,e){return this.isApplyingToNode(t)?(this.crossesNgTemplate=!0,this.addMatch(-t.index,e),new vO(this.metadata)):null}isApplyingToNode(t){if(this._appliesToNextNode&&1!=(1&this.metadata.flags)){const e=this._declarationNodeIndex;let i=t.parent;for(;null!==i&&8&i.type&&i.index!==e;)i=i.parent;return e===(null!==i?i.index:-1)}return this._appliesToNextNode}matchTNode(t,e){const i=this.metadata.predicate;if(Array.isArray(i))for(let s=0;s<i.length;s++){const l=i[s];this.matchTNodeWithReadOption(t,e,VW(e,l)),this.matchTNodeWithReadOption(t,e,qp(e,t,l,!1,!1))}else i===xn?4&e.type&&this.matchTNodeWithReadOption(t,e,-1):this.matchTNodeWithReadOption(t,e,qp(e,t,i,!1,!1))}matchTNodeWithReadOption(t,e,i){if(null!==i){const s=this.metadata.read;if(null!==s)if(s===ti||s===Wo||s===xn&&4&e.type)this.addMatch(e.index,-2);else{const l=qp(e,t,s,!1,!1);null!==l&&this.addMatch(e.index,l)}else this.addMatch(e.index,i)}}addMatch(t,e){null===this.matches?this.matches=[t,e]:this.matches.push(t,e)}}function VW(n,t){const e=n.localNames;if(null!==e)for(let i=0;i<e.length;i+=2)if(e[i]===t)return e[i+1];return null}function GW(n,t,e,i){return-1===e?function(n,t){return 11&n.type?sf(n,t):4&n.type?pw(n,t):null}(t,n):-2===e?function(n,t,e){return e===ti?sf(t,n):e===xn?pw(t,n):e===Wo?DM(t,n):void 0}(n,t,i):pu(n,n[1],e,t)}function eF(n,t,e,i){const s=t[19].queries[i];if(null===s.matches){const l=n.data,p=e.matches,h=[];for(let g=0;g<p.length;g+=2){const v=p[g];h.push(v<0?null:GW(t,l[v],p[g+1],e.metadata.read))}s.matches=h}return s.matches}function yO(n,t,e,i){const s=n.queries.getByIndex(e),l=s.matches;if(null!==l){const p=eF(n,t,s,e);for(let h=0;h<l.length;h+=2){const g=l[h];if(g>0)i.push(p[h/2]);else{const v=l[h+1],m=t[-g];for(let _=10;_<m.length;_++){const b=m[_];b[17]===b[3]&&yO(b[1],b,v,i)}if(null!==m[9]){const _=m[9];for(let b=0;b<_.length;b++){const C=_[b];yO(C[1],C,v,i)}}}}}return i}function Yi(n){const t=fe(),e=kt(),i=An();Dg(i+1);const s=nF(e,i);if(n.dirty&&dl(t)===(2==(2&s.metadata.flags))){if(null===s.matches)n.reset([]);else{const l=s.crossesNgTemplate?yO(e,t,i,[]):eF(e,t,s,i);n.reset(l,pM),n.notifyOnChanges()}return!0}return!1}function Ki(){return function(n,t){return n[19].queries[t].queryList}(fe(),An())}function tF(n,t,e){const i=new hf(4==(4&e));Pv(n,t,i,i.destroy),null===t[19]&&(t[19]=new fO),t[19].queries.push(new hO(i))}function iF(n,t,e){null===n.queries&&(n.queries=new gO),n.queries.track(new vO(t,e))}function nF(n,t){return n.queries.getByIndex(t)}const N=Qp("Input",n=>({bindingPropertyName:n})),ky=new Pt("Application Initializer");let gf=(()=>{class n{constructor(e){this.appInits=e,this.resolve=cw,this.reject=cw,this.initialized=!1,this.done=!1,this.donePromise=new Promise((i,s)=>{this.resolve=i,this.reject=s})}runInitializers(){if(this.initialized)return;const e=[],i=()=>{this.done=!0,this.resolve()};if(this.appInits)for(let s=0;s<this.appInits.length;s++){const l=this.appInits[s]();if(Ed(l))e.push(l);else if(Qs(l)){const p=new Promise((h,g)=>{l.subscribe({complete:h,error:g})});e.push(p)}}Promise.all(e).then(()=>{i()}).catch(s=>{this.reject(s)}),0===e.length&&i(),this.initialized=!0}}return n.\u0275fac=function(e){return new(e||n)(Se(ky,8))},n.\u0275prov=Xe({token:n,factory:n.\u0275fac}),n})();const Gy=new Pt("AppId"),v2={provide:Gy,useFactory:function(){return`${SO()}${SO()}${SO()}`},deps:[]};function SO(){return String.fromCharCode(97+Math.floor(25*Math.random()))}const CF=new Pt("Platform Initializer"),Hy=new Pt("Platform ID"),wF=new Pt("appBootstrapListener");let bw=(()=>{class n{log(e){console.log(e)}warn(e){console.warn(e)}}return n.\u0275fac=function(e){return new(e||n)},n.\u0275prov=Xe({token:n,factory:n.\u0275fac}),n})();const ec=new Pt("LocaleId"),DF=new Pt("DefaultCurrencyCode");class m2{constructor(t,e){this.ngModuleFactory=t,this.componentFactories=e}}const EO=function(n){return new cO(n)},_2=EO,b2=function(n){return Promise.resolve(EO(n))},SF=function(n){const t=EO(n),i=jr(vo(n).declarations).reduce((s,l)=>{const p=Dr(l);return p&&s.push(new zM(p)),s},[]);return new m2(t,i)},C2=SF,w2=function(n){return Promise.resolve(SF(n))};let Ad=(()=>{class n{constructor(){this.compileModuleSync=_2,this.compileModuleAsync=b2,this.compileModuleAndAllComponentsSync=C2,this.compileModuleAndAllComponentsAsync=w2}clearCache(){}clearCacheFor(e){}getModuleId(e){}}return n.\u0275fac=function(e){return new(e||n)},n.\u0275prov=Xe({token:n,factory:n.\u0275fac}),n})();const E2=(()=>Promise.resolve(0))();function xO(n){"undefined"==typeof Zone?E2.then(()=>{n&&n.apply(null,null)}):Zone.current.scheduleMicroTask("scheduleMicrotask",n)}class di{constructor({enableLongStackTrace:t=!1,shouldCoalesceEventChangeDetection:e=!1,shouldCoalesceRunChangeDetection:i=!1}){if(this.hasPendingMacrotasks=!1,this.hasPendingMicrotasks=!1,this.isStable=!0,this.onUnstable=new Q(!1),this.onMicrotaskEmpty=new Q(!1),this.onStable=new Q(!1),this.onError=new Q(!1),"undefined"==typeof Zone)throw new Error("In this configuration Angular requires Zone.js");Zone.assertZonePatched();const s=this;s._nesting=0,s._outer=s._inner=Zone.current,Zone.TaskTrackingZoneSpec&&(s._inner=s._inner.fork(new Zone.TaskTrackingZoneSpec)),t&&Zone.longStackTraceZoneSpec&&(s._inner=s._inner.fork(Zone.longStackTraceZoneSpec)),s.shouldCoalesceEventChangeDetection=!i&&e,s.shouldCoalesceRunChangeDetection=i,s.lastRequestAnimationFrameId=-1,s.nativeRequestAnimationFrame=function(){let n=oi.requestAnimationFrame,t=oi.cancelAnimationFrame;if("undefined"!=typeof Zone&&n&&t){const e=n[Zone.__symbol__("OriginalDelegate")];e&&(n=e);const i=t[Zone.__symbol__("OriginalDelegate")];i&&(t=i)}return{nativeRequestAnimationFrame:n,nativeCancelAnimationFrame:t}}().nativeRequestAnimationFrame,function(n){const t=()=>{!function(n){n.isCheckStableRunning||-1!==n.lastRequestAnimationFrameId||(n.lastRequestAnimationFrameId=n.nativeRequestAnimationFrame.call(oi,()=>{n.fakeTopEventTask||(n.fakeTopEventTask=Zone.root.scheduleEventTask("fakeTopEventTask",()=>{n.lastRequestAnimationFrameId=-1,PO(n),n.isCheckStableRunning=!0,OO(n),n.isCheckStableRunning=!1},void 0,()=>{},()=>{})),n.fakeTopEventTask.invoke()}),PO(n))}(n)};n._inner=n._inner.fork({name:"angular",properties:{isAngularZone:!0},onInvokeTask:(e,i,s,l,p,h)=>{try{return EF(n),e.invokeTask(s,l,p,h)}finally{(n.shouldCoalesceEventChangeDetection&&"eventTask"===l.type||n.shouldCoalesceRunChangeDetection)&&t(),xF(n)}},onInvoke:(e,i,s,l,p,h,g)=>{try{return EF(n),e.invoke(s,l,p,h,g)}finally{n.shouldCoalesceRunChangeDetection&&t(),xF(n)}},onHasTask:(e,i,s,l)=>{e.hasTask(s,l),i===s&&("microTask"==l.change?(n._hasPendingMicrotasks=l.microTask,PO(n),OO(n)):"macroTask"==l.change&&(n.hasPendingMacrotasks=l.macroTask))},onHandleError:(e,i,s,l)=>(e.handleError(s,l),n.runOutsideAngular(()=>n.onError.emit(l)),!1)})}(s)}static isInAngularZone(){return!0===Zone.current.get("isAngularZone")}static assertInAngularZone(){if(!di.isInAngularZone())throw new Error("Expected to be in Angular Zone, but it is not!")}static assertNotInAngularZone(){if(di.isInAngularZone())throw new Error("Expected to not be in Angular Zone, but it is!")}run(t,e,i){return this._inner.run(t,e,i)}runTask(t,e,i,s){const l=this._inner,p=l.scheduleEventTask("NgZoneEvent: "+s,t,O2,cw,cw);try{return l.runTask(p,e,i)}finally{l.cancelTask(p)}}runGuarded(t,e,i){return this._inner.runGuarded(t,e,i)}runOutsideAngular(t){return this._outer.run(t)}}const O2={};function OO(n){if(0==n._nesting&&!n.hasPendingMicrotasks&&!n.isStable)try{n._nesting++,n.onMicrotaskEmpty.emit(null)}finally{if(n._nesting--,!n.hasPendingMicrotasks)try{n.runOutsideAngular(()=>n.onStable.emit(null))}finally{n.isStable=!0}}}function PO(n){n.hasPendingMicrotasks=!!(n._hasPendingMicrotasks||(n.shouldCoalesceEventChangeDetection||n.shouldCoalesceRunChangeDetection)&&-1!==n.lastRequestAnimationFrameId)}function EF(n){n._nesting++,n.isStable&&(n.isStable=!1,n.onUnstable.emit(null))}function xF(n){n._nesting--,OO(n)}class T2{constructor(){this.hasPendingMicrotasks=!1,this.hasPendingMacrotasks=!1,this.isStable=!0,this.onUnstable=new Q,this.onMicrotaskEmpty=new Q,this.onStable=new Q,this.onError=new Q}run(t,e,i){return t.apply(e,i)}runGuarded(t,e,i){return t.apply(e,i)}runOutsideAngular(t){return t()}runTask(t,e,i,s){return t.apply(e,i)}}let RO=(()=>{class n{constructor(e){this._ngZone=e,this._pendingCount=0,this._isZoneStable=!0,this._didWork=!1,this._callbacks=[],this.taskTrackingZone=null,this._watchAngularEvents(),e.run(()=>{this.taskTrackingZone="undefined"==typeof Zone?null:Zone.current.get("TaskTrackingZone")})}_watchAngularEvents(){this._ngZone.onUnstable.subscribe({next:()=>{this._didWork=!0,this._isZoneStable=!1}}),this._ngZone.runOutsideAngular(()=>{this._ngZone.onStable.subscribe({next:()=>{di.assertNotInAngularZone(),xO(()=>{this._isZoneStable=!0,this._runCallbacksIfReady()})}})})}increasePendingRequestCount(){return this._pendingCount+=1,this._didWork=!0,this._pendingCount}decreasePendingRequestCount(){if(this._pendingCount-=1,this._pendingCount<0)throw new Error("pending async requests below zero");return this._runCallbacksIfReady(),this._pendingCount}isStable(){return this._isZoneStable&&0===this._pendingCount&&!this._ngZone.hasPendingMacrotasks}_runCallbacksIfReady(){if(this.isStable())xO(()=>{for(;0!==this._callbacks.length;){let e=this._callbacks.pop();clearTimeout(e.timeoutId),e.doneCb(this._didWork)}this._didWork=!1});else{let e=this.getPendingTasks();this._callbacks=this._callbacks.filter(i=>!i.updateCb||!i.updateCb(e)||(clearTimeout(i.timeoutId),!1)),this._didWork=!0}}getPendingTasks(){return this.taskTrackingZone?this.taskTrackingZone.macroTasks.map(e=>({source:e.source,creationLocation:e.creationLocation,data:e.data})):[]}addCallback(e,i,s){let l=-1;i&&i>0&&(l=setTimeout(()=>{this._callbacks=this._callbacks.filter(p=>p.timeoutId!==l),e(this._didWork,this.getPendingTasks())},i)),this._callbacks.push({doneCb:e,timeoutId:l,updateCb:s})}whenStable(e,i,s){if(s&&!this.taskTrackingZone)throw new Error('Task tracking zone is required when passing an update callback to whenStable(). Is "zone.js/plugins/task-tracking" loaded?');this.addCallback(e,i,s),this._runCallbacksIfReady()}getPendingRequestCount(){return this._pendingCount}findProviders(e,i,s){return[]}}return n.\u0275fac=function(e){return new(e||n)(Se(di))},n.\u0275prov=Xe({token:n,factory:n.\u0275fac}),n})(),OF=(()=>{class n{constructor(){this._applications=new Map,TO.addToWindow(this)}registerApplication(e,i){this._applications.set(e,i)}unregisterApplication(e){this._applications.delete(e)}unregisterAllApplications(){this._applications.clear()}getTestability(e){return this._applications.get(e)||null}getAllTestabilities(){return Array.from(this._applications.values())}getAllRootElements(){return Array.from(this._applications.keys())}findTestabilityInTree(e,i=!0){return TO.findTestabilityInTree(this,e,i)}}return n.\u0275fac=function(e){return new(e||n)},n.\u0275prov=Xe({token:n,factory:n.\u0275fac}),n})();class A2{addToWindow(t){}findTestabilityInTree(t,e,i){return null}}let TO=new A2,PF=!0,RF=!1;let ra;const AF=new Pt("AllowMultipleToken");class AO{constructor(t,e){this.name=t,this.token=e}}function IF(n,t,e=[]){const i=`Platform: ${t}`,s=new Pt(i);return(l=[])=>{let p=MF();if(!p||p.injector.get(AF,!1))if(n)n(e.concat(l).concat({provide:s,useValue:!0}));else{const h=e.concat(l).concat({provide:s,useValue:!0},{provide:Au,useValue:"platform"});!function(n){if(ra&&!ra.destroyed&&!ra.injector.get(AF,!1))throw new Error("There can be only one platform. Destroy the previous one to create a new one.");ra=n.get(FF);const t=n.get(CF,null);t&&t.forEach(e=>e())}(Et.create({providers:h,name:i}))}return function(n){const t=MF();if(!t)throw new Error("No platform exists!");if(!t.injector.get(n,null))throw new Error("A platform with a different configuration has been created. Please destroy it first.");return t}(s)}}function MF(){return ra&&!ra.destroyed?ra:null}let FF=(()=>{class n{constructor(e){this._injector=e,this._modules=[],this._destroyListeners=[],this._destroyed=!1}bootstrapModuleFactory(e,i){const h=function(n,t){let e;return e="noop"===n?new T2:("zone.js"===n?void 0:n)||new di({enableLongStackTrace:(RF=!0,PF),shouldCoalesceEventChangeDetection:!!(null==t?void 0:t.ngZoneEventCoalescing),shouldCoalesceRunChangeDetection:!!(null==t?void 0:t.ngZoneRunCoalescing)}),e}(i?i.ngZone:void 0,{ngZoneEventCoalescing:i&&i.ngZoneEventCoalescing||!1,ngZoneRunCoalescing:i&&i.ngZoneRunCoalescing||!1}),g=[{provide:di,useValue:h}];return h.run(()=>{const v=Et.create({providers:g,parent:this.injector,name:e.moduleType.name}),m=e.create(v),_=m.injector.get(Va,null);if(!_)throw new Error("No ErrorHandler. Is platform module (BrowserModule) included?");return h.runOutsideAngular(()=>{const b=h.onError.subscribe({next:C=>{_.handleError(C)}});m.onDestroy(()=>{IO(this._modules,m),b.unsubscribe()})}),function(n,t,e){try{const i=e();return Ed(i)?i.catch(s=>{throw t.runOutsideAngular(()=>n.handleError(s)),s}):i}catch(i){throw t.runOutsideAngular(()=>n.handleError(i)),i}}(_,h,()=>{const b=m.injector.get(gf);return b.runInitializers(),b.donePromise.then(()=>(Bx(m.injector.get(ec,ow)||ow),this._moduleDoBootstrap(m),m))})})}bootstrapModule(e,i=[]){const s=NF({},i);return function(n,t,e){const i=new cO(e);return Promise.resolve(i)}(0,0,e).then(l=>this.bootstrapModuleFactory(l,s))}_moduleDoBootstrap(e){const i=e.injector.get(Id);if(e._bootstrapComponents.length>0)e._bootstrapComponents.forEach(s=>i.bootstrap(s));else{if(!e.instance.ngDoBootstrap)throw new Error(`The module ${Ct(e.instance.constructor)} was bootstrapped, but it does not declare "@NgModule.bootstrap" components nor a "ngDoBootstrap" method. Please define one of these.`);e.instance.ngDoBootstrap(i)}this._modules.push(e)}onDestroy(e){this._destroyListeners.push(e)}get injector(){return this._injector}destroy(){if(this._destroyed)throw new Error("The platform has already been destroyed!");this._modules.slice().forEach(e=>e.destroy()),this._destroyListeners.forEach(e=>e()),this._destroyed=!0}get destroyed(){return this._destroyed}}return n.\u0275fac=function(e){return new(e||n)(Se(Et))},n.\u0275prov=Xe({token:n,factory:n.\u0275fac}),n})();function NF(n,t){return Array.isArray(t)?t.reduce(NF,n):Object.assign(Object.assign({},n),t)}let Id=(()=>{class n{constructor(e,i,s,l,p){this._zone=e,this._injector=i,this._exceptionHandler=s,this._componentFactoryResolver=l,this._initStatus=p,this._bootstrapListeners=[],this._views=[],this._runningTick=!1,this._stable=!0,this.componentTypes=[],this.components=[],this._onMicrotaskEmptySubscription=this._zone.onMicrotaskEmpty.subscribe({next:()=>{this._zone.run(()=>{this.tick()})}});const h=new ni(v=>{this._stable=this._zone.isStable&&!this._zone.hasPendingMacrotasks&&!this._zone.hasPendingMicrotasks,this._zone.runOutsideAngular(()=>{v.next(this._stable),v.complete()})}),g=new ni(v=>{let m;this._zone.runOutsideAngular(()=>{m=this._zone.onStable.subscribe(()=>{di.assertNotInAngularZone(),xO(()=>{!this._stable&&!this._zone.hasPendingMacrotasks&&!this._zone.hasPendingMicrotasks&&(this._stable=!0,v.next(!0))})})});const _=this._zone.onUnstable.subscribe(()=>{di.assertInAngularZone(),this._stable&&(this._stable=!1,this._zone.runOutsideAngular(()=>{v.next(!1)}))});return()=>{m.unsubscribe(),_.unsubscribe()}});this.isStable=function(...n){let t=Number.POSITIVE_INFINITY,e=null,i=n[n.length-1];return zn(i)?(e=n.pop(),n.length>1&&"number"==typeof n[n.length-1]&&(t=n.pop())):"number"==typeof i&&(t=n.pop()),null===e&&1===n.length&&n[0]instanceof ni?n[0]:ya(t)(Xl(n,e))}(h,g.pipe(n=>eg()(function(n,t){return function(i){let s;s="function"==typeof n?n:function(){return n};const l=Object.create(i,Mi);return l.source=i,l.subjectFactory=s,l}}(rg)(n))))}bootstrap(e,i){if(!this._initStatus.done)throw new Error("Cannot bootstrap as there are still asynchronous initializers running. Bootstrap components in the `ngDoBootstrap` method of the root module.");let s;s=e instanceof uM?e:this._componentFactoryResolver.resolveComponentFactory(e),this.componentTypes.push(s.componentType);const l=function(n){return n.isBoundToModule}(s)?void 0:this._injector.get($a),h=s.create(Et.NULL,[],i||s.selector,l),g=h.location.nativeElement,v=h.injector.get(RO,null),m=v&&h.injector.get(OF);return v&&m&&m.registerApplication(g,v),h.onDestroy(()=>{this.detachView(h.hostView),IO(this.components,h),m&&m.unregisterApplication(g)}),this._loadComponent(h),h}tick(){if(this._runningTick)throw new Error("ApplicationRef.tick is called recursively");try{this._runningTick=!0;for(let e of this._views)e.detectChanges()}catch(e){this._zone.runOutsideAngular(()=>this._exceptionHandler.handleError(e))}finally{this._runningTick=!1}}attachView(e){const i=e;this._views.push(i),i.attachToAppRef(this)}detachView(e){const i=e;IO(this._views,i),i.detachFromAppRef()}_loadComponent(e){this.attachView(e.hostView),this.tick(),this.components.push(e),this._injector.get(wF,[]).concat(this._bootstrapListeners).forEach(s=>s(e))}ngOnDestroy(){this._views.slice().forEach(e=>e.destroy()),this._onMicrotaskEmptySubscription.unsubscribe()}get viewCount(){return this._views.length}}return n.\u0275fac=function(e){return new(e||n)(Se(di),Se(Et),Se(Va),Se(Ua),Se(gf))},n.\u0275prov=Xe({token:n,factory:n.\u0275fac}),n})();function IO(n,t){const e=n.indexOf(t);e>-1&&n.splice(e,1)}class ww{}class $2{}const Y2={factoryPathPrefix:"",factoryPathSuffix:".ngfactory"};let K2=(()=>{class n{constructor(e,i){this._compiler=e,this._config=i||Y2}load(e){return this.loadAndCompile(e)}loadAndCompile(e){let[i,s]=e.split("#");return void 0===s&&(s="default"),Z(8255)(i).then(l=>l[s]).then(l=>GF(l,i,s)).then(l=>this._compiler.compileModuleAsync(l))}loadFactory(e){let[i,s]=e.split("#"),l="NgFactory";return void 0===s&&(s="default",l=""),Z(8255)(this._config.factoryPathPrefix+i+this._config.factoryPathSuffix).then(p=>p[s+l]).then(p=>GF(p,i,s))}}return n.\u0275fac=function(e){return new(e||n)(Se(Ad),Se($2,8))},n.\u0275prov=Xe({token:n,factory:n.\u0275fac}),n})();function GF(n,t,e){if(!n)throw new Error(`Cannot find '${e}' in '${t}'`);return n}const rU=IF(null,"core",[{provide:Hy,useValue:"unknown"},{provide:FF,deps:[Et]},{provide:OF,deps:[]},{provide:bw,deps:[]}]),uU=[{provide:Id,useClass:Id,deps:[di,Et,Va,Ua,gf]},{provide:pW,deps:[di],useFactory:function(n){let t=[];return n.onStable.subscribe(()=>{for(;t.length;)t.pop()()}),function(e){t.push(e)}}},{provide:gf,useClass:gf,deps:[[new Br,ky]]},{provide:Ad,useClass:Ad,deps:[]},v2,{provide:Sy,useFactory:function(){return sj},deps:[]},{provide:af,useFactory:function(){return aj},deps:[]},{provide:ec,useFactory:function(n){return Bx(n=n||"undefined"!=typeof $localize&&$localize.locale||ow),n},deps:[[new vl(ec),new Br,new ls]]},{provide:DF,useValue:"USD"}];let dU=(()=>{class n{constructor(e){}}return n.\u0275fac=function(e){return new(e||n)(Se(Id))},n.\u0275mod=si({type:n}),n.\u0275inj=Vt({providers:uU}),n})(),Iw=null;function Ya(){return Iw}const On=new Pt("DocumentToken");let Nd=(()=>{class n{historyGo(e){throw new Error("Not implemented")}}return n.\u0275fac=function(e){return new(e||n)},n.\u0275prov=Xe({factory:d3,token:n,providedIn:"platform"}),n})();function d3(){return Se(u1)}const p3=new Pt("Location Initialized");let u1=(()=>{class n extends Nd{constructor(e){super(),this._doc=e,this._init()}_init(){this.location=window.location,this._history=window.history}getBaseHrefFromDOM(){return Ya().getBaseHref(this._doc)}onPopState(e){const i=Ya().getGlobalEventTarget(this._doc,"window");return i.addEventListener("popstate",e,!1),()=>i.removeEventListener("popstate",e)}onHashChange(e){const i=Ya().getGlobalEventTarget(this._doc,"window");return i.addEventListener("hashchange",e,!1),()=>i.removeEventListener("hashchange",e)}get href(){return this.location.href}get protocol(){return this.location.protocol}get hostname(){return this.location.hostname}get port(){return this.location.port}get pathname(){return this.location.pathname}get search(){return this.location.search}get hash(){return this.location.hash}set pathname(e){this.location.pathname=e}pushState(e,i,s){c1()?this._history.pushState(e,i,s):this.location.hash=s}replaceState(e,i,s){c1()?this._history.replaceState(e,i,s):this.location.hash=s}forward(){this._history.forward()}back(){this._history.back()}historyGo(e=0){this._history.go(e)}getState(){return this._history.state}}return n.\u0275fac=function(e){return new(e||n)(Se(On))},n.\u0275prov=Xe({factory:h3,token:n,providedIn:"platform"}),n})();function c1(){return!!window.history.pushState}function h3(){return new u1(Se(On))}function YO(n,t){if(0==n.length)return t;if(0==t.length)return n;let e=0;return n.endsWith("/")&&e++,t.startsWith("/")&&e++,2==e?n+t.substring(1):1==e?n+t:n+"/"+t}function d1(n){const t=n.match(/#|\?|$/),e=t&&t.index||n.length;return n.slice(0,e-("/"===n[e-1]?1:0))+n.slice(e)}function Fl(n){return n&&"?"!==n[0]?"?"+n:n}let mf=(()=>{class n{historyGo(e){throw new Error("Not implemented")}}return n.\u0275fac=function(e){return new(e||n)},n.\u0275prov=Xe({factory:f3,token:n,providedIn:"root"}),n})();function f3(n){const t=Se(On).location;return new p1(Se(Nd),t&&t.origin||"")}const KO=new Pt("appBaseHref");let p1=(()=>{class n extends mf{constructor(e,i){if(super(),this._platformLocation=e,this._removeListenerFns=[],null==i&&(i=this._platformLocation.getBaseHrefFromDOM()),null==i)throw new Error("No base href set. Please provide a value for the APP_BASE_HREF token or add a base element to the document.");this._baseHref=i}ngOnDestroy(){for(;this._removeListenerFns.length;)this._removeListenerFns.pop()()}onPopState(e){this._removeListenerFns.push(this._platformLocation.onPopState(e),this._platformLocation.onHashChange(e))}getBaseHref(){return this._baseHref}prepareExternalUrl(e){return YO(this._baseHref,e)}path(e=!1){const i=this._platformLocation.pathname+Fl(this._platformLocation.search),s=this._platformLocation.hash;return s&&e?`${i}${s}`:i}pushState(e,i,s,l){const p=this.prepareExternalUrl(s+Fl(l));this._platformLocation.pushState(e,i,p)}replaceState(e,i,s,l){const p=this.prepareExternalUrl(s+Fl(l));this._platformLocation.replaceState(e,i,p)}forward(){this._platformLocation.forward()}back(){this._platformLocation.back()}historyGo(e=0){var i,s;null===(s=(i=this._platformLocation).historyGo)||void 0===s||s.call(i,e)}}return n.\u0275fac=function(e){return new(e||n)(Se(Nd),Se(KO,8))},n.\u0275prov=Xe({token:n,factory:n.\u0275fac}),n})(),g3=(()=>{class n extends mf{constructor(e,i){super(),this._platformLocation=e,this._baseHref="",this._removeListenerFns=[],null!=i&&(this._baseHref=i)}ngOnDestroy(){for(;this._removeListenerFns.length;)this._removeListenerFns.pop()()}onPopState(e){this._removeListenerFns.push(this._platformLocation.onPopState(e),this._platformLocation.onHashChange(e))}getBaseHref(){return this._baseHref}path(e=!1){let i=this._platformLocation.hash;return null==i&&(i="#"),i.length>0?i.substring(1):i}prepareExternalUrl(e){const i=YO(this._baseHref,e);return i.length>0?"#"+i:i}pushState(e,i,s,l){let p=this.prepareExternalUrl(s+Fl(l));0==p.length&&(p=this._platformLocation.pathname),this._platformLocation.pushState(e,i,p)}replaceState(e,i,s,l){let p=this.prepareExternalUrl(s+Fl(l));0==p.length&&(p=this._platformLocation.pathname),this._platformLocation.replaceState(e,i,p)}forward(){this._platformLocation.forward()}back(){this._platformLocation.back()}historyGo(e=0){var i,s;null===(s=(i=this._platformLocation).historyGo)||void 0===s||s.call(i,e)}}return n.\u0275fac=function(e){return new(e||n)(Se(Nd),Se(KO,8))},n.\u0275prov=Xe({token:n,factory:n.\u0275fac}),n})(),Mw=(()=>{class n{constructor(e,i){this._subject=new Q,this._urlChangeListeners=[],this._platformStrategy=e;const s=this._platformStrategy.getBaseHref();this._platformLocation=i,this._baseHref=d1(h1(s)),this._platformStrategy.onPopState(l=>{this._subject.emit({url:this.path(!0),pop:!0,state:l.state,type:l.type})})}path(e=!1){return this.normalize(this._platformStrategy.path(e))}getState(){return this._platformLocation.getState()}isCurrentPathEqualTo(e,i=""){return this.path()==this.normalize(e+Fl(i))}normalize(e){return n.stripTrailingSlash(function(n,t){return n&&t.startsWith(n)?t.substring(n.length):t}(this._baseHref,h1(e)))}prepareExternalUrl(e){return e&&"/"!==e[0]&&(e="/"+e),this._platformStrategy.prepareExternalUrl(e)}go(e,i="",s=null){this._platformStrategy.pushState(s,"",e,i),this._notifyUrlChangeListeners(this.prepareExternalUrl(e+Fl(i)),s)}replaceState(e,i="",s=null){this._platformStrategy.replaceState(s,"",e,i),this._notifyUrlChangeListeners(this.prepareExternalUrl(e+Fl(i)),s)}forward(){this._platformStrategy.forward()}back(){this._platformStrategy.back()}historyGo(e=0){var i,s;null===(s=(i=this._platformStrategy).historyGo)||void 0===s||s.call(i,e)}onUrlChange(e){this._urlChangeListeners.push(e),this._urlChangeSubscription||(this._urlChangeSubscription=this.subscribe(i=>{this._notifyUrlChangeListeners(i.url,i.state)}))}_notifyUrlChangeListeners(e="",i){this._urlChangeListeners.forEach(s=>s(e,i))}subscribe(e,i,s){return this._subject.subscribe({next:e,error:i,complete:s})}}return n.\u0275fac=function(e){return new(e||n)(Se(mf),Se(Nd))},n.normalizeQueryParams=Fl,n.joinWithSlash=YO,n.stripTrailingSlash=d1,n.\u0275prov=Xe({factory:v3,token:n,providedIn:"root"}),n})();function v3(){return new Mw(Se(mf),Se(Nd))}function h1(n){return n.replace(/\/index.html$/,"")}var Hn=(()=>((Hn=Hn||{})[Hn.Zero=0]="Zero",Hn[Hn.One=1]="One",Hn[Hn.Two=2]="Two",Hn[Hn.Few=3]="Few",Hn[Hn.Many=4]="Many",Hn[Hn.Other=5]="Other",Hn))();const S3=function(n){return function(n){const t=function(n){return n.toLowerCase().replace(/_/g,"-")}(n);let e=VI(t);if(e)return e;const i=t.split("-")[0];if(e=VI(i),e)return e;if("en"===i)return HH;throw new Error(`Missing locale data for the locale "${n}".`)}(n)[Ne.PluralCase]};class Ww{}let J3=(()=>{class n extends Ww{constructor(e){super(),this.locale=e}getPluralCategory(e,i){switch(S3(i||this.locale)(e)){case Hn.Zero:return"zero";case Hn.One:return"one";case Hn.Two:return"two";case Hn.Few:return"few";case Hn.Many:return"many";default:return"other"}}}return n.\u0275fac=function(e){return new(e||n)(Se(ec))},n.\u0275prov=Xe({token:n,factory:n.\u0275fac}),n})(),Uo=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=si({type:n}),n.\u0275inj=Vt({providers:[{provide:Ww,useClass:J3}]}),n})();const x1="browser";let P1=(()=>{class n{}return n.\u0275prov=Xe({token:n,providedIn:"root",factory:()=>new Mz(Se(On),window)}),n})();class Mz{constructor(t,e){this.document=t,this.window=e,this.offset=()=>[0,0]}setOffset(t){this.offset=Array.isArray(t)?()=>t:t}getScrollPosition(){return this.supportsScrolling()?[this.window.pageXOffset,this.window.pageYOffset]:[0,0]}scrollToPosition(t){this.supportsScrolling()&&this.window.scrollTo(t[0],t[1])}scrollToAnchor(t){if(!this.supportsScrolling())return;const e=function(n,t){const e=n.getElementById(t)||n.getElementsByName(t)[0];if(e)return e;if("function"==typeof n.createTreeWalker&&n.body&&(n.body.createShadowRoot||n.body.attachShadow)){const i=n.createTreeWalker(n.body,NodeFilter.SHOW_ELEMENT);let s=i.currentNode;for(;s;){const l=s.shadowRoot;if(l){const p=l.getElementById(t)||l.querySelector(`[name="${t}"]`);if(p)return p}s=i.nextNode()}}return null}(this.document,t);e&&(this.scrollToElement(e),this.attemptFocus(e))}setHistoryScrollRestoration(t){if(this.supportScrollRestoration()){const e=this.window.history;e&&e.scrollRestoration&&(e.scrollRestoration=t)}}scrollToElement(t){const e=t.getBoundingClientRect(),i=e.left+this.window.pageXOffset,s=e.top+this.window.pageYOffset,l=this.offset();this.window.scrollTo(i-l[0],s-l[1])}attemptFocus(t){return t.focus(),this.document.activeElement===t}supportScrollRestoration(){try{if(!this.supportsScrolling())return!1;const t=R1(this.window.history)||R1(Object.getPrototypeOf(this.window.history));return!(!t||!t.writable&&!t.set)}catch(t){return!1}}supportsScrolling(){try{return!!this.window&&!!this.window.scrollTo&&"pageXOffset"in this.window}catch(t){return!1}}}function R1(n){return Object.getOwnPropertyDescriptor(n,"scrollRestoration")}class aP extends class extends class{}{constructor(){super(...arguments),this.supportsDOMEvents=!0}}{static makeCurrent(){!function(n){Iw||(Iw=n)}(new aP)}onAndCancel(t,e,i){return t.addEventListener(e,i,!1),()=>{t.removeEventListener(e,i,!1)}}dispatchEvent(t,e){t.dispatchEvent(e)}remove(t){t.parentNode&&t.parentNode.removeChild(t)}createElement(t,e){return(e=e||this.getDefaultDocument()).createElement(t)}createHtmlDocument(){return document.implementation.createHTMLDocument("fakeTitle")}getDefaultDocument(){return document}isElementNode(t){return t.nodeType===Node.ELEMENT_NODE}isShadowRoot(t){return t instanceof DocumentFragment}getGlobalEventTarget(t,e){return"window"===e?window:"document"===e?t:"body"===e?t.body:null}getBaseHref(t){const e=(qy=qy||document.querySelector("base"),qy?qy.getAttribute("href"):null);return null==e?null:function(n){Uw=Uw||document.createElement("a"),Uw.setAttribute("href",n);const t=Uw.pathname;return"/"===t.charAt(0)?t:`/${t}`}(e)}resetBaseElement(){qy=null}getUserAgent(){return window.navigator.userAgent}getCookie(t){return function(n,t){t=encodeURIComponent(t);for(const e of n.split(";")){const i=e.indexOf("="),[s,l]=-1==i?[e,""]:[e.slice(0,i),e.slice(i+1)];if(s.trim()===t)return decodeURIComponent(l)}return null}(document.cookie,t)}}let Uw,qy=null;const T1=new Pt("TRANSITION_ID"),Hz=[{provide:ky,useFactory:function(n,t,e){return()=>{e.get(gf).donePromise.then(()=>{const i=Ya(),s=t.querySelectorAll(`style[ng-transition="${n}"]`);for(let l=0;l<s.length;l++)i.remove(s[l])})}},deps:[T1,On,Et],multi:!0}];class lP{static init(){!function(n){TO=n}(new lP)}addToWindow(t){oi.getAngularTestability=(i,s=!0)=>{const l=t.findTestabilityInTree(i,s);if(null==l)throw new Error("Could not find testability for element.");return l},oi.getAllAngularTestabilities=()=>t.getAllTestabilities(),oi.getAllAngularRootElements=()=>t.getAllRootElements(),oi.frameworkStabilizers||(oi.frameworkStabilizers=[]),oi.frameworkStabilizers.push(i=>{const s=oi.getAllAngularTestabilities();let l=s.length,p=!1;const h=function(g){p=p||g,l--,0==l&&i(p)};s.forEach(function(g){g.whenStable(h)})})}findTestabilityInTree(t,e,i){if(null==e)return null;const s=t.getTestability(e);return null!=s?s:i?Ya().isShadowRoot(e)?this.findTestabilityInTree(t,e.host,!0):this.findTestabilityInTree(t,e.parentElement,!0):null}}let Bz=(()=>{class n{build(){return new XMLHttpRequest}}return n.\u0275fac=function(e){return new(e||n)},n.\u0275prov=Xe({token:n,factory:n.\u0275fac}),n})();const Zy=new Pt("EventManagerPlugins");let $w=(()=>{class n{constructor(e,i){this._zone=i,this._eventNameToPlugin=new Map,e.forEach(s=>s.manager=this),this._plugins=e.slice().reverse()}addEventListener(e,i,s){return this._findPluginFor(i).addEventListener(e,i,s)}addGlobalEventListener(e,i,s){return this._findPluginFor(i).addGlobalEventListener(e,i,s)}getZone(){return this._zone}_findPluginFor(e){const i=this._eventNameToPlugin.get(e);if(i)return i;const s=this._plugins;for(let l=0;l<s.length;l++){const p=s[l];if(p.supports(e))return this._eventNameToPlugin.set(e,p),p}throw new Error(`No event manager plugin found for event ${e}`)}}return n.\u0275fac=function(e){return new(e||n)(Se(Zy),Se(di))},n.\u0275prov=Xe({token:n,factory:n.\u0275fac}),n})();class uP{constructor(t){this._doc=t}addGlobalEventListener(t,e,i){const s=Ya().getGlobalEventTarget(this._doc,t);if(!s)throw new Error(`Unsupported event target ${s} for event ${e}`);return this.addEventListener(s,e,i)}}let I1=(()=>{class n{constructor(){this._stylesSet=new Set}addStyles(e){const i=new Set;e.forEach(s=>{this._stylesSet.has(s)||(this._stylesSet.add(s),i.add(s))}),this.onStylesAdded(i)}onStylesAdded(e){}getAllStyles(){return Array.from(this._stylesSet)}}return n.\u0275fac=function(e){return new(e||n)},n.\u0275prov=Xe({token:n,factory:n.\u0275fac}),n})(),Qy=(()=>{class n extends I1{constructor(e){super(),this._doc=e,this._hostNodes=new Map,this._hostNodes.set(e.head,[])}_addStylesToHost(e,i,s){e.forEach(l=>{const p=this._doc.createElement("style");p.textContent=l,s.push(i.appendChild(p))})}addHost(e){const i=[];this._addStylesToHost(this._stylesSet,e,i),this._hostNodes.set(e,i)}removeHost(e){const i=this._hostNodes.get(e);i&&i.forEach(M1),this._hostNodes.delete(e)}onStylesAdded(e){this._hostNodes.forEach((i,s)=>{this._addStylesToHost(e,s,i)})}ngOnDestroy(){this._hostNodes.forEach(e=>e.forEach(M1))}}return n.\u0275fac=function(e){return new(e||n)(Se(On))},n.\u0275prov=Xe({token:n,factory:n.\u0275fac}),n})();function M1(n){Ya().remove(n)}const cP={svg:"http://www.w3.org/2000/svg",xhtml:"http://www.w3.org/1999/xhtml",xlink:"http://www.w3.org/1999/xlink",xml:"http://www.w3.org/XML/1998/namespace",xmlns:"http://www.w3.org/2000/xmlns/"},dP=/%COMP%/g;function Yw(n,t,e){for(let i=0;i<t.length;i++){let s=t[i];Array.isArray(s)?Yw(n,s,e):(s=s.replace(dP,n),e.push(s))}return e}function L1(n){return t=>{if("__ngUnwrap__"===t)return n;!1===n(t)&&(t.preventDefault(),t.returnValue=!1)}}let pP=(()=>{class n{constructor(e,i,s){this.eventManager=e,this.sharedStylesHost=i,this.appId=s,this.rendererByCompId=new Map,this.defaultRenderer=new hP(e)}createRenderer(e,i){if(!e||!i)return this.defaultRenderer;switch(i.encapsulation){case mn.Emulated:{let s=this.rendererByCompId.get(i.id);return s||(s=new i5(this.eventManager,this.sharedStylesHost,i,this.appId),this.rendererByCompId.set(i.id,s)),s.applyToHost(e),s}case 1:case mn.ShadowDom:return new n5(this.eventManager,this.sharedStylesHost,e,i);default:if(!this.rendererByCompId.has(i.id)){const s=Yw(i.id,i.styles,[]);this.sharedStylesHost.addStyles(s),this.rendererByCompId.set(i.id,this.defaultRenderer)}return this.defaultRenderer}}begin(){}end(){}}return n.\u0275fac=function(e){return new(e||n)(Se($w),Se(Qy),Se(Gy))},n.\u0275prov=Xe({token:n,factory:n.\u0275fac}),n})();class hP{constructor(t){this.eventManager=t,this.data=Object.create(null)}destroy(){}createElement(t,e){return e?document.createElementNS(cP[e]||e,t):document.createElement(t)}createComment(t){return document.createComment(t)}createText(t){return document.createTextNode(t)}appendChild(t,e){t.appendChild(e)}insertBefore(t,e,i){t&&t.insertBefore(e,i)}removeChild(t,e){t&&t.removeChild(e)}selectRootElement(t,e){let i="string"==typeof t?document.querySelector(t):t;if(!i)throw new Error(`The selector "${t}" did not match any elements`);return e||(i.textContent=""),i}parentNode(t){return t.parentNode}nextSibling(t){return t.nextSibling}setAttribute(t,e,i,s){if(s){e=s+":"+e;const l=cP[s];l?t.setAttributeNS(l,e,i):t.setAttribute(e,i)}else t.setAttribute(e,i)}removeAttribute(t,e,i){if(i){const s=cP[i];s?t.removeAttributeNS(s,e):t.removeAttribute(`${i}:${e}`)}else t.removeAttribute(e)}addClass(t,e){t.classList.add(e)}removeClass(t,e){t.classList.remove(e)}setStyle(t,e,i,s){s&(Jn.DashCase|Jn.Important)?t.style.setProperty(e,i,s&Jn.Important?"important":""):t.style[e]=i}removeStyle(t,e,i){i&Jn.DashCase?t.style.removeProperty(e):t.style[e]=""}setProperty(t,e,i){t[e]=i}setValue(t,e){t.nodeValue=e}listen(t,e,i){return"string"==typeof t?this.eventManager.addGlobalEventListener(t,e,L1(i)):this.eventManager.addEventListener(t,e,L1(i))}}class i5 extends hP{constructor(t,e,i,s){super(t),this.component=i;const l=Yw(s+"-"+i.id,i.styles,[]);e.addStyles(l),this.contentAttr=function(n){return"_ngcontent-%COMP%".replace(dP,n)}(s+"-"+i.id),this.hostAttr=function(n){return"_nghost-%COMP%".replace(dP,n)}(s+"-"+i.id)}applyToHost(t){super.setAttribute(t,this.hostAttr,"")}createElement(t,e){const i=super.createElement(t,e);return super.setAttribute(i,this.contentAttr,""),i}}class n5 extends hP{constructor(t,e,i,s){super(t),this.sharedStylesHost=e,this.hostEl=i,this.shadowRoot=i.attachShadow({mode:"open"}),this.sharedStylesHost.addHost(this.shadowRoot);const l=Yw(s.id,s.styles,[]);for(let p=0;p<l.length;p++){const h=document.createElement("style");h.textContent=l[p],this.shadowRoot.appendChild(h)}}nodeOrShadowRoot(t){return t===this.hostEl?this.shadowRoot:t}destroy(){this.sharedStylesHost.removeHost(this.shadowRoot)}appendChild(t,e){return super.appendChild(this.nodeOrShadowRoot(t),e)}insertBefore(t,e,i){return super.insertBefore(this.nodeOrShadowRoot(t),e,i)}removeChild(t,e){return super.removeChild(this.nodeOrShadowRoot(t),e)}parentNode(t){return this.nodeOrShadowRoot(super.parentNode(this.nodeOrShadowRoot(t)))}}let r5=(()=>{class n extends uP{constructor(e){super(e)}supports(e){return!0}addEventListener(e,i,s){return e.addEventListener(i,s,!1),()=>this.removeEventListener(e,i,s)}removeEventListener(e,i,s){return e.removeEventListener(i,s)}}return n.\u0275fac=function(e){return new(e||n)(Se(On))},n.\u0275prov=Xe({token:n,factory:n.\u0275fac}),n})();const G1=["alt","control","meta","shift"],d5={"\b":"Backspace","\t":"Tab","\x7f":"Delete","\x1b":"Escape",Del:"Delete",Esc:"Escape",Left:"ArrowLeft",Right:"ArrowRight",Up:"ArrowUp",Down:"ArrowDown",Menu:"ContextMenu",Scroll:"ScrollLock",Win:"OS"},H1={A:"1",B:"2",C:"3",D:"4",E:"5",F:"6",G:"7",H:"8",I:"9",J:"*",K:"+",M:"-",N:".",O:"/","`":"0","\x90":"NumLock"},p5={alt:n=>n.altKey,control:n=>n.ctrlKey,meta:n=>n.metaKey,shift:n=>n.shiftKey};let h5=(()=>{class n extends uP{constructor(e){super(e)}supports(e){return null!=n.parseEventName(e)}addEventListener(e,i,s){const l=n.parseEventName(i),p=n.eventCallback(l.fullKey,s,this.manager.getZone());return this.manager.getZone().runOutsideAngular(()=>Ya().onAndCancel(e,l.domEventName,p))}static parseEventName(e){const i=e.toLowerCase().split("."),s=i.shift();if(0===i.length||"keydown"!==s&&"keyup"!==s)return null;const l=n._normalizeKey(i.pop());let p="";if(G1.forEach(g=>{const v=i.indexOf(g);v>-1&&(i.splice(v,1),p+=g+".")}),p+=l,0!=i.length||0===l.length)return null;const h={};return h.domEventName=s,h.fullKey=p,h}static getEventFullKey(e){let i="",s=function(n){let t=n.key;if(null==t){if(t=n.keyIdentifier,null==t)return"Unidentified";t.startsWith("U+")&&(t=String.fromCharCode(parseInt(t.substring(2),16)),3===n.location&&H1.hasOwnProperty(t)&&(t=H1[t]))}return d5[t]||t}(e);return s=s.toLowerCase()," "===s?s="space":"."===s&&(s="dot"),G1.forEach(l=>{l!=s&&p5[l](e)&&(i+=l+".")}),i+=s,i}static eventCallback(e,i,s){return l=>{n.getEventFullKey(l)===e&&s.runGuarded(()=>i(l))}}static _normalizeKey(e){switch(e){case"esc":return"escape";default:return e}}}return n.\u0275fac=function(e){return new(e||n)(Se(On))},n.\u0275prov=Xe({token:n,factory:n.\u0275fac}),n})();const C5=IF(rU,"browser",[{provide:Hy,useValue:x1},{provide:CF,useValue:function(){aP.makeCurrent(),lP.init()},multi:!0},{provide:On,useFactory:function(){return function(n){Ic=n}(document),document},deps:[]}]),w5=[[],{provide:Au,useValue:"root"},{provide:Va,useFactory:function(){return new Va},deps:[]},{provide:Zy,useClass:r5,multi:!0,deps:[On,di,Hy]},{provide:Zy,useClass:h5,multi:!0,deps:[On]},[],{provide:pP,useClass:pP,deps:[$w,Qy,Gy]},{provide:wy,useExisting:pP},{provide:I1,useExisting:Qy},{provide:Qy,useClass:Qy,deps:[On]},{provide:RO,useClass:RO,deps:[di]},{provide:$w,useClass:$w,deps:[Zy,di]},{provide:class{},useClass:Bz,deps:[]},[]];let D5=(()=>{class n{constructor(e){if(e)throw new Error("BrowserModule has already been loaded. If you need access to common directives such as NgIf and NgFor from a lazy loaded module, import CommonModule instead.")}static withServerTransition(e){return{ngModule:n,providers:[{provide:Gy,useValue:e.appId},{provide:T1,useExisting:Gy},Hz]}}}return n.\u0275fac=function(e){return new(e||n)(Se(n,12))},n.\u0275mod=si({type:n}),n.\u0275inj=Vt({providers:w5,imports:[Uo,dU]}),n})();function ht(...n){let t=n[n.length-1];return zn(t)?(n.pop(),Dc(n,t)):Xl(n)}"undefined"!=typeof window&&window;class vr extends Qi{constructor(t){super(),this._value=t}get value(){return this.getValue()}_subscribe(t){const e=super._subscribe(t);return e&&!e.closed&&t.next(this._value),e}getValue(){if(this.hasError)throw this.thrownError;if(this.closed)throw new ln;return this._value}next(t){super.next(this._value=t)}}class mP extends Ci{notifyNext(t,e,i,s,l){this.destination.next(e)}notifyError(t,e){this.destination.error(t)}notifyComplete(t){this.destination.complete()}}class A5 extends Ci{constructor(t,e,i){super(),this.parent=t,this.outerValue=e,this.outerIndex=i,this.index=0}_next(t){this.parent.notifyNext(this.outerValue,t,this.outerIndex,this.index++,this)}_error(t){this.parent.notifyError(t,this),this.unsubscribe()}_complete(){this.parent.notifyComplete(this),this.unsubscribe()}}function _P(n,t,e,i,s=new A5(n,e,i)){if(!s.closed)return t instanceof ni?t.subscribe(s):Jf(t)(s)}const j1={};class I5{constructor(t){this.resultSelector=t}call(t,e){return e.subscribe(new M5(t,this.resultSelector))}}class M5 extends mP{constructor(t,e){super(t),this.resultSelector=e,this.active=0,this.values=[],this.observables=[]}_next(t){this.values.push(j1),this.observables.push(t)}_complete(){const t=this.observables,e=t.length;if(0===e)this.destination.complete();else{this.active=e,this.toRespond=e;for(let i=0;i<e;i++)this.add(_P(this,t[i],void 0,i))}}notifyComplete(t){0==(this.active-=1)&&this.destination.complete()}notifyNext(t,e,i){const s=this.values,p=this.toRespond?s[i]===j1?--this.toRespond:this.toRespond:0;s[i]=e,0===p&&(this.resultSelector?this._tryResultSelector(s):this.destination.next(s.slice()))}_tryResultSelector(t){let e;try{e=this.resultSelector.apply(this,t)}catch(i){return void this.destination.error(i)}this.destination.next(e)}}const Kw=(()=>{function n(){return Error.call(this),this.message="no elements in sequence",this.name="EmptyError",this}return n.prototype=Object.create(Error.prototype),n})();function Xw(...n){return ya(1)(ht(...n))}const Ld=new ni(n=>n.complete());function qw(n){return n?function(n){return new ni(t=>n.schedule(()=>t.complete()))}(n):Ld}function W1(n){return new ni(t=>{let e;try{e=n()}catch(s){return void t.error(s)}return(e?$n(e):qw()).subscribe(t)})}function Ka(n,t){return"function"==typeof t?e=>e.pipe(Ka((i,s)=>$n(n(i,s)).pipe(It((l,p)=>t(i,l,s,p))))):e=>e.lift(new L5(n))}class L5{constructor(t){this.project=t}call(t,e){return e.subscribe(new V5(t,this.project))}}class V5 extends Fr{constructor(t,e){super(t),this.project=e,this.index=0}_next(t){let e;const i=this.index++;try{e=this.project(t,i)}catch(s){return void this.destination.error(s)}this._innerSub(e)}_innerSub(t){const e=this.innerSubscription;e&&e.unsubscribe();const i=new Kl(this),s=this.destination;s.add(i),this.innerSubscription=rr(t,i),this.innerSubscription!==i&&s.add(this.innerSubscription)}_complete(){const{innerSubscription:t}=this;(!t||t.closed)&&super._complete(),this.unsubscribe()}_unsubscribe(){this.innerSubscription=void 0}notifyComplete(){this.innerSubscription=void 0,this.isStopped&&super._complete()}notifyNext(t){this.destination.next(t)}}const U1=(()=>{function n(){return Error.call(this),this.message="argument out of range",this.name="ArgumentOutOfRangeError",this}return n.prototype=Object.create(Error.prototype),n})();function Es(n){return t=>0===n?qw():t.lift(new k5(n))}class k5{constructor(t){if(this.total=t,this.total<0)throw new U1}call(t,e){return e.subscribe(new G5(t,this.total))}}class G5 extends Ci{constructor(t,e){super(t),this.total=e,this.count=0}_next(t){const e=this.total,i=++this.count;i<=e&&(this.destination.next(t),i===e&&(this.destination.complete(),this.unsubscribe()))}}function z1(n,t){let e=!1;return arguments.length>=2&&(e=!0),function(s){return s.lift(new H5(n,t,e))}}class H5{constructor(t,e,i=!1){this.accumulator=t,this.seed=e,this.hasSeed=i}call(t,e){return e.subscribe(new B5(t,this.accumulator,this.seed,this.hasSeed))}}class B5 extends Ci{constructor(t,e,i,s){super(t),this.accumulator=e,this._seed=i,this.hasSeed=s,this.index=0}get seed(){return this._seed}set seed(t){this.hasSeed=!0,this._seed=t}_next(t){if(this.hasSeed)return this._tryNext(t);this.seed=t,this.destination.next(t)}_tryNext(t){const e=this.index++;let i;try{i=this.accumulator(this.seed,t,e)}catch(s){this.destination.error(s)}this.seed=i,this.destination.next(i)}}function xs(n,t){return function(i){return i.lift(new j5(n,t))}}class j5{constructor(t,e){this.predicate=t,this.thisArg=e}call(t,e){return e.subscribe(new W5(t,this.predicate,this.thisArg))}}class W5 extends Ci{constructor(t,e,i){super(t),this.predicate=e,this.thisArg=i,this.count=0}_next(t){let e;try{e=this.predicate.call(this.thisArg,t,this.count++)}catch(i){return void this.destination.error(i)}e&&this.destination.next(t)}}function Vd(n){return function(e){const i=new U5(n),s=e.lift(i);return i.caught=s}}class U5{constructor(t){this.selector=t}call(t,e){return e.subscribe(new z5(t,this.selector,this.caught))}}class z5 extends Fr{constructor(t,e,i){super(t),this.selector=e,this.caught=i}error(t){if(!this.isStopped){let e;try{e=this.selector(t,this.caught)}catch(l){return void super.error(l)}this._unsubscribeAndRecycle();const i=new Kl(this);this.add(i);const s=rr(e,i);s!==i&&this.add(s)}}}function Jy(n,t){return Yn(n,t,1)}function CP(n){return function(e){return 0===n?qw():e.lift(new $5(n))}}class $5{constructor(t){if(this.total=t,this.total<0)throw new U1}call(t,e){return e.subscribe(new Y5(t,this.total))}}class Y5 extends Ci{constructor(t,e){super(t),this.total=e,this.ring=new Array,this.count=0}_next(t){const e=this.ring,i=this.total,s=this.count++;e.length<i?e.push(t):e[s%i]=t}_complete(){const t=this.destination;let e=this.count;if(e>0){const i=this.count>=this.total?this.total:this.count,s=this.ring;for(let l=0;l<i;l++){const p=e++%i;t.next(s[p])}}t.complete()}}function $1(n=q5){return t=>t.lift(new K5(n))}class K5{constructor(t){this.errorFactory=t}call(t,e){return e.subscribe(new X5(t,this.errorFactory))}}class X5 extends Ci{constructor(t,e){super(t),this.errorFactory=e,this.hasValue=!1}_next(t){this.hasValue=!0,this.destination.next(t)}_complete(){if(this.hasValue)return this.destination.complete();{let t;try{t=this.errorFactory()}catch(e){t=e}this.destination.error(t)}}}function q5(){return new Kw}function Y1(n=null){return t=>t.lift(new Z5(n))}class Z5{constructor(t){this.defaultValue=t}call(t,e){return e.subscribe(new Q5(t,this.defaultValue))}}class Q5 extends Ci{constructor(t,e){super(t),this.defaultValue=e,this.isEmpty=!0}_next(t){this.isEmpty=!1,this.destination.next(t)}_complete(){this.isEmpty&&this.destination.next(this.defaultValue),this.destination.complete()}}function _f(n,t){const e=arguments.length>=2;return i=>i.pipe(n?xs((s,l)=>n(s,l,i)):Jt,Es(1),e?Y1(t):$1(()=>new Kw))}function Ll(){}function po(n,t,e){return function(s){return s.lift(new e$(n,t,e))}}class e${constructor(t,e,i){this.nextOrObserver=t,this.error=e,this.complete=i}call(t,e){return e.subscribe(new t$(t,this.nextOrObserver,this.error,this.complete))}}class t$ extends Ci{constructor(t,e,i,s){super(t),this._tapNext=Ll,this._tapError=Ll,this._tapComplete=Ll,this._tapError=i||Ll,this._tapComplete=s||Ll,_r(e)?(this._context=this,this._tapNext=e):e&&(this._context=e,this._tapNext=e.next||Ll,this._tapError=e.error||Ll,this._tapComplete=e.complete||Ll)}_next(t){try{this._tapNext.call(this._context,t)}catch(e){return void this.destination.error(e)}this.destination.next(t)}_error(t){try{this._tapError.call(this._context,t)}catch(e){return void this.destination.error(e)}this.destination.error(t)}_complete(){try{this._tapComplete.call(this._context)}catch(t){return void this.destination.error(t)}return this.destination.complete()}}class n${constructor(t){this.callback=t}call(t,e){return e.subscribe(new r$(t,this.callback))}}class r$ extends Ci{constructor(t,e){super(t),this.add(new ji(e))}}class Vl{constructor(t,e){this.id=t,this.url=e}}class wP extends Vl{constructor(t,e,i="imperative",s=null){super(t,e),this.navigationTrigger=i,this.restoredState=s}toString(){return`NavigationStart(id: ${this.id}, url: '${this.url}')`}}class em extends Vl{constructor(t,e,i){super(t,e),this.urlAfterRedirects=i}toString(){return`NavigationEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}')`}}class K1 extends Vl{constructor(t,e,i){super(t,e),this.reason=i}toString(){return`NavigationCancel(id: ${this.id}, url: '${this.url}')`}}class o$ extends Vl{constructor(t,e,i){super(t,e),this.error=i}toString(){return`NavigationError(id: ${this.id}, url: '${this.url}', error: ${this.error})`}}class s$ extends Vl{constructor(t,e,i,s){super(t,e),this.urlAfterRedirects=i,this.state=s}toString(){return`RoutesRecognized(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class a$ extends Vl{constructor(t,e,i,s){super(t,e),this.urlAfterRedirects=i,this.state=s}toString(){return`GuardsCheckStart(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class l$ extends Vl{constructor(t,e,i,s,l){super(t,e),this.urlAfterRedirects=i,this.state=s,this.shouldActivate=l}toString(){return`GuardsCheckEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state}, shouldActivate: ${this.shouldActivate})`}}class u$ extends Vl{constructor(t,e,i,s){super(t,e),this.urlAfterRedirects=i,this.state=s}toString(){return`ResolveStart(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class c$ extends Vl{constructor(t,e,i,s){super(t,e),this.urlAfterRedirects=i,this.state=s}toString(){return`ResolveEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class X1{constructor(t){this.route=t}toString(){return`RouteConfigLoadStart(path: ${this.route.path})`}}class q1{constructor(t){this.route=t}toString(){return`RouteConfigLoadEnd(path: ${this.route.path})`}}class d${constructor(t){this.snapshot=t}toString(){return`ChildActivationStart(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class p${constructor(t){this.snapshot=t}toString(){return`ChildActivationEnd(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class h${constructor(t){this.snapshot=t}toString(){return`ActivationStart(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class f${constructor(t){this.snapshot=t}toString(){return`ActivationEnd(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class Z1{constructor(t,e,i){this.routerEvent=t,this.position=e,this.anchor=i}toString(){return`Scroll(anchor: '${this.anchor}', position: '${this.position?`${this.position[0]}, ${this.position[1]}`:null}')`}}const Nt="primary";class g${constructor(t){this.params=t||{}}has(t){return Object.prototype.hasOwnProperty.call(this.params,t)}get(t){if(this.has(t)){const e=this.params[t];return Array.isArray(e)?e[0]:e}return null}getAll(t){if(this.has(t)){const e=this.params[t];return Array.isArray(e)?e:[e]}return[]}get keys(){return Object.keys(this.params)}}function bf(n){return new g$(n)}const Q1="ngNavigationCancelingError";function DP(n){const t=Error("NavigationCancelingError: "+n);return t[Q1]=!0,t}function y$(n,t,e){const i=e.path.split("/");if(i.length>n.length||"full"===e.pathMatch&&(t.hasChildren()||i.length<n.length))return null;const s={};for(let l=0;l<i.length;l++){const p=i[l],h=n[l];if(p.startsWith(":"))s[p.substring(1)]=h;else if(p!==h.path)return null}return{consumed:n.slice(0,i.length),posParams:s}}function Xa(n,t){const e=n?Object.keys(n):void 0,i=t?Object.keys(t):void 0;if(!e||!i||e.length!=i.length)return!1;let s;for(let l=0;l<e.length;l++)if(s=e[l],!J1(n[s],t[s]))return!1;return!0}function J1(n,t){if(Array.isArray(n)&&Array.isArray(t)){if(n.length!==t.length)return!1;const e=[...n].sort(),i=[...t].sort();return e.every((s,l)=>i[l]===s)}return n===t}function eN(n){return Array.prototype.concat.apply([],n)}function tN(n){return n.length>0?n[n.length-1]:null}function Rr(n,t){for(const e in n)n.hasOwnProperty(e)&&t(n[e],e)}function qa(n){return Qs(n)?n:Ed(n)?$n(Promise.resolve(n)):ht(n)}const b$={exact:function rN(n,t,e){if(!Gd(n.segments,t.segments)||!Qw(n.segments,t.segments,e)||n.numberOfChildren!==t.numberOfChildren)return!1;for(const i in t.children)if(!n.children[i]||!rN(n.children[i],t.children[i],e))return!1;return!0},subset:oN},iN={exact:function(n,t){return Xa(n,t)},subset:function(n,t){return Object.keys(t).length<=Object.keys(n).length&&Object.keys(t).every(e=>J1(n[e],t[e]))},ignored:()=>!0};function nN(n,t,e){return b$[e.paths](n.root,t.root,e.matrixParams)&&iN[e.queryParams](n.queryParams,t.queryParams)&&!("exact"===e.fragment&&n.fragment!==t.fragment)}function oN(n,t,e){return sN(n,t,t.segments,e)}function sN(n,t,e,i){if(n.segments.length>e.length){const s=n.segments.slice(0,e.length);return!(!Gd(s,e)||t.hasChildren()||!Qw(s,e,i))}if(n.segments.length===e.length){if(!Gd(n.segments,e)||!Qw(n.segments,e,i))return!1;for(const s in t.children)if(!n.children[s]||!oN(n.children[s],t.children[s],i))return!1;return!0}{const s=e.slice(0,n.segments.length),l=e.slice(n.segments.length);return!!(Gd(n.segments,s)&&Qw(n.segments,s,i)&&n.children[Nt])&&sN(n.children[Nt],t,l,i)}}function Qw(n,t,e){return t.every((i,s)=>iN[e](n[s].parameters,i.parameters))}class kd{constructor(t,e,i){this.root=t,this.queryParams=e,this.fragment=i}get queryParamMap(){return this._queryParamMap||(this._queryParamMap=bf(this.queryParams)),this._queryParamMap}toString(){return E$.serialize(this)}}class Ut{constructor(t,e){this.segments=t,this.children=e,this.parent=null,Rr(e,(i,s)=>i.parent=this)}hasChildren(){return this.numberOfChildren>0}get numberOfChildren(){return Object.keys(this.children).length}toString(){return Jw(this)}}class tm{constructor(t,e){this.path=t,this.parameters=e}get parameterMap(){return this._parameterMap||(this._parameterMap=bf(this.parameters)),this._parameterMap}toString(){return cN(this)}}function Gd(n,t){return n.length===t.length&&n.every((e,i)=>e.path===t[i].path)}class SP{}class aN{parse(t){const e=new F$(t);return new kd(e.parseRootSegment(),e.parseQueryParams(),e.parseFragment())}serialize(t){return`${`/${im(t.root,!0)}`}${function(n){const t=Object.keys(n).map(e=>{const i=n[e];return Array.isArray(i)?i.map(s=>`${e0(e)}=${e0(s)}`).join("&"):`${e0(e)}=${e0(i)}`}).filter(e=>!!e);return t.length?`?${t.join("&")}`:""}(t.queryParams)}${"string"==typeof t.fragment?`#${function(n){return encodeURI(n)}(t.fragment)}`:""}`}}const E$=new aN;function Jw(n){return n.segments.map(t=>cN(t)).join("/")}function im(n,t){if(!n.hasChildren())return Jw(n);if(t){const e=n.children[Nt]?im(n.children[Nt],!1):"",i=[];return Rr(n.children,(s,l)=>{l!==Nt&&i.push(`${l}:${im(s,!1)}`)}),i.length>0?`${e}(${i.join("//")})`:e}{const e=function(n,t){let e=[];return Rr(n.children,(i,s)=>{s===Nt&&(e=e.concat(t(i,s)))}),Rr(n.children,(i,s)=>{s!==Nt&&(e=e.concat(t(i,s)))}),e}(n,(i,s)=>s===Nt?[im(n.children[Nt],!1)]:[`${s}:${im(i,!1)}`]);return 1===Object.keys(n.children).length&&null!=n.children[Nt]?`${Jw(n)}/${e[0]}`:`${Jw(n)}/(${e.join("//")})`}}function lN(n){return encodeURIComponent(n).replace(/%40/g,"@").replace(/%3A/gi,":").replace(/%24/g,"$").replace(/%2C/gi,",")}function e0(n){return lN(n).replace(/%3B/gi,";")}function EP(n){return lN(n).replace(/\(/g,"%28").replace(/\)/g,"%29").replace(/%26/gi,"&")}function t0(n){return decodeURIComponent(n)}function uN(n){return t0(n.replace(/\+/g,"%20"))}function cN(n){return`${EP(n.path)}${function(n){return Object.keys(n).map(t=>`;${EP(t)}=${EP(n[t])}`).join("")}(n.parameters)}`}const R$=/^[^\/()?;=#]+/;function n0(n){const t=n.match(R$);return t?t[0]:""}const T$=/^[^=?&#]+/,I$=/^[^?&#]+/;class F${constructor(t){this.url=t,this.remaining=t}parseRootSegment(){return this.consumeOptional("/"),""===this.remaining||this.peekStartsWith("?")||this.peekStartsWith("#")?new Ut([],{}):new Ut([],this.parseChildren())}parseQueryParams(){const t={};if(this.consumeOptional("?"))do{this.parseQueryParam(t)}while(this.consumeOptional("&"));return t}parseFragment(){return this.consumeOptional("#")?decodeURIComponent(this.remaining):null}parseChildren(){if(""===this.remaining)return{};this.consumeOptional("/");const t=[];for(this.peekStartsWith("(")||t.push(this.parseSegment());this.peekStartsWith("/")&&!this.peekStartsWith("//")&&!this.peekStartsWith("/(");)this.capture("/"),t.push(this.parseSegment());let e={};this.peekStartsWith("/(")&&(this.capture("/"),e=this.parseParens(!0));let i={};return this.peekStartsWith("(")&&(i=this.parseParens(!1)),(t.length>0||Object.keys(e).length>0)&&(i[Nt]=new Ut(t,e)),i}parseSegment(){const t=n0(this.remaining);if(""===t&&this.peekStartsWith(";"))throw new Error(`Empty path url segment cannot have parameters: '${this.remaining}'.`);return this.capture(t),new tm(t0(t),this.parseMatrixParams())}parseMatrixParams(){const t={};for(;this.consumeOptional(";");)this.parseParam(t);return t}parseParam(t){const e=n0(this.remaining);if(!e)return;this.capture(e);let i="";if(this.consumeOptional("=")){const s=n0(this.remaining);s&&(i=s,this.capture(i))}t[t0(e)]=t0(i)}parseQueryParam(t){const e=function(n){const t=n.match(T$);return t?t[0]:""}(this.remaining);if(!e)return;this.capture(e);let i="";if(this.consumeOptional("=")){const p=function(n){const t=n.match(I$);return t?t[0]:""}(this.remaining);p&&(i=p,this.capture(i))}const s=uN(e),l=uN(i);if(t.hasOwnProperty(s)){let p=t[s];Array.isArray(p)||(p=[p],t[s]=p),p.push(l)}else t[s]=l}parseParens(t){const e={};for(this.capture("(");!this.consumeOptional(")")&&this.remaining.length>0;){const i=n0(this.remaining),s=this.remaining[i.length];if("/"!==s&&")"!==s&&";"!==s)throw new Error(`Cannot parse url '${this.url}'`);let l;i.indexOf(":")>-1?(l=i.substr(0,i.indexOf(":")),this.capture(l),this.capture(":")):t&&(l=Nt);const p=this.parseChildren();e[l]=1===Object.keys(p).length?p[Nt]:new Ut([],p),this.consumeOptional("//")}return e}peekStartsWith(t){return this.remaining.startsWith(t)}consumeOptional(t){return!!this.peekStartsWith(t)&&(this.remaining=this.remaining.substring(t.length),!0)}capture(t){if(!this.consumeOptional(t))throw new Error(`Expected "${t}".`)}}class dN{constructor(t){this._root=t}get root(){return this._root.value}parent(t){const e=this.pathFromRoot(t);return e.length>1?e[e.length-2]:null}children(t){const e=xP(t,this._root);return e?e.children.map(i=>i.value):[]}firstChild(t){const e=xP(t,this._root);return e&&e.children.length>0?e.children[0].value:null}siblings(t){const e=OP(t,this._root);return e.length<2?[]:e[e.length-2].children.map(s=>s.value).filter(s=>s!==t)}pathFromRoot(t){return OP(t,this._root).map(e=>e.value)}}function xP(n,t){if(n===t.value)return t;for(const e of t.children){const i=xP(n,e);if(i)return i}return null}function OP(n,t){if(n===t.value)return[t];for(const e of t.children){const i=OP(n,e);if(i.length)return i.unshift(t),i}return[]}class kl{constructor(t,e){this.value=t,this.children=e}toString(){return`TreeNode(${this.value})`}}function nm(n){const t={};return n&&n.children.forEach(e=>t[e.value.outlet]=e),t}class pN extends dN{constructor(t,e){super(t),this.snapshot=e,PP(this,t)}toString(){return this.snapshot.toString()}}function hN(n,t){const e=function(n,t){const p=new r0([],{},{},"",{},Nt,t,null,n.root,-1,{});return new gN("",new kl(p,[]))}(n,t),i=new vr([new tm("",{})]),s=new vr({}),l=new vr({}),p=new vr({}),h=new vr(""),g=new Cf(i,s,p,h,l,Nt,t,e.root);return g.snapshot=e.root,new pN(new kl(g,[]),e)}class Cf{constructor(t,e,i,s,l,p,h,g){this.url=t,this.params=e,this.queryParams=i,this.fragment=s,this.data=l,this.outlet=p,this.component=h,this._futureSnapshot=g}get routeConfig(){return this._futureSnapshot.routeConfig}get root(){return this._routerState.root}get parent(){return this._routerState.parent(this)}get firstChild(){return this._routerState.firstChild(this)}get children(){return this._routerState.children(this)}get pathFromRoot(){return this._routerState.pathFromRoot(this)}get paramMap(){return this._paramMap||(this._paramMap=this.params.pipe(It(t=>bf(t)))),this._paramMap}get queryParamMap(){return this._queryParamMap||(this._queryParamMap=this.queryParams.pipe(It(t=>bf(t)))),this._queryParamMap}toString(){return this.snapshot?this.snapshot.toString():`Future(${this._futureSnapshot})`}}function fN(n,t="emptyOnly"){const e=n.pathFromRoot;let i=0;if("always"!==t)for(i=e.length-1;i>=1;){const s=e[i],l=e[i-1];if(s.routeConfig&&""===s.routeConfig.path)i--;else{if(l.component)break;i--}}return function(n){return n.reduce((t,e)=>({params:Object.assign(Object.assign({},t.params),e.params),data:Object.assign(Object.assign({},t.data),e.data),resolve:Object.assign(Object.assign({},t.resolve),e._resolvedData)}),{params:{},data:{},resolve:{}})}(e.slice(i))}class r0{constructor(t,e,i,s,l,p,h,g,v,m,_){this.url=t,this.params=e,this.queryParams=i,this.fragment=s,this.data=l,this.outlet=p,this.component=h,this.routeConfig=g,this._urlSegment=v,this._lastPathIndex=m,this._resolve=_}get root(){return this._routerState.root}get parent(){return this._routerState.parent(this)}get firstChild(){return this._routerState.firstChild(this)}get children(){return this._routerState.children(this)}get pathFromRoot(){return this._routerState.pathFromRoot(this)}get paramMap(){return this._paramMap||(this._paramMap=bf(this.params)),this._paramMap}get queryParamMap(){return this._queryParamMap||(this._queryParamMap=bf(this.queryParams)),this._queryParamMap}toString(){return`Route(url:'${this.url.map(i=>i.toString()).join("/")}', path:'${this.routeConfig?this.routeConfig.path:""}')`}}class gN extends dN{constructor(t,e){super(e),this.url=t,PP(this,e)}toString(){return vN(this._root)}}function PP(n,t){t.value._routerState=n,t.children.forEach(e=>PP(n,e))}function vN(n){const t=n.children.length>0?` { ${n.children.map(vN).join(", ")} } `:"";return`${n.value}${t}`}function RP(n){if(n.snapshot){const t=n.snapshot,e=n._futureSnapshot;n.snapshot=e,Xa(t.queryParams,e.queryParams)||n.queryParams.next(e.queryParams),t.fragment!==e.fragment&&n.fragment.next(e.fragment),Xa(t.params,e.params)||n.params.next(e.params),function(n,t){if(n.length!==t.length)return!1;for(let e=0;e<n.length;++e)if(!Xa(n[e],t[e]))return!1;return!0}(t.url,e.url)||n.url.next(e.url),Xa(t.data,e.data)||n.data.next(e.data)}else n.snapshot=n._futureSnapshot,n.data.next(n._futureSnapshot.data)}function TP(n,t){return Xa(n.params,t.params)&&function(n,t){return Gd(n,t)&&n.every((e,i)=>Xa(e.parameters,t[i].parameters))}(n.url,t.url)&&!(!n.parent!=!t.parent)&&(!n.parent||TP(n.parent,t.parent))}function o0(n,t,e){if(e&&n.shouldReuseRoute(t.value,e.value.snapshot)){const i=e.value;i._futureSnapshot=t.value;const s=function(n,t,e){return t.children.map(i=>{for(const s of e.children)if(n.shouldReuseRoute(i.value,s.value.snapshot))return o0(n,i,s);return o0(n,i)})}(n,t,e);return new kl(i,s)}{if(n.shouldAttach(t.value)){const l=n.retrieve(t.value);if(null!==l){const p=l.route;return yN(t,p),p}}const i=function(n){return new Cf(new vr(n.url),new vr(n.params),new vr(n.queryParams),new vr(n.fragment),new vr(n.data),n.outlet,n.component,n)}(t.value),s=t.children.map(l=>o0(n,l));return new kl(i,s)}}function yN(n,t){if(n.value.routeConfig!==t.value.routeConfig)throw new Error("Cannot reattach ActivatedRouteSnapshot created from a different route");if(n.children.length!==t.children.length)throw new Error("Cannot reattach ActivatedRouteSnapshot with a different number of children");t.value._futureSnapshot=n.value;for(let e=0;e<n.children.length;++e)yN(n.children[e],t.children[e])}function s0(n){return"object"==typeof n&&null!=n&&!n.outlets&&!n.segmentPath}function rm(n){return"object"==typeof n&&null!=n&&n.outlets}function AP(n,t,e,i,s){let l={};return i&&Rr(i,(p,h)=>{l[h]=Array.isArray(p)?p.map(g=>`${g}`):`${p}`}),new kd(e.root===n?t:mN(e.root,n,t),l,s)}function mN(n,t,e){const i={};return Rr(n.children,(s,l)=>{i[l]=s===t?e:mN(s,t,e)}),new Ut(n.segments,i)}class _N{constructor(t,e,i){if(this.isAbsolute=t,this.numberOfDoubleDots=e,this.commands=i,t&&i.length>0&&s0(i[0]))throw new Error("Root segment cannot have matrix parameters");const s=i.find(rm);if(s&&s!==tN(i))throw new Error("{outlets:{}} has to be the last command")}toRoot(){return this.isAbsolute&&1===this.commands.length&&"/"==this.commands[0]}}class IP{constructor(t,e,i){this.segmentGroup=t,this.processChildren=e,this.index=i}}function bN(n,t,e){if(n||(n=new Ut([],{})),0===n.segments.length&&n.hasChildren())return a0(n,t,e);const i=function(n,t,e){let i=0,s=t;const l={match:!1,pathIndex:0,commandIndex:0};for(;s<n.segments.length;){if(i>=e.length)return l;const p=n.segments[s],h=e[i];if(rm(h))break;const g=`${h}`,v=i<e.length-1?e[i+1]:null;if(s>0&&void 0===g)break;if(g&&v&&"object"==typeof v&&void 0===v.outlets){if(!wN(g,v,p))return l;i+=2}else{if(!wN(g,{},p))return l;i++}s++}return{match:!0,pathIndex:s,commandIndex:i}}(n,t,e),s=e.slice(i.commandIndex);if(i.match&&i.pathIndex<n.segments.length){const l=new Ut(n.segments.slice(0,i.pathIndex),{});return l.children[Nt]=new Ut(n.segments.slice(i.pathIndex),n.children),a0(l,0,s)}return i.match&&0===s.length?new Ut(n.segments,{}):i.match&&!n.hasChildren()?MP(n,t,e):i.match?a0(n,0,s):MP(n,t,e)}function a0(n,t,e){if(0===e.length)return new Ut(n.segments,{});{const i=function(n){return rm(n[0])?n[0].outlets:{[Nt]:n}}(e),s={};return Rr(i,(l,p)=>{"string"==typeof l&&(l=[l]),null!==l&&(s[p]=bN(n.children[p],t,l))}),Rr(n.children,(l,p)=>{void 0===i[p]&&(s[p]=l)}),new Ut(n.segments,s)}}function MP(n,t,e){const i=n.segments.slice(0,t);let s=0;for(;s<e.length;){const l=e[s];if(rm(l)){const g=$$(l.outlets);return new Ut(i,g)}if(0===s&&s0(e[0])){i.push(new tm(n.segments[t].path,CN(e[0]))),s++;continue}const p=rm(l)?l.outlets[Nt]:`${l}`,h=s<e.length-1?e[s+1]:null;p&&h&&s0(h)?(i.push(new tm(p,CN(h))),s+=2):(i.push(new tm(p,{})),s++)}return new Ut(i,{})}function $$(n){const t={};return Rr(n,(e,i)=>{"string"==typeof e&&(e=[e]),null!==e&&(t[i]=MP(new Ut([],{}),0,e))}),t}function CN(n){const t={};return Rr(n,(e,i)=>t[i]=`${e}`),t}function wN(n,t,e){return n==e.path&&Xa(t,e.parameters)}class K${constructor(t,e,i,s){this.routeReuseStrategy=t,this.futureState=e,this.currState=i,this.forwardEvent=s}activate(t){const e=this.futureState._root,i=this.currState?this.currState._root:null;this.deactivateChildRoutes(e,i,t),RP(this.futureState.root),this.activateChildRoutes(e,i,t)}deactivateChildRoutes(t,e,i){const s=nm(e);t.children.forEach(l=>{const p=l.value.outlet;this.deactivateRoutes(l,s[p],i),delete s[p]}),Rr(s,(l,p)=>{this.deactivateRouteAndItsChildren(l,i)})}deactivateRoutes(t,e,i){const s=t.value,l=e?e.value:null;if(s===l)if(s.component){const p=i.getContext(s.outlet);p&&this.deactivateChildRoutes(t,e,p.children)}else this.deactivateChildRoutes(t,e,i);else l&&this.deactivateRouteAndItsChildren(e,i)}deactivateRouteAndItsChildren(t,e){this.routeReuseStrategy.shouldDetach(t.value.snapshot)?this.detachAndStoreRouteSubtree(t,e):this.deactivateRouteAndOutlet(t,e)}detachAndStoreRouteSubtree(t,e){const i=e.getContext(t.value.outlet);if(i&&i.outlet){const s=i.outlet.detach(),l=i.children.onOutletDeactivated();this.routeReuseStrategy.store(t.value.snapshot,{componentRef:s,route:t,contexts:l})}}deactivateRouteAndOutlet(t,e){const i=e.getContext(t.value.outlet),s=i&&t.value.component?i.children:e,l=nm(t);for(const p of Object.keys(l))this.deactivateRouteAndItsChildren(l[p],s);i&&i.outlet&&(i.outlet.deactivate(),i.children.onOutletDeactivated(),i.attachRef=null,i.resolver=null,i.route=null)}activateChildRoutes(t,e,i){const s=nm(e);t.children.forEach(l=>{this.activateRoutes(l,s[l.value.outlet],i),this.forwardEvent(new f$(l.value.snapshot))}),t.children.length&&this.forwardEvent(new p$(t.value.snapshot))}activateRoutes(t,e,i){const s=t.value,l=e?e.value:null;if(RP(s),s===l)if(s.component){const p=i.getOrCreateContext(s.outlet);this.activateChildRoutes(t,e,p.children)}else this.activateChildRoutes(t,e,i);else if(s.component){const p=i.getOrCreateContext(s.outlet);if(this.routeReuseStrategy.shouldAttach(s.snapshot)){const h=this.routeReuseStrategy.retrieve(s.snapshot);this.routeReuseStrategy.store(s.snapshot,null),p.children.onOutletReAttached(h.contexts),p.attachRef=h.componentRef,p.route=h.route.value,p.outlet&&p.outlet.attach(h.componentRef,h.route.value),DN(h.route)}else{const h=function(n){for(let t=n.parent;t;t=t.parent){const e=t.routeConfig;if(e&&e._loadedConfig)return e._loadedConfig;if(e&&e.component)return null}return null}(s.snapshot),g=h?h.module.componentFactoryResolver:null;p.attachRef=null,p.route=s,p.resolver=g,p.outlet&&p.outlet.activateWith(s,g),this.activateChildRoutes(t,null,p.children)}}else this.activateChildRoutes(t,null,i)}}function DN(n){RP(n.value),n.children.forEach(DN)}class FP{constructor(t,e){this.routes=t,this.module=e}}function nc(n){return"function"==typeof n}function Hd(n){return n instanceof kd}const om=Symbol("INITIAL_VALUE");function sm(){return Ka(n=>function(...n){let t,e;return zn(n[n.length-1])&&(e=n.pop()),"function"==typeof n[n.length-1]&&(t=n.pop()),1===n.length&&Tn(n[0])&&(n=n[0]),Xl(n,e).lift(new I5(t))}(n.map(t=>t.pipe(Es(1),function(...n){const t=n[n.length-1];return zn(t)?(n.pop(),e=>Xw(n,e,t)):e=>Xw(n,e)}(om)))).pipe(z1((t,e)=>{let i=!1;return e.reduce((s,l,p)=>s!==om?s:(l===om&&(i=!0),i||!1!==l&&p!==e.length-1&&!Hd(l)?s:l),t)},om),xs(t=>t!==om),It(t=>Hd(t)?t:!0===t),Es(1)))}let SN=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275cmp=Lr({type:n,selectors:[["ng-component"]],decls:1,vars:0,template:function(e,i){1&e&&Al(0,"router-outlet")},directives:function(){return[BP]},encapsulation:2}),n})();function EN(n,t=""){for(let e=0;e<n.length;e++){const i=n[e];t8(i,i8(t,i))}}function t8(n,t){n.children&&EN(n.children,t)}function i8(n,t){return t?n||t.path?n&&!t.path?`${n}/`:!n&&t.path?t.path:`${n}/${t.path}`:"":n}function NP(n){const t=n.children&&n.children.map(NP),e=t?Object.assign(Object.assign({},n),{children:t}):Object.assign({},n);return!e.component&&(t||e.loadChildren)&&e.outlet&&e.outlet!==Nt&&(e.component=SN),e}function Os(n){return n.outlet||Nt}function xN(n,t){const e=n.filter(i=>Os(i)===t);return e.push(...n.filter(i=>Os(i)!==t)),e}const ON={matched:!1,consumedSegments:[],lastChild:0,parameters:{},positionalParamSegments:{}};function l0(n,t,e){var i;if(""===t.path)return"full"===t.pathMatch&&(n.hasChildren()||e.length>0)?Object.assign({},ON):{matched:!0,consumedSegments:[],lastChild:0,parameters:{},positionalParamSegments:{}};const l=(t.matcher||y$)(e,n,t);if(!l)return Object.assign({},ON);const p={};Rr(l.posParams,(g,v)=>{p[v]=g.path});const h=l.consumed.length>0?Object.assign(Object.assign({},p),l.consumed[l.consumed.length-1].parameters):p;return{matched:!0,consumedSegments:l.consumed,lastChild:l.consumed.length,parameters:h,positionalParamSegments:null!==(i=l.posParams)&&void 0!==i?i:{}}}function u0(n,t,e,i,s="corrected"){if(e.length>0&&function(n,t,e){return e.some(i=>c0(n,t,i)&&Os(i)!==Nt)}(n,e,i)){const p=new Ut(t,function(n,t,e,i){const s={};s[Nt]=i,i._sourceSegment=n,i._segmentIndexShift=t.length;for(const l of e)if(""===l.path&&Os(l)!==Nt){const p=new Ut([],{});p._sourceSegment=n,p._segmentIndexShift=t.length,s[Os(l)]=p}return s}(n,t,i,new Ut(e,n.children)));return p._sourceSegment=n,p._segmentIndexShift=t.length,{segmentGroup:p,slicedSegments:[]}}if(0===e.length&&function(n,t,e){return e.some(i=>c0(n,t,i))}(n,e,i)){const p=new Ut(n.segments,function(n,t,e,i,s,l){const p={};for(const h of i)if(c0(n,e,h)&&!s[Os(h)]){const g=new Ut([],{});g._sourceSegment=n,g._segmentIndexShift="legacy"===l?n.segments.length:t.length,p[Os(h)]=g}return Object.assign(Object.assign({},s),p)}(n,t,e,i,n.children,s));return p._sourceSegment=n,p._segmentIndexShift=t.length,{segmentGroup:p,slicedSegments:e}}const l=new Ut(n.segments,n.children);return l._sourceSegment=n,l._segmentIndexShift=t.length,{segmentGroup:l,slicedSegments:e}}function c0(n,t,e){return(!(n.hasChildren()||t.length>0)||"full"!==e.pathMatch)&&""===e.path}function PN(n,t,e,i){return!!(Os(n)===i||i!==Nt&&c0(t,e,n))&&("**"===n.path||l0(t,n,e).matched)}function RN(n,t,e){return 0===t.length&&!n.children[e]}class am{constructor(t){this.segmentGroup=t||null}}class TN{constructor(t){this.urlTree=t}}function d0(n){return new ni(t=>t.error(new am(n)))}function AN(n){return new ni(t=>t.error(new TN(n)))}function a8(n){return new ni(t=>t.error(new Error(`Only absolute redirects can have named outlets. redirectTo: '${n}'`)))}class c8{constructor(t,e,i,s,l){this.configLoader=e,this.urlSerializer=i,this.urlTree=s,this.config=l,this.allowRedirects=!0,this.ngModule=t.get($a)}apply(){const t=u0(this.urlTree.root,[],[],this.config).segmentGroup,e=new Ut(t.segments,t.children);return this.expandSegmentGroup(this.ngModule,this.config,e,Nt).pipe(It(l=>this.createUrlTree(LP(l),this.urlTree.queryParams,this.urlTree.fragment))).pipe(Vd(l=>{if(l instanceof TN)return this.allowRedirects=!1,this.match(l.urlTree);throw l instanceof am?this.noMatchError(l):l}))}match(t){return this.expandSegmentGroup(this.ngModule,this.config,t.root,Nt).pipe(It(s=>this.createUrlTree(LP(s),t.queryParams,t.fragment))).pipe(Vd(s=>{throw s instanceof am?this.noMatchError(s):s}))}noMatchError(t){return new Error(`Cannot match any routes. URL Segment: '${t.segmentGroup}'`)}createUrlTree(t,e,i){const s=t.segments.length>0?new Ut([],{[Nt]:t}):t;return new kd(s,e,i)}expandSegmentGroup(t,e,i,s){return 0===i.segments.length&&i.hasChildren()?this.expandChildren(t,e,i).pipe(It(l=>new Ut([],l))):this.expandSegment(t,i,e,i.segments,s,!0)}expandChildren(t,e,i){const s=[];for(const l of Object.keys(i.children))"primary"===l?s.unshift(l):s.push(l);return $n(s).pipe(Jy(l=>{const p=i.children[l],h=xN(e,l);return this.expandSegmentGroup(t,h,p,l).pipe(It(g=>({segment:g,outlet:l})))}),z1((l,p)=>(l[p.outlet]=p.segment,l),{}),function(n,t){const e=arguments.length>=2;return i=>i.pipe(n?xs((s,l)=>n(s,l,i)):Jt,CP(1),e?Y1(t):$1(()=>new Kw))}())}expandSegment(t,e,i,s,l,p){return $n(i).pipe(Jy(h=>this.expandSegmentAgainstRoute(t,e,i,h,s,l,p).pipe(Vd(v=>{if(v instanceof am)return ht(null);throw v}))),_f(h=>!!h),Vd((h,g)=>{if(h instanceof Kw||"EmptyError"===h.name){if(RN(e,s,l))return ht(new Ut([],{}));throw new am(e)}throw h}))}expandSegmentAgainstRoute(t,e,i,s,l,p,h){return PN(s,e,l,p)?void 0===s.redirectTo?this.matchSegmentAgainstRoute(t,e,s,l,p):h&&this.allowRedirects?this.expandSegmentAgainstRouteUsingRedirect(t,e,i,s,l,p):d0(e):d0(e)}expandSegmentAgainstRouteUsingRedirect(t,e,i,s,l,p){return"**"===s.path?this.expandWildCardWithParamsAgainstRouteUsingRedirect(t,i,s,p):this.expandRegularSegmentAgainstRouteUsingRedirect(t,e,i,s,l,p)}expandWildCardWithParamsAgainstRouteUsingRedirect(t,e,i,s){const l=this.applyRedirectCommands([],i.redirectTo,{});return i.redirectTo.startsWith("/")?AN(l):this.lineralizeSegments(i,l).pipe(Yn(p=>{const h=new Ut(p,{});return this.expandSegment(t,h,e,p,s,!1)}))}expandRegularSegmentAgainstRouteUsingRedirect(t,e,i,s,l,p){const{matched:h,consumedSegments:g,lastChild:v,positionalParamSegments:m}=l0(e,s,l);if(!h)return d0(e);const _=this.applyRedirectCommands(g,s.redirectTo,m);return s.redirectTo.startsWith("/")?AN(_):this.lineralizeSegments(s,_).pipe(Yn(b=>this.expandSegment(t,e,i,b.concat(l.slice(v)),p,!1)))}matchSegmentAgainstRoute(t,e,i,s,l){if("**"===i.path)return i.loadChildren?(i._loadedConfig?ht(i._loadedConfig):this.configLoader.load(t.injector,i)).pipe(It(b=>(i._loadedConfig=b,new Ut(s,{})))):ht(new Ut(s,{}));const{matched:p,consumedSegments:h,lastChild:g}=l0(e,i,s);if(!p)return d0(e);const v=s.slice(g);return this.getChildConfig(t,i,s).pipe(Yn(_=>{const b=_.module,C=_.routes,{segmentGroup:S,slicedSegments:E}=u0(e,h,v,C),x=new Ut(S.segments,S.children);if(0===E.length&&x.hasChildren())return this.expandChildren(b,C,x).pipe(It(U=>new Ut(h,U)));if(0===C.length&&0===E.length)return ht(new Ut(h,{}));const R=Os(i)===l;return this.expandSegment(b,x,C,E,R?Nt:l,!0).pipe(It(k=>new Ut(h.concat(k.segments),k.children)))}))}getChildConfig(t,e,i){return e.children?ht(new FP(e.children,t)):e.loadChildren?void 0!==e._loadedConfig?ht(e._loadedConfig):this.runCanLoadGuards(t.injector,e,i).pipe(Yn(s=>s?this.configLoader.load(t.injector,e).pipe(It(l=>(e._loadedConfig=l,l))):function(n){return new ni(t=>t.error(DP(`Cannot load children because the guard of the route "path: '${n.path}'" returned false`)))}(e))):ht(new FP([],t))}runCanLoadGuards(t,e,i){const s=e.canLoad;return s&&0!==s.length?ht(s.map(p=>{const h=t.get(p);let g;if(function(n){return n&&nc(n.canLoad)}(h))g=h.canLoad(e,i);else{if(!nc(h))throw new Error("Invalid CanLoad guard");g=h(e,i)}return qa(g)})).pipe(sm(),po(p=>{if(!Hd(p))return;const h=DP(`Redirecting to "${this.urlSerializer.serialize(p)}"`);throw h.url=p,h}),It(p=>!0===p)):ht(!0)}lineralizeSegments(t,e){let i=[],s=e.root;for(;;){if(i=i.concat(s.segments),0===s.numberOfChildren)return ht(i);if(s.numberOfChildren>1||!s.children[Nt])return a8(t.redirectTo);s=s.children[Nt]}}applyRedirectCommands(t,e,i){return this.applyRedirectCreatreUrlTree(e,this.urlSerializer.parse(e),t,i)}applyRedirectCreatreUrlTree(t,e,i,s){const l=this.createSegmentGroup(t,e.root,i,s);return new kd(l,this.createQueryParams(e.queryParams,this.urlTree.queryParams),e.fragment)}createQueryParams(t,e){const i={};return Rr(t,(s,l)=>{if("string"==typeof s&&s.startsWith(":")){const h=s.substring(1);i[l]=e[h]}else i[l]=s}),i}createSegmentGroup(t,e,i,s){const l=this.createSegments(t,e.segments,i,s);let p={};return Rr(e.children,(h,g)=>{p[g]=this.createSegmentGroup(t,h,i,s)}),new Ut(l,p)}createSegments(t,e,i,s){return e.map(l=>l.path.startsWith(":")?this.findPosParam(t,l,s):this.findOrReturn(l,i))}findPosParam(t,e,i){const s=i[e.path.substring(1)];if(!s)throw new Error(`Cannot redirect to '${t}'. Cannot find '${e.path}'.`);return s}findOrReturn(t,e){let i=0;for(const s of e){if(s.path===t.path)return e.splice(i),s;i++}return t}}function LP(n){const t={};for(const i of Object.keys(n.children)){const l=LP(n.children[i]);(l.segments.length>0||l.hasChildren())&&(t[i]=l)}return function(n){if(1===n.numberOfChildren&&n.children[Nt]){const t=n.children[Nt];return new Ut(n.segments.concat(t.segments),t.children)}return n}(new Ut(n.segments,t))}class IN{constructor(t){this.path=t,this.route=this.path[this.path.length-1]}}class p0{constructor(t,e){this.component=t,this.route=e}}function h8(n,t,e){const i=n._root;return lm(i,t?t._root:null,e,[i.value])}function h0(n,t,e){const i=function(n){if(!n)return null;for(let t=n.parent;t;t=t.parent){const e=t.routeConfig;if(e&&e._loadedConfig)return e._loadedConfig}return null}(t);return(i?i.module.injector:e).get(n)}function lm(n,t,e,i,s={canDeactivateChecks:[],canActivateChecks:[]}){const l=nm(t);return n.children.forEach(p=>{(function(n,t,e,i,s={canDeactivateChecks:[],canActivateChecks:[]}){const l=n.value,p=t?t.value:null,h=e?e.getContext(n.value.outlet):null;if(p&&l.routeConfig===p.routeConfig){const g=function(n,t,e){if("function"==typeof e)return e(n,t);switch(e){case"pathParamsChange":return!Gd(n.url,t.url);case"pathParamsOrQueryParamsChange":return!Gd(n.url,t.url)||!Xa(n.queryParams,t.queryParams);case"always":return!0;case"paramsOrQueryParamsChange":return!TP(n,t)||!Xa(n.queryParams,t.queryParams);case"paramsChange":default:return!TP(n,t)}}(p,l,l.routeConfig.runGuardsAndResolvers);g?s.canActivateChecks.push(new IN(i)):(l.data=p.data,l._resolvedData=p._resolvedData),lm(n,t,l.component?h?h.children:null:e,i,s),g&&h&&h.outlet&&h.outlet.isActivated&&s.canDeactivateChecks.push(new p0(h.outlet.component,p))}else p&&um(t,h,s),s.canActivateChecks.push(new IN(i)),lm(n,null,l.component?h?h.children:null:e,i,s)})(p,l[p.value.outlet],e,i.concat([p.value]),s),delete l[p.value.outlet]}),Rr(l,(p,h)=>um(p,e.getContext(h),s)),s}function um(n,t,e){const i=nm(n),s=n.value;Rr(i,(l,p)=>{um(l,s.component?t?t.children.getContext(p):null:t,e)}),e.canDeactivateChecks.push(new p0(s.component&&t&&t.outlet&&t.outlet.isActivated?t.outlet.component:null,s))}class x8{}function MN(n){return new ni(t=>t.error(n))}class P8{constructor(t,e,i,s,l,p){this.rootComponentType=t,this.config=e,this.urlTree=i,this.url=s,this.paramsInheritanceStrategy=l,this.relativeLinkResolution=p}recognize(){const t=u0(this.urlTree.root,[],[],this.config.filter(p=>void 0===p.redirectTo),this.relativeLinkResolution).segmentGroup,e=this.processSegmentGroup(this.config,t,Nt);if(null===e)return null;const i=new r0([],Object.freeze({}),Object.freeze(Object.assign({},this.urlTree.queryParams)),this.urlTree.fragment,{},Nt,this.rootComponentType,null,this.urlTree.root,-1,{}),s=new kl(i,e),l=new gN(this.url,s);return this.inheritParamsAndData(l._root),l}inheritParamsAndData(t){const e=t.value,i=fN(e,this.paramsInheritanceStrategy);e.params=Object.freeze(i.params),e.data=Object.freeze(i.data),t.children.forEach(s=>this.inheritParamsAndData(s))}processSegmentGroup(t,e,i){return 0===e.segments.length&&e.hasChildren()?this.processChildren(t,e):this.processSegment(t,e,e.segments,i)}processChildren(t,e){const i=[];for(const l of Object.keys(e.children)){const p=e.children[l],h=xN(t,l),g=this.processSegmentGroup(h,p,l);if(null===g)return null;i.push(...g)}const s=FN(i);return function(n){n.sort((t,e)=>t.value.outlet===Nt?-1:e.value.outlet===Nt?1:t.value.outlet.localeCompare(e.value.outlet))}(s),s}processSegment(t,e,i,s){for(const l of t){const p=this.processSegmentAgainstRoute(l,e,i,s);if(null!==p)return p}return RN(e,i,s)?[]:null}processSegmentAgainstRoute(t,e,i,s){if(t.redirectTo||!PN(t,e,i,s))return null;let l,p=[],h=[];if("**"===t.path){const C=i.length>0?tN(i).parameters:{};l=new r0(i,C,Object.freeze(Object.assign({},this.urlTree.queryParams)),this.urlTree.fragment,VN(t),Os(t),t.component,t,NN(e),LN(e)+i.length,kN(t))}else{const C=l0(e,t,i);if(!C.matched)return null;p=C.consumedSegments,h=i.slice(C.lastChild),l=new r0(p,C.parameters,Object.freeze(Object.assign({},this.urlTree.queryParams)),this.urlTree.fragment,VN(t),Os(t),t.component,t,NN(e),LN(e)+p.length,kN(t))}const g=function(n){return n.children?n.children:n.loadChildren?n._loadedConfig.routes:[]}(t),{segmentGroup:v,slicedSegments:m}=u0(e,p,h,g.filter(C=>void 0===C.redirectTo),this.relativeLinkResolution);if(0===m.length&&v.hasChildren()){const C=this.processChildren(g,v);return null===C?null:[new kl(l,C)]}if(0===g.length&&0===m.length)return[new kl(l,[])];const _=Os(t)===s,b=this.processSegment(g,v,m,_?Nt:s);return null===b?null:[new kl(l,b)]}}function A8(n){const t=n.value.routeConfig;return t&&""===t.path&&void 0===t.redirectTo}function FN(n){const t=[],e=new Set;for(const i of n){if(!A8(i)){t.push(i);continue}const s=t.find(l=>i.value.routeConfig===l.value.routeConfig);void 0!==s?(s.children.push(...i.children),e.add(s)):t.push(i)}for(const i of e){const s=FN(i.children);t.push(new kl(i.value,s))}return t.filter(i=>!e.has(i))}function NN(n){let t=n;for(;t._sourceSegment;)t=t._sourceSegment;return t}function LN(n){let t=n,e=t._segmentIndexShift?t._segmentIndexShift:0;for(;t._sourceSegment;)t=t._sourceSegment,e+=t._segmentIndexShift?t._segmentIndexShift:0;return e-1}function VN(n){return n.data||{}}function kN(n){return n.resolve||{}}function VP(n){return Ka(t=>{const e=n(t);return e?$n(e).pipe(It(()=>t)):ht(t)})}class G8 extends class{shouldDetach(t){return!1}store(t,e){}shouldAttach(t){return!1}retrieve(t){return null}shouldReuseRoute(t,e){return t.routeConfig===e.routeConfig}}{}const kP=new Pt("ROUTES");class GN{constructor(t,e,i,s){this.loader=t,this.compiler=e,this.onLoadStartListener=i,this.onLoadEndListener=s}load(t,e){if(e._loader$)return e._loader$;this.onLoadStartListener&&this.onLoadStartListener(e);const s=this.loadModuleFactory(e.loadChildren).pipe(It(l=>{this.onLoadEndListener&&this.onLoadEndListener(e);const p=l.create(t);return new FP(eN(p.injector.get(kP,void 0,qe.Self|qe.Optional)).map(NP),p)}),Vd(l=>{throw e._loader$=void 0,l}));return e._loader$=new tg(s,()=>new Qi).pipe(eg()),e._loader$}loadModuleFactory(t){return"string"==typeof t?$n(this.loader.load(t)):qa(t()).pipe(Yn(e=>e instanceof bM?ht(e):$n(this.compiler.compileModuleAsync(e))))}}class H8{constructor(){this.outlet=null,this.route=null,this.resolver=null,this.children=new wf,this.attachRef=null}}class wf{constructor(){this.contexts=new Map}onChildOutletCreated(t,e){const i=this.getOrCreateContext(t);i.outlet=e,this.contexts.set(t,i)}onChildOutletDestroyed(t){const e=this.getContext(t);e&&(e.outlet=null,e.attachRef=null)}onOutletDeactivated(){const t=this.contexts;return this.contexts=new Map,t}onOutletReAttached(t){this.contexts=t}getOrCreateContext(t){let e=this.getContext(t);return e||(e=new H8,this.contexts.set(t,e)),e}getContext(t){return this.contexts.get(t)||null}}class j8{shouldProcessUrl(t){return!0}extract(t){return t}merge(t,e){return t}}function W8(n){throw n}function U8(n,t,e){return t.parse("/")}function HN(n,t){return ht(null)}const z8={paths:"exact",fragment:"ignored",matrixParams:"ignored",queryParams:"exact"},$8={paths:"subset",fragment:"ignored",matrixParams:"ignored",queryParams:"subset"};let Ro=(()=>{class n{constructor(e,i,s,l,p,h,g,v){this.rootComponentType=e,this.urlSerializer=i,this.rootContexts=s,this.location=l,this.config=v,this.lastSuccessfulNavigation=null,this.currentNavigation=null,this.disposed=!1,this.lastLocationChangeInfo=null,this.navigationId=0,this.currentPageId=0,this.isNgZoneEnabled=!1,this.events=new Qi,this.errorHandler=W8,this.malformedUriErrorHandler=U8,this.navigated=!1,this.lastSuccessfulId=-1,this.hooks={beforePreactivation:HN,afterPreactivation:HN},this.urlHandlingStrategy=new j8,this.routeReuseStrategy=new G8,this.onSameUrlNavigation="ignore",this.paramsInheritanceStrategy="emptyOnly",this.urlUpdateStrategy="deferred",this.relativeLinkResolution="corrected",this.canceledNavigationResolution="replace",this.ngModule=p.get($a),this.console=p.get(bw);const b=p.get(di);this.isNgZoneEnabled=b instanceof di&&di.isInAngularZone(),this.resetConfig(v),this.currentUrlTree=new kd(new Ut([],{}),{},null),this.rawUrlTree=this.currentUrlTree,this.browserUrlTree=this.currentUrlTree,this.configLoader=new GN(h,g,C=>this.triggerEvent(new X1(C)),C=>this.triggerEvent(new q1(C))),this.routerState=hN(this.currentUrlTree,this.rootComponentType),this.transitions=new vr({id:0,targetPageId:0,currentUrlTree:this.currentUrlTree,currentRawUrl:this.currentUrlTree,extractedUrl:this.urlHandlingStrategy.extract(this.currentUrlTree),urlAfterRedirects:this.urlHandlingStrategy.extract(this.currentUrlTree),rawUrl:this.currentUrlTree,extras:{},resolve:null,reject:null,promise:Promise.resolve(!0),source:"imperative",restoredState:null,currentSnapshot:this.routerState.snapshot,targetSnapshot:null,currentRouterState:this.routerState,targetRouterState:null,guards:{canActivateChecks:[],canDeactivateChecks:[]},guardsResult:null}),this.navigations=this.setupNavigations(this.transitions),this.processNavigations()}get browserPageId(){var e;return null===(e=this.location.getState())||void 0===e?void 0:e.\u0275routerPageId}setupNavigations(e){const i=this.events;return e.pipe(xs(s=>0!==s.id),It(s=>Object.assign(Object.assign({},s),{extractedUrl:this.urlHandlingStrategy.extract(s.rawUrl)})),Ka(s=>{let l=!1,p=!1;return ht(s).pipe(po(h=>{this.currentNavigation={id:h.id,initialUrl:h.currentRawUrl,extractedUrl:h.extractedUrl,trigger:h.source,extras:h.extras,previousNavigation:this.lastSuccessfulNavigation?Object.assign(Object.assign({},this.lastSuccessfulNavigation),{previousNavigation:null}):null}}),Ka(h=>{const g=this.browserUrlTree.toString(),v=!this.navigated||h.extractedUrl.toString()!==g||g!==this.currentUrlTree.toString();if(("reload"===this.onSameUrlNavigation||v)&&this.urlHandlingStrategy.shouldProcessUrl(h.rawUrl))return f0(h.source)&&(this.browserUrlTree=h.extractedUrl),ht(h).pipe(Ka(_=>{const b=this.transitions.getValue();return i.next(new wP(_.id,this.serializeUrl(_.extractedUrl),_.source,_.restoredState)),b!==this.transitions.getValue()?Ld:Promise.resolve(_)}),function(n,t,e,i){return Ka(s=>function(n,t,e,i,s){return new c8(n,t,e,i,s).apply()}(n,t,e,s.extractedUrl,i).pipe(It(l=>Object.assign(Object.assign({},s),{urlAfterRedirects:l}))))}(this.ngModule.injector,this.configLoader,this.urlSerializer,this.config),po(_=>{this.currentNavigation=Object.assign(Object.assign({},this.currentNavigation),{finalUrl:_.urlAfterRedirects})}),function(n,t,e,i,s){return Yn(l=>function(n,t,e,i,s="emptyOnly",l="legacy"){try{const p=new P8(n,t,e,i,s,l).recognize();return null===p?MN(new x8):ht(p)}catch(p){return MN(p)}}(n,t,l.urlAfterRedirects,e(l.urlAfterRedirects),i,s).pipe(It(p=>Object.assign(Object.assign({},l),{targetSnapshot:p}))))}(this.rootComponentType,this.config,_=>this.serializeUrl(_),this.paramsInheritanceStrategy,this.relativeLinkResolution),po(_=>{"eager"===this.urlUpdateStrategy&&(_.extras.skipLocationChange||this.setBrowserUrl(_.urlAfterRedirects,_),this.browserUrlTree=_.urlAfterRedirects);const b=new s$(_.id,this.serializeUrl(_.extractedUrl),this.serializeUrl(_.urlAfterRedirects),_.targetSnapshot);i.next(b)}));if(v&&this.rawUrlTree&&this.urlHandlingStrategy.shouldProcessUrl(this.rawUrlTree)){const{id:b,extractedUrl:C,source:S,restoredState:E,extras:x}=h,R=new wP(b,this.serializeUrl(C),S,E);i.next(R);const P=hN(C,this.rootComponentType).snapshot;return ht(Object.assign(Object.assign({},h),{targetSnapshot:P,urlAfterRedirects:C,extras:Object.assign(Object.assign({},x),{skipLocationChange:!1,replaceUrl:!1})}))}return this.rawUrlTree=h.rawUrl,this.browserUrlTree=h.urlAfterRedirects,h.resolve(null),Ld}),VP(h=>{const{targetSnapshot:g,id:v,extractedUrl:m,rawUrl:_,extras:{skipLocationChange:b,replaceUrl:C}}=h;return this.hooks.beforePreactivation(g,{navigationId:v,appliedUrlTree:m,rawUrlTree:_,skipLocationChange:!!b,replaceUrl:!!C})}),po(h=>{const g=new a$(h.id,this.serializeUrl(h.extractedUrl),this.serializeUrl(h.urlAfterRedirects),h.targetSnapshot);this.triggerEvent(g)}),It(h=>Object.assign(Object.assign({},h),{guards:h8(h.targetSnapshot,h.currentSnapshot,this.rootContexts)})),function(n,t){return Yn(e=>{const{targetSnapshot:i,currentSnapshot:s,guards:{canActivateChecks:l,canDeactivateChecks:p}}=e;return 0===p.length&&0===l.length?ht(Object.assign(Object.assign({},e),{guardsResult:!0})):function(n,t,e,i){return $n(n).pipe(Yn(s=>function(n,t,e,i,s){const l=t&&t.routeConfig?t.routeConfig.canDeactivate:null;return l&&0!==l.length?ht(l.map(h=>{const g=h0(h,t,s);let v;if(function(n){return n&&nc(n.canDeactivate)}(g))v=qa(g.canDeactivate(n,t,e,i));else{if(!nc(g))throw new Error("Invalid CanDeactivate guard");v=qa(g(n,t,e,i))}return v.pipe(_f())})).pipe(sm()):ht(!0)}(s.component,s.route,e,t,i)),_f(s=>!0!==s,!0))}(p,i,s,n).pipe(Yn(h=>h&&function(n){return"boolean"==typeof n}(h)?function(n,t,e,i){return $n(t).pipe(Jy(s=>Xw(function(n,t){return null!==n&&t&&t(new d$(n)),ht(!0)}(s.route.parent,i),function(n,t){return null!==n&&t&&t(new h$(n)),ht(!0)}(s.route,i),function(n,t,e){const i=t[t.length-1],l=t.slice(0,t.length-1).reverse().map(p=>function(n){const t=n.routeConfig?n.routeConfig.canActivateChild:null;return t&&0!==t.length?{node:n,guards:t}:null}(p)).filter(p=>null!==p).map(p=>W1(()=>ht(p.guards.map(g=>{const v=h0(g,p.node,e);let m;if(function(n){return n&&nc(n.canActivateChild)}(v))m=qa(v.canActivateChild(i,n));else{if(!nc(v))throw new Error("Invalid CanActivateChild guard");m=qa(v(i,n))}return m.pipe(_f())})).pipe(sm())));return ht(l).pipe(sm())}(n,s.path,e),function(n,t,e){const i=t.routeConfig?t.routeConfig.canActivate:null;return i&&0!==i.length?ht(i.map(l=>W1(()=>{const p=h0(l,t,e);let h;if(function(n){return n&&nc(n.canActivate)}(p))h=qa(p.canActivate(t,n));else{if(!nc(p))throw new Error("Invalid CanActivate guard");h=qa(p(t,n))}return h.pipe(_f())}))).pipe(sm()):ht(!0)}(n,s.route,e))),_f(s=>!0!==s,!0))}(i,l,n,t):ht(h)),It(h=>Object.assign(Object.assign({},e),{guardsResult:h})))})}(this.ngModule.injector,h=>this.triggerEvent(h)),po(h=>{if(Hd(h.guardsResult)){const v=DP(`Redirecting to "${this.serializeUrl(h.guardsResult)}"`);throw v.url=h.guardsResult,v}const g=new l$(h.id,this.serializeUrl(h.extractedUrl),this.serializeUrl(h.urlAfterRedirects),h.targetSnapshot,!!h.guardsResult);this.triggerEvent(g)}),xs(h=>!!h.guardsResult||(this.restoreHistory(h),this.cancelNavigationTransition(h,""),!1)),VP(h=>{if(h.guards.canActivateChecks.length)return ht(h).pipe(po(g=>{const v=new u$(g.id,this.serializeUrl(g.extractedUrl),this.serializeUrl(g.urlAfterRedirects),g.targetSnapshot);this.triggerEvent(v)}),Ka(g=>{let v=!1;return ht(g).pipe(function(n,t){return Yn(e=>{const{targetSnapshot:i,guards:{canActivateChecks:s}}=e;if(!s.length)return ht(e);let l=0;return $n(s).pipe(Jy(p=>function(n,t,e,i){return function(n,t,e,i){const s=Object.keys(n);if(0===s.length)return ht({});const l={};return $n(s).pipe(Yn(p=>function(n,t,e,i){const s=h0(n,t,i);return qa(s.resolve?s.resolve(t,e):s(t,e))}(n[p],t,e,i).pipe(po(h=>{l[p]=h}))),CP(1),Yn(()=>Object.keys(l).length===s.length?ht(l):Ld))}(n._resolve,n,t,i).pipe(It(l=>(n._resolvedData=l,n.data=Object.assign(Object.assign({},n.data),fN(n,e).resolve),null)))}(p.route,i,n,t)),po(()=>l++),CP(1),Yn(p=>l===s.length?ht(e):Ld))})}(this.paramsInheritanceStrategy,this.ngModule.injector),po({next:()=>v=!0,complete:()=>{v||(this.restoreHistory(g),this.cancelNavigationTransition(g,"At least one route resolver didn't emit any value."))}}))}),po(g=>{const v=new c$(g.id,this.serializeUrl(g.extractedUrl),this.serializeUrl(g.urlAfterRedirects),g.targetSnapshot);this.triggerEvent(v)}))}),VP(h=>{const{targetSnapshot:g,id:v,extractedUrl:m,rawUrl:_,extras:{skipLocationChange:b,replaceUrl:C}}=h;return this.hooks.afterPreactivation(g,{navigationId:v,appliedUrlTree:m,rawUrlTree:_,skipLocationChange:!!b,replaceUrl:!!C})}),It(h=>{const g=function(n,t,e){const i=o0(n,t._root,e?e._root:void 0);return new pN(i,t)}(this.routeReuseStrategy,h.targetSnapshot,h.currentRouterState);return Object.assign(Object.assign({},h),{targetRouterState:g})}),po(h=>{this.currentUrlTree=h.urlAfterRedirects,this.rawUrlTree=this.urlHandlingStrategy.merge(h.urlAfterRedirects,h.rawUrl),this.routerState=h.targetRouterState,"deferred"===this.urlUpdateStrategy&&(h.extras.skipLocationChange||this.setBrowserUrl(this.rawUrlTree,h),this.browserUrlTree=h.urlAfterRedirects)}),((n,t,e)=>It(i=>(new K$(t,i.targetRouterState,i.currentRouterState,e).activate(n),i)))(this.rootContexts,this.routeReuseStrategy,h=>this.triggerEvent(h)),po({next(){l=!0},complete(){l=!0}}),function(n){return t=>t.lift(new n$(n))}(()=>{var h;if(!l&&!p){const g=`Navigation ID ${s.id} is not equal to the current navigation id ${this.navigationId}`;"replace"===this.canceledNavigationResolution?(this.restoreHistory(s),this.cancelNavigationTransition(s,g)):this.cancelNavigationTransition(s,g)}(null===(h=this.currentNavigation)||void 0===h?void 0:h.id)===s.id&&(this.currentNavigation=null)}),Vd(h=>{if(p=!0,function(n){return n&&n[Q1]}(h)){const g=Hd(h.url);g||(this.navigated=!0,this.restoreHistory(s,!0));const v=new K1(s.id,this.serializeUrl(s.extractedUrl),h.message);i.next(v),g?setTimeout(()=>{const m=this.urlHandlingStrategy.merge(h.url,this.rawUrlTree),_={skipLocationChange:s.extras.skipLocationChange,replaceUrl:"eager"===this.urlUpdateStrategy||f0(s.source)};this.scheduleNavigation(m,"imperative",null,_,{resolve:s.resolve,reject:s.reject,promise:s.promise})},0):s.resolve(!1)}else{this.restoreHistory(s,!0);const g=new o$(s.id,this.serializeUrl(s.extractedUrl),h);i.next(g);try{s.resolve(this.errorHandler(h))}catch(v){s.reject(v)}}return Ld}))}))}resetRootComponentType(e){this.rootComponentType=e,this.routerState.root.component=this.rootComponentType}getTransition(){const e=this.transitions.value;return e.urlAfterRedirects=this.browserUrlTree,e}setTransition(e){this.transitions.next(Object.assign(Object.assign({},this.getTransition()),e))}initialNavigation(){this.setUpLocationChangeListener(),0===this.navigationId&&this.navigateByUrl(this.location.path(!0),{replaceUrl:!0})}setUpLocationChangeListener(){this.locationSubscription||(this.locationSubscription=this.location.subscribe(e=>{const i=this.extractLocationChangeInfoFromEvent(e);this.shouldScheduleNavigation(this.lastLocationChangeInfo,i)&&setTimeout(()=>{const{source:s,state:l,urlTree:p}=i,h={replaceUrl:!0};if(l){const g=Object.assign({},l);delete g.navigationId,delete g.\u0275routerPageId,0!==Object.keys(g).length&&(h.state=g)}this.scheduleNavigation(p,s,l,h)},0),this.lastLocationChangeInfo=i}))}extractLocationChangeInfoFromEvent(e){var i;return{source:"popstate"===e.type?"popstate":"hashchange",urlTree:this.parseUrl(e.url),state:(null===(i=e.state)||void 0===i?void 0:i.navigationId)?e.state:null,transitionId:this.getTransition().id}}shouldScheduleNavigation(e,i){if(!e)return!0;const s=i.urlTree.toString()===e.urlTree.toString();return i.transitionId!==e.transitionId||!s||!("hashchange"===i.source&&"popstate"===e.source||"popstate"===i.source&&"hashchange"===e.source)}get url(){return this.serializeUrl(this.currentUrlTree)}getCurrentNavigation(){return this.currentNavigation}triggerEvent(e){this.events.next(e)}resetConfig(e){EN(e),this.config=e.map(NP),this.navigated=!1,this.lastSuccessfulId=-1}ngOnDestroy(){this.dispose()}dispose(){this.transitions.complete(),this.locationSubscription&&(this.locationSubscription.unsubscribe(),this.locationSubscription=void 0),this.disposed=!0}createUrlTree(e,i={}){const{relativeTo:s,queryParams:l,fragment:p,queryParamsHandling:h,preserveFragment:g}=i,v=s||this.routerState.root,m=g?this.currentUrlTree.fragment:p;let _=null;switch(h){case"merge":_=Object.assign(Object.assign({},this.currentUrlTree.queryParams),l);break;case"preserve":_=this.currentUrlTree.queryParams;break;default:_=l||null}return null!==_&&(_=this.removeEmptyProps(_)),function(n,t,e,i,s){if(0===e.length)return AP(t.root,t.root,t,i,s);const l=function(n){if("string"==typeof n[0]&&1===n.length&&"/"===n[0])return new _N(!0,0,n);let t=0,e=!1;const i=n.reduce((s,l,p)=>{if("object"==typeof l&&null!=l){if(l.outlets){const h={};return Rr(l.outlets,(g,v)=>{h[v]="string"==typeof g?g.split("/"):g}),[...s,{outlets:h}]}if(l.segmentPath)return[...s,l.segmentPath]}return"string"!=typeof l?[...s,l]:0===p?(l.split("/").forEach((h,g)=>{0==g&&"."===h||(0==g&&""===h?e=!0:".."===h?t++:""!=h&&s.push(h))}),s):[...s,l]},[]);return new _N(e,t,i)}(e);if(l.toRoot())return AP(t.root,new Ut([],{}),t,i,s);const p=function(n,t,e){if(n.isAbsolute)return new IP(t.root,!0,0);if(-1===e.snapshot._lastPathIndex){const l=e.snapshot._urlSegment;return new IP(l,l===t.root,0)}const i=s0(n.commands[0])?0:1;return function(n,t,e){let i=n,s=t,l=e;for(;l>s;){if(l-=s,i=i.parent,!i)throw new Error("Invalid number of '../'");s=i.segments.length}return new IP(i,!1,s-l)}(e.snapshot._urlSegment,e.snapshot._lastPathIndex+i,n.numberOfDoubleDots)}(l,t,n),h=p.processChildren?a0(p.segmentGroup,p.index,l.commands):bN(p.segmentGroup,p.index,l.commands);return AP(p.segmentGroup,h,t,i,s)}(v,this.currentUrlTree,e,_,null!=m?m:null)}navigateByUrl(e,i={skipLocationChange:!1}){const s=Hd(e)?e:this.parseUrl(e),l=this.urlHandlingStrategy.merge(s,this.rawUrlTree);return this.scheduleNavigation(l,"imperative",null,i)}navigate(e,i={skipLocationChange:!1}){return function(n){for(let t=0;t<n.length;t++){const e=n[t];if(null==e)throw new Error(`The requested path contains ${e} segment at index ${t}`)}}(e),this.navigateByUrl(this.createUrlTree(e,i),i)}serializeUrl(e){return this.urlSerializer.serialize(e)}parseUrl(e){let i;try{i=this.urlSerializer.parse(e)}catch(s){i=this.malformedUriErrorHandler(s,this.urlSerializer,e)}return i}isActive(e,i){let s;if(s=!0===i?Object.assign({},z8):!1===i?Object.assign({},$8):i,Hd(e))return nN(this.currentUrlTree,e,s);const l=this.parseUrl(e);return nN(this.currentUrlTree,l,s)}removeEmptyProps(e){return Object.keys(e).reduce((i,s)=>{const l=e[s];return null!=l&&(i[s]=l),i},{})}processNavigations(){this.navigations.subscribe(e=>{this.navigated=!0,this.lastSuccessfulId=e.id,this.currentPageId=e.targetPageId,this.events.next(new em(e.id,this.serializeUrl(e.extractedUrl),this.serializeUrl(this.currentUrlTree))),this.lastSuccessfulNavigation=this.currentNavigation,e.resolve(!0)},e=>{this.console.warn(`Unhandled Navigation Error: ${e}`)})}scheduleNavigation(e,i,s,l,p){var h,g;if(this.disposed)return Promise.resolve(!1);const v=this.getTransition(),m=f0(i)&&v&&!f0(v.source),C=(this.lastSuccessfulId===v.id||this.currentNavigation?v.rawUrl:v.urlAfterRedirects).toString()===e.toString();if(m&&C)return Promise.resolve(!0);let S,E,x;p?(S=p.resolve,E=p.reject,x=p.promise):x=new Promise((k,U)=>{S=k,E=U});const R=++this.navigationId;let P;return"computed"===this.canceledNavigationResolution?(0===this.currentPageId&&(s=this.location.getState()),P=s&&s.\u0275routerPageId?s.\u0275routerPageId:l.replaceUrl||l.skipLocationChange?null!==(h=this.browserPageId)&&void 0!==h?h:0:(null!==(g=this.browserPageId)&&void 0!==g?g:0)+1):P=0,this.setTransition({id:R,targetPageId:P,source:i,restoredState:s,currentUrlTree:this.currentUrlTree,currentRawUrl:this.rawUrlTree,rawUrl:e,extras:l,resolve:S,reject:E,promise:x,currentSnapshot:this.routerState.snapshot,currentRouterState:this.routerState}),x.catch(k=>Promise.reject(k))}setBrowserUrl(e,i){const s=this.urlSerializer.serialize(e),l=Object.assign(Object.assign({},i.extras.state),this.generateNgRouterState(i.id,i.targetPageId));this.location.isCurrentPathEqualTo(s)||i.extras.replaceUrl?this.location.replaceState(s,"",l):this.location.go(s,"",l)}restoreHistory(e,i=!1){var s,l;if("computed"===this.canceledNavigationResolution){const p=this.currentPageId-e.targetPageId;"popstate"!==e.source&&"eager"!==this.urlUpdateStrategy&&this.currentUrlTree!==(null===(s=this.currentNavigation)||void 0===s?void 0:s.finalUrl)||0===p?this.currentUrlTree===(null===(l=this.currentNavigation)||void 0===l?void 0:l.finalUrl)&&0===p&&(this.resetState(e),this.browserUrlTree=e.currentUrlTree,this.resetUrlToCurrentUrlTree()):this.location.historyGo(p)}else"replace"===this.canceledNavigationResolution&&(i&&this.resetState(e),this.resetUrlToCurrentUrlTree())}resetState(e){this.routerState=e.currentRouterState,this.currentUrlTree=e.currentUrlTree,this.rawUrlTree=this.urlHandlingStrategy.merge(this.currentUrlTree,e.rawUrl)}resetUrlToCurrentUrlTree(){this.location.replaceState(this.urlSerializer.serialize(this.rawUrlTree),"",this.generateNgRouterState(this.lastSuccessfulId,this.currentPageId))}cancelNavigationTransition(e,i){const s=new K1(e.id,this.serializeUrl(e.extractedUrl),i);this.triggerEvent(s),e.resolve(!1)}generateNgRouterState(e,i){return"computed"===this.canceledNavigationResolution?{navigationId:e,\u0275routerPageId:i}:{navigationId:e}}}return n.\u0275fac=function(e){return new(e||n)(Se(Jp),Se(SP),Se(wf),Se(Mw),Se(Et),Se(ww),Se(Ad),Se(void 0))},n.\u0275prov=Xe({token:n,factory:n.\u0275fac}),n})();function f0(n){return"imperative"!==n}let BP=(()=>{class n{constructor(e,i,s,l,p){this.parentContexts=e,this.location=i,this.resolver=s,this.changeDetector=p,this.activated=null,this._activatedRoute=null,this.activateEvents=new Q,this.deactivateEvents=new Q,this.name=l||Nt,e.onChildOutletCreated(this.name,this)}ngOnDestroy(){this.parentContexts.onChildOutletDestroyed(this.name)}ngOnInit(){if(!this.activated){const e=this.parentContexts.getContext(this.name);e&&e.route&&(e.attachRef?this.attach(e.attachRef,e.route):this.activateWith(e.route,e.resolver||null))}}get isActivated(){return!!this.activated}get component(){if(!this.activated)throw new Error("Outlet is not activated");return this.activated.instance}get activatedRoute(){if(!this.activated)throw new Error("Outlet is not activated");return this._activatedRoute}get activatedRouteData(){return this._activatedRoute?this._activatedRoute.snapshot.data:{}}detach(){if(!this.activated)throw new Error("Outlet is not activated");this.location.detach();const e=this.activated;return this.activated=null,this._activatedRoute=null,e}attach(e,i){this.activated=e,this._activatedRoute=i,this.location.insert(e.hostView)}deactivate(){if(this.activated){const e=this.component;this.activated.destroy(),this.activated=null,this._activatedRoute=null,this.deactivateEvents.emit(e)}}activateWith(e,i){if(this.isActivated)throw new Error("Cannot activate an already activated outlet");this._activatedRoute=e;const p=(i=i||this.resolver).resolveComponentFactory(e._futureSnapshot.routeConfig.component),h=this.parentContexts.getOrCreateContext(this.name).children,g=new q8(e,h,this.location.injector);this.activated=this.location.createComponent(p,this.location.length,g),this.changeDetector.markForCheck(),this.activateEvents.emit(this.activated.instance)}}return n.\u0275fac=function(e){return new(e||n)(te(wf),te(Wo),te(Ua),function(n){return function(n,t){if("class"===t)return n.classes;if("style"===t)return n.styles;const e=n.attrs;if(e){const i=e.length;let s=0;for(;s<i;){const l=e[s];if(F_(l))break;if(0===l)s+=2;else if("number"==typeof l)for(s++;s<i&&"string"==typeof e[s];)s++;else{if(l===t)return e[s+1];s+=2}}}return null}(bn(),n)}("name"),te(za))},n.\u0275dir=Re({type:n,selectors:[["router-outlet"]],outputs:{activateEvents:"activate",deactivateEvents:"deactivate"},exportAs:["outlet"]}),n})();class q8{constructor(t,e,i){this.route=t,this.childContexts=e,this.parent=i}get(t,e){return t===Cf?this.route:t===wf?this.childContexts:this.parent.get(t,e)}}class BN{}class jN{preload(t,e){return ht(null)}}let WN=(()=>{class n{constructor(e,i,s,l,p){this.router=e,this.injector=l,this.preloadingStrategy=p,this.loader=new GN(i,s,v=>e.triggerEvent(new X1(v)),v=>e.triggerEvent(new q1(v)))}setUpPreloading(){this.subscription=this.router.events.pipe(xs(e=>e instanceof em),Jy(()=>this.preload())).subscribe(()=>{})}preload(){const e=this.injector.get($a);return this.processRoutes(e,this.router.config)}ngOnDestroy(){this.subscription&&this.subscription.unsubscribe()}processRoutes(e,i){const s=[];for(const l of i)if(l.loadChildren&&!l.canLoad&&l._loadedConfig){const p=l._loadedConfig;s.push(this.processRoutes(p.module,p.routes))}else l.loadChildren&&!l.canLoad?s.push(this.preloadConfig(e,l)):l.children&&s.push(this.processRoutes(e,l.children));return $n(s).pipe(ya(),It(l=>{}))}preloadConfig(e,i){return this.preloadingStrategy.preload(i,()=>(i._loadedConfig?ht(i._loadedConfig):this.loader.load(e.injector,i)).pipe(Yn(l=>(i._loadedConfig=l,this.processRoutes(l.module,l.routes)))))}}return n.\u0275fac=function(e){return new(e||n)(Se(Ro),Se(ww),Se(Ad),Se(Et),Se(BN))},n.\u0275prov=Xe({token:n,factory:n.\u0275fac}),n})(),jP=(()=>{class n{constructor(e,i,s={}){this.router=e,this.viewportScroller=i,this.options=s,this.lastId=0,this.lastSource="imperative",this.restoredId=0,this.store={},s.scrollPositionRestoration=s.scrollPositionRestoration||"disabled",s.anchorScrolling=s.anchorScrolling||"disabled"}init(){"disabled"!==this.options.scrollPositionRestoration&&this.viewportScroller.setHistoryScrollRestoration("manual"),this.routerEventsSubscription=this.createScrollEvents(),this.scrollEventsSubscription=this.consumeScrollEvents()}createScrollEvents(){return this.router.events.subscribe(e=>{e instanceof wP?(this.store[this.lastId]=this.viewportScroller.getScrollPosition(),this.lastSource=e.navigationTrigger,this.restoredId=e.restoredState?e.restoredState.navigationId:0):e instanceof em&&(this.lastId=e.id,this.scheduleScrollEvent(e,this.router.parseUrl(e.urlAfterRedirects).fragment))})}consumeScrollEvents(){return this.router.events.subscribe(e=>{e instanceof Z1&&(e.position?"top"===this.options.scrollPositionRestoration?this.viewportScroller.scrollToPosition([0,0]):"enabled"===this.options.scrollPositionRestoration&&this.viewportScroller.scrollToPosition(e.position):e.anchor&&"enabled"===this.options.anchorScrolling?this.viewportScroller.scrollToAnchor(e.anchor):"disabled"!==this.options.scrollPositionRestoration&&this.viewportScroller.scrollToPosition([0,0]))})}scheduleScrollEvent(e,i){this.router.triggerEvent(new Z1(e,"popstate"===this.lastSource?this.store[this.restoredId]:null,i))}ngOnDestroy(){this.routerEventsSubscription&&this.routerEventsSubscription.unsubscribe(),this.scrollEventsSubscription&&this.scrollEventsSubscription.unsubscribe()}}return n.\u0275fac=function(e){return new(e||n)(Se(Ro),Se(P1),Se(void 0))},n.\u0275prov=Xe({token:n,factory:n.\u0275fac}),n})();const Bd=new Pt("ROUTER_CONFIGURATION"),UN=new Pt("ROUTER_FORROOT_GUARD"),Q8=[Mw,{provide:SP,useClass:aN},{provide:Ro,useFactory:function(n,t,e,i,s,l,p,h={},g,v){const m=new Ro(null,n,t,e,i,s,l,eN(p));return g&&(m.urlHandlingStrategy=g),v&&(m.routeReuseStrategy=v),function(n,t){n.errorHandler&&(t.errorHandler=n.errorHandler),n.malformedUriErrorHandler&&(t.malformedUriErrorHandler=n.malformedUriErrorHandler),n.onSameUrlNavigation&&(t.onSameUrlNavigation=n.onSameUrlNavigation),n.paramsInheritanceStrategy&&(t.paramsInheritanceStrategy=n.paramsInheritanceStrategy),n.relativeLinkResolution&&(t.relativeLinkResolution=n.relativeLinkResolution),n.urlUpdateStrategy&&(t.urlUpdateStrategy=n.urlUpdateStrategy)}(h,m),h.enableTracing&&m.events.subscribe(_=>{var b,C;null===(b=console.group)||void 0===b||b.call(console,`Router Event: ${_.constructor.name}`),console.log(_.toString()),console.log(_),null===(C=console.groupEnd)||void 0===C||C.call(console)}),m},deps:[SP,wf,Mw,Et,ww,Ad,kP,Bd,[class{},new Br],[class{},new Br]]},wf,{provide:Cf,useFactory:function(n){return n.routerState.root},deps:[Ro]},{provide:ww,useClass:K2},WN,jN,class{preload(t,e){return e().pipe(Vd(()=>ht(null)))}},{provide:Bd,useValue:{enableTracing:!1}}];function J8(){return new AO("Router",Ro)}let zN=(()=>{class n{constructor(e,i){}static forRoot(e,i){return{ngModule:n,providers:[Q8,$N(e),{provide:UN,useFactory:i6,deps:[[Ro,new Br,new ls]]},{provide:Bd,useValue:i||{}},{provide:mf,useFactory:t6,deps:[Nd,[new vl(KO),new Br],Bd]},{provide:jP,useFactory:e6,deps:[Ro,P1,Bd]},{provide:BN,useExisting:i&&i.preloadingStrategy?i.preloadingStrategy:jN},{provide:AO,multi:!0,useFactory:J8},[WP,{provide:ky,multi:!0,useFactory:s6,deps:[WP]},{provide:YN,useFactory:a6,deps:[WP]},{provide:wF,multi:!0,useExisting:YN}]]}}static forChild(e){return{ngModule:n,providers:[$N(e)]}}}return n.\u0275fac=function(e){return new(e||n)(Se(UN,8),Se(Ro,8))},n.\u0275mod=si({type:n}),n.\u0275inj=Vt({}),n})();function e6(n,t,e){return e.scrollOffset&&t.setOffset(e.scrollOffset),new jP(n,t,e)}function t6(n,t,e={}){return e.useHash?new g3(n,t):new p1(n,t)}function i6(n){return"guarded"}function $N(n){return[{provide:Hc,multi:!0,useValue:n},{provide:kP,multi:!0,useValue:n}]}let WP=(()=>{class n{constructor(e){this.injector=e,this.initNavigation=!1,this.destroyed=!1,this.resultOfPreactivationDone=new Qi}appInitializer(){return this.injector.get(p3,Promise.resolve(null)).then(()=>{if(this.destroyed)return Promise.resolve(!0);let i=null;const s=new Promise(h=>i=h),l=this.injector.get(Ro),p=this.injector.get(Bd);return"disabled"===p.initialNavigation?(l.setUpLocationChangeListener(),i(!0)):"enabled"===p.initialNavigation||"enabledBlocking"===p.initialNavigation?(l.hooks.afterPreactivation=()=>this.initNavigation?ht(null):(this.initNavigation=!0,i(!0),this.resultOfPreactivationDone),l.initialNavigation()):i(!0),s})}bootstrapListener(e){const i=this.injector.get(Bd),s=this.injector.get(WN),l=this.injector.get(jP),p=this.injector.get(Ro),h=this.injector.get(Id);e===h.components[0]&&(("enabledNonBlocking"===i.initialNavigation||void 0===i.initialNavigation)&&p.initialNavigation(),s.setUpPreloading(),l.init(),p.resetRootComponentType(h.componentTypes[0]),this.resultOfPreactivationDone.next(null),this.resultOfPreactivationDone.complete())}ngOnDestroy(){this.destroyed=!0}}return n.\u0275fac=function(e){return new(e||n)(Se(Et))},n.\u0275prov=Xe({token:n,factory:n.\u0275fac}),n})();function s6(n){return n.appInitializer.bind(n)}function a6(n){return n.bootstrapListener.bind(n)}const YN=new Pt("Router Initializer");var UP=function(n,t){return(UP=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,i){e.__proto__=i}||function(e,i){for(var s in i)Object.prototype.hasOwnProperty.call(i,s)&&(e[s]=i[s])})(n,t)};function $(n,t){if("function"!=typeof t&&null!==t)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");function e(){this.constructor=n}UP(n,t),n.prototype=null===t?Object.create(t):(e.prototype=t.prototype,new e)}var Ps=function(){return(Ps=Object.assign||function(t){for(var e,i=1,s=arguments.length;i<s;i++)for(var l in e=arguments[i])Object.prototype.hasOwnProperty.call(e,l)&&(t[l]=e[l]);return t}).apply(this,arguments)};function Yt(n,t,e,i){return new(e||(e=Promise))(function(l,p){function h(m){try{v(i.next(m))}catch(_){p(_)}}function g(m){try{v(i.throw(m))}catch(_){p(_)}}function v(m){m.done?l(m.value):function(l){return l instanceof e?l:new e(function(p){p(l)})}(m.value).then(h,g)}v((i=i.apply(n,t||[])).next())})}function Lt(n,t){var i,s,l,p,e={label:0,sent:function(){if(1&l[0])throw l[1];return l[1]},trys:[],ops:[]};return p={next:h(0),throw:h(1),return:h(2)},"function"==typeof Symbol&&(p[Symbol.iterator]=function(){return this}),p;function h(v){return function(m){return function(v){if(i)throw new TypeError("Generator is already executing.");for(;e;)try{if(i=1,s&&(l=2&v[0]?s.return:v[0]?s.throw||((l=s.return)&&l.call(s),0):s.next)&&!(l=l.call(s,v[1])).done)return l;switch(s=0,l&&(v=[2&v[0],l.value]),v[0]){case 0:case 1:l=v;break;case 4:return e.label++,{value:v[1],done:!1};case 5:e.label++,s=v[1],v=[0];continue;case 7:v=e.ops.pop(),e.trys.pop();continue;default:if(!(l=(l=e.trys).length>0&&l[l.length-1])&&(6===v[0]||2===v[0])){e=0;continue}if(3===v[0]&&(!l||v[1]>l[0]&&v[1]<l[3])){e.label=v[1];break}if(6===v[0]&&e.label<l[1]){e.label=l[1],l=v;break}if(l&&e.label<l[2]){e.label=l[2],e.ops.push(v);break}l[2]&&e.ops.pop(),e.trys.pop();continue}v=t.call(n,e)}catch(m){v=[6,m],s=0}finally{i=l=0}if(5&v[0])throw v[1];return{value:v[0]?v[1]:void 0,done:!0}}([v,m])}}}function Sf(n){var t="function"==typeof Symbol&&Symbol.iterator,e=t&&n[t],i=0;if(e)return e.call(n);if(n&&"number"==typeof n.length)return{next:function(){return n&&i>=n.length&&(n=void 0),{value:n&&n[i++],done:!n}}};throw new TypeError(t?"Object is not iterable.":"Symbol.iterator is not defined.")}function Ef(n,t){var e="function"==typeof Symbol&&n[Symbol.iterator];if(!e)return n;var s,p,i=e.call(n),l=[];try{for(;(void 0===t||t-- >0)&&!(s=i.next()).done;)l.push(s.value)}catch(h){p={error:h}}finally{try{s&&!s.done&&(e=i.return)&&e.call(i)}finally{if(p)throw p.error}}return l}function xf(){for(var n=[],t=0;t<arguments.length;t++)n=n.concat(Ef(arguments[t]));return n}var ft=function(){function n(t){this._value=t}return Object.defineProperty(n.prototype,"value",{get:function(){return this._value/100},enumerable:!0,configurable:!0}),Object.defineProperty(n.prototype,"percent",{get:function(){return this._value},enumerable:!0,configurable:!0}),n.prototype.toString=function(){return this._value+"%"},n}();function ue(n){return new ft(n)}function Mn(n){return Number(n)!==n}function Gl(n){return{}.toString.call(n)}function zP(n){if("string"==typeof n)return n;if("number"==typeof n)return""+n;throw new Error("Expected a string or number but got "+Gl(n))}function pi(n){return!!n}function Zt(n){if(L(n)&&!M(n)){var t=Number(n);return Mn(t)&&gt(n)&&""!=n?Zt(n.replace(/[^0-9.\-]+/g,"")):t}return n}function tr(n){if(L(n)&&!gt(n)){if(M(n))return zP(n);if(li(n))return n.toString()}return n}function L(n){return null!=n}function hi(n){if(L(n))return n;throw new Error("Value doesn't exist")}function $P(n,t){return L(n)?n:t}function cm(n){return"[object Date]"===Gl(n)}function gt(n){return"string"==typeof n}function M(n){return"number"==typeof n&&Number(n)==n}function li(n){return"object"==typeof n&&null!=n}function hn(n){return Array.isArray(n)}var v0=Math.PI,XN=v0/2,y0=v0/180,rc=180/v0;function YP(n,t,e){return L(n)?xe(n=Zt(n),t,e):n}function ae(n,t,e){if(!M(t)||t<=0){var i=Math.round(n);return e&&i-n==.5&&i--,i}var s=Math.pow(10,t);return Math.round(n*s)/s}function qN(n,t){if(!M(t)||t<=0)return Math.ceil(n);var e=Math.pow(10,t);return Math.ceil(n*e)/e}function xe(n,t,e){if(M(t)){if(M(e)&&e<t){var i=e;e=t,t=i}n<t&&(n=t)}return M(e)&&n>e&&(n=e),n}function ge(n){return ae(Math.sin(y0*n),10)}function ZN(n){return ae(Math.tan(y0*n),10)}function ve(n){return ae(Math.cos(y0*n),10)}function Qe(n,t){return M(n)?M(t)&&t>n?t:n:M(t)?t:null}function vt(n,t){return M(n)?M(t)&&t<n?t:n:M(t)?t:null}function m0(n,t){var e=hi(n.start),i=hi(t.start),s=hi(n.end),l=hi(t.end);return Math.max(e,i)<=Math.min(s,l)}function dm(n){var t=hi(n.start);return{start:1-hi(n.end),end:1-t}}function At(n,t){return n?(t||(t={x:0,y:0}),Math.sqrt(Math.pow(Math.abs(n.x-t.x),2)+Math.pow(Math.abs(n.y-t.y),2))):0}function v6(n,t,e,i,s){if(!n)return 0;t||(t={x:0,y:0});var l=0,p=n;if(s>0)for(var h=0;h<=s;h++){var g=KP(n,t,e,i,h/s);l+=At(p,g),p=g}return l}function y6(n,t,e,i){var s=At(t,i),l=At(n,e);return Math.abs(l/s)}function _0(n,t,e){return M(e)||(e=.5),{x:n.x+(t.x-n.x)*e,y:n.y+(t.y-n.y)*e}}function Fn(n,t){t||(t={x:2*n.x,y:2*n.y});var s=Math.atan2(t.y-n.y,t.x-n.x)*rc;return s<0&&(s+=360),jd(s)}function pm(n){if(n){var t=n.length;if(0!==t){for(var s,e=void 0,i=void 0,l=void 0,p=0;p<t;p++){var h=n[p];(!M(i)||h.x>i)&&(i=h.x),(!M(e)||h.x<e)&&(e=h.x),(!M(s)||h.y<s)&&(s=h.y),(!M(l)||h.y>l)&&(l=h.y)}return{x:e,y:s,width:i-e,height:l-s}}}return{x:0,y:0,width:0,height:0}}function hm(n){var t=n.length;if(0!==t){for(var e=void 0,i=void 0,s=void 0,l=void 0,p=0;p<t;p++){var h=n[p];e=vt(h.x,e),i=vt(h.y,i),s=Qe(h.x+h.width,s),l=Qe(h.y+h.height,l)}return{x:e,y:i,width:s-e,height:l-i}}}function QN(n,t,e,i){return{x:(1-i)*(1-i)*n.x+2*(1-i)*i*e.x+i*i*t.x,y:(1-i)*(1-i)*n.y+2*(1-i)*i*e.y+i*i*t.y}}function KP(n,t,e,i,s){var l={x:0,y:0},p=1-s,h=p*p,g=h*p;return l.x=n.x*g+3*e.x*h*s+3*i.x*p*s*s+t.x*s*s*s,l.y=n.y*g+3*e.y*h*s+3*i.y*p*s*s+t.y*s*s*s,l}function JN(n,t,e,i,s,l){return s=b0(s),l=b0(l),{x:(t.x/s-n.x+e.x)*s,y:(t.y/l-n.y+e.y)*l}}function eL(n,t,e,i,s,l){return s=b0(s),l=b0(l),{x:(t.x+e.x/s-i.x)*s,y:(t.y+e.y/l-i.y)*l}}function b0(n){return 1-n+1e-5}function jd(n){return 360==n?360:n%360}function Za(n,t,e){if(t>e){var i=t;t=e,e=i}n=jd(n);var s=(t-jd(t))/360;return n<t&&(n+=360*(s+1)),n>e&&(n-360>t?n-=360:n=n<t+(e-t)/2+180?e:t),n<t&&(n=n>t+(e-t)/2-180?t:e),n}function Qa(n,t,e){var i=Number.MAX_VALUE,s=Number.MAX_VALUE,l=-Number.MAX_VALUE,p=-Number.MAX_VALUE,h=[];M(e)||(e=1),h.push(XP(e,n)),h.push(XP(e,t));for(var g=Math.min(90*Math.floor(n/90),90*Math.floor(t/90)),v=Math.max(90*Math.ceil(n/90),90*Math.ceil(t/90)),m=g;m<=v;m+=90)m>=n&&m<=t&&h.push(XP(e,m));for(var _=0;_<h.length;_++){var b=h[_];b.x<i&&(i=b.x),b.y<s&&(s=b.y),b.x>l&&(l=b.x),b.y>p&&(p=b.y)}return{x:i,y:s,width:l-i,height:p-s}}function XP(n,t){return{x:n*ve(t),y:n*ge(t)}}function tL(n,t){return n.x>=t.x&&n.x<=t.x+t.width&&n.y>=t.y&&n.y<=t.y+t.height}function Rs(n,t){for(var e=n.length,i=0;i<e;++i)if(n[i]===t)return i;return-1}function qP(n,t){for(var e=n.length,i=0;i<e;++i)if(t(n[i]))return!0;return!1}function fm(n,t){for(var e=n.length,i=new Array(e),s=0;s<e;++s)i[s]=t(n[s],s);return i}function be(n,t){for(var e=n.length,i=0;i<e;++i)t(n[i],i)}function ZP(n,t){for(var e=n.length,i=0;i<e&&t(n[i],i);++i);}function Ue(n,t){var e=!1,i=n.indexOf(t);if(-1!==i){e=!0,n.splice(i,1);for(var s=n.length;i<s;)n[i]===t?(n.splice(i,1),--s):++i}return e}function Ts(n,t,e){var i=Rs(n,t);-1!==i&&Rf(n,i),null==e?n.push(t):Pf(n,e,t)}function Of(n,t,e){M(e)?0===e?n.unshift(t):n.splice(e,0,t):n.push(t)}function iL(n){return Array.isArray(n)?n:[n]}function gm(n){for(var t=n.length,e=new Array(t),i=0;i<t;++i)e[i]=n[i];return e}function Pf(n,t,e){n.splice(t,0,e)}function Rf(n,t){n.splice(t,1)}function C0(n,t,e){for(var i=0,s=n.length,l=!1;i<s;){var p=i+s>>1,h=t(e,n[p]);h<0?s=p:(0===h&&(l=!0),i=p+1)}return{found:l,index:l?i-1:i}}function QP(n,t){for(var e=n.length,i=0;i<e;++i)if(t(n[i],i))return i;return-1}function nL(n,t){for(var e=n.length,i=0;i<e;)t(n[i])?++i:(n.splice(i,1),--e)}var Bt=function(){function n(t){this._disposed=!1,this._dispose=t}return n.prototype.isDisposed=function(){return this._disposed},n.prototype.dispose=function(){this._disposed||(this._disposed=!0,this._dispose())},n}(),mi=function(n){function t(e){return n.call(this,function(){be(e,function(i){i.dispose()})})||this}return $(t,n),t}(Bt),Pn=function(n){function t(){var e=n.call(this,function(){L(e._disposer)&&(e._disposer.dispose(),e._disposer=void 0)})||this;return e}return $(t,n),t.prototype.get=function(){return this._value},t.prototype.set=function(e,i){L(this._disposer)&&this._disposer.dispose(),this._disposer=i,this._value=e},t.prototype.reset=function(){this.set(void 0,void 0)},t}(Bt),w0=function(n){function t(){var e=null!==n&&n.apply(this,arguments)||this;return e._counter=0,e}return $(t,n),t.prototype.increment=function(){var e=this;return++this._counter,new Bt(function(){--e._counter,0===e._counter&&e.dispose()})},t}(Bt),JP=!1,vm=[],ym=[],D0=[],eR=[],tR="function"==typeof requestAnimationFrame?function(n){requestAnimationFrame(n)}:function(n){setTimeout(n,16.666666666666668)};function rL(){for(var n=Date.now(),t=vm.length,e=0;e<t;++e)vm[e](n);for(function(n,t){for(var e=n.length,i=t;i<e;++i)n[i-t]=n[i];n.length=e-t}(vm,t),e=0;e<ym.length;++e)ym[e](n);for(ym.length=0,e=0;e<D0.length;++e)D0[e](n);D0.length=0,0===vm.length&&0===ym.length?JP=!1:tR(rL)}function iR(){JP||(JP=!0,tR(rL))}function oL(n){D0.push(n),iR()}var oc=function(){function n(){this._listeners=[],this._killed=[],this._disabled={},this._iterating=0,this._enabled=!0,this._disposed=!1}return n.prototype.isDisposed=function(){return this._disposed},n.prototype.dispose=function(){if(!this._disposed){this._disposed=!0;var t=this._listeners;this._iterating=1,this._listeners=null,this._disabled=null;try{be(t,function(e){e.disposer.dispose()})}finally{this._killed=null,this._iterating=null}}},n.prototype.hasListeners=function(){return 0!==this._listeners.length},n.prototype.hasListenersByType=function(t){return qP(this._listeners,function(e){return(null===e.type||e.type===t)&&!e.killed})},n.prototype.enable=function(){this._enabled=!0},n.prototype.disable=function(){this._enabled=!1},n.prototype.enableType=function(t){delete this._disabled[t]},n.prototype.disableType=function(t,e){void 0===e&&(e=1/0),this._disabled[t]=e},n.prototype._removeListener=function(t){if(0===this._iterating){var e=this._listeners.indexOf(t);if(-1===e)throw new Error("Invalid state: could not remove listener");this._listeners.splice(e,1)}else this._killed.push(t)},n.prototype._removeExistingListener=function(t,e,i,s){if(this._disposed)throw new Error("EventDispatcher is disposed");this._eachListener(function(l){l.once===t&&l.type===e&&(null==i||l.callback===i)&&l.context===s&&l.disposer.dispose()})},n.prototype.isEnabled=function(t){if(this._disposed)throw new Error("EventDispatcher is disposed");return this._enabled&&this._listeners.length>0&&this.hasListenersByType(t)&&null==this._disabled[t]},n.prototype.has=function(t,e,i){return-1!==QP(this._listeners,function(l){return!0!==l.once&&l.type===t&&(null==e||l.callback===e)&&l.context===i})},n.prototype._shouldDispatch=function(t){if(this._disposed)throw new Error("EventDispatcher is disposed");var e=this._disabled[t];return M(e)?(e<=1?delete this._disabled[t]:--this._disabled[t],!1):this._enabled},n.prototype._eachListener=function(t){var e=this;++this._iterating;try{be(this._listeners,t)}finally{--this._iterating,0===this._iterating&&0!==this._killed.length&&(be(this._killed,function(i){e._removeListener(i)}),this._killed.length=0)}},n.prototype.dispatchImmediately=function(t,e){this._shouldDispatch(t)&&this._eachListener(function(i){!i.killed&&(null===i.type||i.type===t)&&i.dispatch(t,e)})},n.prototype.dispatch=function(t,e){this._shouldDispatch(t)&&this._eachListener(function(i){!i.killed&&(null===i.type||i.type===t)&&eR.push(function(){i.killed||i.dispatch(t,e)})})},n.prototype._on=function(t,e,i,s,l,p){var h=this;if(this._disposed)throw new Error("EventDispatcher is disposed");this._removeExistingListener(t,e,i,s);var g={type:e,callback:i,context:s,shouldClone:l,dispatch:p,killed:!1,once:t,disposer:new Bt(function(){g.killed=!0,h._removeListener(g)})};return this._listeners.push(g),g},n.prototype.onAll=function(t,e,i){return void 0===i&&(i=!0),this._on(!1,null,t,e,i,function(s,l){return t.call(e,s,l)}).disposer},n.prototype.on=function(t,e,i,s){return void 0===s&&(s=!0),this._on(!1,t,e,i,s,function(l,p){return e.call(i,p)}).disposer},n.prototype.once=function(t,e,i,s){void 0===s&&(s=!0);var l=this._on(!0,t,e,i,s,function(p,h){l.disposer.dispose(),e.call(i,h)});return l.disposer},n.prototype.off=function(t,e,i){this._removeExistingListener(!1,t,e,i)},n.prototype.copyFrom=function(t){var e=this;if(this._disposed)throw new Error("EventDispatcher is disposed");if(t===this)throw new Error("Cannot copyFrom the same TargetedEventDispatcher");be(t._listeners,function(i){!i.killed&&i.shouldClone&&(null===i.type?e.onAll(i.callback,i.context):i.once?e.once(i.type,i.callback,i.context):e.on(i.type,i.callback,i.context))})},n}(),sL=function(n){function t(e){var i=n.call(this)||this;return i.target=e,i}return $(t,n),t.prototype.copyFrom=function(e){var i=this;if(this._disposed)throw new Error("EventDispatcher is disposed");if(e===this)throw new Error("Cannot copyFrom the same TargetedEventDispatcher");be(e._listeners,function(s){s.context!==e.target&&!s.killed&&s.shouldClone&&(null===s.type?i.onAll(s.callback,s.context):s.once?i.once(s.type,s.callback,s.context):i.on(s.type,s.callback,s.context))})},t}(oc);function aL(n){var t=[];for(var e in n)Ja(n,e)&&t.push(e);return t}function Ja(n,t){return{}.hasOwnProperty.call(n,t)}function lL(n,t){for(var e in n)if(Ja(n,e)&&!t(e,n[e]))break}function We(n,t){lL(n,function(e,i){return t(e,i),!0})}function Hl(n,t,e){be(function(n,t){return aL(n).sort(t)}(n,e),function(i){t(i,n[i])})}function nR(n,t){return Object.assign({},n,t)}function Xi(n,t,e){be(e,function(i){L(n[i])&&(t[i]=n[i])})}function mm(n,t){Xi(n,t,aL(n))}function Wd(n){return function(t){for(var e=n.length,i=0;i<e&&t(n[i]);++i);}}function _m(n){var t=[];return n(function(e){return t.push(e),!0}),t}function zo(n,t){n(t)}function oe(n,t){n(function(e){return t(e),!0})}function Tf(n,t){return Wd(_m(n).sort(t))}function uL(n,t){return function(e){return n(function(i){return e(t(i))})}}function Ud(n){return function(t){var e=0;n(function(i){return t([e++,i])})}}function rR(n,t){var e=!1;return n(function(i){return!t(i)||(e=!0,!1)}),e}var oR=function(){function n(t,e){this.createNewItems=!1,this.list=t,this._create=e,this.reset()}return n.prototype.reset=function(){this._listCopy=_m(this.list.iterator())},n.prototype.clear=function(){this._listCopy.length=0},n.prototype.getFirst=function(){return this.returnItem(0)},n.prototype.getLast=function(){return this.returnItem(this._listCopy.length-1)},n.prototype.find=function(t){var e=QP(this._listCopy,t);if(-1!==e){var i=this._listCopy[e];return Ue(this._listCopy,i),i}return this.getLast()},n.prototype.removeItem=function(t){return Ue(this._listCopy,t)},n.prototype.returnItem=function(t){if(t>=0&&t<this._listCopy.length){var e=this._listCopy[t];return Ue(this._listCopy,e),e}if(this.createNewItems)return this._create()},n.prototype.iterator=function(){return Wd(this._listCopy)},n}();function sR(n,t){return n===t?0:n<t?-1:1}function dL(n,t){return new Array(t+1).join(n)}var zd=function(n){function t(e){var s=e.events.on("removed",function(l){l.oldValue.dispose()},void 0,!1);return n.call(this,function(){s.dispose(),oe(e.iterator(),function(l){l[1].dispose()})})||this}return $(t,n),t}(Bt),ii=function(){function n(){this.events=new oc,this._dictionary={}}return n.prototype.hasKey=function(t){return Ja(this._dictionary,t)},n.prototype.getKey=function(t){return this._dictionary[t]},n.prototype.insertKey=function(t,e){if(Ja(this._dictionary,t))throw new Error("Key "+t+" already exists in dictionary");this._dictionary[t]=e,this.events.isEnabled("insertKey")&&this.events.dispatchImmediately("insertKey",{type:"insertKey",target:this,key:t,newValue:e})},n.prototype.setKey=function(t,e){if(Ja(this._dictionary,t)){var i=this._dictionary[t];i!==e&&(this._dictionary[t]=e,this.events.isEnabled("setKey")&&this.events.dispatchImmediately("setKey",{type:"setKey",target:this,key:t,oldValue:i,newValue:e}),this.events.isEnabled("removed")&&this.events.dispatchImmediately("removed",{type:"removed",target:this,oldValue:i}))}else this._dictionary[t]=e,this.events.isEnabled("insertKey")&&this.events.dispatchImmediately("insertKey",{type:"insertKey",target:this,key:t,newValue:e})},n.prototype.updateKey=function(t,e){if(!Ja(this._dictionary,t))throw new Error("Key "+t+" doesn't exist in dictionary");var i=this._dictionary[t],s=e(i);i!==s&&(this._dictionary[t]=s,this.events.isEnabled("setKey")&&this.events.dispatchImmediately("setKey",{type:"setKey",target:this,key:t,oldValue:i,newValue:s}),this.events.isEnabled("removed")&&this.events.dispatchImmediately("removed",{type:"removed",target:this,oldValue:i}))},n.prototype.removeKey=function(t){if(Ja(this._dictionary,t)){var e=this._dictionary[t];delete this._dictionary[t],this.events.isEnabled("removeKey")&&this.events.dispatchImmediately("removeKey",{type:"removeKey",target:this,key:t,oldValue:e}),this.events.isEnabled("removed")&&this.events.dispatchImmediately("removed",{type:"removed",target:this,oldValue:e})}},n.prototype.insertKeyIfEmpty=function(t,e){return this.hasKey(t)||this.insertKey(t,e()),this.getKey(t)},n.prototype.clear=function(){var t=this;this.events.isEnabled("removed")&&We(this._dictionary,function(e,i){t.events.dispatchImmediately("removed",{type:"removed",target:t,oldValue:i})}),this._dictionary={},this.events.isEnabled("cleared")&&this.events.dispatchImmediately("cleared",{type:"cleared",target:this})},n.prototype.copyFrom=function(t){var e=this;oe(t.iterator(),function(i){e.setKey(i[0],i[1])})},n.prototype.iterator=function(){return function(n){return function(t){for(var e in n)if(Ja(n,e)&&!t([e,n[e]]))break}}(this._dictionary)},n.prototype[Symbol.iterator]=function(){var t,e,i,s;return Lt(this,function(l){switch(l.label){case 0:for(e in t=[],this._dictionary)t.push(e);i=0,l.label=1;case 1:return i<t.length?Ja(this._dictionary,s=t[i])?[4,[s,this._dictionary[s]]]:[3,3]:[3,4];case 2:l.sent(),l.label=3;case 3:return i++,[3,1];case 4:return[2]}})},n.prototype.each=function(t){oe(this.iterator(),function(e){var i=Ef(e,2);return t(i[0],i[1])})},n.prototype.sortedIterator=function(){return Tf(this.iterator(),function(t,e){return sR(t[0],e[0])})},n}(),bm=function(n){function t(e){var i=n.call(this)||this;return i.template=e,i}return $(t,n),Object.defineProperty(t.prototype,"template",{get:function(){return this._template},set:function(e){e.isTemplate=!0,this._template=e},enumerable:!0,configurable:!0}),t.prototype.copyFrom=function(e){var i=this;oe(e.iterator(),function(s){i.setKey(s[0],s[1].clone())})},t.prototype.create=function(e){var i=this;return this.insertKeyIfEmpty(e,function(){return i.template.clone()})},t}(ii),Cm=new(function(){function n(){this._storage=new ii,this.ttl=1e3}return n.prototype.set=function(t,e,i,s){var l=this._storage.insertKeyIfEmpty(t,function(){return new ii}),p={touched:(new Date).getTime(),ttl:M(s)?s:this.ttl,value:i};l.setKey(e,p)},n.prototype.get=function(t,e,i){if(void 0===i&&(i=void 0),this._storage.hasKey(t)){var s=this._storage.getKey(t);if(s.hasKey(e)){var l=s.getKey(e);return l.ttl&&l.touched+l.ttl<(new Date).getTime()&&(l.expired=!0),l.expired?(s.removeKey(e),i):l.value}return i}return i},n.prototype.clear=function(t){t?this._storage.removeKey(t):this._storage.clear()},n}()),G=new(function(){function n(){var t=this;this.events=new oc,this.themes=[],this.loadedThemes={},this._uidCount=0,this.registeredClasses={},this._placeholders={},this.invalidSprites={},this.invalidDatas={},this.invalidRawDatas=[],this.invalidDataItems=[],this.invalidDataRange=[],this.invalidPositions={},this.invalidLayouts={},this.baseSprites=[],this.baseSpritesByUid={},this.queue=[],this.deferred=[],this.uid=this.getUniqueId(),this.invalidSprites.noBase=[],this.invalidDatas.noBase=[],this.invalidLayouts.noBase=[],this.invalidPositions.noBase=[],"undefined"!=typeof addEventListener&&(addEventListener("beforeprint",function(){be(t.baseSprites,function(e){var i=e.paper.svg;i.setAttribute("viewBox","0 0 "+i.clientWidth+" "+i.clientHeight)})}),addEventListener("afterprint",function(){be(t.baseSprites,function(e){e.paper.svg.removeAttribute("viewBox")})}))}return n.prototype.getUniqueId=function(){var t=this._uidCount;return this._uidCount+=1,"id-"+t},Object.defineProperty(n.prototype,"map",{get:function(){return this._map||(this._map=new ii),this._map},enumerable:!0,configurable:!0}),n.prototype.setCache=function(t,e,i){Cm.set(this.uid,t,e,i)},n.prototype.getCache=function(t,e){return void 0===e&&(e=void 0),Cm.get(this.uid,t,e)},n.prototype.dispatch=function(t,e){this.events.isEnabled(t)&&(e?(e.type=t,e.target=e.target||this,this.events.dispatch(t,{type:t,target:this})):this.events.dispatch(t,{type:t,target:this}))},n.prototype.dispatchImmediately=function(t,e){this.events.isEnabled(t)&&(e?(e.type=t,e.target=e.target||this,this.events.dispatchImmediately(t,e)):this.events.dispatchImmediately(t,{type:t,target:this}))},n.prototype.getPlaceholder=function(t){return L(this._placeholders[t])||(this._placeholders[t]="__amcharts_"+t+"_"+function(n){for(var t="",e="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",i=0;i<8;i++)t+=e.charAt(Math.floor(Math.random()*e.length));return t}()+"__"),this._placeholders[t]},n.prototype.addToInvalidComponents=function(t){Ts(t.baseId?this.invalidDatas[t.baseId]:this.invalidDatas.noBase,t)},n.prototype.removeFromInvalidComponents=function(t){t.baseId&&Ue(this.invalidDatas[t.baseId],t),Ue(this.invalidDatas.noBase,t)},n.prototype.addToInvalidSprites=function(t){Of(t.baseId?this.invalidSprites[t.baseId]:this.invalidSprites.noBase,t)},n.prototype.removeFromInvalidSprites=function(t){t.baseId&&Ue(this.invalidSprites[t.baseId],t),Ue(this.invalidSprites.noBase,t)},n.prototype.addToInvalidPositions=function(t){Of(t.baseId?this.invalidPositions[t.baseId]:this.invalidPositions.noBase,t)},n.prototype.removeFromInvalidPositions=function(t){t.baseId&&Ue(this.invalidPositions[t.baseId],t),Ue(this.invalidPositions.noBase,t)},n.prototype.addToInvalidLayouts=function(t){Of(t.baseId?this.invalidLayouts[t.baseId]:this.invalidLayouts.noBase,t)},n.prototype.removeFromInvalidLayouts=function(t){t.baseId&&Ue(this.invalidLayouts[t.baseId],t),Ue(this.invalidLayouts.noBase,t)},n}());function Tr(n,t){var e=G.registeredClasses[t];return null!=e&&n instanceof e}var pL=function(){function n(t,e,i){this._array=t,this._start=e,this._end=i}return n.prototype.iterator=function(){var t=this;return function(e){if(t._start!==t._end)if(t._start<t._end)for(var i=t._start;i<t._end&&e(t._array[i]);++i);else for(i=t._start-1;i>=t._end&&e(t._array[i]);--i);}},n.prototype.backwards=function(){return new n(this._array,this._end,this._start)},n.prototype.range=function(t,e){if(t<=e){if(this._start===this._end)return this;if(this._start<this._end){var i=e-t;return t=Math.max(this._start+t,this._start),e=Math.min(t+i,this._end),new n(this._array,t,e)}return i=e-t,t=Math.max(this._start-t,this._end),e=Math.max(t-i,this._end),new n(this._array,t,e)}throw new Error("Start index must be lower than end index")},n}(),Qt=(function(n){function t(e,i,s){var l=n.call(this,[e.events.on("inserted",function(p){var h=p.newValue,g=l._getKey(h),v=0;zo(e.iterator(),function(m){return m!==h&&(l._getKey(m)===g&&++v,!0)}),l._insert(h,g,v)},void 0,!1),e.events.on("removed",function(p){l._remove(p.oldValue)},void 0,!1)])||this;return l._keys=[],l._groups={},l._getKey=i,l._sort=s,oe(e.iterator(),function(p){l._insert(p,i(p))}),l}$(t,n),t.prototype._insert=function(e,i,s){if(null==this._groups[i]){this._groups[i]=[];var l=C0(this._keys,this._sort,i),h=l.index;if(l.found)throw new Error("Key already exists: "+i);Pf(this._keys,h,i)}null==s?this._groups[i].push(e):Pf(this._groups[i],s,e)},t.prototype._remove=function(e){var i=this._getKey(e),s=this._groups[i];if(null!=s&&(Ue(s,e),0===s.length)){delete this._groups[i];var l=C0(this._keys,this._sort,i),h=l.index;if(!l.found)throw new Error("Key doesn't exist: "+i);Rf(this._keys,h)}},t.prototype.iterator=function(){var e=this;return function(n){return function(t){var e=!0,i=function(s){return e=t(s)};n(function(s){return s(i),e})}}(uL(Wd(this._keys),function(i){return Wd(e._groups[i])}))}}(mi),function(n){function t(e,i){void 0===i&&(i=!0);var s=this;if(i){var l=e.events.on("removed",function(p){p.oldValue.dispose()},void 0,!1);s=n.call(this,function(){l.dispose(),oe(e.iterator(),function(p){p.dispose()})})||this}else s=n.call(this,function(){oe(e.iterator(),function(p){p.dispose()})})||this;return s}return $(t,n),t}(Bt));function wm(n,t){if(!(n>=0&&n<t))throw new Error("Index out of bounds: "+n)}var Dt=function(){function n(t){void 0===t&&(t=[]),this.events=new oc,this._values=t}return Object.defineProperty(n.prototype,"values",{get:function(){return this._values},enumerable:!0,configurable:!0}),n.prototype.contains=function(t){return-1!==this._values.indexOf(t)},n.prototype.removeValue=function(t){for(var e=0,i=this._values.length;e<i;)this._values[e]===t?(this.removeIndex(e),--i):++e},n.prototype.indexOf=function(t){return Rs(this._values,t)},Object.defineProperty(n.prototype,"length",{get:function(){return this._values.length},enumerable:!0,configurable:!0}),n.prototype.hasIndex=function(t){return t>=0&&t<this._values.length},n.prototype.getIndex=function(t){return this._values[t]},n.prototype.setIndex=function(t,e){wm(t,this._values.length);var i=this._values[t];return i!==e&&(this._values[t]=e,this.events.isEnabled("setIndex")&&this.events.dispatchImmediately("setIndex",{type:"setIndex",target:this,index:t,oldValue:i,newValue:e}),this.events.isEnabled("removed")&&this.events.dispatchImmediately("removed",{type:"removed",target:this,oldValue:i}),this.events.isEnabled("inserted")&&this.events.dispatchImmediately("inserted",{type:"inserted",target:this,newValue:e})),i},n.prototype.insertIndex=function(t,e){wm(t,this._values.length+1),Pf(this._values,t,e),this.events.isEnabled("insertIndex")&&this.events.dispatchImmediately("insertIndex",{type:"insertIndex",target:this,index:t,newValue:e}),this.events.isEnabled("inserted")&&this.events.dispatchImmediately("inserted",{type:"inserted",target:this,newValue:e})},n.prototype._sortQuicksort=function(t,e,i){if(t<e){var s=this._sortPartition(t,e,i);this._sortQuicksort(t,s,i),this._sortQuicksort(s+1,e,i)}},n.prototype._sortPartition=function(t,e,i){for(var s=this._values,l=s[t],p=t-1,h=e+1;;){do{++p}while(i(s[p],l)<0);do{--h}while(i(s[h],l)>0);if(p>=h)return h;this.swap(p,h)}},n.prototype.sort=function(t){this._sortQuicksort(0,this._values.length-1,t)},n.prototype.swap=function(t,e){var i=this._values.length;if(wm(t,i),wm(e,i),t!==e){var s=this._values[t],l=this._values[e];this._values[t]=l,this.events.isEnabled("setIndex")&&this.events.dispatchImmediately("setIndex",{type:"setIndex",target:this,index:t,oldValue:s,newValue:l}),this._values[e]=s,this.events.isEnabled("setIndex")&&this.events.dispatchImmediately("setIndex",{type:"setIndex",target:this,index:e,oldValue:l,newValue:s})}},n.prototype.removeIndex=function(t){wm(t,this._values.length);var e=this._values[t];return Rf(this._values,t),this.events.isEnabled("removeIndex")&&this.events.dispatchImmediately("removeIndex",{type:"removeIndex",target:this,index:t,oldValue:e}),this.events.isEnabled("removed")&&this.events.dispatchImmediately("removed",{type:"removed",target:this,oldValue:e}),e},n.prototype.moveValue=function(t,e){var i=this.indexOf(t);if(-1!==i){var s=this._values[i];Rf(this._values,i),this.events.isEnabled("removeIndex")&&this.events.dispatchImmediately("removeIndex",{type:"removeIndex",target:this,index:i,oldValue:s})}null==e?(e=this._values.length,this._values.push(t)):Pf(this._values,e,t),this.events.isEnabled("insertIndex")&&this.events.dispatchImmediately("insertIndex",{type:"insertIndex",target:this,index:e,newValue:t}),-1===i&&this.events.isEnabled("inserted")&&this.events.dispatchImmediately("inserted",{type:"inserted",target:this,newValue:t})},n.prototype.push=function(t){var e=this._values.push(t)-1;return this.events.isEnabled("insertIndex")&&this.events.dispatchImmediately("insertIndex",{type:"insertIndex",target:this,index:e,newValue:t}),this.events.isEnabled("inserted")&&this.events.dispatchImmediately("inserted",{type:"inserted",target:this,newValue:t}),t},n.prototype.unshift=function(t){this.insertIndex(0,t)},n.prototype.pushAll=function(t){var e=this;be(t,function(i){e.push(i)})},n.prototype.copyFrom=function(t){this.pushAll(t._values)},n.prototype.pop=function(){return this._values.length-1<0?void 0:this.removeIndex(this._values.length-1)},n.prototype.shift=function(){return this._values.length?this.removeIndex(0):void 0},n.prototype.setAll=function(t){var e=this,i=gm(this._values);this._values.length=0,be(t,function(s){e._values.push(s)}),this.events.isEnabled("setAll")&&this.events.dispatchImmediately("setAll",{type:"setAll",target:this,oldArray:i,newArray:this._values}),this.events.isEnabled("removed")&&be(i,function(s){e.events.dispatchImmediately("removed",{type:"removed",target:e,oldValue:s})}),this.events.isEnabled("inserted")&&be(this._values,function(s){e.events.dispatchImmediately("inserted",{type:"inserted",target:e,newValue:s})})},n.prototype.clear=function(){this.setAll([])},n.prototype.iterator=function(){return Wd(this._values)},n.prototype[Symbol.iterator]=function(){var t,e;return Lt(this,function(i){switch(i.label){case 0:t=this._values.length,e=0,i.label=1;case 1:return e<t?[4,this._values[e]]:[3,4];case 2:i.sent(),i.label=3;case 3:return++e,[3,1];case 4:return[2]}})},n.prototype.each=function(t){be(this._values,t)},n.prototype.range=function(t,e){if(t<=e){var i=e-t;return t=Math.max(t,0),e=Math.min(t+i,this._values.length),new pL(this._values,t,e)}throw new Error("Start index must be lower than end index")},n.prototype.backwards=function(){return new pL(this._values,this._values.length,0)},n}(),Ii=function(n){function t(e){var i=n.call(this)||this;return i.template=e,i}return $(t,n),Object.defineProperty(t.prototype,"template",{get:function(){return this._template},set:function(e){e.isTemplate=!0,this._template=e},enumerable:!0,configurable:!0}),t.prototype.copyFrom=function(e){var i=this;oe(e.iterator(),function(s){i.push(s.clone())})},t.prototype.create=function(e){var i=null!=e?new e:this.template.clone();return this.push(i),i},t.prototype.clone=function(){for(var e=new t(this.template),i=this.values,s=i.length,l=0;l<s;++l)e.push(i[l].clone());return e},t}(Dt),hL=function(){function n(t){this._values=[],this.events=new oc,null!=t&&this.setAll(t)}return Object.defineProperty(n.prototype,"values",{get:function(){return this._values},enumerable:!0,configurable:!0}),n.prototype._insert=function(t){return this._values.push(t),this._values.length-1},Object.defineProperty(n.prototype,"length",{get:function(){return this._values.length},enumerable:!0,configurable:!0}),n.prototype.indexOf=function(t){return Rs(this._values,t)},n.prototype.contains=function(t){return-1!==this.indexOf(t)},n.prototype.getIndex=function(t){return this._values[t]},Object.defineProperty(n.prototype,"first",{get:function(){return this._values[0]},enumerable:!0,configurable:!0}),Object.defineProperty(n.prototype,"last",{get:function(){return this._values[this._values.length-1]},enumerable:!0,configurable:!0}),n.prototype.insert=function(t){var e=this._insert(t);this.events.isEnabled("inserted")&&this.events.dispatchImmediately("inserted",{type:"inserted",target:this,index:e,newValue:t})},n.prototype.remove=function(t){var e=this.indexOf(t);if(-1!==e){var i=this._values[e];Rf(this._values,e),this.events.isEnabled("removed")&&this.events.dispatchImmediately("removed",{type:"removed",target:this,index:e,oldValue:i})}},n.prototype.setAll=function(t){var e=this;(function(n,t){for(var e=n.length;e--;)t(n[e],e)})(this._values,function(i,s){e._values.pop(),e.events.isEnabled("removed")&&e.events.dispatchImmediately("removed",{type:"removed",target:e,index:s,oldValue:i})}),be(t,function(i){e.insert(i)})},n.prototype.clear=function(){this.setAll([])},n.prototype.slice=function(t,e){var i=new n;return i._values=this._values.slice(t,e),i},n.prototype.findClosestIndex=function(t,e,i){void 0===i&&(i="any");var l,p,s=-1,h=0;return zo(this.iterator(),function(g){var v=e(g);if("any"===i){if(v===t)return s=h,!1;var m=Math.abs(t-v);(!L(p)||p>m)&&(s=h,l=v,p=m)}else"left"===i&&v<t?(!L(l)||l<v)&&(s=h,l=v):"right"===i&&v>=t&&(!L(l)||l>=v)&&(s=h,l=v);return++h,!0}),-1===s&&("left"===i?s=0:"right"===i&&(s=this.length-1)),s},n.prototype.iterator=function(){return Wd(this._values)},n.prototype[Symbol.iterator]=function(){var t,e;return Lt(this,function(i){switch(i.label){case 0:t=this._values.length,e=0,i.label=1;case 1:return e<t?[4,this._values[e]]:[3,4];case 2:i.sent(),i.label=3;case 3:return++e,[3,1];case 4:return[2]}})},n.prototype.each=function(t){be(this._values,t)},n}(),aR=function(n){function t(e){var i=n.call(this)||this;return i._ordering=e,i}return $(t,n),t.prototype._insert=function(e){var i=C0(this._values,this._ordering,e).index;return Pf(this._values,i,e),i},t.prototype.indexOf=function(e){var i=C0(this._values,this._ordering,e);return i.found?i.index:-1},t.prototype.update=function(e){var i=Rs(this._values,e);if(-1!==i){var s=this._values.length-1;(0===i||this._ordering(this._values[i-1],e)<0)&&(i===s||this._ordering(e,this._values[i+1])<0)||(Rf(this._values,i),this._insert(e))}},t}(hL),S0=function(n){function t(e){var i=n.call(this)||this;return i.template=e,i}return $(t,n),Object.defineProperty(t.prototype,"template",{get:function(){return this._template},set:function(e){e.isTemplate=!0,this._template=e},enumerable:!0,configurable:!0}),t.prototype.copyFrom=function(e){var i=this;oe(e.iterator(),function(s){i.insert(s.clone())})},t.prototype.slice=function(e,i){var s=new t(this.template);return s._values=this._values.slice(e,i),s},t.prototype.create=function(e){var i=null!=e?new e:this.template.clone();return this.insert(i),i},t}(hL),fL=function(n){function t(e,i){var s=n.call(this,i)||this;return s.template=e,s}return $(t,n),Object.defineProperty(t.prototype,"template",{get:function(){return this._template},set:function(e){e.isTemplate=!0,this._template=e},enumerable:!0,configurable:!0}),t.prototype.copyFrom=function(e){var i=this;oe(e.iterator(),function(s){i.insert(s.clone())})},t.prototype.create=function(e){var i=null!=e?new e:this.template.clone();return this.insert(i),i},t}(aR);function el(n,t){return n===t?0:n<t?-1:1}function lR(n){switch(n){case 0:return 0;case-1:return 1;case 1:return-1}}function gL(n,t){return 0===n?t:n}var uR=new(function(){function n(){this._callbackId=0,this._callbacks=new aR(function(t,e){return gL(el(t.priority,e.priority),el(t.id,e.id))})}return n.prototype.addAll=function(t,e,i,s,l){void 0===s&&(s=0),this._callbacks.insert({id:++this._callbackId,key:e,callback:i,priority:s,scope:l,type:t})},n.prototype.isEnabled=function(t,e){return qP(this._callbacks.values,function(i){return i.key===e&&t instanceof i.type})},n.prototype.applyAll=function(t,e,i){var s=this._callbacks.values,l=s.length;if(0==l)return i;for(var p=0;p<l;++p){var h=s[p];h.key===e&&t instanceof h.type&&(i=h.callback.call(h.scope,i,t,e))}return i},n}()),To=function(){function n(t){this._callbackId=0,this._callbacks=new aR(function(e,i){return gL(el(e.priority,i.priority),el(e.id,i.id))}),this._disabled={},this.object=t,this.events=this._callbacks.events}return n.prototype.add=function(t,e,i,s){void 0===i&&(i=0),this._callbacks.insert({id:++this._callbackId,key:t,callback:e,priority:i,scope:s})},n.prototype.has=function(t,e,i,s){return void 0===i&&(i=0),rR(this._callbacks.iterator(),function(l){return l.key===t&&l.callback===e&&l.priority===i&&l.scope===s})},n.prototype.remove=function(t,e){var i=this;be(_m(this._callbacks.iterator()),function(s){s.key===t&&(!M(e)||e===s.priority)&&i._callbacks.remove(s)})},n.prototype.enableKey=function(t){delete this._disabled[t]},n.prototype.disableKey=function(t,e){void 0===e&&(e=1/0),this._disabled[t]=e},n.prototype._hasListenersByType=function(t){return qP(this._callbacks.values,function(e){return e.key===t})},n.prototype.isEnabled=function(t){return null==this._disabled[t]&&(this._hasListenersByType(t)||uR.isEnabled(this.object,t))},n.prototype._shouldDispatch=function(t){var e=this._disabled[t];return!M(e)||(e<=1?delete this._disabled[t]:--this._disabled[t],!1)},n.prototype.apply=function(t,e){if(this._shouldDispatch(t)){var i=this._callbacks.values,s=i.length;if(s>0)for(var l=0;l<s;++l){var p=i[l];p.key===t&&(e=p.callback.call(p.scope,e,this.object,t))}return uR.applyAll(this.object,t,e)}return e},n.prototype.keys=function(){return _m(uL(this._callbacks.iterator(),function(t){return t.key}))},n.prototype.copyFrom=function(t){var e=this;oe(t._callbacks.iterator(),function(i){e.add(i.key,i.callback,i.priority,i.scope)}),We(t._disabled,function(i,s){e._disabled[i]=s})},n.prototype.clear=function(){this._callbacks.clear()},n}(),vL={aliceblue:{r:240,g:248,b:255},antiquewhite:{r:250,g:235,b:215},aqua:{r:0,g:255,b:255},aquamarine:{r:127,g:255,b:212},azure:{r:240,g:255,b:255},beige:{r:245,g:245,b:220},bisque:{r:255,g:228,b:196},black:{r:0,g:0,b:0},blanchedalmond:{r:255,g:235,b:205},blue:{r:0,g:0,b:255},blueviolet:{r:138,g:43,b:226},brown:{r:165,g:42,b:42},burlywood:{r:222,g:184,b:135},cadetblue:{r:95,g:158,b:160},chartreuse:{r:127,g:255,b:0},chocolate:{r:210,g:105,b:30},coral:{r:255,g:127,b:80},cornflowerblue:{r:100,g:149,b:237},cornsilk:{r:255,g:248,b:220},crimson:{r:220,g:20,b:60},cyan:{r:0,g:255,b:255},darkblue:{r:0,g:0,b:139},darkcyan:{r:0,g:139,b:139},darkgoldenrod:{r:184,g:134,b:11},darkgray:{r:169,g:169,b:169},darkgrey:{r:169,g:169,b:169},darkgreen:{r:0,g:100,b:0},darkkhaki:{r:189,g:183,b:107},darkmagenta:{r:139,g:0,b:139},darkolivegreen:{r:85,g:107,b:47},darkorange:{r:255,g:140,b:0},darkorchid:{r:153,g:50,b:204},darkred:{r:139,g:0,b:0},darksalmon:{r:233,g:150,b:122},darkseagreen:{r:143,g:188,b:143},darkslateblue:{r:72,g:61,b:139},darkslategray:{r:47,g:79,b:79},darkslategrey:{r:47,g:79,b:79},darkturquoise:{r:0,g:206,b:209},darkviolet:{r:148,g:0,b:211},deeppink:{r:255,g:20,b:147},deepskyblue:{r:0,g:191,b:255},dimgray:{r:105,g:105,b:105},dimgrey:{r:105,g:105,b:105},dodgerblue:{r:30,g:144,b:255},firebrick:{r:178,g:34,b:34},floralwhite:{r:255,g:250,b:240},forestgreen:{r:34,g:139,b:34},fuchsia:{r:255,g:0,b:255},gainsboro:{r:220,g:220,b:220},ghostwhite:{r:248,g:248,b:255},gold:{r:255,g:215,b:0},goldenrod:{r:218,g:165,b:32},gray:{r:128,g:128,b:128},grey:{r:128,g:128,b:128},green:{r:0,g:128,b:0},greenyellow:{r:173,g:255,b:47},honeydew:{r:240,g:255,b:240},hotpink:{r:255,g:105,b:180},indianred:{r:205,g:92,b:92},indigo:{r:75,g:0,b:130},ivory:{r:255,g:255,b:240},khaki:{r:240,g:230,b:140},lavender:{r:230,g:230,b:250},lavenderblush:{r:255,g:240,b:245},lawngreen:{r:124,g:252,b:0},lemonchiffon:{r:255,g:250,b:205},lightblue:{r:173,g:216,b:230},lightcoral:{r:240,g:128,b:128},lightcyan:{r:224,g:255,b:255},lightgoldenrodyellow:{r:250,g:250,b:210},lightgray:{r:211,g:211,b:211},lightgrey:{r:211,g:211,b:211},lightgreen:{r:144,g:238,b:144},lightpink:{r:255,g:182,b:193},lightsalmon:{r:255,g:160,b:122},lightseagreen:{r:32,g:178,b:170},lightskyblue:{r:135,g:206,b:250},lightslategray:{r:119,g:136,b:153},lightslategrey:{r:119,g:136,b:153},lightsteelblue:{r:176,g:196,b:222},lightyellow:{r:255,g:255,b:224},lime:{r:0,g:255,b:0},limegreen:{r:50,g:205,b:50},linen:{r:250,g:240,b:230},magenta:{r:255,g:0,b:255},maroon:{r:128,g:0,b:0},mediumaquamarine:{r:102,g:205,b:170},mediumblue:{r:0,g:0,b:205},mediumorchid:{r:186,g:85,b:211},mediumpurple:{r:147,g:112,b:219},mediumseagreen:{r:60,g:179,b:113},mediumslateblue:{r:123,g:104,b:238},mediumspringgreen:{r:0,g:250,b:154},mediumturquoise:{r:72,g:209,b:204},mediumvioletred:{r:199,g:21,b:133},midnightblue:{r:25,g:25,b:112},mintcream:{r:245,g:255,b:250},mistyrose:{r:255,g:228,b:225},moccasin:{r:255,g:228,b:181},navajowhite:{r:255,g:222,b:173},navy:{r:0,g:0,b:128},oldlace:{r:253,g:245,b:230},olive:{r:128,g:128,b:0},olivedrab:{r:107,g:142,b:35},orange:{r:255,g:165,b:0},orangered:{r:255,g:69,b:0},orchid:{r:218,g:112,b:214},palegoldenrod:{r:238,g:232,b:170},palegreen:{r:152,g:251,b:152},paleturquoise:{r:175,g:238,b:238},palevioletred:{r:219,g:112,b:147},papayawhip:{r:255,g:239,b:213},peachpuff:{r:255,g:218,b:185},peru:{r:205,g:133,b:63},pink:{r:255,g:192,b:203},plum:{r:221,g:160,b:221},powderblue:{r:176,g:224,b:230},purple:{r:128,g:0,b:128},rebeccapurple:{r:102,g:51,b:153},red:{r:255,g:0,b:0},rosybrown:{r:188,g:143,b:143},royalblue:{r:65,g:105,b:225},saddlebrown:{r:139,g:69,b:19},salmon:{r:250,g:128,b:114},sandybrown:{r:244,g:164,b:96},seagreen:{r:46,g:139,b:87},seashell:{r:255,g:245,b:238},sienna:{r:160,g:82,b:45},silver:{r:192,g:192,b:192},skyblue:{r:135,g:206,b:235},slateblue:{r:106,g:90,b:205},slategray:{r:112,g:128,b:144},slategrey:{r:112,g:128,b:144},snow:{r:255,g:250,b:250},springgreen:{r:0,g:255,b:127},steelblue:{r:70,g:130,b:180},tan:{r:210,g:180,b:140},teal:{r:0,g:128,b:128},thistle:{r:216,g:191,b:216},tomato:{r:255,g:99,b:71},turquoise:{r:64,g:224,b:208},violet:{r:238,g:130,b:238},wheat:{r:245,g:222,b:179},white:{r:255,g:255,b:255},whitesmoke:{r:245,g:245,b:245},yellow:{r:255,g:255,b:0},yellowgreen:{r:154,g:205,b:50}};function cR(n){return 1==n.length?"0"+n:""+n}function E0(n,t,e){return e=xe(e,0,1),n?t?{r:n.r+Math.round((t.r-n.r)*e),g:n.g+Math.round((t.g-n.g)*e),b:n.b+Math.round((t.b-n.b)*e),a:(n.a||1)+Math.round(((t.a||1)-(n.a||1))*e)}:n:t||n}function x0(n,t){return Math.round((t>0?255-n:n)*t)}function yL(n){var t,e,i,s=n.h,l=n.s,p=n.l;if(0==l)t=e=i=p;else{var h=function(_,b,C){return C<0&&(C+=1),C>1&&(C-=1),C<1/6?_+6*(b-_)*C:C<.5?b:C<2/3?_+(b-_)*(2/3-C)*6:_},g=p<.5?p*(1+l):p+l-p*l,v=2*p-g;t=h(v,g,s+1/3),e=h(v,g,s),i=h(v,g,s-1/3)}return{r:Math.round(255*t),g:Math.round(255*e),b:Math.round(255*i)}}function O0(n){var t=n.r/255,e=n.g/255,i=n.b/255,s=Math.max(t,e,i),l=Math.min(t,e,i),p=0,h=0,g=(s+l)/2;if(s===l)p=h=0;else{var v=s-l;switch(h=g>.5?v/(2-s-l):v/(s+l),s){case t:p=(e-i)/v+(e<i?6:0);break;case e:p=(i-t)/v+2;break;case i:p=(t-e)/v+4}p/=6}return{h:p,s:h,l:g}}var St=function(){function n(t){this._value=t}return Object.defineProperty(n.prototype,"rgb",{get:function(){return this._value},enumerable:!0,configurable:!0}),Object.defineProperty(n.prototype,"hex",{get:function(){return this._value?function(n){return"#"+cR(n.r.toString(16))+cR(n.g.toString(16))+cR(n.b.toString(16))}(this._value):"none"},enumerable:!0,configurable:!0}),Object.defineProperty(n.prototype,"rgba",{get:function(){return this._value?function(n){return L(n.a)&&1!==n.a?"rgba("+n.r+","+n.g+","+n.b+","+n.a+")":"rgb("+n.r+","+n.g+","+n.b+")"}(this._value):"none"},enumerable:!0,configurable:!0}),Object.defineProperty(n.prototype,"alpha",{get:function(){return null!=this._value&&null!=this._value.a?this._value.a:1},set:function(t){this._value&&(this._value.a=t)},enumerable:!0,configurable:!0}),Object.defineProperty(n.prototype,"lightColor",{get:function(){return this._lightColor||(this._lightColor=new n({r:255,g:255,b:255})),this._lightColor},set:function(t){this._lightColor=t},enumerable:!0,configurable:!0}),Object.defineProperty(n.prototype,"darkColor",{get:function(){return this._darkColor||(this._darkColor=new n({r:0,g:0,b:0})),this._darkColor},set:function(t){this._darkColor=t},enumerable:!0,configurable:!0}),n.prototype.toString=function(){return this.alpha<1?this.rgba:this.hex},n.prototype.lighten=function(t){return new n(function(n,t){return n&&{r:Math.max(0,Math.min(255,n.r+x0(n.r,t))),g:Math.max(0,Math.min(255,n.g+x0(n.g,t))),b:Math.max(0,Math.min(255,n.b+x0(n.b,t))),a:n.a}}(this.rgb,t))},n.prototype.brighten=function(t){return new n(function(n,t){if(n){var i=x0(Math.min(Math.max(n.r,n.g,n.b),230),t);return{r:Math.max(0,Math.min(255,Math.round(n.r+i))),g:Math.max(0,Math.min(255,Math.round(n.g+i))),b:Math.max(0,Math.min(255,Math.round(n.b+i))),a:n.a}}return n}(this.rgb,t))},n.prototype.saturate=function(t){return new n(function(n,t){if(null==n||1==t)return n;var e=O0(n);return e.s=t,yL(e)}(this.rgb,t))},Object.defineProperty(n.prototype,"alternative",{get:function(){if(null!=this.rgb)return function(n){return(299*n.r+587*n.g+114*n.b)/1e3>=128}(this.rgb)?this.darkColor:this.lightColor;throw new Error("Color does not exist")},enumerable:!0,configurable:!0}),n}();function Le(n,t){if(!L(n))return new St(void 0);if("string"==typeof n){var e="_color_"+n+"_"+(t||"1"),i=G.getCache(e);if(i)return new St({r:i.r,g:i.g,b:i.b,a:i.a});var s=function(n,t){var e;return vL[n]?e=vL[n]:"#"===n.charAt(0)?e=function(n){n=n.replace(/^#?([a-f\d])([a-f\d])([a-f\d])$/i,function(i,s,l,p){return s+s+l+l+p+p});var e=/^#?([a-f\d]{2})([a-f\d]{2})([a-f\d]{2})$/i.exec(n);return e?{r:parseInt(e[1],16),g:parseInt(e[2],16),b:parseInt(e[3],16)}:function(n){n=n.replace(/^#?([a-f\d])([a-f\d])([a-f\d])([a-f\d])$/i,function(i,s,l,p,h){return s+s+l+l+p+p+h+h});var e=/^#?([a-f\d]{2})([a-f\d]{2})([a-f\d]{2})([a-f\d]{2})$/i.exec(n);return e?{r:parseInt(e[1],16),g:parseInt(e[2],16),b:parseInt(e[3],16),a:parseInt(e[4],16)/256}:void 0}(n)}(n):n.match(/^rgba?\(/)&&(e=function(n){var t=(n=n.replace(/[ ]/g,"")).match(/^rgb\(([0-9]*),([0-9]*),([0-9]*)\)/i);if(t)t.push("1");else if(!(t=n.match(/^rgba\(([0-9]*),([0-9]*),([0-9]*),([.0-9]*)\)/i)))return;return{r:parseInt(t[1]),g:parseInt(t[2]),b:parseInt(t[3]),a:parseFloat(t[4])}}(n)),e||(e={r:0,g:0,b:0,a:1}),L(t)&&(e.a=t),e}(n,t);return G.setCache(e,s),new St(s)}return n instanceof St?(L(t)&&(n.alpha=t),n):new St(n)}function As(n){return L(n)&&!function(n){return n instanceof St}(n)?function(n){return Le(n)}(n):n}var Ar=function(){function n(){this._disposed=!1,this._disposers=[],this.className="BaseObject"}return n.prototype.debug=function(){},Object.defineProperty(n.prototype,"uid",{get:function(){return this._uid||(this._uid=G.getUniqueId(),G.map.setKey(this._uid,this)),this._uid},enumerable:!0,configurable:!0}),Object.defineProperty(n.prototype,"id",{get:function(){return this._id},set:function(t){this._id=t},enumerable:!0,configurable:!0}),Object.defineProperty(n.prototype,"map",{get:function(){return this._map||(this._map=new ii),this._map},enumerable:!0,configurable:!0}),Object.defineProperty(n.prototype,"delayedMap",{get:function(){return this._delayedMap||(this._delayedMap=new ii),this._delayedMap},enumerable:!0,configurable:!0}),n.prototype.addDelayedMap=function(t,e){var i=this.delayedMap;i.hasKey(e)||i.setKey(e,[]),i.getKey(e).push({property:t,target:this})},n.prototype.processDelayedMap=function(){var t=this;this.delayedMap.each(function(e,i){if(t.map.hasKey(e)){var s=t.map.getKey(e);be(i,function(l){l.target[l.property]=s}),t.delayedMap.removeKey(e)}})},n.prototype.applyTheme=function(){var t=this;if(G){var e=this.getCurrentThemes();e&&be(e,function(i,s){i(t)})}},Object.defineProperty(n.prototype,"themes",{get:function(){return this._themes},set:function(t){this._themes=t},enumerable:!0,configurable:!0}),n.prototype.getCurrentThemes=function(){return this.themes||G.themes},n.prototype.isDisposed=function(){return this._disposed},n.prototype.dispose=function(){if(!this._disposed){this._disposed=!0;var t=this._disposers;for(this._disposers=null;0!==t.length;)t.shift().dispose();this.clearCache(),this.clonedFrom&&this.clonedFrom.clones.removeValue(this);var i=this._uid;null!=i&&G.map.removeKey(i)}},n.prototype.addDisposer=function(t){this._disposers.push(t)},n.prototype.removeDispose=function(t){if(!this._disposed){var e=Rs(this._disposers,t);e>-1&&this._disposers.splice(e,1)}t.dispose()},n.prototype.clone=function(t){t||(t="clone-"+G.getUniqueId());var e=new this.constructor;return e.cloneId=t,e.copyFrom(this),e},Object.defineProperty(n.prototype,"clones",{get:function(){return this._clones||(this._clones=new Dt),this._clones},enumerable:!0,configurable:!0}),n.prototype.copyFrom=function(t){t.clones.push(this),this.clonedFrom=t},Object.defineProperty(n.prototype,"className",{get:function(){return this._className},set:function(t){this._className=t},enumerable:!0,configurable:!0}),n.prototype.setCache=function(t,e,i){Cm.set(this.uid,t,e,i)},n.prototype.getCache=function(t,e){return void 0===e&&(e=void 0),Cm.get(this.uid,t,e)},n.prototype.clearCache=function(){Cm.clear(this.uid)},n.prototype.setTimeout=function(t,e){var i=this,s=setTimeout(function(){i.removeDispose(l),t()},e),l=new Bt(function(){clearTimeout(s)});return this._disposers.push(l),l},n.prototype.setInterval=function(t,e){var i=this,s=setInterval(function(){i.removeDispose(l),t()},e),l=new Bt(function(){clearTimeout(s)});return this._disposers.push(l),l},Object.defineProperty(n.prototype,"config",{set:function(t){try{this.processConfig(t)}catch(e){this.raiseCriticalError(e)}},enumerable:!0,configurable:!0}),n.prototype.processConfig=function(t){var e=this;if(t){var i=this;if(Hl(t,function(l,p){var g,h=p;if("callback"==l&&"function"==typeof p&&p.call(i),e.hasProperty(l))if(!li(h)||!L(h.type)||li(i[l])&&L(i[l].className)&&!h.forceCreate&&i[l].className==h.type||e.asIs(l)?g=i[l]:(g=e.createClassInstance(h.type))?i[l]=g:g=i[l],g instanceof To)e.processAdapters(g,h);else if(g instanceof oc)e.processEvents(g,h);else if("locale"==l&&gt(h))window["am4lang_"+h]&&(i[l]=window["am4lang_"+h]);else if("parent"==l&&gt(h)){var v=e.map.getKey(h);v?i[l]=v:e.addDelayedMap("parent",h)}else if(e.asIs(l))i[l]=h;else if(e.asFunction(l)&&gt(h)){if(!L(G.registeredClasses[h]))throw Error("Invalid easing function: "+h);i[l]=G.registeredClasses[h]}else if(h instanceof n)i[l]=h;else if(g instanceof n)g.config=h;else if(g instanceof Ii||g instanceof S0||g instanceof fL){if(hn(h))g instanceof Ii?e.processListTemplate(h,g):e.processOrderedTemplate(h,g);else if(li(h))if(h instanceof n)g.template=h;else{var m;m=L(h.template)?h.template:h,g.template instanceof n?g.template.config=m:We(m,function(_,b){var C=g.template[_];C instanceof To?e.processAdapters(C,b):C instanceof oc?e.processEvents(C,b):C instanceof bm?e.processDictionaryTemplate(C,b):g.template[_]instanceof n?g.template[_].config=b:li(b)&&L(b.type)?(C=e.createClassInstance(b.type))?(C instanceof n&&(C.config=b),g.template[_]=C):g.template[_]=b:C instanceof Dt?e.processList(b,C):g.template[_]=e.maybeColorOrPercent(b)}),L(h.values)&&(g instanceof Ii?e.processListTemplate(h.values,g):e.processOrderedTemplate(h.values,g))}}else g instanceof Dt?"children"==l?e.processList(h,g,e):e.processList(h,g):g instanceof bm?e.processDictionaryTemplate(g,h):g instanceof ii?e.processDictionary(g,h):g instanceof St||g instanceof ft?i[l]=e.maybeColorOrPercent(h):li(g)&&li(h)?mm(h,g):(h=e.maybeColorOrPercent(h),i[l]=h);else e.isReserved(l)||(i[l]=h)},this.configOrder),this.processingErrors.length){var s=this.processingErrors.join("\n");throw this._processingErrors=[],Error(s)}}},n.prototype.maybeColorOrPercent=function(t){if(gt(t)){if(t.match(/^[\-]?[0-9.]+\%$/))return ue(Zt(t));if(t.match(/^\#[0-9abcdef]{3,}$/i))return Le(t)}return t},n.prototype.processAdapters=function(t,e){var i=this;hn(e)?be(e,function(s,l){t.add(s.key,s.callback,s.priority||0,i)}):li(e)&&We(e,function(s,l){t.has(s,l)||t.add(s,l)})},n.prototype.processEvents=function(t,e){var i=this;hn(e)?be(e,function(s,l){t.on(s.type,s.callback,i)}):li(e)&&We(e,function(s,l){t.has(s,l)||t.on(s,l)})},n.prototype.processDictionaryTemplate=function(t,e){li(e)&&We(e,function(i,s){var l;(l="template"==i?t.template:t.hasKey(i)?t.getKey(i):t.create(i))instanceof n?l.config=s:li(l)&&li(s)?mm(s,l):l.setKey(i,s)})},n.prototype.processDictionary=function(t,e){li(e)&&We(e,function(i,s){t.setKey(i,s)})},n.prototype.processListTemplate=function(t,e){var i=this;for(be(t,function(s,l){var h,p=i.getConfigEntryType(s);if(e.hasIndex(l)&&!s.forceCreate)h=e.getIndex(l);else{if(s instanceof n)return void e.push(s);h=p?e.create(p):e.create()}s===h||li(s)&&(h instanceof n?h.config=s:li(h)&&li(s)?mm(s,h):e.setIndex(e.indexOf(h),s))});t.length>e.length;)e.pop()},n.prototype.processOrderedTemplate=function(t,e){var i=this;be(t,function(s,l){var h,p=i.getConfigEntryType(s);h=p?e.create(p):e.create(),li(s)&&(h instanceof n?h.config=s:li(h)&&li(s)?mm(s,h):e.insert(s))})},n.prototype.processList=function(t,e,i){var s=this;hn(t)||(t=[t]);var l=e.length,p=0;for(be(t,function(h,g){if(li(h)){var v=void 0;if(g<l&&!h.forceCreate)v=e.getIndex(g);else{if(h instanceof n)return void e.push(h);p++,v=s.createEntryInstance(h),i?v.parent=i:e.push(v)}v instanceof n?v.config=h:li(v)&&li(h)&&mm(h,v)}else e.hasIndex(g)?e.setIndex(g,h):e.push(h)});!i&&t.length+p<e.length;)e.pop()},n.prototype.configOrder=function(t,e){return t==e?0:"language"==t?-1:"language"==e?1:0},n.prototype.asIs=function(t){return-1!=Rs(["locale"],t)},n.prototype.asFunction=function(t){return!1},n.prototype.createClassInstance=function(t){if(L(G.registeredClasses[t]))return new G.registeredClasses[t];throw Error('Invalid type: "'+t+'".')},n.prototype.createEntryInstance=function(t){var e;return L(t.type)&&(e=this.createClassInstance(t.type)),e||t},n.prototype.getConfigEntryType=function(t){if(L(t.type)){if(L(G.registeredClasses[t.type]))return G.registeredClasses[t.type];throw Error('Invalid type: "'+t.type+'".')}},n.prototype.hasProperty=function(t){return t in this},n.prototype.isReserved=function(t){return-1!==["type","forceCreate"].indexOf(t)},Object.defineProperty(n.prototype,"processingErrors",{get:function(){return this._processingErrors||(this._processingErrors=[]),this._processingErrors},enumerable:!0,configurable:!0}),n}(),tl=function(n){function t(){var e=n.call(this)||this;return e.className="BaseObjectEvents",e}return $(t,n),Object.defineProperty(t.prototype,"events",{get:function(){return this._eventDispatcher||(this._eventDispatcher=new oc,this._disposers.push(this._eventDispatcher)),this._eventDispatcher},enumerable:!0,configurable:!0}),t.prototype.dispatch=function(e,i){this._eventDispatcher&&this.events.isEnabled(e)&&(i?(i.type=e,i.target=i.target||this,this.events.dispatch(e,{type:e,target:this})):this.events.dispatch(e,{type:e,target:this}))},t.prototype.dispatchImmediately=function(e,i){this._eventDispatcher&&this.events.isEnabled(e)&&(i?(i.type=e,i.target=i.target||this,this.events.dispatchImmediately(e,i)):this.events.dispatchImmediately(e,{type:e,target:this}))},t.prototype.copyFrom=function(e){n.prototype.copyFrom.call(this,e),e._eventDispatcher&&this.events.copyFrom(e._eventDispatcher)},t}(Ar),P0="number",R0="date",dR="duration",$o="__\xa7\xa7\xa7__",Af="__\xa7\xa7\xa7\xa7__";function Bl(n,t){return We(n,function(e,i){L(i)&&(t[e]=i)}),t}function _L(n){return/^[^#]*/.exec(n)[0]}function Dm(){var n="#";if(/apple/i.test(navigator.vendor)){var t=document.baseURI;if(t){t=_L(t);var e=_L(location.href);t!==e&&(n=e+n)}}return n}function T0(n){return L(n)&&""!==n.toString()}function fi(n,t){return M(n)?n:null!=n&&M(n.value)&&M(t)?t*n.value:0}function Nn(n,t,e){var i;return M(n)?(i=n)<0&&(i=e?t+i:t-i):null!=n&&M(n.value)&&(i=t*n.value),i}function A0(n){var t=n.split("");return t[0]=t[0].toUpperCase(),t.join("")}function bL(n){return JSON.stringify(n)}function pR(n){return n.replace(/[-[\]{}()*+?.,\\^$|#\s]/g,"\\$&")}function hR(n,t,e,i,s){if(n.length<=t)return[n];var l=[];if(e){for(var p=-1,g=n.replace(/([,;:!?\\\/\.]+|[\s])/g,$o+"$1"+$o).split($o),v=1;v<g.length;v++)("."==(m=g[v])||","==m)&&g[v-1].match(/[\w]+$/)&&(g[v-1]+=m,g[v]="");for(v=0;v<g.length;v++){var m,_=(m=g[v]).length;if(0!==_){if(_>t&&(!0!==e||0!=s)){if(i&&(m=gR(m)),b=m.match(new RegExp(".{1,"+t+"}","g"))){if(i)for(var C=0;C<b.length;C++)b[C]=gR(b[C]);l=l.concat(b)}}else-1===p&&(l.push(""),p=0),l[p].length+_+1>t&&""!==l[p]&&(l.push(""),p++),l[p]+=m;p=l.length-1}}}else{var b;if(b=n.match(new RegExp(".{1,"+t+"}","g"))){if(i)for(C=0;C<b.length;C++)b[C]=gR(b[C]);l=b}}return 1==l.length&&e&&s&&l[0].length>t&&(l=[]),l}function fR(n,t,e,i,s){return n.length<=t?n:((t-=e.length)<1&&(t=1),(hR(n,t,i,s)[0]||"")+e)}function CL(n){return n.replace(/^[\s\uFEFF\xA0]+|[\s\uFEFF\xA0]+$/g,"")}function r4(n){return n.replace(/[\s\uFEFF\xA0]+$/g,"")}function o4(n){return n.replace(/^[\s\uFEFF\xA0]+/g,"")}function gR(n){return n.split("").reverse().join("")}function yr(n,t,e){return void 0===t&&(t=0),void 0===e&&(e="0"),"string"!=typeof n&&(n=n.toString()),t>n.length?Array(t-n.length+1).join(e)+n:n}function I0(n){return n.replace(/\/(date|number|duration)$/i,"")}function wL(n){return n&&n.replace(/<[^>]*>/g,"")}function vR(n){return n&&wL((""+n).replace(/[\n\r]+/g,". "))}function DL(n){if(cm(n)){var t=new Date(n);return t.setMilliseconds(n.getMilliseconds()),t}if(M(n))return new Date(n);var e=Number(n);return M(e)?new Date(e):new Date(n)}function yR(n){if(cm(n))return n.getTime();if(M(n))return n;if(gt(n)){var t=Number(n);return M(t)?t:void 0}}function mR(n,t){void 0===t&&(t=!1);var e=new Date(n.getFullYear(),0,0),i=n.getTime()-e.getTime()+60*(e.getTimezoneOffset()-n.getTimezoneOffset())*1e3;return Math.floor(i/864e5)}function Sm(n,t){void 0===t&&(t=!1);var e=mR(n,t)-1,i=Math.floor((e-(n.getDay()||7)+10)/7);return 0===i?i=53:53===i&&(i=1),i}function l4(n,t){void 0===t&&(t=!1);var e=Sm(new Date(n.getFullYear(),n.getMonth(),1),t),i=Sm(n,t);return 1==i&&(i=53),i-e+1}function M0(n,t){return n>12?n-=12:0===n&&(n=12),L(t)?n+(t-1):n}function F0(n,t,e,i){if(void 0===t&&(t=!1),void 0===e&&(e=!1),void 0===i&&(i=!1),i)return t?"Coordinated Universal Time":"UTC";var s=n.toLocaleString("UTC"),l=n.toLocaleString("UTC",{timeZoneName:t?"long":"short"}).substr(s.length);return!1===e&&(l=l.replace(/ (standard|daylight|summer|winter) /i," ")),l}function _R(n,t,e){return n>e?e:n<t?t:n}function bR(n,t,e){var i=e-t;return(n>e||n<t)&&(n=t+(n-i*Math.floor(n/i))),n}function Yo(n,t){var e=n.x,i=n.y,s=[];if(t){for(;L(t.parent);)s.push(t),t=t.parent;s.reverse();for(var l=0;l<s.length;l++){var p=s[l],h=p.rotation,g=e-p.pixelX-p.ex,v=i-p.pixelY-p.ey;p.dx&&(e-=p.dx),p.dy&&(i-=p.dy);var m=p.scale;p.group&&(m=p.group.scale),e=(ve(-h)*g-ge(-h)*v)/m-p.pixelPaddingLeft,i=(ve(-h)*v+ge(-h)*g)/m-p.pixelPaddingTop}}return{x:e,y:i}}function Is(n,t){var e=n.x,i=n.y;if(t)for(;L(t.parent);){var s=t.rotation;i+=t.pixelPaddingTop+t.ey;var l=t.scale;t.group&&(l=t.group.scale);var p=t.pixelX+((e+=t.pixelPaddingLeft+t.ex)*ve(s)-i*ge(s))*l,h=t.pixelY+(e*ge(s)+i*ve(s))*l;t.dx&&(p+=t.dx),t.dy&&(h+=t.dy),e=p,i=h,t=t.parent}return{x:e,y:i}}function ho(n,t,e){return Yo(Is(n,t),e)}function CR(n,t){var e=Is(n,t),i=Is({x:n.x+n.width,y:n.y+n.height},t);return{x:e.x,y:e.y,width:i.x-e.x,height:i.y-e.y}}function sc(n,t,e){try{var i=t.getBoundingClientRect();return M(e)||(e=1),{x:(n.x-i.left)/e,y:(n.y-i.top)/e}}catch(s){return n}}function SL(n,t){try{var e=t.getBoundingClientRect();return{x:n.x+e.left,y:n.y+e.top}}catch(i){return n}}function If(n,t){return t&&t.htmlContainer?Yo(sc(n,hi(t.htmlContainer),t.svgContainer.cssScale),t):n}function wR(n,t){return t&&t.htmlContainer?SL(Is(n,t),hi(t.htmlContainer)):n}var h4=/^([a-zA-Z][a-zA-Z0-9\+\.\-]*:)?(?:(\/\/)([^\@]+\@)?([^\/\?\#\:]*)(\:[0-9]+)?)?([^\?\#]*)(\?[^\#]*)?(\#.*)?$/;function EL(n){var t=h4.exec(n);return{protocol:t&&t[1]||"",separator:t&&t[2]||"",authority:t&&t[3]||"",domain:t&&t[4]||"",port:t&&t[5]||"",path:t&&t[6]||"",query:t&&t[7]||"",hash:t&&t[8]||""}}function xL(n){return n.protocol+n.separator+n.authority+n.domain+n.port+n.path+n.query+n.hash}function OL(n){return""===n.protocol&&""===n.separator&&""===n.authority&&""===n.domain&&""===n.port}function DR(n,t){var e=EL(n),i=EL(t);if(OL(e))throw new Error("Left URL is not absolute");if(OL(i)){if(""!==i.path)if("/"===i.path[0])e.path=i.path;else{var s=e.path.split(/\//),l=i.path.split(/\//);if(0===s.length?0!==l.length&&s.push(""):s.length>1&&s.pop(),function(n,t){for(var e=t.length,i=0;i<e;++i)n.push(t[i])}(s,l),e.path=s.join("/"),""!==e.path&&"/"!==e.path[0])throw new Error("URL path must start with /")}return e.query=i.query,e.hash=i.hash,xL(e)}return xL(i)}function Em(){return!!window.MSInputMethodContext&&!!document.documentMode}function PL(n){return+n}function RL(n,t){return Math.pow(n,t)}function TL(n,t){return 1-Math.pow(1-n,t)}function AL(n,t){return((n*=2)<=1?Math.pow(n,t):2-Math.pow(2-n,t))/2}function SR(n){return TL(n,3)}function IL(n){return Math.sin(n*XN)}function ML(n){return n*n*n}function $d(n){return--n*n*n+1}G.registeredClasses["ease.linear"]=PL,G.registeredClasses["ease.quadIn"]=function(n){return n*n},G.registeredClasses["ease.quadOut"]=function(n){return n*(2-n)},G.registeredClasses["ease.quadInOut"]=function(n){return((n*=2)<=1?n*n:--n*(2-n)+1)/2},G.registeredClasses["ease.polyIn"]=RL,G.registeredClasses["ease.polyOut"]=TL,G.registeredClasses["ease.polyInOut"]=AL,G.registeredClasses["ease.polyIn3"]=function(n){return RL(n,3)},G.registeredClasses["ease.polyOut3"]=SR,G.registeredClasses["ease.polyInOut3"]=function(n){return AL(n,3)},G.registeredClasses["ease.expIn"]=function(n){return Math.pow(2,10*n-10)},G.registeredClasses["ease.expOut"]=function(n){return 1-Math.pow(2,-10*n)},G.registeredClasses["ease.expInOut"]=function(n){return((n*=2)<=1?Math.pow(2,10*n-10):2-Math.pow(2,10-10*n))/2},G.registeredClasses["ease.sinIn"]=function(n){return 1-Math.cos(n*XN)},G.registeredClasses["ease.sinOut"]=IL,G.registeredClasses["ease.sinInOut"]=function(n){return(1-Math.cos(v0*n))/2},G.registeredClasses["ease.cubicIn"]=ML,G.registeredClasses["ease.cubicOut"]=$d,G.registeredClasses["ease.cubicInOut"]=function(n){return((n*=2)<=1?n*n*n:(n-=2)*n*n+2)/2},G.registeredClasses["ease.circleIn"]=function(n){return 1-Math.sqrt(1-n*n)},G.registeredClasses["ease.circleOut"]=function(n){return Math.sqrt(1- --n*n)},G.registeredClasses["ease.circleInOut"]=function(n){return((n*=2)<=1?1-Math.sqrt(1-n*n):Math.sqrt(1-(n-=2)*n)+1)/2};var N0=7.5625;function L0(n){return(n=+n)<.36363636363636365?N0*n*n:n<.7272727272727273?N0*(n-=.5454545454545454)*n+.75:n<.9090909090909091?N0*(n-=.8181818181818182)*n+.9375:N0*(n-=.9545454545454546)*n+.984375}G.registeredClasses["ease.bounceIn"]=function(n){return 1-L0(1-n)},G.registeredClasses["ease.bounceOut"]=L0,G.registeredClasses["ease.bounceInOut"]=function(n){return((n*=2)<=1?1-L0(1-n):L0(n-1)+1)/2};var Om=.3/(2*Math.PI),V0=Math.asin(1)*Om;G.registeredClasses["ease.elasticIn"]=function(n){return 1*Math.pow(2,10*--n)*Math.sin((V0-n)/Om)},G.registeredClasses["ease.elasticOut"]=function(n){return 1-1*Math.pow(2,-10*(n=+n))*Math.sin((n+V0)/Om)},G.registeredClasses["ease.elasticInOut"]=function(n){return((n=2*n-1)<0?1*Math.pow(2,10*n)*Math.sin((V0-n)/Om):2-1*Math.pow(2,-10*n)*Math.sin((V0+n)/Om))/2};var k0=function(n){function t(){var e=n.call(this)||this;return e.transitionDuration=0,e.transitionEasing=$d,e.properties={},e.propertyFields={},e.filters=new Dt,e.isTemplate=!1,e.className="SpriteState",e._disposers.push(new Qt(e.filters)),e.applyTheme(),e}return $(t,n),Object.defineProperty(t.prototype,"adapter",{get:function(){var e=this;return this._adapterO||(this._adapterO=new To(this),this._adapterO.events.on("inserted",function(i){e[i.newValue.key]=e[i.newValue.key]},void 0,!1),this._adapterO.events.on("removed",function(i){e[i.newValue.key]=e[i.newValue.key]},void 0,!1)),this._adapterO},enumerable:!0,configurable:!0}),t.prototype.getPropertyValue=function(e){var i=this.properties[e],s=this.sprite;if(s){var l=this.propertyFields[e];if(L(l)&&(s.dataItem&&(i=s.dataItem.dataContext[l]),null==i&&(i="__unset")),L(i))this._adapterO&&(i=this._adapterO.apply(e,i));else{var p=s.getPropertyValue(e);(i=this._adapterO?this._adapterO.apply(e,p):p)==p&&(i=void 0)}}return i},t.prototype.copyFrom=function(e){e&&e!=this&&(this.transitionDuration=e.transitionDuration,this.transitionEasing=e.transitionEasing,Bl(e.properties,this.properties),Bl(e.propertyFields,this.propertyFields),this.filters.copyFrom(e.filters),e._adapterO&&this.adapter.copyFrom(e._adapterO))},Object.defineProperty(t.prototype,"allValues",{get:function(){var e=this,i={};return We(this.properties,function(p,h){i[p]=e.getPropertyValue(p)}),this._adapterO&&We(this._adapterO.keys(),function(p,h){var g=e.getPropertyValue(h);i[h]=g}),We(this.propertyFields,function(p){var h=e.getPropertyValue(p);i[p]=h}),i},enumerable:!0,configurable:!0}),t.prototype.reset=function(){this.properties={},this.filters.clear()},t.prototype.processConfig=function(e){L(e)&&L(e.properties)&&We(e.properties,function(i,s){gt(s)&&(s.match(/^[0-9.\-]+\%$/)?e.properties[i]=ue(Zt(s)):s.match(/^\#[0-9abcdef]{3,}$/i)&&(e.properties[i]=As(s)))}),n.prototype.processConfig.call(this,e)},t.prototype.asFunction=function(e){return"transitionEasing"==e||n.prototype.asIs.call(this,e)},t}(Ar);G.registeredClasses.SpriteState=k0;var j4=function(n){function t(){var e=null!==n&&n.apply(this,arguments)||this;return e._interactionEvents=new ii,e}return $(t,n),t.prototype._dispatchSpriteEvent=function(e){if(!this.target.disabled&&!this.target.isTemplate&&this.target.events.isEnabled(e.type)){var i=nR(e,{target:this.target});this.target.events.dispatchImmediately(i.type,i)}},t.prototype._dispatchSpritePointEvent=function(e){if(!this.target.disabled&&!this.target.isTemplate&&this.target.events.isEnabled(e.type)){var i=nR(e,{target:this.target,spritePoint:e.point?If(e.point,this.target):void 0,svgPoint:this.target.getSvgPoint(e.point)});this.target.events.dispatchImmediately(i.type,i)}},t.prototype._addInteractionObjectEvent=function(e,i,s,l){var p=this,h=l+"-"+e;return this._interactionEvents.insertKeyIfEmpty(h,function(){var v=p.target.interactions.events.on(e,i,s,l);return new w0(function(){p._interactionEvents.removeKey(h),v.dispose()})}).increment()},t.prototype._on=function(e,i,s,l,p,h){var g=n.prototype._on.call(this,e,i,s,l,p,h),v=[g.disposer];switch(i){case"hit":case"track":case"doublehit":case"wheel":case"wheelup":case"wheeldown":case"wheelleft":case"wheelright":v.push(this._addInteractionObjectEvent(i,this._dispatchSpritePointEvent,this,p));break;case"rightclick":case"down":case"up":case"drag":case"dragged":case"dragstart":case"dragstop":case"over":case"out":case"swipe":case"swipeleft":case"swiperight":case"resize":case"focus":case"blur":case"toggled":v.push(this._addInteractionObjectEvent(i,this._dispatchSpriteEvent,this,p))}switch(i){case"hit":case"doublehit":case"rightclick":case"down":case"up":this.target.clickable=!0;break;case"toggled":this.target.togglable=!0;break;case"drag":case"dragstart":case"dragstop":this.target.draggable=!0;break;case"track":this.target.trackable=!0;break;case"resize":this.target.resizable=!0;break;case"swipe":case"swipeleft":case"swiperight":this.target.swipeable=!0;break;case"wheel":case"wheelup":case"wheeldown":case"wheelleft":case"wheelright":this.target.wheelable=!0;break;case"over":this.target.hoverable=!0;case"out":this.target.hoverable=!0;break;case"focus":case"blur":this.target.focusable=!0}return g.disposer=new mi(v),g},t}(sL),W4=function(){function n(){}return n.opacity=1,n.strokeOpacity=1,n.strokeWidth=1,n.fillOpacity=1,n.fill=Le("#000000"),n.stroke=Le("#000000"),n.focusable=void 0,n.tabindex=0,n}(),nt={verbose:!0,commercialLicense:!1,classNamePrefix:"amcharts-",autoSetClassName:!1,minPolylineStep:.5,onlyShowOnViewport:!1,queue:!1,autoDispose:!1,licenses:[],suppressErrors:!1,suppressWarnings:!1,animationsEnabled:!0,nonce:"",deferredDelay:100,disableHoverOnTransform:"never",pixelPerfectPrecision:0};function FL(n,t,e){return t+(e-t)*n}function U4(n,t,e){return new ft(FL(n,t.percent,e.percent))}function z4(n,t,e){var i=new St(E0(t.rgb,e.rgb,n));return t.alpha!=e.alpha&&(i.alpha=t.alpha+(e.alpha-t.alpha)*n),i}function NL(n,t){return t+n.charAt(0).toUpperCase()+n.substr(1)}var AR,Mf=function(){function n(t){this._disposer=new Bt(function(){for(;0!==t.length;)t[0].dispose()})}return n.prototype.isDisposed=function(){return this._disposer.isDisposed()},n.prototype.dispose=function(){this._disposer.dispose()},n}(),ua=function(n){function t(e,i,s,l){var p=n.call(this)||this;return p.duration=0,p.easing=PL,p.progress=0,p._loop=0,p._pause=!1,p._delayTimeout=null,p._time=0,p._isFinished=!1,p.className="Animation",!1===nt.animationsEnabled&&(s=0),p.object=e,p.animationOptions=iL(i),p.duration=s,l&&(p.easing=l),p.applyTheme(),p}return $(t,n),t.prototype.debug=function(){},t.prototype.dispose=function(){n.prototype.dispose.call(this),this.pause()},t.prototype.delay=function(e){var i=this;if(e>0){this.pause(),Ts(this.object.animations,this);var s=setTimeout(function(){i._delayTimeout=null,i.start()},e);this._delayTimeout=new Bt(function(){clearTimeout(s)})}return this},t.prototype._start=function(){this._isFinished=!1,this._delayTimeout&&(this.removeDispose(this._delayTimeout),this._delayTimeout=null),this.stopSameAnimations(),this._pause=!1,Ts(lt.animations,this),Ts(this.object.animations,this),lt.requestFrame()},t.prototype.start=function(){this._start(),this._startTime=Date.now(),this._time=0,this.staticOptions=[];for(var e=this.animationOptions.length-1;e>=0;e--){var i=this.animationOptions[e];if(L(i.from)||(i.childObject?i.from=i.childObject[i.property]:(i.from=this.object[i.property],L(i.from)||(i.from=W4[i.property]))),i.from==i.to)Ue(this.animationOptions,i);else if(!L(i.from)||!(i.from instanceof ft)&&i.to instanceof ft||i.from instanceof ft&&!(i.to instanceof ft))this.staticOptions.push(i),Ue(this.animationOptions,i);else if(M(i.to))if(i.updateMethod=FL,i.from instanceof ft){var s=this.object[NL(i.property,"pixel")];isNaN(s)?(this.staticOptions.push(i),Ue(this.animationOptions,i)):i.from=s}else isNaN(i.from)&&(this.staticOptions.push(i),Ue(this.animationOptions,i));else i.to instanceof St?i.from?i.updateMethod=z4:(this.staticOptions.push(i),Ue(this.animationOptions,i)):i.to instanceof ft?(i.updateMethod=U4,isNaN(i.from)||(s=this.object[NL(i.property,"relative")],isNaN(s)||(i.from=ue(100*s)))):(this.staticOptions.push(i),Ue(this.animationOptions,i))}return this.applyStaticOptions(),this.events.isEnabled("animationstarted")&&this.events.dispatchImmediately("animationstarted",{type:"animationstarted",target:this,progress:this.progress}),this.update(),0===this.duration&&this.end(),this},t.prototype.loop=function(e){return M(e)||(e=1/0),this._loop=e,this},t.prototype.pause=function(){return this._pause=!0,this._delayTimeout&&(this.removeDispose(this._delayTimeout),this._delayTimeout=null),Ue(lt.animations,this),Ue(this.object.animations,this),this},t.prototype.resume=function(){return this._start(),this._startTime=Date.now()-this._time,this},t.prototype.end=function(){return 0==this._loop&&this.pause(),this.setProgress(1),this.applyStaticOptions(),this.events.isEnabled("animationended")&&this.events.dispatchImmediately("animationended",{type:"animationended",target:this,progress:this.progress}),this._loop>0?(this._loop--,this.start()):(this.stop(),this._isFinished=!0),this},t.prototype.kill=function(){this.pause(),this._isFinished=!0},t.prototype.isFinished=function(){return this._isFinished},t.prototype.applyStaticOptions=function(){var e=this;be(this.staticOptions,function(i){i.childObject?i.childObject[i.property]=1==e.progress?i.to:i.from:e.object[i.property]=1==e.progress?i.to:i.from})},t.prototype.stop=function(e){return this.pause(),!e&&this.events.isEnabled("animationstopped")&&this.events.dispatchImmediately("animationstopped",{type:"animationstopped",target:this,progress:this.progress}),this},t.prototype.setProgress=function(e){var i=this;this._time=this.duration*e,be(this.animationOptions,function(l){if(l.updateMethod&&L(l.from)){var p=l.updateMethod(e,l.from,l.to);l.childObject?l.childObject[l.property]=p:i.object[l.property]=p}}),this.progress=e,this.events.isEnabled("animationprogress")&&this.events.dispatchImmediately("animationprogress",{type:"animationprogress",target:this,progress:this.progress}),lt.requestFrame()},t.prototype.update=function(){if(!this._pause){var e=void 0;this._time=xe(Date.now()-this._startTime,0,this.duration);var i=this._time/this.duration;e=this.easing(i),(0==this.duration||!M(e)||i>=1)&&(e=1),this.setProgress(e),1==ae(this._time/this.duration,6)&&this.end()}return this},Object.defineProperty(t.prototype,"delayed",{get:function(){return!!this._delayTimeout},enumerable:!0,configurable:!0}),t.prototype.stopSameAnimations=function(){var e=this;be(gm(this.object.animations),function(i){if(i!==e&&!i.delayed){var s=[];be(e.animationOptions,function(l){be(i.animationOptions,function(p){l.property==p.property&&l.childObject==p.childObject&&(s.push(p),0==i.animationOptions.length&&i.kill())})}),be(s,function(l){Ue(i.animationOptions,l)})}})},t.prototype.asFunction=function(e){return"easing"==e||n.prototype.asIs.call(this,e)},t}(tl),Ff="http://www.w3.org/2000/svg",LL="http://www.w3.org/2000/xmlns/",xR="http://www.w3.org/1999/xlink";function _i(n,t,e,i){return n.addEventListener(t,e,i||!1),new Bt(function(){n.removeEventListener(t,e,i||!1)})}function VL(n){if(gt(n)){var t=document.getElementById(n);if(null==t&&(t=document.getElementsByClassName(n)[0]),t instanceof HTMLElement)return t}else if(n instanceof HTMLElement)return n}function OR(n,t){if(n)if(n.classList)be(t.split(" "),function(s){n.classList.add(s)});else{var i=n.getAttribute("class");n.setAttribute("class",i?i.split(" ").filter(function(s){return s!==t}).join(" ")+" "+t:t)}}function PR(n,t){if(n)if(n.classList)n.classList.remove(t);else{var e=n.getAttribute("class");e&&n.setAttribute("class",e.split(" ").filter(function(i){return i!==t}).join(" "))}}function kL(n,t,e){n.style[t]=e}function RR(n,t){return n.currentStyle?n.currentStyle[t]:document.defaultView.getComputedStyle(n,null).getPropertyValue(t)}function G0(){if(document.activeElement&&document.activeElement!=document.body)if(document.activeElement.blur)document.activeElement.blur();else{var n=document.createElement("button");n.style.position="fixed",n.style.top="0px",n.style.left="-10000px",document.body.appendChild(n),n.focus(),n.blur(),document.body.removeChild(n)}}function GL(n,t){for(var e=t;;){if(n===e)return!0;if(null==e.parentNode){if(null==e.host)return!1;e=e.host}else e=e.parentNode}}function TR(n){for(var t=n;;){if(null==t.parentNode)return null!=t.host?t:null;t=t.parentNode}}function HL(n){for(var t=n.ownerDocument,e=n;;){if(null==e.parentNode)return e===t||null!=e.host?e:null;e=e.parentNode}}var Kt=function(n){function t(e,i,s){var l=this,p=function(n){return null==n?(L(AR)||((t=document.createElement("style")).type="text/css",""!=nt.nonce&&t.setAttribute("nonce",nt.nonce),document.head.appendChild(t),AR=t.sheet),AR):((t=document.createElement("style")).type="text/css",""!=nt.nonce&&t.setAttribute("nonce",nt.nonce),n.appendChild(t),t.sheet);var t}(e);return(l=n.call(this,function(){var h=Rs(p.cssRules,l._rule);if(-1===h)throw new Error("Could not dispose StyleRule");p.deleteRule(h)})||this)._rule=function(n,t){var e=n.cssRules.length;return n.insertRule(t+"{}",e),n.cssRules[e]}(p,i),We(s,function(h,g){l.setStyle(h,g)}),l}return $(t,n),Object.defineProperty(t.prototype,"selector",{get:function(){return this._rule.selectorText},set:function(e){this._rule.selectorText=e},enumerable:!0,configurable:!0}),t.prototype._setVendorPrefixName=function(e,i){var s=this._rule.style;s.setProperty("-webkit-"+e,i,""),s.setProperty("-moz-"+e,i,""),s.setProperty("-ms-"+e,i,""),s.setProperty("-o-"+e,i,""),s.setProperty(e,i,"")},t.prototype.setStyle=function(e,i){"transition"===e?this._setVendorPrefixName(e,i):this._rule.style.setProperty(e,i,"")},t}(Bt),q4=0;function H0(n){var t=RR(n,"font-family");if(t)return t;var e=n.parentElement||n.parentNode;return e?H0(e):void 0}function B0(n){var t=RR(n,"font-size");if(t)return t;var e=n.parentElement||n.parentNode;return e?B0(e):void 0}function IR(n,t){var e=n.getBoundingClientRect(),i=hn(t)?t:t?[t]:[];if(i.length){for(var s=0;s<i.length;s++){var l=i[s];if(!IR(l))return!1;var p=l.getBoundingClientRect();if(e.top>=0&&e.left>=0&&e.top<=p.top+p.height&&e.left<=p.left+p.width)return!0}return!1}return e.top>=0&&e.left>=0&&e.top<=(window.innerHeight||document.documentElement.clientHeight)&&e.left<=(window.innerWidth||document.documentElement.clientWidth)}!function(n){function t(e,i,s){var l=this,p=L(s)?s:"__style_"+ ++q4+"__";return(l=n.call(this,e,"."+p,i)||this)._className=p,l}$(t,n),Object.defineProperty(t.prototype,"className",{get:function(){return this._className},set:function(e){this._className=e,this.selector="."+e},enumerable:!0,configurable:!0}),t.prototype.toString=function(){return this._className}}(Kt);var j0=function(){function n(t){this._isDisposed=!1,this._x=0,this._y=0,this._rotationY=0,this._rotationX=0,this._rotation=0,this._scale=1,this.node="string"==typeof t?document.createElementNS(Ff,t):t}return n.prototype.removeNode=function(){this.node&&this.node.parentNode&&this.node.parentNode.removeChild(this.node)},Object.defineProperty(n.prototype,"transformString",{get:function(){if(this.node)return this._transformString},enumerable:!0,configurable:!0}),n.prototype.transform=function(){var t="translate("+this._x+","+this._y+")";if(1!=this._scale&&(t+=(t?" ":"")+"scale("+this._scale+")"),0!=this._rotation){var e="rotate("+this._rotation+")";this._rotationX&&this._rotationY&&(e="rotate("+this._rotation+" "+this._rotationX+" "+this._rotationY+")"),t+=(t?" ":"")+e}this._transformString=t,this.node.setAttribute("transform",t)},n.prototype.getBBox=function(){var t={width:0,height:0,x:0,y:0};if(this.node&&this.node.parentNode)try{var e=this.node.getBBox();t.x=e.x,t.y=e.y,t.width=e.width,t.height=e.height}catch(i){}return t},n.prototype.moveTo=function(t){if(t){var e=t.x,i=t.y;(this._x!=e||this._y!=i)&&(this._x=e,this._y=i,this.transform())}},Object.defineProperty(n.prototype,"content",{get:function(){return this.node.innerHTML||""},set:function(t){this.node.innerHTML=t},enumerable:!0,configurable:!0}),Object.defineProperty(n.prototype,"textContent",{get:function(){return this.node.textContent||""},set:function(t){this.node.textContent=t},enumerable:!0,configurable:!0}),Object.defineProperty(n.prototype,"x",{get:function(){return this._x},set:function(t){this._x!=t&&(this._x=t,this.transform())},enumerable:!0,configurable:!0}),Object.defineProperty(n.prototype,"y",{get:function(){return this._y},set:function(t){this._y!=t&&(this._y=t,this.transform())},enumerable:!0,configurable:!0}),Object.defineProperty(n.prototype,"rotation",{get:function(){return this._rotation},set:function(t){this._rotation!=t&&(this._rotation=t,this.transform())},enumerable:!0,configurable:!0}),Object.defineProperty(n.prototype,"rotationX",{get:function(){return this._rotationX},set:function(t){this._rotationX!=t&&(this._rotationX=t,this.transform())},enumerable:!0,configurable:!0}),Object.defineProperty(n.prototype,"rotationY",{get:function(){return this._rotationY},set:function(t){this._rotationY!=t&&(this._rotationY=t,this.transform())},enumerable:!0,configurable:!0}),Object.defineProperty(n.prototype,"scale",{get:function(){return this._scale},set:function(t){this._scale!=t&&(this._scale=t,this.transform())},enumerable:!0,configurable:!0}),n.prototype.removeAttr=function(t){this.node.removeAttribute(t)},n.prototype.attr=function(t){var e=this;return We(t,function(i,s){L(s)?e.node.setAttribute(i,s):e.node.removeAttribute(i)}),this},n.prototype.getAttr=function(t){return this.node.getAttribute(t)},n.prototype.attrNS=function(t,e,i){return this.node.setAttributeNS(t,e,i),this},n.prototype.getAttrNS=function(t,e){return this.node.getAttributeNS(t,e)},n.prototype.removeStyle=function(t){this.node.style[t]=null,delete this.node.style[t]},n.prototype.getStyle=function(t){return this.node.style[t]},n.prototype.addStyle=function(t){var e=this;return We(t,function(i,s){L(s)?e.node.style[i]=s:e.removeStyle(i)}),this},n.prototype.addClass=function(t){OR(this.node,t)},n.prototype.removeClass=function(t){PR(this.node,t)},n.prototype.setClass=function(t){this.node.setAttribute("class",t)},n.prototype.removeChildNodes=function(){for(;this.node.childNodes.length>0;)this.node.removeChild(this.node.firstChild)},n.prototype.isDisposed=function(){return this._isDisposed},n.prototype.dispose=function(){this.removeNode()},n}(),Q4=function(n){function t(e){return n.call(this,e)||this}return $(t,n),t.prototype.add=function(e){e&&this.node.appendChild(e.node)},t.prototype.addToBack=function(e){if(e){var i=this.node.childNodes[0];i?i!=e.node&&this.node.insertBefore(e.node,i):this.node.appendChild(e.node)}},t.prototype.removeElement=function(e){if(e)try{e.node&&e.node.parentNode==this.node&&this.node.removeChild(e.node)}catch(i){}},t.prototype.hasChild=function(e){for(var i=0;i<this.node.childNodes.length;i++)if(this.node.childNodes[i]==e.node)return!0;return!1},Object.defineProperty(t.prototype,"content",{get:function(){return this.node.innerHTML},set:function(e){this.node.innerHTML=e},enumerable:!0,configurable:!0}),t.prototype.removeChildren=function(){if(this.node.childNodes)for(;this.node.childNodes.length>0;){var e=this.node.firstChild;e&&e.parentNode&&e.parentNode.removeChild(e)}},t}(j0),Rt=function(n){function t(){var e=n.call(this)||this;return e._purposes={stroke:Le("#e5e5e5"),fill:Le("#f3f3f3"),primaryButton:Le("#6794dc"),primaryButtonHover:Le("#6771dc"),primaryButtonDown:Le("#68dc75"),primaryButtonActive:Le("#68dc75"),primaryButtonText:Le("#FFFFFF"),primaryButtonStroke:Le("#FFFFFF"),secondaryButton:Le("#d9d9d9"),secondaryButtonHover:Le("#d9d9d9").brighten(-.25),secondaryButtonDown:Le("#d9d9d9").brighten(-.35),secondaryButtonActive:Le("#d9d9d9").brighten(.35),secondaryButtonText:Le("#000000"),secondaryButtonStroke:Le("#FFFFFF"),grid:Le("#000000"),background:Le("#ffffff"),alternativeBackground:Le("#000000"),text:Le("#000000"),alternativeText:Le("#FFFFFF"),disabledBackground:Le("#999999"),positive:Le("#67dc75"),negative:Le("#dc6788")},e.className="InterfaceColorSet",e.applyTheme(),e}return $(t,n),t.prototype.debug=function(){},t.prototype.getFor=function(e){return this._purposes[e]},t.prototype.setFor=function(e,i){this._purposes[e]=i},t}(Ar);G.registeredClasses.InterfaceColorSet=Rt;var BL=new ii,eY=function(n){function t(){var e=null!==n&&n.apply(this,arguments)||this;return e._domEvents={},e}return $(t,n),t.prototype._addDOMEvent=function(e,i,s,l){var p=this;if(!this._domEvents[e]){var h=function(g){s.call(l,i,g)};this.target.element.addEventListener(e,h,!1),this._domEvents[e]=new w0(function(){delete p._domEvents[e],p.target.element.removeEventListener(e,h,!1)})}return this._domEvents[e].increment()},t.prototype._dispatchKeyboardEvent=function(e,i){this.target.events.isEnabled(e)&&this.target.events.dispatchImmediately(e,{type:e,target:this.target,event:i})},t.prototype._on=function(e,i,s,l,p,h){var g=n.prototype._on.call(this,e,i,s,l,p,h),v=[g.disposer];switch(i){case"hit":case"doublehit":case"rightclick":case"down":case"up":this.target.clickable=!0;break;case"drag":case"dragstart":case"dragstop":this.target.draggable=!0;break;case"track":this.target.trackable=!0;break;case"resize":this.target.resizable=!0;break;case"swipe":case"swipeleft":case"swiperight":this.target.swipeable=!0;break;case"wheel":case"wheelup":case"wheeldown":case"wheelleft":case"wheelright":this.target.wheelable=!0;break;case"over":case"out":this.target.hoverable=!0;break;case"focus":case"blur":case"focusin":case"focusout":this.target.focusable=!0;break;case"keydown":case"keyup":case"keypress":case"input":v.push(this._addDOMEvent(i,i,this._dispatchKeyboardEvent,this))}return g.disposer=new mi(v),g},t}(sL),tY=function(n){function t(e){var i=n.call(this)||this;return i._eventDispatcher=new eY(i),i.eventDisposers=new ii,i.replacedStyles=new ii,i._clickable=!1,i._contextMenuDisabled=!1,i._hoverable=!1,i._trackable=!1,i._draggable=!1,i._swipeable=!1,i._resizable=!1,i._wheelable=!1,i._inert=!1,i._isHover=!1,i.isRealHover=!1,i._isHoverByTouch=!1,i._isDown=!1,i._isFocused=!1,i._isTouchProtected=!1,i._inertiaOptions=new ii,i.inertias=new ii,i._hitOptions={},i._hoverOptions={},i._swipeOptions={},i._keyboardOptions={},i._mouseOptions={},i._cursorOptions={defaultStyle:[{property:"cursor",value:"default"}]},i._disposers.push(i._eventDispatcher),i._element=e,i.className="InteractionObject",i._disposers.push(new zd(i.inertias)),i._disposers.push(new zd(i.eventDisposers)),i.applyTheme(),i}return $(t,n),Object.defineProperty(t.prototype,"events",{get:function(){return this._eventDispatcher},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"isHover",{get:function(){return this._isHover},set:function(e){this.isHover!=e&&(this._isHover=e,e?$e().overObjects.moveValue(this):(this.isRealHover=!1,$e().overObjects.removeValue(this)))},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"isHoverByTouch",{get:function(){return this._isHoverByTouch},set:function(e){this.isHoverByTouch!=e&&(this._isHoverByTouch=e)},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"overPointers",{get:function(){return this._overPointers||(this._overPointers=new Dt),this._overPointers},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"isDown",{get:function(){return this._isDown},set:function(e){this.isDown!=e&&(this._isDown=e,e?$e().downObjects.moveValue(this):$e().downObjects.removeValue(this))},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"downPointers",{get:function(){return this._downPointers||(this._downPointers=new Dt),this._downPointers},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"isFocused",{get:function(){return this._isFocused},set:function(e){this.isFocused!=e&&(this._isFocused=e,$e().focusedObject=e?this:void 0)},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"isTouchProtected",{get:function(){return this._isTouchProtected},set:function(e){this._isTouchProtected!=e&&(this._isTouchProtected=e,e?$e().unprepElement(this):(this.draggable||this.swipeable||this.trackable||this.resizable)&&$e().prepElement(this))},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"clickable",{get:function(){return this._clickable},set:function(e){this._clickable!==e&&(this._clickable=e,$e().processClickable(this))},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"contextMenuDisabled",{get:function(){return this._contextMenuDisabled},set:function(e){this._contextMenuDisabled!==e&&(this._contextMenuDisabled=e,$e().processContextMenu(this))},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"hoverable",{get:function(){return this._hoverable},set:function(e){this._hoverable!==e&&(this._hoverable=e,$e().processHoverable(this))},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"trackable",{get:function(){return this._trackable},set:function(e){this._trackable!==e&&(this._trackable=e,$e().processTrackable(this))},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"draggable",{get:function(){return this._draggable},set:function(e){this._draggable!==e&&(this._draggable=e,$e().processDraggable(this))},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"swipeable",{get:function(){return this._swipeable},set:function(e){this._swipeable!==e&&(this._swipeable=e,$e().processSwipeable(this))},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"resizable",{get:function(){return this._resizable},set:function(e){this._resizable!==e&&(this._resizable=e,$e().processResizable(this))},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"wheelable",{get:function(){return this._wheelable},set:function(e){this._wheelable!==e&&(this._wheelable=e,$e().processWheelable(this))},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"inert",{get:function(){return this._inert},set:function(e){this._inert!==e&&(this._inert=e)},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"focusable",{get:function(){return this._focusable},set:function(e){this._focusable!==e&&(this._focusable=e,this._focusable&&-1==this.tabindex&&(this._tabindex=1),$e().processFocusable(this))},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"tabindex",{get:function(){return $P(this._tabindex,-1)},set:function(e){this._tabindex!==e&&(this._tabindex=e,e>-1&&(this.focusable=!0),$e().processFocusable(this))},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"element",{get:function(){return this._element},set:function(e){this._element=e},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"originalPosition",{get:function(){return this._originalPosition||{x:0,y:0}},set:function(e){this._originalPosition=e},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"originalScale",{get:function(){return $P(this._originalScale,1)},set:function(e){this._originalScale!==e&&(this._originalScale=e)},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"originalAngle",{get:function(){return $P(this._originalAngle,0)},set:function(e){this._originalAngle!==e&&(this._originalAngle=e)},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"inertiaOptions",{get:function(){return this.sprite&&this.sprite._adapterO?this.sprite._adapterO.apply("inertiaOptions",this._inertiaOptions):this._inertiaOptions},set:function(e){this._inertiaOptions=e},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"hitOptions",{get:function(){return this.sprite&&this.sprite._adapterO?this.sprite._adapterO.apply("hitOptions",this._hitOptions):this._hitOptions},set:function(e){this._hitOptions=e},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"hoverOptions",{get:function(){return this.sprite&&this.sprite._adapterO?this.sprite._adapterO.apply("hoverOptions",this._hoverOptions):this._hoverOptions},set:function(e){this._hoverOptions=e},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"swipeOptions",{get:function(){return this.sprite&&this.sprite._adapterO?this.sprite._adapterO.apply("swipeOptions",this._swipeOptions):this._swipeOptions},set:function(e){this._swipeOptions=e},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"keyboardOptions",{get:function(){return this.sprite&&this.sprite._adapterO?this.sprite._adapterO.apply("keyboardOptions",this._keyboardOptions):this._keyboardOptions},set:function(e){this._keyboardOptions=e},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"mouseOptions",{get:function(){return this.sprite&&this.sprite._adapterO?this.sprite._adapterO.apply("mouseOptions",this._mouseOptions):this._mouseOptions},set:function(e){this._mouseOptions=e},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"cursorOptions",{get:function(){return this.sprite&&this.sprite._adapterO?this.sprite._adapterO.apply("cursorOptions",this._cursorOptions):this._cursorOptions},set:function(e){this._cursorOptions=e},enumerable:!0,configurable:!0}),t.prototype.copyFrom=function(e){n.prototype.copyFrom.call(this,e),this.inertiaOptions=e.inertiaOptions,this.hitOptions=e.hitOptions,this.hoverOptions=e.hoverOptions,this.swipeOptions=e.swipeOptions,this.keyboardOptions=e.keyboardOptions,this.cursorOptions=e.cursorOptions,this.contextMenuDisabled=e.contextMenuDisabled,$e().applyCursorOverStyle(this)},t.prototype.setEventDisposer=function(e,i,s){var l=this.eventDisposers.getKey(e);i?null==l&&this.eventDisposers.setKey(e,s()):null!=l&&(l.dispose(),this.eventDisposers.removeKey(e))},t.prototype.dispose=function(){n.prototype.dispose.call(this);var e=$e();e.overObjects.removeValue(this),e.downObjects.removeValue(this),e.trackedObjects.removeValue(this),e.transformedObjects.removeValue(this),this.isHover&&this.wheelable&&e.unlockWheel(),e.focusedObject===this&&(e.focusedObject=void 0)},t}(tl),iY=function(){function n(t,e){this._disposed=!1,this.directionX=0,this.directionY=0,this.interaction=t,this.keyboardEvent=e,this._startedOn=(new Date).getTime(),$e().processDragStart(t),lt.animations.push(this),this.update()}return n.prototype.update=function(){var t=this.interaction,e=$e().getKeyboardOption(t,"speed"),i=$e().getKeyboardOption(t,"accelleration"),s=$e().getKeyboardOption(t,"accellerationDelay"),l={x:0,y:0};this.keyboardEvent.shiftKey?(e*=.5,i=1):this.keyboardEvent.ctrlKey&&(e*=2);var p=(new Date).getTime()-this._startedOn,h=p-s;if(i>0&&h>0){var g=p/s;p=s,l.x+=this.directionX*(e*i*g*h),l.y+=this.directionY*(e*i*g*h)}l.x+=this.directionX*(e*p),l.y+=this.directionY*(e*p),$e().handleTransformMove(t,l,{x:0,y:0},this.keyboardEvent,!0,!1)},n.prototype.isDisposed=function(){return this._disposed},n.prototype.dispose=function(){this._disposed||($e().processDragStop(this.interaction),Ue(lt.animations,this))},n}(),nY=function(n){function t(e,i,s,l){var p=n.call(this)||this;return p.animations=[],p.className="Inertia",p.interaction=e,p.type=i,p.point=s,p.startPoint=l,p._disposers.push(new Mf(p.animations)),p}return $(t,n),Object.defineProperty(t.prototype,"x",{get:function(){return this.point.x},set:function(e){M(e)&&(this.point.x=e,this.handleMove())},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"y",{get:function(){return this.point.y},set:function(e){M(e)&&(this.point.y=e,this.handleMove())},enumerable:!0,configurable:!0}),t.prototype.handleMove=function(){this.interaction.events.isEnabled("drag")&&this.interaction.events.dispatchImmediately("drag",{type:"drag",target:this.interaction,shift:{x:this.x-this.startPoint.x,y:this.y-this.startPoint.y},startPoint:this.startPoint,point:{x:this.x,y:this.y},touch:!1})},t.prototype.done=function(){this.interaction.inertias.removeKey(this.type),"move"===this.type&&$e().processDragStop(this.interaction),this.dispose()},t}(Ar),il=new(function(){function n(){}return n.prototype.getEventKey=function(t){var i;switch(t.keyCode||t.which){case 38:i="up";break;case 40:i="down";break;case 37:i="left";break;case 39:i="right";break;case 13:i="enter";break;case 27:i="esc";break;case 36:i="home";break;case 35:i="end";break;case 9:i="tab";break;case 17:i="ctrl";break;case 18:i="alt";break;case 16:i="shift";break;case 32:i="space";break;case 36:i="home";break;case 35:i="end";break;case 33:i="pgup";break;case 34:i="pgdn";break;case 45:i="ins";break;case 46:i="del";break;case 107:i="plus";break;case 109:i="minus";break;default:i="other"}return i},n.prototype.isKey=function(t,e){var i=this.getEventKey(t);return gt(e)&&(e=[e]),-1!==e.indexOf(i)},n.prototype.shiftKey=function(t){return t.shiftKey},n.prototype.ctrlKey=function(t){return t.ctrlKey},n.prototype.altKey=function(t){return t.altKey},n.prototype.metaKey=function(t){return t.metaKey},n}()),oY={millisecond:1,second:1e3,minute:6e4,hour:36e5,day:864e5,week:6048e5,month:2592e6,year:31536e6};function jL(n){switch(n){case"year":return;case"month":return"year";case"week":case"day":return"month";case"hour":return"day";case"minute":return"hour";case"second":return"minute";case"millisecond":return"second"}}function Fi(n,t){return L(t)||(t=1),oY[n]*t}function nl(){return(new Date).getTime()}function Nf(n){return new Date(n.getTime())}function MR(n,t,e,i){n=new Date(n.getTime()),t=new Date(t.getTime());var s=0,l=0;!i&&"millisecond"!=e&&(s=n.getTimezoneOffset(),n.setUTCMinutes(n.getUTCMinutes()-s),l=t.getTimezoneOffset(),t.setUTCMinutes(t.getUTCMinutes()-l));var p=!1;switch(e){case"year":n.getUTCFullYear()!=t.getUTCFullYear()&&(p=!0);break;case"month":(n.getUTCFullYear()!=t.getUTCFullYear()||n.getUTCMonth()!=t.getUTCMonth())&&(p=!0);break;case"day":(n.getUTCMonth()!=t.getUTCMonth()||n.getUTCDate()!=t.getUTCDate())&&(p=!0);break;case"hour":n.getUTCHours()!=t.getUTCHours()&&(p=!0);break;case"minute":n.getUTCMinutes()!=t.getUTCMinutes()&&(p=!0);break;case"second":n.getUTCSeconds()!=t.getUTCSeconds()&&(p=!0);break;case"millisecond":n.getTime()!=t.getTime()&&(p=!0)}if(p)return!0;var h=jL(e);return!!h&&(n.setUTCMinutes(n.getUTCMinutes()+s),t.setUTCMinutes(t.getUTCMinutes()+l),MR(n,t,h,i))}function Ir(n,t,e,i){var s=0;switch(!i&&"millisecond"!=t&&(s=n.getTimezoneOffset(),n.setUTCMinutes(n.getUTCMinutes()-s)),t){case"day":var l=n.getUTCDate();n.setUTCDate(l+e);break;case"second":var p=n.getUTCSeconds();n.setUTCSeconds(p+e);break;case"millisecond":var h=n.getUTCMilliseconds();n.setUTCMilliseconds(h+e);break;case"hour":var g=n.getUTCHours();n.setUTCHours(g+e);break;case"minute":var v=n.getUTCMinutes();n.setUTCMinutes(v+e);break;case"year":var m=n.getUTCFullYear();n.setUTCFullYear(m+e);break;case"month":var _=n.getUTCMonth();n.setUTCMonth(_+e);break;case"week":var b=n.getUTCDate();n.setUTCDate(b+7*e)}if(!i&&"millisecond"!=t&&(n.setUTCMinutes(n.getUTCMinutes()+s),"day"==t||"week"==t||"month"==t||"year"==t)){var C=n.getTimezoneOffset();if(C!=s){var S=C-s;n.setUTCMinutes(n.getUTCMinutes()+S),n.getTimezoneOffset()!=C&&n.setUTCMinutes(n.getUTCMinutes()-S)}}return n}function Ln(n,t,e,i,s,l,p,h){void 0===p&&(p=0),M(e)||(e=1);var g=0;switch(h&&-1!=["day","month","week","year"].indexOf(t)&&(n=W0(n,h)),!s&&"millisecond"!=t&&(g=n.getTimezoneOffset(),n.setUTCMinutes(n.getUTCMinutes()-g)),t){case"day":var v=n.getUTCDate();if(e>1){if(l){l=Ln(l,"day",1);var m=n.getTime()-l.getTime(),_=Math.floor(m/Fi("day")/e),b=Fi("day",_*e);n.setTime(l.getTime()+b-g*Fi("minute"))}}else n.setUTCDate(v);n.setUTCHours(0,0,0,0);break;case"second":var C=n.getUTCSeconds();e>1&&(C=Math.floor(C/e)*e),n.setUTCSeconds(C,0);break;case"millisecond":if(1==e)return n;var S=n.getUTCMilliseconds();S=Math.floor(S/e)*e,n.setUTCMilliseconds(S);break;case"hour":var E=n.getUTCHours();e>1&&(E=Math.floor(E/e)*e),n.setUTCHours(E,p,0,0);break;case"minute":var x=n.getUTCMinutes();S=n.getUTCMilliseconds(),e>1&&(x=Math.floor(x/e)*e),n.setUTCMinutes(x,0,0);break;case"month":var R=n.getUTCMonth();e>1&&(R=Math.floor(R/e)*e),n.setUTCMonth(R,1),n.setUTCHours(0,p,0,0);break;case"year":var P=n.getUTCFullYear();e>1&&(P=Math.floor(P/e)*e),n.setUTCFullYear(P,0,1),n.setUTCHours(0,p,0,0);break;case"week":var k=n.getUTCDate(),U=n.getUTCDay();M(i)||(i=1),n.setUTCDate(k=U>=i?k-U+i:k-(7+U)+i),n.setUTCHours(0,p,0,0)}if(!s&&"millisecond"!=t&&(n.setUTCMinutes(n.getUTCMinutes()+g),"day"==t||"week"==t||"month"==t||"year"==t)){var W=n.getTimezoneOffset();if(W!=g){var Y=W-g;n.setUTCMinutes(n.getUTCMinutes()+Y)}}return n}function W0(n,t){return new Date(n.toLocaleString("en-US",{timeZone:t}))}var lY=function(n){function t(){var e=n.call(this)||this;return e._globalEventsAdded=!1,e._pointerEvents={pointerdown:"mousedown",pointerup:"mouseup",pointermove:"mousemove",pointercancel:"mouseup",pointerover:"mouseover",pointerout:"mouseout",wheel:"wheel"},e._usePointerEventsOnly=!1,e._useTouchEventsOnly=!1,e._addHoverEvents=!0,e._passiveSupported=!1,e._delayedEvents={out:[]},e.overObjects=new Dt,e.downObjects=new Dt,e.trackedObjects=new Dt,e.transformedObjects=new Dt,e.pointers=new ii,e.inertiaOptions=new ii,e.hitOptions={doubleHitTime:300,hitTolerance:10,noFocus:!0},e.hoverOptions={touchOutBehavior:"leave",touchOutDelay:1e3},e.swipeOptions={time:500,verticalThreshold:75,horizontalThreshold:30},e.keyboardOptions={speed:.1,accelleration:1.2,accellerationDelay:2e3},e.mouseOptions={sensitivity:1},e.className="Interaction",e.body=e.getInteraction(document.body),e._disposers.push(e.body),window.hasOwnProperty("PointerEvent")?(e._pointerEvents.pointerdown="pointerdown",e._pointerEvents.pointerup="pointerup",e._pointerEvents.pointermove="pointermove",e._pointerEvents.pointercancel="pointercancel",e._pointerEvents.pointerover="pointerover",e._pointerEvents.pointerout="pointerout"):window.hasOwnProperty("MSPointerEvent")?(e._pointerEvents.pointerdown="MSPointerDown",e._pointerEvents.pointerup="MSPointerUp",e._pointerEvents.pointermove="MSPointerMove",e._pointerEvents.pointercancel="MSPointerUp",e._pointerEvents.pointerover="MSPointerOver",e._pointerEvents.pointerout="MSPointerOut"):"undefined"!=typeof matchMedia&&matchMedia("(pointer:fine)").matches?"ontouchstart"in window&&(e._addHoverEvents=!1,e._useTouchEventsOnly=!0):window.navigator.userAgent.match(/MSIE /)||e.fullFF()?e._usePointerEventsOnly=!0:e._useTouchEventsOnly=!0,"onwheel"in document.createElement("div")?e._pointerEvents.wheel="wheel":L(document.onmousewheel)&&(e._pointerEvents.wheel="mousewheel"),e.inertiaOptions.setKey("move",{time:100,duration:500,factor:1,easing:SR}),e.inertiaOptions.setKey("resize",{time:100,duration:500,factor:1,easing:SR}),e._passiveSupported=t.passiveSupported,e.applyTheme(),e}return $(t,n),t.prototype.fullFF=function(){return window.navigator.userAgent.match(/Firefox/)&&!window.navigator.userAgent.match(/Android/)},t.prototype.debug=function(){},t.prototype.addGlobalEvents=function(){var e=this;this._globalEventsAdded||(this._useTouchEventsOnly||(this._disposers.push(_i(document,this._pointerEvents.pointerdown,function(i){e.handleGlobalPointerDown(i)})),this._disposers.push(_i(document,this._pointerEvents.pointermove,function(i){e.handleGlobalPointerMove(i)})),this._disposers.push(_i(document,this._pointerEvents.pointerup,function(i){e.handleGlobalPointerUp(i)})),this._disposers.push(_i(document,this._pointerEvents.pointercancel,function(i){e.handleGlobalPointerUp(i,!0)})),this._disposers.push(_i(document,"mouseenter",function(i){!L(i.relatedTarget)&&(0==i.buttons||0==i.which)&&e.handleDocumentLeave(i)}))),this._usePointerEventsOnly||(this._disposers.push(_i(document,"touchstart",function(i){e.handleGlobalTouchStart(i)})),this._disposers.push(_i(document,"touchmove",function(i){e.handleGlobalTouchMove(i)})),this._disposers.push(_i(document,"touchend",function(i){e.handleGlobalTouchEnd(i)}))),this._disposers.push(_i(document,"keydown",function(i){e.handleGlobalKeyDown(i)})),this._disposers.push(_i(document,"keyup",function(i){e.handleGlobalKeyUp(i)})),this._globalEventsAdded=!0)},t.prototype.processClickable=function(e){this.processTouchable(e)},t.prototype.processContextMenu=function(e){e.contextMenuDisabled?e.eventDisposers.hasKey("contextMenuDisabled")||e.eventDisposers.setKey("contextMenuDisabled",_i(e.element,"contextmenu",function(i){i.preventDefault()})):e.eventDisposers.hasKey("contextMenuDisabled")&&e.eventDisposers.getKey("contextMenuDisabled").dispose()},t.prototype.processHoverable=function(e){var i=this;if(e.hoverable||e.trackable)this.addGlobalEvents(),this.applyCursorOverStyle(e),!e.eventDisposers.hasKey("hoverable")&&this._addHoverEvents&&e.eventDisposers.setKey("hoverable",new mi([_i(e.element,this._pointerEvents.pointerout,function(l){return i.handlePointerOut(e,l)}),_i(e.element,this._pointerEvents.pointerover,function(l){return i.handlePointerOver(e,l)})]));else{var s=e.eventDisposers.getKey("hoverable");null!=s&&(s.dispose(),e.eventDisposers.removeKey("hoverable"))}this.processTouchable(e)},t.prototype.processMovable=function(e){(e.draggable||e.swipeable||e.trackable||e.resizable)&&(!this.isGlobalElement(e)&&!e.isTouchProtected&&this.prepElement(e),this.applyCursorOverStyle(e)),this.processTouchable(e)},t.prototype.processTrackable=function(e){this.processHoverable(e),this.processMovable(e),e.trackable?this.trackedObjects.moveValue(e):this.trackedObjects.removeValue(e)},t.prototype.processDraggable=function(e){this.processMovable(e)},t.prototype.processSwipeable=function(e){this.processMovable(e)},t.prototype.processResizable=function(e){this.processMovable(e)},t.prototype.processWheelable=function(e){var i=this;if(e.wheelable)e.eventDisposers.hasKey("wheelable")||e.eventDisposers.setKey("wheelable",new mi([_i(e.element,this._pointerEvents.wheel,function(l){return i.handleMouseWheel(e,l)},!!this._passiveSupported&&{passive:!1}),e.events.on("out",function(l){e.wheelable&&i.unlockWheel()}),e.events.on("over",function(l){e.wheelable&&i.lockWheel()})]));else{var s=e.eventDisposers.getKey("wheelable");null!=s&&(s.dispose(),e.eventDisposers.removeKey("wheelable"))}},t.prototype.processFocusable=function(e){var i=this;if(!0===e.focusable&&e.tabindex>-1&&!this._useTouchEventsOnly)e.eventDisposers.hasKey("focusable")||e.eventDisposers.setKey("focusable",new mi([_i(e.element,"focus",function(l){return i.handleFocus(e,l)}),_i(e.element,"blur",function(l){return i.handleBlur(e,l)}),_i(e.element,this._pointerEvents.pointerdown,function(l){return i.handleFocusBlur(e,l)}),_i(e.element,"touchstart",function(l){return i.handleFocusBlur(e,l)},!!this._passiveSupported&&{passive:!1})]));else{var s=e.eventDisposers.getKey("focusable");null!=s&&(s.dispose(),e.eventDisposers.removeKey("focusable"))}},t.prototype.processTouchable=function(e){var i=this;if(e.clickable||e.hoverable||e.trackable||e.draggable||e.swipeable||e.resizable)this.addGlobalEvents(),e.eventDisposers.hasKey("touchable")||(this._useTouchEventsOnly||this._usePointerEventsOnly?this._useTouchEventsOnly?this._usePointerEventsOnly||e.eventDisposers.setKey("touchable",_i(e.element,"touchstart",function(l){return i.handleTouchDown(e,l)},!!this._passiveSupported&&{passive:!1})):e.eventDisposers.setKey("touchable",_i(e.element,this._pointerEvents.pointerdown,function(l){return i.handlePointerDown(e,l)})):e.eventDisposers.setKey("touchable",new mi([_i(e.element,this._pointerEvents.pointerdown,function(l){return i.handlePointerDown(e,l)}),_i(e.element,"touchstart",function(l){return i.handleTouchDown(e,l)},!!this._passiveSupported&&{passive:!1})])));else{var s=e.eventDisposers.getKey("touchable");null!=s&&(s.dispose(),e.eventDisposers.removeKey("touchable"))}},t.prototype.handleFocus=function(e,i){e.focusable?(e.isFocused=!0,e.events.isEnabled("focus")&&!lt.isPaused&&e.events.dispatchImmediately("focus",{type:"focus",target:e,event:i})):i.preventDefault()},t.prototype.handleFocusBlur=function(e,i){!1!==e.focusable&&this.getHitOption(e,"noFocus")&&e.events.once("focus",function(){e.events.disableType("blur"),G0(),e.sprite&&e.sprite.handleBlur(),e.events.enableType("blur")})},t.prototype.handleBlur=function(e,i){e.focusable?(e.isFocused=!1,e.events.isEnabled("blur")&&!lt.isPaused&&e.events.dispatchImmediately("blur",{type:"blur",target:e,event:i})):i.preventDefault()},t.prototype.handleGlobalKeyDown=function(e){if(this.focusedObject)if(il.isKey(e,"esc"))G0();else if(this.focusedObject.draggable&&il.isKey(e,["up","down","left","right"])){e.preventDefault();var i=this.focusedObject,s="interactionKeyboardObject";if(i.eventDisposers.hasKey(s))return;var l=new iY(i,e);switch(i.eventDisposers.setKey(s,l),il.getEventKey(e)){case"up":l.directionY=-1;break;case"down":l.directionY=1;break;case"left":l.directionX=-1;break;case"right":l.directionX=1}}},t.prototype.handleGlobalKeyUp=function(e){var i="interactionKeyboardObject";if(this.focusedObject){var s=this.focusedObject.eventDisposers.getKey(i);null!=s&&(e.preventDefault(),s.dispose(),this.focusedObject.eventDisposers.removeKey(i)),il.isKey(e,"enter")&&this.focusedObject.sprite&&!this.focusedObject.sprite.events.isEnabled("toggled")&&(this.focusedObject.sprite.events.isEnabled("hit")?this.focusedObject.dispatchImmediately("hit"):"hit"==this.focusedObject.sprite.showTooltipOn&&this.focusedObject.dispatchImmediately("up"))}},t.prototype.handleGlobalPointerMove=function(e){var i=this.getPointer(e);i.point=this.getPointerPoint(e),this.events.isEnabled("track")&&!lt.isPaused&&this.events.dispatchImmediately("track",{type:"track",target:this,event:e,pointer:i,touch:i.touch}),this.addBreadCrumb(i,i.point),this.handleGlobalMove(i,e)},t.prototype.handleGlobalPointerDown=function(e){this.processDelayed();var i=this.getPointer(e);this.events.isEnabled("down")&&!lt.isPaused&&this.events.dispatchImmediately("down",{type:"down",target:this,event:e,pointer:i,touch:i.touch})},t.prototype.preventTouchAction=function(e){e.defaultPrevented||e.preventDefault()},t.prototype.handleGlobalPointerUp=function(e,i){void 0===i&&(i=!1);var s=this.getPointer(e);this.events.isEnabled("up")&&!lt.isPaused&&this.events.dispatchImmediately("up",{type:"up",target:this,event:e,pointer:s,touch:s.touch}),this.handleGlobalUp(s,e,i)},t.prototype.handleGlobalTouchMove=function(e){for(var i=0;i<e.changedTouches.length;i++){var s=this.getPointer(e.changedTouches[i]);s.point=this.getPointerPoint(e.changedTouches[i]),this.events.isEnabled("track")&&!lt.isPaused&&this.events.dispatchImmediately("track",{type:"track",target:this,event:e,pointer:s,touch:s.touch}),this.addBreadCrumb(s,s.point),this.handleGlobalMove(s,e)}},t.prototype.handleGlobalTouchStart=function(e){this.processDelayed();for(var i=0;i<e.changedTouches.length;i++){var s=this.getPointer(e.changedTouches[i]);this._usePointerEventsOnly||!this.events.isEnabled("down")||lt.isPaused||this.events.dispatchImmediately("down",{type:"down",target:this,event:e,pointer:s,touch:s.touch})}},t.prototype.handleGlobalTouchEnd=function(e){for(var i=0;i<e.changedTouches.length;i++){var s=this.getPointer(e.changedTouches[i]);this.events.isEnabled("up")&&!lt.isPaused&&this.events.dispatchImmediately("up",{type:"up",target:this,event:e,pointer:s,touch:s.touch}),this.handleGlobalUp(s,e)}},t.prototype.handlePointerDown=function(e,i){var s=this.getPointer(i);!s.touch&&1!=i.which&&3!=i.which||(s.button=i.which,this.resetPointer(s,i),this.handleDown(e,s,i))},t.prototype.handlePointerOver=function(e,i){var s=this.getPointer(i);this.handleOver(e,s,i)},t.prototype.handlePointerOut=function(e,i){var s=this.getPointer(i);this.handleOut(e,s,i)},t.prototype.handleMouseWheel=function(e,i){var s=this.getPointer(i);s.point=this.getPointerPoint(i);var l,p,h=1;if(1==i.deltaMode&&(h=50),h*=this.getMouseOption(e,"sensitivity"),!(i instanceof WheelEvent))throw new Error("Invalid event type");l=Math.round(-1*i.wheelDeltaX||i.deltaX*h),p=Math.round(-1*i.wheelDeltaY||i.deltaY*h),this.handleWheel(e,s,l,p,i)},t.prototype.handleTouchDown=function(e,i){for(var s=0;s<i.changedTouches.length;s++){var l=this.getPointer(i.changedTouches[s]);this.maybePreventDefault(e,i,l),this.resetPointer(l,i.changedTouches[s]),this.handleDown(e,l,i)}},t.prototype.handleHit=function(e,i,s){var l=nl();if(e.lastHit&&e.lastHit>=l-this.getHitOption(e,"doubleHitTime")){if(l-e.lastHit<100)return;e.lastHit=void 0,e.lastHitPointer=void 0,e.events.isEnabled("doublehit")&&!lt.isPaused&&e.events.dispatchImmediately("doublehit",{type:"doublehit",target:e,point:i.point,event:s,touch:i.touch})}else e.lastHit=l,e.lastHitPointer=i,3===i.button?e.events.isEnabled("rightclick")&&!lt.isPaused&&e.events.dispatchImmediately("rightclick",{type:"rightclick",target:e,event:s}):e.events.isEnabled("hit")&&!lt.isPaused&&e.events.dispatchImmediately("hit",{type:"hit",target:e,event:s,point:i.point,touch:i.touch})},t.prototype.handleOver=function(e,i,s,l){if(void 0===l&&(l=!1),e.hoverable){var p=!1;this.shouldCancelHovers(i)&&this.areTransformed()&&this.moved(i,this.getHitOption(e,"hitTolerance"))&&(p=!0,this.cancelAllHovers(s)),this.processDelayed(),e.overPointers.moveValue(i),e.isRealHover||(p||(e.isHover=!0,e.isRealHover=!0,this.overObjects.moveValue(e)),this.handleTrack(this.body,i,s,!0),!e.events.isEnabled("over")||lt.isPaused||p)||e.events.dispatchImmediately("over",{type:"over",target:e,event:s,pointer:i,touch:i.touch})}},t.prototype.handleOut=function(e,i,s,l,p){var h=this;if(void 0===l&&(l=!1),void 0===p&&(p=!1),e.hoverable&&(e.overPointers.removeValue(i),e.isHover&&(!e.hasDelayedOut||p))){if(l&&e.overPointers.length)return;if(i&&i.touch&&!p&&!this.old(i)){var g=this.getHoverOption(e,"touchOutBehavior");if("leave"==g)return this._delayedEvents.out.push({type:"out",io:e,pointer:i,event:s,keepUntil:nl()+500}),void(e.hasDelayedOut=!0);if("delay"==g&&this.getHoverOption(e,"touchOutDelay"))return void this._delayedEvents.out.push({type:"out",io:e,pointer:i,event:s,keepUntil:nl()+500,timeout:this.setTimeout(function(){h.handleOut(e,i,s,!0)},this.getHoverOption(e,"touchOutDelay"))})}e.isHover=!1,this.overObjects.removeValue(e),e.isDisposed()||!e.events.isEnabled("out")||lt.isPaused||e.events.dispatchImmediately("out",{type:"out",target:e,event:s,pointer:i,touch:i.touch}),e.overPointers.clear(),e.hasDelayedOut=!1}},t.prototype.processDelayed=function(){for(var e;e=this._delayedEvents.out.pop();)e.timeout&&e.timeout.dispose(),this.handleOut(e.io,e.pointer,e.event,!1,!0)},t.prototype.handleDown=function(e,i,s){this.maybePreventDefault(e,s,i),e.inert&&this.stopInertia(e),this.handleOver(e,i,s,!0),e.downPointers.moveValue(i),this.applyCursorDownStyle(e,i),e.isDown||(!1!==e.focusable&&this.getHitOption(e,"noFocus")&&this.focusedObject&&G0(),e.isDown=!0,this.downObjects.moveValue(e),e.draggable&&this.processDragStart(e,i,s),e.resizable&&this.processResizeStart(e,i,s)),e.events.isEnabled("down")&&!lt.isPaused&&e.events.dispatchImmediately("down",{type:"down",target:e,event:s,pointer:i,touch:i.touch})},t.prototype.handleGlobalUp=function(e,i,s){var l=this;void 0===s&&(s=!1);var p=this.downObjects.values.slice();p.sort(function(h,g){if(h&&g){var v=h.element.compareDocumentPosition(g.element);return v&Node.DOCUMENT_POSITION_CONTAINED_BY?1:v&Node.DOCUMENT_POSITION_CONTAINS?-1:0}return 0}),be(p,function(h){h&&h.downPointers.contains(e)&&l.handleUp(h,e,i,s)})},t.prototype.handleDocumentLeave=function(e){var i=this;oe(this.downObjects.backwards().iterator(),function(s){s.downPointers.each(function(l){i.handleUp(s,l,e)})})},t.prototype.handleUp=function(e,i,s,l){void 0===l&&(l=!1),this.restoreCursorDownStyle(e,i),e.downPointers.removeValue(i),(i.touch||this._useTouchEventsOnly)&&this.handleOut(e,i,s,!0),e.isDown&&(0==e.downPointers.length&&(e.isDown=!1,this.downObjects.removeValue(e)),e.events.isEnabled("up")&&!lt.isPaused&&e.events.dispatchImmediately("up",{type:"up",target:e,event:s,pointer:i,touch:i.touch}),l||(e.swipeable&&this.swiped(e,i)?this.handleSwipe(e,i,s):(e.clickable&&!this.moved(i,this.getHitOption(e,"hitTolerance"))&&this.handleHit(e,i,s),e.inert&&this.moved(i,this.getHitOption(e,"hitTolerance"))?this.handleInertia(e,i):e.draggable&&this.processDragStop(e,i,s),e.resizable&&this.processResizeStop(e,i,s))))},t.prototype.maybePreventDefault=function(e,i,s){L(i)&&(e.draggable||e.swipeable||e.trackable||e.resizable)&&!this.isGlobalElement(e)&&!1!==i.cancelable&&(!e.isTouchProtected||!s||!s.touch)&&i.preventDefault()},t.prototype.cancelAllHovers=function(e){var i=this;oe(this.overObjects.backwards().iterator(),function(s){if(s){var l=s.overPointers.getIndex(0);i.handleOut(s,l,e,!0,!0)}})},t.prototype.shouldCancelHovers=function(e){return"always"==nt.disableHoverOnTransform||"touch"==nt.disableHoverOnTransform&&e.touch},t.prototype.handleGlobalMove=function(e,i){var s=this;if(!e.touch){var l=function(n){return"function"==typeof n.composedPath?n.composedPath()[0]:n.target}(e.lastEvent);oe(this.overObjects.backwards().iterator(),function(p){if(p&&p.overPointers.contains(e)&&p.hoverable){var h=!1;p.element&&e.lastEvent&&GL(p.element,l)||(h=!0),h&&s.handleOut(p,e,i,!0)}})}oe(this.transformedObjects.backwards().iterator(),function(p){p.downPointers.contains(e)&&(!p.swipeable||!s.swiping(p,e))&&(p.draggable||p.resizable)&&s.handleTransform(p,i)}),oe(this.trackedObjects.backwards().iterator(),function(p){p.overPointers.contains(e)||s.handleTrack(p,e,i)})},t.prototype.handleTrack=function(e,i,s,l){void 0===l&&(l=!1),(l||this.moved(i,0))&&e.events.isEnabled("track")&&!lt.isPaused&&e.events.dispatchImmediately("track",{type:"track",target:e,event:s,point:i.point,pointer:i,touch:i.touch})},t.prototype.handleSwipe=function(e,i,s){e.events.isEnabled("swipe")&&!lt.isPaused&&e.events.dispatchImmediately("swipe",{type:"swipe",target:e,event:s,touch:i.touch}),i.startPoint.x<i.point.x?e.events.isEnabled("swiperight")&&!lt.isPaused&&e.events.dispatchImmediately("swiperight",{type:"swiperight",target:e,event:s,touch:i.touch}):e.events.isEnabled("swipeleft")&&!lt.isPaused&&e.events.dispatchImmediately("swipeleft",{type:"swipeleft",target:e,event:s,touch:i.touch})},t.prototype.handleWheel=function(e,i,s,l,p){var h={x:s,y:l};e.events.isEnabled("wheel")&&!lt.isPaused&&e.events.dispatchImmediately("wheel",{type:"wheel",target:e,event:p,point:i.point,shift:h}),s<0?e.events.isEnabled("wheelleft")&&!lt.isPaused&&e.events.dispatchImmediately("wheelleft",{type:"wheelleft",target:e,event:p,point:i.point,shift:h}):s>0?e.events.isEnabled("swiperight")&&!lt.isPaused&&e.events.dispatchImmediately("wheelright",{type:"wheelright",target:e,event:p,point:i.point,shift:h}):l<0?e.events.isEnabled("wheelup")&&!lt.isPaused&&e.events.dispatchImmediately("wheelup",{type:"wheelup",target:e,event:p,point:i.point,shift:h}):l>0&&e.events.isEnabled("wheeldown")&&!lt.isPaused&&e.events.dispatchImmediately("wheeldown",{type:"wheeldown",target:e,event:p,point:i.point,shift:h})},t.prototype.handleInertia=function(e,i){e.draggable&&0===e.downPointers.length&&this.handleMoveInertia(e,i),e.resizable&&e.downPointers.length>1&&this.handleResizeInertia(e,i)},t.prototype.handleMoveInertia=function(e,i){var g=new nY(e,"move",{x:i.point.x,y:i.point.y},{x:i.startPoint.x,y:i.startPoint.y}),v=this.getTrailPoint(i,nl()-this.getInertiaOption(e,"move","time"));if(void 0!==v){var m=this.getInertiaOption(e,"move","factor"),b=new ua(g,[{to:i.point.x+(i.point.x-v.point.x)*m,property:"x"},{to:i.point.y+(i.point.y-v.point.y)*m,property:"y"}],this.getInertiaOption(e,"move","duration"),this.getInertiaOption(e,"move","easing")).start();this._disposers.push(b.events.on("animationended",function(C){g.done()})),e.inertias.setKey("move",g)}else this.processDragStop(e,i,i.lastUpEvent)},t.prototype.handleResizeInertia=function(e,i){},t.prototype.handleTransform=function(e,i){var h,g,v,s=e.downPointers.getIndex(0),l=null,p=null;s&&(l=s.point,p=s.startPoint),v=g={x:e.originalPosition.x,y:e.originalPosition.y};for(var m=!0,_=1;_<e.downPointers.length;_++){var b=e.downPointers.getIndex(_);if(p.x!=b.startPoint.x&&p.y!=b.startPoint.y){m=!1,g=(h=b).point,v=h.startPoint;break}}var C=s&&this.moved(s,0);if(e.draggable&&s&&s.dragStartEvents&&s.dragStartEvents.length&&C&&e.events.isEnabled("dragstart")&&!lt.isPaused&&e.events.dispatchImmediately("dragstart",s.dragStartEvents.shift()),m&&e.draggable)this.handleTransformMove(e,l,p,i,C,s.touch),this.shouldCancelHovers(s)&&this.moved(s,this.getHitOption(e,"hitTolerance"))&&this.cancelAllHovers(i);else{var S=h&&this.moved(h,0);(this.shouldCancelHovers(s)&&this.moved(s,this.getHitOption(e,"hitTolerance"))||this.shouldCancelHovers(h)&&this.moved(h,this.getHitOption(e,"hitTolerance")))&&this.cancelAllHovers(i),e.draggable&&e.resizable?(this.handleTransformMove(e,l,p,i,C&&S,s.touch),this.handleTransformResize(e,l,p,g,v,i,C&&S,s.touch)):(e.draggable&&this.handleTransformMove(e,l,p,i,C,s.touch),e.resizable&&(!m||i.ctrlKey)&&this.handleTransformResize(e,l,p,g,v,i,C&&S,s.touch))}},t.prototype.handleTransformMove=function(e,i,s,l,p,h){!p||!e.events.isEnabled("drag")||lt.isPaused||e.isTouchProtected&&h||e.events.dispatchImmediately("drag",{type:"drag",target:e,event:l,shift:{x:i.x-s.x,y:i.y-s.y},startPoint:s,point:i,touch:h})},t.prototype.handleTransformResize=function(e,i,s,l,p,h,g,v){if(e.events.isEnabled("resize")&&!lt.isPaused&&(!e.isTouchProtected||!v)){var m={type:"resize",target:e,event:h,scale:y6(i,s,l,p),startPoint1:s,point1:i,startPoint2:p,point2:l,touch:v};e.events.dispatchImmediately("resize",m)}},t.prototype.processDragStart=function(e,i,s){this.transformedObjects.moveValue(e),this.shouldCancelHovers(i)&&this.cancelAllHovers(s);var l={type:"dragstart",target:e,event:s,touch:!!i&&i.touch};i&&(i.dragTarget=e),i&&i.dragStartEvents?i.dragStartEvents.push(l):lt.isPaused||e.dispatchImmediately("dragstart",l)},t.prototype.processDragStop=function(e,i,s){i||(i=this.getDragPointer(e)),i&&(i.dragTarget=void 0),this.transformedObjects.removeValue(e),i&&!this.moved(i,0)||!e.events.isEnabled("dragstop")||lt.isPaused||e.events.dispatchImmediately("dragstop",{type:"dragstop",target:e,touch:!!i&&i.touch})},t.prototype.processResizeStart=function(e,i,s){this.transformedObjects.moveValue(e)},t.prototype.processResizeStop=function(e,i,s){this.transformedObjects.removeValue(e)},t.prototype.dragStart=function(e,i){i||(i=this.getDragPointer(e)),i&&this.handleDown(e,i,i.lastDownEvent)},t.prototype.dragStop=function(e,i,s){i||(i=this.getDragPointer(e)),i&&!s&&this.handleGlobalUp(i,i.lastUpEvent,s)},t.prototype.getDragPointer=function(e){return e?e.downPointers.getIndex(0):this.transformedObjects.length?this.getDragPointer(this.transformedObjects.getIndex(0)):void 0},t.prototype.getPointerId=function(e){return(L(e.identifier)?""+e.identifier:L(e.pointerId)?""+e.pointerId:"m").replace("-","")},t.prototype.getPointerPoint=function(e){return{x:e.clientX,y:e.clientY}},t.prototype.getPointer=function(e){var l,i=this.getPointerId(e),s=this.getPointerPoint(e);return this.pointers.hasKey(i)?(l=this.pointers.getKey(i)).touch=this.isPointerTouch(e):(l={id:i,touch:this.isPointerTouch(e),startPoint:s,startTime:nl(),point:s,track:[],swipeCanceled:!1,dragStartEvents:[]},this.addBreadCrumb(l,s),this.pointers.setKey(i,l)),l.lastEvent=e,this.lastPointer=l,l},t.prototype.isPointerTouch=function(e){if("undefined"!=typeof Touch&&e instanceof Touch)return!0;if("undefined"!=typeof PointerEvent&&e instanceof PointerEvent&&L(e.pointerType))switch(e.pointerType){case"touch":case"pen":case 2:return!0;case"mouse":case 4:return!1;default:return!(e instanceof MouseEvent)}else if(L(e.type)&&e.type.match(/^mouse/))return!1;return!0},t.prototype.resetPointer=function(e,i){var s=this.getPointerPoint(i);e.startTime=nl(),e.startPoint={x:s.x,y:s.y},e.point={x:s.x,y:s.y},e.track=[],e.swipeCanceled=!1},t.prototype.addBreadCrumb=function(e,i){e.track.push({timestamp:nl(),point:i})},t.prototype.lockDocument=function(){this.prepElement(this.body)},t.prototype.unlockDocument=function(){0==this.transformedObjects.length&&this.restoreAllStyles(this.body)},t.prototype.lockElement=function(e){this.prepElement(e)},t.prototype.unlockElement=function(e){this.restoreAllStyles(e)},t.prototype.lockWheel=function(){window.addEventListener(this._pointerEvents.wheel,this.wheelLockEvent,!!this._passiveSupported&&{passive:!1})},t.prototype.unlockWheel=function(){window.removeEventListener(this._pointerEvents.wheel,this.wheelLockEvent)},t.prototype.isLocalElement=function(e,i,s){var l=this.getCache("local_pointer_"+e.id);if(L(l))return l;var p=HL(i)||document;if(p.elementFromPoint){var h=p.elementFromPoint(e.point.x,e.point.y),g=h&&GL(i,h);return this.setCache("local_pointer_"+e.id+"_"+s,g,100),g}return!1},t.prototype.wheelLockEvent=function(e){return e.preventDefault(),!1},t.prototype.prepElement=function(e){var i=e.element;if(i){for(var s=["touchAction","webkitTouchAction","MozTouchAction","MSTouchAction","msTouchAction","oTouchAction","userSelect","webkitUserSelect","MozUserSelect","MSUserSelect","msUserSelect","oUserSelect","touchSelect","webkitTouchSelect","MozTouchSelect","MSTouchSelect","msTouchSelect","oTouchSelect","touchCallout","webkitTouchCallout","MozTouchCallout","MSTouchCallout","msTouchCallout","oTouchCallout","contentZooming","webkitContentZooming","MozContentZooming","MSContentZooming","msContentZooming","oContentZooming","userDrag","webkitUserDrag","MozUserDrag","MSUserDrag","msUserDrag","oUserDrag"],l=0;l<s.length;l++)s[l]in i.style&&this.setTemporaryStyle(e,s[l],"none");this.setTemporaryStyle(e,"tapHighlightColor","rgba(0, 0, 0, 0)")}},t.prototype.unprepElement=function(e){var i=e.element;if(i){for(var s=["touchAction","webkitTouchAction","MozTouchAction","MSTouchAction","msTouchAction","oTouchAction","userSelect","webkitUserSelect","MozUserSelect","MSUserSelect","msUserSelect","oUserSelect","touchSelect","webkitTouchSelect","MozTouchSelect","MSTouchSelect","msTouchSelect","oTouchSelect","touchCallout","webkitTouchCallout","MozTouchCallout","MSTouchCallout","msTouchCallout","oTouchCallout","contentZooming","webkitContentZooming","MozContentZooming","MSContentZooming","msContentZooming","oContentZooming","userDrag","webkitUserDrag","MozUserDrag","MSUserDrag","msUserDrag","oUserDrag"],l=0;l<s.length;l++)s[l]in i.style&&this.restoreStyle(e,s[l]);this.restoreStyle(e,"tapHighlightColor")}},t.prototype.getHitOption=function(e,i){var s=e.hitOptions[i];return void 0===s&&(s=this.hitOptions[i]),s},t.prototype.getHoverOption=function(e,i){var s=e.hoverOptions[i];return void 0===s&&(s=this.hoverOptions[i]),s},t.prototype.getSwipeOption=function(e,i){var s=e.swipeOptions[i];return void 0===s&&(s=this.swipeOptions[i]),s},t.prototype.getKeyboardOption=function(e,i){var s=e.keyboardOptions[i];return void 0===s&&(s=this.keyboardOptions[i]),s},t.prototype.getMouseOption=function(e,i){var s=e.mouseOptions[i];return void 0===s&&(s=this.mouseOptions[i]),s},t.prototype.getInertiaOption=function(e,i,s){var l=e.inertiaOptions.getKey(i);return l&&L(l[s])?l[s]:this.inertiaOptions.getKey(i)[s]},t.prototype.stopInertia=function(e){for(var i,s=["move","resize"],l=0;l<s.length;l++)if(e.inertias.hasKey(i=s[l])){var p=e.inertias.getKey(i);if(p){p.dispose();continue}}},t.prototype.swiping=function(e,i){var s=nl();return!(i.swipeCanceled||!e.swipeable)&&Math.abs(i.startPoint.y-i.point.y)<this.getSwipeOption(e,"verticalThreshold")&&i.startTime>s-this.getSwipeOption(e,"time")},t.prototype.swiped=function(e,i){var s=nl();return!i.swipeCanceled&&Math.abs(i.startPoint.x-i.point.x)>this.getSwipeOption(e,"horizontalThreshold")&&Math.abs(i.startPoint.y-i.point.y)<this.getSwipeOption(e,"verticalThreshold")&&i.startTime>s-this.getSwipeOption(e,"time")},t.prototype.applyCursorOverStyle=function(e){var i=e.cursorOptions;if(L(i.overStyle))for(var s=0;s<i.overStyle.length;s++)kL(e.element,i.overStyle[s].property,i.overStyle[s].value)},t.prototype.applyCursorDownStyle=function(e,i){if(!i||!i.touch){var s=e.cursorOptions.downStyle;if(e.downPointers.contains(i)&&L(s))for(var l=0;l<s.length;l++)this.setTemporaryStyle(this.body,s[l].property,s[l].value),this.setTemporaryStyle(e,s[l].property,s[l].value)}},t.prototype.restoreCursorDownStyle=function(e,i){if(!i||!i.touch){var s=e.cursorOptions.downStyle;if(e.downPointers.contains(i)&&L(s))for(var l=0;l<s.length;l++)this.restoreStyle(this.body,s[l].property),this.restoreStyle(e,s[l].property)}},t.prototype.setGlobalStyle=function(e){for(var i=$e().body,s=hn(e)?e:[e],l=0;l<s.length;l++)this.setTemporaryStyle(i,s[l].property,s[l].value)},t.prototype.restoreGlobalStyle=function(e){for(var i=$e().body,s=hn(e)?e:[e],l=0;l<s.length;l++)this.restoreStyle(i,s[l].property)},t.prototype.isGlobalElement=function(e){return document.body===e.element},t.prototype.moved=function(e,i,s){void 0===s&&(s=300);var l=this.getShift(e);return Math.abs(l.x)>i||Math.abs(l.y)>i},t.prototype.old=function(e,i){return void 0===i&&(i=300),nl()-e.startTime>i},t.prototype.getShift=function(e){return{x:e.startPoint.x-e.point.x,y:e.startPoint.y-e.point.y}},t.prototype.getTrailPoint=function(e,i){for(var s,l=0;l<e.track.length;l++)if(e.track[l].timestamp>=i){s=e.track[l];break}return s},t.prototype.pointerExists=function(e,i){var s=!1;return e.each(function(l){l!=i&&(s=l.point.x==i.point.x&&l.point.y==i.point.y)}),s},t.prototype.getInteraction=function(e){return new tY(e)},t.prototype.setTemporaryStyle=function(e,i,s){var l=e.element;L(l.style[i])&&!e.replacedStyles.hasKey(i)&&e.replacedStyles.setKey(i,l.style[i]),kL(l,i,s)},t.prototype.restoreStyle=function(e,i){e.replacedStyles.hasKey(i)?(e.element.style[i]=e.replacedStyles.getKey(i),e.replacedStyles.removeKey(i)):delete e.element.style[i]},t.prototype.restoreAllStyles=function(e){oe(e.replacedStyles.iterator(),function(i){var s=i[0];e.element.style[s]=i[1],e.replacedStyles.removeKey(s)})},t.prototype.dispose=function(){this.isDisposed()||(n.prototype.dispose.call(this),this.restoreAllStyles(this.body),this.unlockWheel())},t.prototype.log=function(e,i,s){if(i.changedTouches)for(var p=0;p<i.changedTouches.length;p++)this.logTouch(e,i.type,i.changedTouches[p]);else{var h="";if(i.pointerType)switch(i.pointerType){case 2:h="touch";break;case 4:h="mouse";break;default:h=i.pointerType}else h="undefined"!=typeof TouchEvent&&i instanceof TouchEvent?"touch":i.type.match(/^mouse/)?"mouse":"???";var g;g=L(i.identifier)?i.identifier:L(i.pointerId)?i.pointerId:"???",console.log(s?e+" ("+s.uid+")  "+i.type+"  "+h+"  "+g:e+"  "+i.type+"  "+h+"  "+g)}},t.prototype.areTransformed=function(e){var i=this.transformedObjects.length;if(e)for(var s=hn(e)?e:[e],l=0;l<s.length;l++)this.transformedObjects.contains(s[l])&&i--;return i>0},t.prototype.logTouch=function(e,i,s){console.log(e+"  "+i+"  touch  "+s.identifier)},Object.defineProperty(t,"passiveSupported",{get:function(){var e=this;if(null==this._passiveSupported)try{var i=Object.defineProperty({},"passive",{get:function(){e._passiveSupported=!0}});window.addEventListener("test",i,i),window.removeEventListener("test",i,i)}catch(s){this._passiveSupported=!1}return this._passiveSupported},enumerable:!0,configurable:!0}),t}(tl),FR=null;function $e(){return null==FR&&(FR=new lY),FR}var WL=function(n){function t(){var e=n.call(this)||this;return e.adapter=new To(e),e._elements={},e._IOs={},e._content="",e._title="",e._classPrefix="ampopup",e._defaultStyles=!0,e._showCurtain=!1,e._draggable=!0,e._align="center",e._dynamicResize=!0,e._verticalAlign="middle",e._shift={x:0,y:0},e._tempShift={x:0,y:0},e._readerTitle="",e._closable=!0,e._cssLoaded=!1,e._fitTo="window",e.isTemplate=!1,e._sized=!1,e.className="Popup",e}return $(t,n),t.prototype.open=function(){this.container&&(this._elements.wrapper&&this.container.appendChild(this._elements.wrapper),this._elements.curtain&&(this.container.appendChild(this._elements.curtain),this.showCurtain=this.showCurtain),this.positionElement(),this.dispatchImmediately("opened"))},t.prototype.close=function(){this._elements.wrapper&&this._elements.wrapper.parentElement&&this._elements.wrapper.parentElement.removeChild(this._elements.wrapper),this._elements.curtain&&this._elements.curtain.parentElement&&this._elements.curtain.parentElement.removeChild(this._elements.curtain),this.dispatchImmediately("closed"),this.releasePointers()},t.prototype.dispose=function(){this.close(),n.prototype.dispose.call(this)},t.prototype.positionElement=function(e){var i=this;void 0===e&&(e=!0),this._elements.wrapper&&setTimeout(function(){if(i._elements.wrapper){if(e||!i._sized){i._elements.wrapper.style.opacity="0.01",i._elements.wrapper.style.left="0",i._elements.wrapper.style.top="0",i._elements.wrapper.style.margin="0 0 0 0",i._elements.wrapper.style.width="",i._elements.wrapper.style.height="";var s=i._elements.wrapper.getBoundingClientRect();i._elements.wrapper.style.width=s.width+"px",i._elements.wrapper.style.height=s.height+"px",i._sized=!0}if(i.dynamicResize)for(var l=i._elements.wrapper.getElementsByTagName("img"),p=0;p<l.length;p++){var h=l[p];if(!h.complete){h.addEventListener("load",function(){i.positionElement(!0)});break}}setTimeout(function(){if(i._elements.wrapper){var g;switch(!e&&i._sized||!i._bbox?(g=i._elements.wrapper.getBoundingClientRect(),i._elements.wrapper.style.opacity=""):g=i._bbox,i.align){case"left":i._elements.wrapper.style.left="0",i._elements.wrapper.style.right="auto",i._elements.wrapper.style.marginLeft=i.toStyle(i._shift.x+i._tempShift.x);break;case"center":i._elements.wrapper.style.left="50%",i._elements.wrapper.style.right="auto",i._elements.wrapper.style.marginLeft=i.toStyle(Math.round(-g.width/2)+(i._shift.x+i._tempShift.x));break;case"right":i._elements.wrapper.style.left="auto",i._elements.wrapper.style.right="0",i._elements.wrapper.style.marginLeft=i.toStyle(i._shift.x+i._tempShift.x);break;default:i._elements.wrapper.style.left=i.toStyle(i.left)||"auto",i._elements.wrapper.style.right=i.toStyle(i.right)||"auto",i._elements.wrapper.style.marginLeft=i.toStyle(i._shift.x+i._tempShift.x)}switch(i.verticalAlign){case"top":i._elements.wrapper.style.top="0",i._elements.wrapper.style.bottom="auto",i._elements.wrapper.style.marginTop=i.toStyle(i._shift.y+i._tempShift.y);break;case"middle":i._elements.wrapper.style.top="50%",i._elements.wrapper.style.bottom="auto",i._elements.wrapper.style.marginTop=i.toStyle(Math.round(-g.height/2)+(i._shift.y+i._tempShift.y));break;case"bottom":i._elements.wrapper.style.top="auto",i._elements.wrapper.style.bottom="0",i._elements.wrapper.style.marginTop=i.toStyle(i._shift.y+i._tempShift.y);break;default:i._elements.wrapper.style.top=i.toStyle(i.top)||"auto",i._elements.wrapper.style.bottom=i.toStyle(i.bottom)||"auto",i._elements.wrapper.style.marginTop=i.toStyle(i._shift.y+i._tempShift.y)}}},1)}},1)},t.prototype.setupDragging=function(){var e=this;this.draggable?(this._IOs.header.events.has("drag")||this._IOs.header.events.on("drag",function(i){e._tempShift.x=i.shift.x,e._tempShift.y=i.shift.y,e.positionElement(!1)}),this._IOs.header.events.has("dragstop")||this._IOs.header.events.on("dragstop",function(i){e._shift.x+=e._tempShift.x,e._shift.y+=e._tempShift.y,e._tempShift.x=0,e._tempShift.y=0,e.positionElement(!1)})):this._IOs.header&&($e().unprepElement(this._IOs.header),this._IOs.header.events.has("drag")&&this._IOs.header.events.off("drag"),this._IOs.header.events.has("dragstop")&&this._IOs.header.events.off("dragstop"))},t.prototype.toStyle=function(e){return L(e)?M(e)?e+"px":e.toString():null},Object.defineProperty(t.prototype,"classPrefix",{get:function(){return this.adapter.apply("classPrefix",this._classPrefix)},set:function(e){this._classPrefix=e},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"classPrefixRaw",{get:function(){return this._classPrefix},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"content",{get:function(){return this.adapter.apply("content",this._content)},set:function(e){this._content!=e&&(this._content=e,this._elements.content||this.createContentElement(),this._elements.content.innerHTML=e,this.positionElement())},enumerable:!0,configurable:!0}),t.prototype.getClassNames=function(){return this.adapter.apply("classNames",{wrapperClass:this.classPrefix+"",headerClass:this.classPrefix+"-header",titleClass:this.classPrefix+"-title",contentClass:this.classPrefix+"-content",insideClass:this.classPrefix+"-inside",curtainClass:this.classPrefix+"-curtain",closeClass:this.classPrefix+"-close"})},t.prototype.createContentElement=function(){if(!this._elements.wrapper){var e=this.getClassNames(),i=document.createElement("div");i.className=e.contentClass,i.style.opacity="0.01";var s=document.createElement("a");s.className=e.closeClass;var l=document.createElement("div");l.className=e.headerClass;var p=document.createElement("div");p.innerHTML=this.title,p.className=e.titleClass,this.title||(p.style.display="none");var h=document.createElement("div");h.className=e.insideClass,h.innerHTML=this.content,this._IOs.wrapper=$e().getInteraction(i),this._IOs.header=$e().getInteraction(l),this._disposers.push(this._IOs.wrapper),this._IOs.wrapper.events.on("over",this.disablePointers,this),this._IOs.wrapper.events.on("out",this.releasePointers,this),this._IOs.close=$e().getInteraction(s),this._disposers.push(this._IOs.close),s.style.visibility="hidden",i.setAttribute("role","dialog"),l.appendChild(s),l.appendChild(p),i.appendChild(l),i.appendChild(h),this.container.appendChild(i),this._elements.wrapper=i,this._elements.header=l,this._elements.content=h,this._elements.title=p,this._elements.close=s,this.defaultStyles&&this.loadDefaultCSS(),this.createCurtainElement(),this.applyEvents(),this.applyReaderSettings(),this.setupDragging()}},Object.defineProperty(t.prototype,"title",{get:function(){return this.adapter.apply("title",this._title)},set:function(e){this._title!=e&&(this._title=e,this._elements.content||this.createContentElement(),this._elements.title.innerHTML=e,this.positionElement(),this.applyReaderSettings())},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"readerTitle",{get:function(){return this.adapter.apply("readerTitle",""!=this._readerTitle?this._readerTitle:this.title)},set:function(e){this._readerTitle!=e&&(this._readerTitle=e,this.applyReaderSettings())},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"closable",{get:function(){return this.adapter.apply("closable",this._closable)},set:function(e){e!==this._closable&&(this._closable=e,this.applyEvents())},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"fitTo",{get:function(){return this.adapter.apply("fitTo",this._fitTo)},set:function(e){e!=this._fitTo&&(this._fitTo=e,this.positionElement())},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"defaultStyles",{get:function(){return this.adapter.apply("defaultStyles",this._defaultStyles)},set:function(e){this._defaultStyles!=e&&(this._defaultStyles=e)},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"showCurtain",{get:function(){return this.adapter.apply("showCurtain",this._showCurtain)},set:function(e){this._showCurtain!=e&&(this._showCurtain=e,this._elements.curtain&&(this._elements.curtain.style.display=e?"block":"none"))},enumerable:!0,configurable:!0}),t.prototype.createCurtainElement=function(){var e=this.getClassNames(),i=document.createElement("div");i.className=e.curtainClass,this.container.appendChild(i),this._IOs.curtain=$e().getInteraction(i),this._disposers.push(this._IOs.curtain),this._IOs.curtain.events.on("over",this.disablePointers,this),this._IOs.curtain.events.on("out",this.releasePointers,this),i.style.display=this.showCurtain?"block":"none",this._elements.curtain=i},Object.defineProperty(t.prototype,"draggable",{get:function(){return this.adapter.apply("draggable",this._draggable)},set:function(e){this._draggable!=e&&(this._draggable=e,this.setupDragging())},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"dynamicResize",{get:function(){return this.adapter.apply("dynamicResize",this._dynamicResize)},set:function(e){this._dynamicResize!=e&&(this._dynamicResize=e,this.positionElement(!0))},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"align",{get:function(){return this.adapter.apply("align",this._align)},set:function(e){this._align!=e&&(this._align=e,this.positionElement())},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"verticalAlign",{get:function(){return this.adapter.apply("verticalAlign",this._verticalAlign)},set:function(e){this._verticalAlign!=e&&(this._verticalAlign=e,this.positionElement())},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"left",{get:function(){return this.adapter.apply("left",this._left)},set:function(e){this.left!=e&&(this._left=e,this._align="none",this.positionElement())},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"right",{get:function(){return this.adapter.apply("right",this._right)},set:function(e){this.right!=e&&(this._right=e,this._align="none",this.positionElement())},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"top",{get:function(){return this.adapter.apply("top",this._top)},set:function(e){this.top!=e&&(this._top=e,this._verticalAlign="none",this.positionElement())},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"bottom",{get:function(){return this.adapter.apply("bottom",this._bottom)},set:function(e){this.bottom!=e&&(this._bottom=e,this._verticalAlign="none",this.positionElement())},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"elements",{get:function(){return this._elements},enumerable:!0,configurable:!0}),t.prototype.loadDefaultCSS=function(){this._cssLoaded||(this._disposers.push(function(n,t){t||(t="ampopup");var e=new Rt,i=e.getFor("text"),s=e.getFor("background");s.alpha=.8;var l=e.getFor("alternativeBackground");return l.alpha=.05,BL.insertKeyIfEmpty(t,function(){var h=new mi([new Kt(n,"."+t,{overflow:"visible",position:"absolute",top:"0",left:"0","z-index":"2000"}),new Kt(n,"."+t+"-curtain",{width:"100%",height:"100%",position:"absolute",top:"0",left:"0","z-index":"2001","background-color":s.hex,opacity:"0.5"}),new Kt(n,"."+t+"-header",{display:"block",width:"100%","min-height":"1.8em",background:l.rgba}),new Kt(n,"."+t+"-title",{"font-weight":"bold","font-size":"110%",padding:"0.5em 1.2em 0.5em 1em"}),new Kt(n,"."+t+"-content",{background:s.hex,"background-color":s.rgba,color:i.hex,display:"inline-block",position:"absolute",top:"0",left:"0","max-width":"90%","max-height":"90%",overflow:"auto","z-index":"2002"}),new Kt(n,"."+t+"-inside",{padding:"1em"}),new Kt(n,"."+t+"-close",{display:"block",position:"absolute",top:"0.3em",right:"0.3em","background-color":"rgb(100, 100, 100)",background:"rgba(100, 100, 100, 0.1) url(data:image/svg+xml;charset=utf-8;base64,PHN2ZyBoZWlnaHQ9IjUxMiIgdmVyc2lvbj0iMSIgdmlld0JveD0iMCAwIDUxMiA1MTIiIHdpZHRoPSI1MTIiIHhtbG5zPSJodHRwOi8vd3d3LnczLm9yZy8yMDAwL3N2ZyI+PHBhdGggZD0iTTQ0NS4yIDEwOS4ybC00Mi40LTQyLjRMMjU2IDIxMy42IDEwOS4yIDY2LjhsLTQyLjQgNDIuNEwyMTMuNiAyNTYgNjYuOCA0MDIuOGw0Mi40IDQyLjRMMjU2IDI5OC40bDE0Ni44IDE0Ni44IDQyLjQtNDIuNEwyOTguNCAyNTYiLz48L3N2Zz4=) no-repeat center","background-size":"80%",width:"1.2em",height:"1.2em",cursor:"pointer"})]);return new w0(function(){BL.removeKey(t),h.dispose()})}).increment()}(TR(this.container),this.classPrefix)),We(this._elements,function(e,i){i.style.display=""}),this._cssLoaded=!0)},t.prototype.applyEvents=function(){var e=this;if(this._IOs.close)if(this.closable){this._IOs.close.element.style.visibility="visible";var i=[$e().body.events.on("keyup",function(s){il.isKey(s.event,"esc")&&e.closable&&e.close()}),this._IOs.close.events.on("hit",function(s){e.close()})];i.push(this._IOs.curtain.events.on("hit",function(s){e.showCurtain&&e.closable&&e.close()})),this._disposers.push(new mi(i))}else this._IOs.close.element.style.visibility="hidden"},t.prototype.disablePointers=function(){this.sprite&&(this._spriteInteractionsEnabled=this.sprite.interactionsEnabled,this.sprite.interactionsEnabled=!1)},t.prototype.releasePointers=function(){L(this._spriteInteractionsEnabled)&&(this.sprite.interactionsEnabled=this._spriteInteractionsEnabled,this._spriteInteractionsEnabled=void 0)},t.prototype.applyReaderSettings=function(){this.elements.wrapper.setAttribute("aria-label",this.readerTitle)},t.prototype.copyFrom=function(e){n.prototype.copyFrom.call(this,e),this.container=e.container,this.sprite=e.sprite,this.classPrefix=e.classPrefixRaw,this.content=e.content,this.title=e.title,this.readerTitle=e.readerTitle,this.defaultStyles=e.defaultStyles,this.showCurtain=e.showCurtain,this.align=e.align,this.verticalAlign=e.verticalAlign,this.left=e.left,this.right=e.right,this.top=e.top,this.bottom=e.bottom,this.adapter.copyFrom(e.adapter)},t}(tl),UL=function(n){function t(){var e=n.call(this)||this;return e.adapter=new To(e),e.className="Modal",e.showCurtain=!0,e.draggable=!1,e}return $(t,n),t}(WL);function NR(){for(var n=[],t=0;t<arguments.length;t++)n[t]=arguments[t];nt.suppressWarnings||console&&console.warn.apply(console,xf(n))}var cY=function(){function n(){var t=this;this._targets=[],this._observer=new ResizeObserver(function(e){be(e,function(i){be(t._targets,function(s){s.target===i.target&&s.callback()})})})}return n.prototype.addTarget=function(t,e){this._observer.observe(t,{box:"content-box"}),this._targets.push({target:t,callback:e})},n.prototype.removeTarget=function(t){this._observer.unobserve(t),nL(this._targets,function(e){return e.target!==t})},n}(),dY=function(){function n(){this._targets=[]}return n.prototype.addTarget=function(t,e){var i=this;if(0===this._targets.length){var s=null,l=function(){var h=Date.now();(null===s||h>s+n.delay)&&(s=h,be(i._targets,function(g){var v=g.target.getBoundingClientRect();(v.width!==g.size.width||v.height!==g.size.height)&&(g.size=v,g.callback())})),i._timer=requestAnimationFrame(l)};this._timer=requestAnimationFrame(l)}var p=t.getBoundingClientRect();this._targets.push({target:t,callback:e,size:p})},n.prototype.removeTarget=function(t){nL(this._targets,function(e){return e.target!==t}),0===this._targets.length&&cancelAnimationFrame(this._timer)},n.delay=200,n}(),U0=null,hY=function(){function n(t,e){this._disposed=!1,this._sensor=(null===U0&&(U0="undefined"!=typeof ResizeObserver?new cY:new dY),U0),this._element=t,this._sensor.addTarget(t,e)}return n.prototype.isDisposed=function(){return this._disposed},n.prototype.dispose=function(){this._disposed||(this._disposed=!0,this._sensor.removeTarget(this._element))},Object.defineProperty(n.prototype,"sensor",{get:function(){return this._sensor},enumerable:!0,configurable:!0}),n.prototype.reset=function(){NR("resizeSensor.reset() is no longer needed and can be removed")},n}(),LR=[],zL=function(){function n(t,e){var i=this;this._disposed=!1,this.autoResize=!0,this.nonExportableSprites=[],this._disposers=[],this.cssScale=1,this._printing=!1,this.htmlElement=t,e||(this._printing=!1,this.initSensor(),this._disposers.push(_i(window,"beforeprint",function(){i._printing=!0})),this._disposers.push(_i(window,"afterprint",function(){i._printing=!1}))),LR.push(this);var s=document.createElement("div"),l=s.style;l.width="100%",l.height="100%",l.position="relative",t.appendChild(s),this.SVGContainer=s}return n.prototype.initSensor=function(){var t=this;this.resizeSensor&&this.resizeSensor.dispose(),this.resizeSensor=new hY(this.htmlElement,function(){t.autoResize&&!t._printing&&t.measure()}),this._disposers.push(this.resizeSensor)},n.prototype.measure=function(){var t=function(n){var t=getComputedStyle(n),e=parseFloat(t.paddingLeft)+parseFloat(t.paddingRight),i=parseFloat(t.borderLeftWidth)+parseFloat(t.borderRightWidth);return n.clientWidth-e-i}(this.htmlElement),e=function(n){var t=getComputedStyle(n),e=parseFloat(t.paddingTop)+parseFloat(t.paddingBottom),i=parseFloat(t.borderTopWidth)+parseFloat(t.borderBottomWidth);return n.clientHeight-e-i}(this.htmlElement),i=this.container;i&&((this.width!=t||this.height!=e)&&(this.width=t,this.height=e,t>0&&(i.maxWidth=t),e>0&&(i.maxHeight=e),function(n){!function(n){ym.push(n),iR()}(function(){try{var t=n.getBoundingClientRect(),e=t.left-Math.round(t.left),i=t.top-Math.round(t.top);0!==e&&oL(function(){n.style.left=e+"px"}),0!==i&&oL(function(){n.style.top=i+"px"})}catch(s){}})}(this.SVGContainer)),i.maxWidth||(i.maxWidth=0),i.maxHeight||(i.maxHeight=0),this.cssScale=1,this.checkTransform(this.htmlElement))},Object.defineProperty(n.prototype,"container",{get:function(){return this._container},set:function(t){this._container=t,this.measure()},enumerable:!0,configurable:!0}),n.prototype.isDisposed=function(){return this._disposed},n.prototype.dispose=function(){this._disposed||Ue(LR,this),be(this._disposers,function(t){t.dispose()})},Object.defineProperty(n.prototype,"hideOverflow",{set:function(t){this.SVGContainer.style.overflow=t?"hidden":""},enumerable:!0,configurable:!0}),Object.defineProperty(n.prototype,"modal",{get:function(){return L(this._modal)||(this._modal=new UL,this._modal.container=this.SVGContainer,this._disposers.push(this._modal)),this._modal},enumerable:!0,configurable:!0}),n.prototype.openModal=function(t,e){this.closeModal();var i=this.modal;return i.content=t,i.readerTitle=e||"",i.title=e||"",i.open(),i},n.prototype.closeModal=function(){this._modal&&this.modal.close()},Object.defineProperty(n.prototype,"popups",{get:function(){if(!L(this._popups)){var t=new WL;t.container=this.SVGContainer,this._popups=new Ii(t),this._disposers.push(new Qt(this._popups)),this._disposers.push(this._popups.template)}return this._popups},enumerable:!0,configurable:!0}),n.prototype.openPopup=function(t,e){var i=this.popups.create();return i.content=t,L(e)&&(i.title=e),i.open(),i},n.prototype.closeAllPopups=function(){this.popups.each(function(t){t.close()})},Object.defineProperty(n.prototype,"readerAlertElement",{get:function(){if(!L(this._readerAlertElement)){var t=document.createElement("div");t.setAttribute("role","alert"),t.style.zIndex="-100000",t.style.opacity="0",t.style.position="absolute",t.style.top="0",this.SVGContainer.appendChild(t),this._readerAlertElement=t}return this._readerAlertElement},enumerable:!0,configurable:!0}),n.prototype.readerAlert=function(t){this.readerAlertElement.innerHTML=t},n.prototype.checkTransform=function(t){if(window.getComputedStyle){if(t&&t.style){var e=window.getComputedStyle(t,null);if(e){var i=e.getPropertyValue("-webkit-transform")||e.getPropertyValue("-moz-transform")||e.getPropertyValue("-ms-transform")||e.getPropertyValue("-o-transform")||e.getPropertyValue("transform");if(i&&"none"!==i){var s=i.split("(")[1].split(")")[0].split(","),l=Number(s[0]),p=Number(s[1]),h=Math.sqrt(l*l+p*p);isNaN(h)||(this.cssScale*=h)}}}t.parentNode&&t.parentNode instanceof HTMLElement&&this.checkTransform(t.parentNode)}},n}(),$L=function(){function n(t,e){this.container=t,this.id=e;var i=document.createElementNS(Ff,"svg");i.setAttribute("version","1.1"),i.setAttributeNS(LL,"xmlns",Ff),i.setAttributeNS(LL,"xmlns:xlink",xR),i.setAttribute("role","group"),this.container.appendChild(i),this.defs=document.createElementNS(Ff,"defs"),i.appendChild(this.defs),i.style.width="100%",i.style.height="100%",i.style.overflow="visible",this.svg=i}return n.prototype.add=function(t){return new j0(t)},n.prototype.addGroup=function(t){return new Q4(t)},n.prototype.append=function(t){t&&this.svg.appendChild(t.node)},n.prototype.appendDef=function(t){t&&this.defs.appendChild(t.node)},n.prototype.foreignObject=function(){return new j0("foreignObject")},n.prototype.supportsForeignObject=function(){return document.implementation.hasFeature("http://www.w3.org/TR/SVG11/feature#Extensibility","1.1")},n}(),VR=null;function Pm(){if(null===VR){var n=document.createElement("div");n.hidden=!0,n.style.width="1px",n.style.height="1px",n.style.position="absolute",n.style.zIndex="-1000000",document.body.appendChild(n);var t=new zL(n,!0);VR=new $L(t.SVGContainer,"ghost")}return VR}var Lf=function(n){function t(){var e=n.call(this)||this;e._elements=new Dt,e.properties={},e.className="Pattern",e.width=10,e.height=10,e.x=0,e.y=0,e.patternUnits="userSpaceOnUse";var i=new Rt;return e.backgroundFill=i.getFor("background"),e.backgroundOpacity=0,e.fillOpacity=1,e.fill=i.getFor("alternativeBackground"),e.stroke=i.getFor("alternativeBackground"),e.strokeOpacity=1,e.strokeWidth=1,e.shapeRendering="crispEdges",e.rotation=0,e.element=e.paper.addGroup("pattern"),e.id="pattern-"+G.getUniqueId(),e.element.attr({id:e.id}),e._disposers.push(e.element),e._disposers.push(new Qt(e._elements)),e.patternUnits=e.patternUnits,e.width=e.width,e.height=e.height,e.applyTheme(),e}return $(t,n),t.prototype.draw=function(){var e=this,i=this.element;if(i){i.removeChildNodes();var s=this.paper.add("rect");s.attr({width:this.width,height:this.height,"shape-rendering":"crispEdges",fill:this.backgroundFill.hex,"fill-opacity":this.backgroundOpacity,stroke:this.backgroundFill.hex,"stroke-opacity":0}),i.add(s),i.attr({x:this.x,y:this.y,width:this.width,height:this.height,stroke:this.stroke.hex,fill:this.fill.hex,"fill-opacity":this.fillOpacity,"stroke-opacity":this.strokeOpacity,"stroke-width":this.strokeWidth,"shape-rendering":this.shapeRendering,patternUnits:this.patternUnits,"stroke-dasharray":this.strokeDasharray}),oe(this._elements.iterator(),function(l){l.rotation=e.rotation,l.rotationX=e.properties.rotationX,l.rotationY=e.properties.rotationY,e.element.add(l)})}},t.prototype.animate=function(e,i,s){return new ua(this,e,i,s).start()},t.prototype.addElement=function(e){this._elements.push(e),this._disposers.push(e)},t.prototype.removeElement=function(e){this._elements.removeValue(e),this.removeDispose(e)},Object.defineProperty(t.prototype,"elements",{get:function(){return this._elements},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"fillOpacity",{get:function(){return this.properties.fillOpacity},set:function(e){this.properties.fillOpacity=e,this.draw()},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"fill",{get:function(){return this.properties.fill},set:function(e){this.properties.fill=e,this.draw()},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"backgroundFill",{get:function(){return this.properties.backgroundFill},set:function(e){this.properties.backgroundFill=e,this.draw()},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"backgroundOpacity",{get:function(){return this.properties.backgroundOpacity},set:function(e){this.properties.backgroundOpacity=e,this.draw()},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"stroke",{get:function(){return this.properties.stroke},set:function(e){this.properties.stroke=e,this.draw()},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"strokeOpacity",{get:function(){return this.properties.strokeOpacity},set:function(e){this.properties.strokeOpacity=e,this.draw()},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"strokeWidth",{get:function(){return this.properties.strokeWidth},set:function(e){this.properties.strokeWidth=e,this.draw()},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"shapeRendering",{get:function(){return this.properties.shapeRendering},set:function(e){this.properties.shapeRendering=e,this.draw()},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"rotation",{get:function(){return this.properties.rotation},set:function(e){this.properties.rotation=e,this.draw()},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"patternUnits",{get:function(){return this.properties.patternUnits},set:function(e){this.properties.patternUnits=e,this.draw()},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"width",{get:function(){return this.properties.width},set:function(e){this.properties.width=e,this.draw()},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"height",{get:function(){return this.properties.height},set:function(e){this.properties.height=e,this.draw()},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"x",{get:function(){return this.properties.x},set:function(e){this.properties.x=e,this.draw()},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"y",{get:function(){return this.properties.y},set:function(e){this.properties.y=e,this.draw()},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"paper",{get:function(){return this._paper?this._paper:Pm()},set:function(e){this._paper!=e&&(this._paper=e,this.draw(),e.appendDef(this.element))},enumerable:!0,configurable:!0}),t.prototype.copyFrom=function(e){var i=this;n.prototype.copyFrom.call(this,e),We(e.properties,function(s,l){i[s]=l})},Object.defineProperty(t.prototype,"animations",{get:function(){return this._animations||(this._animations=[],this._disposers.push(new Mf(this._animations))),this._animations},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"strokeDasharray",{get:function(){return this.properties.strokeDashArray},set:function(e){this.properties.strokeDashArray=e,this.draw()},enumerable:!0,configurable:!0}),t.prototype.processConfig=function(e){if(e&&L(e.elements)&&hn(e.elements))for(var i=0,s=e.elements.length;i<s;i++){var l=e.elements[i];if(L(l.type)){var p=this.createEntryInstance(l);p instanceof Ar&&(p.config=l),this.addElement(L(l.typeProperty)?p[l.typeProperty]:p.element)}}n.prototype.processConfig.call(this,e)},t}(Ar);G.registeredClasses.Pattern=Lf;var Ms=function(n){function t(){var e=n.call(this)||this;return e._stops=new Dt,e._rotation=0,e.className="LinearGradient",e._stops.events.on("setIndex",e.validate,e),e._stops.events.on("inserted",e.validate,e),e.element=e.paper.addGroup("linearGradient"),e.id="gradient-"+G.getUniqueId(),e.element.attr({id:e.id}),e._disposers.push(e.element),e.applyTheme(),e}return $(t,n),t.prototype.validate=function(){var e=this,i=(this._rotation+90)*y0,s=Math.round(50+50*Math.sin(i+Math.PI))+"%",l=Math.round(50+50*Math.cos(i))+"%",p=Math.round(50+50*Math.sin(i))+"%",h=Math.round(50+50*Math.cos(i+Math.PI))+"%",g=this.element;g.removeChildNodes(),g.attr({x1:s,x2:p,y1:l,y2:h}),oe(Ud(this._stops.iterator()),function(v){var m=v[0],_=v[1],b=_.offset;M(b)||(b=m/(e._stops.length-1));var C=e.paper.add("stop");L(_.color)&&C.attr({"stop-color":_.color.toString()}),M(_.opacity)&&C.attr({"stop-opacity":_.opacity}),M(b)&&C.attr({offset:b}),g.add(C)})},t.prototype.clear=function(){this._stops.clear()},t.prototype.addColor=function(e,i,s){this._stops.push({color:e,opacity:i,offset:s})},Object.defineProperty(t.prototype,"stops",{get:function(){return this._stops},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"paper",{get:function(){return this._paper?this._paper:Pm()},set:function(e){this._paper!=e&&(this._paper=e,this.validate(),e.appendDef(this.element))},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"rotation",{get:function(){return this._rotation},set:function(e){this._rotation=e,this.validate()},enumerable:!0,configurable:!0}),t.prototype.copyFrom=function(e){n.prototype.copyFrom.call(this,e),this.stops.copyFrom(e.stops),this._rotation=e.rotation},Object.defineProperty(t.prototype,"gradientUnits",{set:function(e){this.element.attr({gradientUnits:e})},enumerable:!0,configurable:!0}),t}(Ar);G.registeredClasses.LinearGradient=Ms;var ac=function(n){function t(){var e=n.call(this)||this;return e._stops=new Dt,e.element=e.paper.addGroup("radialGradient"),e.id="gradient-"+G.getUniqueId(),e.element.attr({id:e.id}),e._disposers.push(e.element),e.applyTheme(),e}return $(t,n),t.prototype.draw=function(){var s,e=this,i=this.element;M(this.cx)&&((s=this.cx)instanceof ft&&(s=s.percent+"%"),i.attr({cx:s})),M(this.cy)&&((s=this.cy)instanceof ft&&(s=s.percent+"%"),i.attr({cy:s})),this.fx&&((s=this.fx)instanceof ft&&(s=s.percent+"%"),i.attr({fx:s})),this.fy&&((s=this.fy)instanceof ft&&(s=s.percent+"%"),i.attr({fy:s})),i.removeChildNodes(),oe(Ud(this._stops.iterator()),function(l){var p=l[0],h=l[1],g=h.offset;M(g)||(g=p/(e._stops.length-1));var v=e.paper.add("stop");L(h.color)&&v.attr({"stop-color":h.color.toString()}),M(h.opacity)&&v.attr({"stop-opacity":h.opacity}),M(g)&&v.attr({offset:g}),i.add(v)})},t.prototype.addColor=function(e,i,s){this._stops.push({color:e,opacity:i,offset:s}),this.draw()},Object.defineProperty(t.prototype,"paper",{get:function(){return this._paper?this._paper:Pm()},set:function(e){this._paper!=e&&(this._paper=e,this.draw(),e.appendDef(this.element))},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"cx",{get:function(){return this._cx},set:function(e){this._cx=e,this.draw()},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"cy",{get:function(){return this._cy},set:function(e){this._cy=e,this.draw()},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"fx",{get:function(){return this._fx},set:function(e){this._fx=e,this.draw()},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"fy",{get:function(){return this._fy},set:function(e){this._fy=e,this.draw()},enumerable:!0,configurable:!0}),t.prototype.copyFrom=function(e){n.prototype.copyFrom.call(this,e),this.stops.copyFrom(e.stops),this.cx=e.cx,this.cy=e.cy,this.fx=e.fx,this.fy=e.fy},Object.defineProperty(t.prototype,"stops",{get:function(){return this._stops},enumerable:!0,configurable:!0}),t.prototype.clear=function(){this._stops.clear()},t}(Ar);G.registeredClasses.RadialGradient=ac;var jn=function(){function n(){}return n.grab=[{property:"cursor",value:"move"},{property:"cursor",value:"grab"},{property:"cursor",value:"-webkit-grab"}],n.grabbing=[{property:"cursor",value:"move"},{property:"cursor",value:"grabbing"},{property:"cursor",value:"-webkit-grabbing"}],n.pointer=[{property:"cursor",value:"pointer"}],n.default=[{property:"cursor",value:"default"}],n.horizontalResize=[{property:"cursor",value:"ew-resize"}],n.verticalResize=[{property:"cursor",value:"ns-resize"}],n.notAllowed=[{property:"cursor",value:"not-allowed"}],n.text=[{property:"cursor",value:"text"}],n}();const YL={_decimalSeparator:".",_thousandSeparator:",",_big_number_suffix_3:"k",_big_number_suffix_6:"M",_big_number_suffix_9:"G",_big_number_suffix_12:"T",_big_number_suffix_15:"P",_big_number_suffix_18:"E",_big_number_suffix_21:"Z",_big_number_suffix_24:"Y",_small_number_suffix_3:"m",_small_number_suffix_6:"\u03bc",_small_number_suffix_9:"n",_small_number_suffix_12:"p",_small_number_suffix_15:"f",_small_number_suffix_18:"a",_small_number_suffix_21:"z",_small_number_suffix_24:"y",_byte_suffix_B:"B",_byte_suffix_KB:"KB",_byte_suffix_MB:"MB",_byte_suffix_GB:"GB",_byte_suffix_TB:"TB",_byte_suffix_PB:"PB",_date:"yyyy-MM-dd",_date_millisecond:"mm:ss SSS",_date_second:"HH:mm:ss",_date_minute:"HH:mm",_date_hour:"HH:mm",_date_day:"MMM dd",_date_week:"ww",_date_month:"MMM",_date_year:"yyyy",_duration_millisecond:"SSS",_duration_millisecond_second:"ss.SSS",_duration_millisecond_minute:"mm:ss SSS",_duration_millisecond_hour:"hh:mm:ss SSS",_duration_millisecond_day:"d'd' mm:ss SSS",_duration_millisecond_week:"d'd' mm:ss SSS",_duration_millisecond_month:"M'm' dd'd' mm:ss SSS",_duration_millisecond_year:"y'y' MM'm' dd'd' mm:ss SSS",_duration_second:"ss",_duration_second_minute:"mm:ss",_duration_second_hour:"hh:mm:ss",_duration_second_day:"d'd' hh:mm:ss",_duration_second_week:"d'd' hh:mm:ss",_duration_second_month:"M'm' dd'd' hh:mm:ss",_duration_second_year:"y'y' MM'm' dd'd' hh:mm:ss",_duration_minute:"mm",_duration_minute_hour:"hh:mm",_duration_minute_day:"d'd' hh:mm",_duration_minute_week:"d'd' hh:mm",_duration_minute_month:"M'm' dd'd' hh:mm",_duration_minute_year:"y'y' MM'm' dd'd' hh:mm",_duration_hour:"hh'h'",_duration_hour_day:"d'd' hh'h'",_duration_hour_week:"d'd' hh'h'",_duration_hour_month:"M'm' dd'd' hh'h'",_duration_hour_year:"y'y' MM'm' dd'd' hh'h'",_duration_day:"d'd'",_duration_day_week:"d'd'",_duration_day_month:"M'm' dd'd'",_duration_day_year:"y'y' MM'm' dd'd'",_duration_week:"w'w'",_duration_week_month:"w'w'",_duration_week_year:"w'w'",_duration_month:"M'm'",_duration_month_year:"y'y' MM'm'",_duration_year:"y'y'",_era_ad:"AD",_era_bc:"BC",A:"",P:"",AM:"",PM:"","A.M.":"","P.M.":"",January:"",February:"",March:"",April:"",May:"",June:"",July:"",August:"",September:"",October:"",November:"",December:"",Jan:"",Feb:"",Mar:"",Apr:"","May(short)":"May",Jun:"",Jul:"",Aug:"",Sep:"",Oct:"",Nov:"",Dec:"",Sunday:"",Monday:"",Tuesday:"",Wednesday:"",Thursday:"",Friday:"",Saturday:"",Sun:"",Mon:"",Tue:"",Wed:"",Thu:"",Fri:"",Sat:"",_dateOrd:function(n){var t="th";if(n<11||n>13)switch(n%10){case 1:t="st";break;case 2:t="nd";break;case 3:t="rd"}return t},"Zoom Out":"",Play:"",Stop:"",Legend:"","Click, tap or press ENTER to toggle":"",Loading:"",Home:"",Chart:"","Serial chart":"","X/Y chart":"","Pie chart":"","Gauge chart":"","Radar chart":"","Sankey diagram":"","Flow diagram":"","Chord diagram":"","TreeMap chart":"","Force directed tree":"","Sliced chart":"",Series:"","Candlestick Series":"","OHLC Series":"","Column Series":"","Line Series":"","Pie Slice Series":"","Funnel Series":"","Pyramid Series":"","X/Y Series":"",Map:"","Press ENTER to zoom in":"","Press ENTER to zoom out":"","Use arrow keys to zoom in and out":"","Use plus and minus keys on your keyboard to zoom in and out":"",Export:"",Image:"",Data:"",Print:"","Press ENTER or use arrow keys to navigate":"","Click, tap or press ENTER to open":"","Click, tap or press ENTER to print.":"","Click, tap or press ENTER to export as %1.":"",'To save the image, right-click this link and choose "Save picture as..."':"",'To save the image, right-click thumbnail on the left and choose "Save picture as..."':"","(Press ESC to close this message)":"","Image Export Complete":"","Export operation took longer than expected. Something might have gone wrong.":"","Saved from":"",PNG:"",JPG:"",GIF:"",SVG:"",PDF:"",JSON:"",CSV:"",XLSX:"","Use TAB to select grip buttons or left and right arrows to change selection":"","Use left and right arrows to move selection":"","Use left and right arrows to move left selection":"","Use left and right arrows to move right selection":"","Use TAB select grip buttons or up and down arrows to change selection":"","Use up and down arrows to move selection":"","Use up and down arrows to move lower selection":"","Use up and down arrows to move upper selection":"","From %1 to %2":"","From %1":"","To %1":"","No parser available for file: %1":"","Error parsing file: %1":"","Unable to load file: %1":"","Invalid date":"",Close:"",Minimize:""};var kR,lc=function(n){function t(){var e=n.call(this)||this;return e.adapter=new To(e),e._locale=YL,e._defaultLocale=YL,e.className="Language",L(nt.defaultLocale)&&(e.locale=nt.defaultLocale),e.applyTheme(),e}return $(t,n),t.prototype.getLocale=function(e){return null==e&&(e=this._locale),this.adapter.apply("locale",{locale:e}).locale},t.prototype.translate=function(e,i){for(var s=[],l=2;l<arguments.length;l++)s[l-2]=arguments[l];i=this.getLocale(i);var p=e,h=this.getTranslations(i),g=h[e];if(null===g)g="";else if(L(g))g&&(p=g);else if(i!==this._defaultLocale)return this.translate.apply(this,xf([e,this._defaultLocale],s));if(s.length)for(var v=s.length,m=0;m<v;++m)p=p.split("%"+(m+1)).join(s[m]);return this.adapter.apply("translate",{translation:p,locale:i}).translation},t.prototype.translateAny=function(e,i){for(var s=[],l=2;l<arguments.length;l++)s[l-2]=arguments[l];return this.translate.apply(this,xf([e,i],s))},t.prototype.setTranslationAny=function(e,i,s){(s||this.locale)[e]=i},t.prototype.translateEmpty=function(e,i){for(var s=[],l=2;l<arguments.length;l++)s[l-2]=arguments[l];var p=this.translate.apply(this,xf([e,i],s));return p==e?"":p},t.prototype.translateFunc=function(e,i){i=this.getLocale(i);var l=this.getTranslations(i)[e];return null!=l?l:i!==this._defaultLocale?this.translateFunc(e,this._defaultLocale):function(){return""}},t.prototype.translateAll=function(e,i){var s=this;return this.isDefault()?e:fm(e,function(l){return s.translate(l,i)})},t.prototype.isDefault=function(){return this._defaultLocale===this._locale},Object.defineProperty(t.prototype,"locale",{get:function(){return this._locale},set:function(e){this._locale!=e&&(this._locale=e,this.events.isEnabled("localechanged"))&&this.events.dispatchImmediately("localechanged",{type:"localechanged",locale:e,target:this})},enumerable:!0,configurable:!0}),t.prototype.getTranslations=function(e){return this.adapter.apply("translations",{translations:e,locale:e}).translations},t}(tl),KL=function(n){function t(){var e=n.call(this)||this;return e.adapter=new To(e),e.className="TextFormatter",e.applyTheme(),e}return $(t,n),t.prototype.debug=function(){},t.prototype.format=function(e,i){L(i)||(i="svg");var s="",l=(e=this.escape(e)).match(/\[([^\]]*?)\]/gm);if(!l)return this.wrap(e,"",i);for(var p=e.split(/\[[^\[\]]*\]/),h=0,g=p.length;h<g;h++){var v=p[h];if(""!==v){v=this.adapter.apply("chunk",v);var m="";h>0&&(m=l[h-1].replace("[","").replace("]","")),s+=this.wrap(v,m,i)}}return s=this.unescape(s),this.cleanUp(s)},t.prototype.escape=function(e){return e.replace(/\[\[/g,G.getPlaceholder("1")).replace(/([^\/]{1})\]\]/g,"$1"+G.getPlaceholder("2")).replace(/\]\]/g,G.getPlaceholder("2")).replace(/\{\{/g,G.getPlaceholder("3")).replace(/\}\}/g,G.getPlaceholder("4")).replace(/\'\'/g,G.getPlaceholder("5"))},t.prototype.unescape=function(e){return e.replace(new RegExp(G.getPlaceholder("1"),"g"),"[[").replace(new RegExp(G.getPlaceholder("2"),"g"),"]]").replace(new RegExp(G.getPlaceholder("3"),"g"),"{{").replace(new RegExp(G.getPlaceholder("4"),"g"),"}}").replace(new RegExp(G.getPlaceholder("5"),"g"),"'")},t.prototype.cleanUp=function(e){return e.replace(/\[\[/g,"[").replace(/\]\]/g,"]").replace(/\{\{/g,"{").replace(/\}\}/g,"}").replace(/\'\'/g,"'")},t.prototype.wrap=function(e,i,s){switch((""===i||"/"===i)&&(i=""),s){case"html":return this.wrapHtml(e,this.translateStyleShortcuts(i));default:return this.wrapSvg(e,this.translateStyleShortcuts(i))}},t.prototype.wrapSvg=function(e,i){return""===i?"<tspan>"+e+"</tspan>":"<tspan style='"+i+"'>"+e+"</tspan>"},t.prototype.getSvgElement=function(e,i){var s=new j0("tspan");return s.textContent=e,i&&s.node.setAttribute("style",i),s},t.prototype.wrapHtml=function(e,i){return""===i?"<span>"+e+"</span>":"<span style='"+this.styleSvgToHtml(i)+"'>"+e+"</span>"},t.prototype.getHtmlElement=function(e,i){var s=document.createElement("span");return s.innerHTML=e,i&&s.setAttribute("style",i),s},t.prototype.styleSvgToHtml=function(e){return e.replace(/fill:/,"color:")},t.prototype.translateStyleShortcuts=function(e){if(""==e||"[ ]"==e)return"";var i=G.getCache("translateStyleShortcuts_"+e);if(i)return i;var s=e.match(/('[^']*')|("[^"]*")/gi);if(s)for(var l=0;l<s.length;l++)e=e.replace(s[l],s[l].replace(/['"]*/g,"").replace(/[ ]+/g,"+"));var p=e.match(/([\w\-]*:[\s]?[^;\s\]]*)|(\#[\w]{1,6})|([\w]+)|(\/)/gi);if(!p)return e;for(l=0;l<p.length;l++)p[l]=p[l].match(/^bold$/i)?"font-weight:"+p[l]:"/"==p[l]?"":p[l].match(/:/)?p[l].replace(/\+/g," "):"fill:"+p[l];var h=p.join(";");return G.setCache("translateStyleShortcuts_"+e,h),h},t.prototype.chunk=function(e,i,s){void 0===i&&(i=!1),void 0===s&&(s=!1);var l=[];e=this.escape(e);for(var p=i?e.split("'"):[e],h=0;h<p.length;h++){var g=p[h];if(""!==g)if(h%2==0)for(var v=(g=(g=g.replace(/\]\[/g,"]"+$o+"[")).replace(/\[\]/g,"[ ]")).split(/[\[\]]+/),m=0;m<v.length;m++)(_=this.cleanUp(this.unescape(v[m])))!==$o&&""!==_&&l.push(m%2==0?{type:"value",text:this.adapter.apply("chunk",_)}:{type:s?"value":"format",text:"["+_+"]"});else for(v=g.split(/[\[\]]+/),m=0;m<v.length;m++){var _;""!==(_=this.cleanUp(this.unescape(v[m])))&&(m%2==0?l.push({type:"text",text:_}):this.isImage(_)?l.push({type:"image",text:"["+_+"]"}):l.push({type:"format",text:"["+_+"]"}))}}return l},t.prototype.isImage=function(e){return!!e.match(/img[ ]?:/)},t}(Ar);function jl(){return null==kR&&(kR=new KL),kR}G.registeredClasses.TextFormatter=KL;var GR=function(n){function t(){var e=n.call(this)||this;return e._negativeBase=0,e._numberFormat="#,###.#####",e._outputFormat="svg",e._smallNumberThreshold=1,e._forceLTR=!1,e.className="NumberFormatter",e.applyTheme(),e}return $(t,n),t.prototype.dispose=function(){n.prototype.dispose.call(this),this.language&&this.language.dispose()},Object.defineProperty(t.prototype,"language",{get:function(){return this._language||(this._language=this.sprite?this.sprite.language:new lc),this._language},set:function(e){this._language=e},enumerable:!0,configurable:!0}),t.prototype.format=function(e,i,s){(void 0===i||gt(i)&&"number"===i.toLowerCase())&&(i=this._numberFormat);var l,p=Number(e);if(li(i))try{return this.intlLocales?new Intl.NumberFormat(this.intlLocales,i).format(p):new Intl.NumberFormat(void 0,i).format(p)}catch(v){return"Invalid"}else{i=I0(i);var h=this.parseFormat(i,this.language),g=void 0;g=p>this._negativeBase?h.positive:p<this._negativeBase?h.negative:h.zero,L(s)&&!g.mod&&((g=function(n){return JSON.parse(JSON.stringify(n))}(g)).decimals.active=0==p?0:s),l=g.template.split($o).join(this.applyFormat(p,g))}return this.forceLTR&&(l="\u200e"+l),l},t.prototype.parseFormat=function(e,i){var s=this,l=this.getCache(e);if(L(l))return l;var p={positive:{thousands:{active:-1,passive:-1,interval:-1,separator:i.translateEmpty("_thousandSeparator")},decimals:{active:-1,passive:-1,separator:i.translateEmpty("_decimalSeparator")},template:"",source:"",parsed:!1},negative:{thousands:{active:-1,passive:-1,interval:-1,separator:i.translateEmpty("_thousandSeparator")},decimals:{active:-1,passive:-1,separator:i.translateEmpty("_decimalSeparator")},template:"",source:"",parsed:!1},zero:{thousands:{active:-1,passive:-1,interval:-1,separator:i.translateEmpty("_thousandSeparator")},decimals:{active:-1,passive:-1,separator:i.translateEmpty("_decimalSeparator")},template:"",source:"",parsed:!1}},h=(e=e.replace("||",Af)).split("|");return p.positive.source=h[0],void 0===h[2]?p.zero=p.positive:p.zero.source=h[2],void 0===h[1]?p.negative=p.positive:p.negative.source=h[1],We(p,function(g,v){if(!v.parsed){if(void 0!==s.getCache(v.source))return void(p[g]=s.getCache(v.source));var m=v.source;"number"===m.toLowerCase()&&(m=gt(s._numberFormat)?s._numberFormat:"#,###.#####");for(var _=jl().chunk(m,!0),b=0;b<_.length;b++){var C=_[b];if(C.text=C.text.replace(Af,"|"),"value"===C.type){var S=C.text.match(/[#0.,]+[ ]?[abesABES%!]?[abesABES\u2030!]?/);if(S)if(null===S||""===S[0])v.template+=C.text;else{var E=S[0].match(/[abesABES%\u2030!]{2}|[abesABES%\u2030]{1}$/);E&&(v.mod=E[0].toLowerCase(),v.modSpacing=!!S[0].match(/[ ]{1}[abesABES%\u2030!]{1}$/));var x=S[0].split(".");if(""!==x[0]){v.thousands.active=(x[0].match(/0/g)||[]).length,v.thousands.passive=(x[0].match(/\#/g)||[]).length+v.thousands.active;var R=x[0].split(",");1===R.length||(v.thousands.interval=hi(R.pop()).length,0===v.thousands.interval&&(v.thousands.interval=-1))}void 0===x[1]||(v.decimals.active=(x[1].match(/0/g)||[]).length,v.decimals.passive=(x[1].match(/\#/g)||[]).length+v.decimals.active),v.template+=C.text.split(S[0]).join($o)}}else v.template+=C.text}s.setCache(v.source,v),v.parsed=!0}}),this.setCache(e,p),p},t.prototype.applyFormat=function(e,i){var s=e<0;e=Math.abs(e);var l="",p="",h=i.mod?i.mod.split(""):[];if(-1!==h.indexOf("b")){var g=this.applyPrefix(e,this.bytePrefixes,-1!==h.indexOf("!"));e=g[0],l=g[1],p=g[2],i.modSpacing&&(p=" "+p)}else if(-1!==h.indexOf("a")){var v=this.applyPrefix(e,e<this.smallNumberThreshold?this.smallNumberPrefixes:this.bigNumberPrefixes,-1!==h.indexOf("!"));e=v[0],l=v[1],p=v[2],i.modSpacing&&(p=" "+p)}else if(-1!==h.indexOf("%")){var m=vt(e.toString().length+2,21);e*=100,e=parseFloat(e.toPrecision(m)),p="%"}else-1!==h.indexOf("\u2030")&&(m=vt(e.toString().length+3,21),e*=1e3,e=parseFloat(e.toPrecision(m)),p="\u2030");if(-1!==h.indexOf("e")){var _;_=i.decimals.passive>=0?e.toExponential(i.decimals.passive).split("e"):e.toExponential().split("e"),e=Number(_[0]),p="e"+_[1],i.modSpacing&&(p=" "+p)}else if(0===i.decimals.passive)e=Math.round(e);else if(i.decimals.passive>0){var b=Math.pow(10,i.decimals.passive);e=Math.round(e*b)/b}var C="",S=function(n){if(Mn(n))return"NaN";if(n===1/0)return"Infinity";if(n===-1/0)return"-Infinity";if(0===n&&1/n==-1/0)return"-0";var t=n<0;n=Math.abs(n);var l,e=hi(/^([0-9]+)(?:\.([0-9]+))?(?:e[\+\-]([0-9]+))?$/.exec(""+n)),i=e[1],s=e[2]||"";if(null==e[3])l=""===s?i:i+"."+s;else{var h,p=+e[3];l=n<1?"0."+dL("0",h=p-1)+i+s:0==(h=p-s.length)?i+s:h<0?i+s.slice(0,h)+"."+s.slice(h):i+s+dL("0",h)}return t?"-"+l:l}(e).split("."),E=S[0];if(E.length<i.thousands.active&&(E=Array(i.thousands.active-E.length+1).join("0")+E),i.thousands.interval>0){for(var x=[],R=E.split("").reverse().join(""),P=0,k=E.length;P<=k;P+=i.thousands.interval){var U=R.substr(P,i.thousands.interval).split("").reverse().join("");""!==U&&x.unshift(U)}E=x.join(i.thousands.separator)}C+=E,1===S.length&&S.push("");var W=S[1];return W.length<i.decimals.active&&(W+=Array(i.decimals.active-W.length+1).join("0")),""!==W&&(C+=i.decimals.separator+W),""===C&&(C="0"),0!==e&&s&&-1===h.indexOf("s")&&(C="-"+C),l&&(C=l+C),p&&(C+=p),C},t.prototype.applyPrefix=function(e,i,s){void 0===s&&(s=!1);for(var l=e,p="",h="",g=!1,v=1,m=0,_=i.length;m<_;m++)i[m].number<=e&&(0===i[m].number?l=0:(l=e/i[m].number,v=i[m].number),p=i[m].prefix,h=i[m].suffix,g=!0);return!g&&s&&i.length&&0!=e&&(l=e/i[0].number,p=i[0].prefix,h=i[0].suffix,g=!0),g&&(l=parseFloat(l.toPrecision(vt(v.toString().length+Math.floor(l).toString().replace(/[^0-9]*/g,"").length,21)))),[l,p,h]},t.prototype.invalidateSprite=function(){this.sprite&&this.sprite.invalidate()},Object.defineProperty(t.prototype,"numberFormat",{get:function(){return this._numberFormat},set:function(e){this._numberFormat=e},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"intlLocales",{get:function(){return this._intlLocales},set:function(e){this._intlLocales=e,this.invalidateSprite()},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"negativeBase",{get:function(){return this._negativeBase},set:function(e){this._negativeBase=e},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"bigNumberPrefixes",{get:function(){return L(this._bigNumberPrefixes)||(this._bigNumberPrefixes=[{number:1e3,suffix:this.language.translate("_big_number_suffix_3")},{number:1e6,suffix:this.language.translate("_big_number_suffix_6")},{number:1e9,suffix:this.language.translate("_big_number_suffix_9")},{number:1e12,suffix:this.language.translate("_big_number_suffix_12")},{number:1e15,suffix:this.language.translate("_big_number_suffix_15")},{number:1e18,suffix:this.language.translate("_big_number_suffix_18")},{number:1e21,suffix:this.language.translate("_big_number_suffix_21")},{number:1e24,suffix:this.language.translate("_big_number_suffix_24")}]),this._bigNumberPrefixes},set:function(e){this._bigNumberPrefixes=e},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"smallNumberPrefixes",{get:function(){return L(this._smallNumberPrefixes)||(this._smallNumberPrefixes=[{number:1e-24,suffix:this.language.translate("_small_number_suffix_24")},{number:1e-21,suffix:this.language.translate("_small_number_suffix_21")},{number:1e-18,suffix:this.language.translate("_small_number_suffix_18")},{number:1e-15,suffix:this.language.translate("_small_number_suffix_15")},{number:1e-12,suffix:this.language.translate("_small_number_suffix_12")},{number:1e-9,suffix:this.language.translate("_small_number_suffix_9")},{number:1e-6,suffix:this.language.translate("_small_number_suffix_6")},{number:.001,suffix:this.language.translate("_small_number_suffix_3")}]),this._smallNumberPrefixes},set:function(e){this._smallNumberPrefixes=e},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"smallNumberThreshold",{get:function(){return this._smallNumberThreshold},set:function(e){this._smallNumberThreshold=e},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"bytePrefixes",{get:function(){return L(this._bytePrefixes)||(this._bytePrefixes=[{number:1,suffix:this.language.translate("_byte_suffix_B")},{number:1024,suffix:this.language.translate("_byte_suffix_KB")},{number:1048576,suffix:this.language.translate("_byte_suffix_MB")},{number:1073741824,suffix:this.language.translate("_byte_suffix_GB")},{number:1099511627776,suffix:this.language.translate("_byte_suffix_TB")},{number:0x4000000000000,suffix:this.language.translate("_byte_suffix_PB")}]),this._bytePrefixes},set:function(e){this._bytePrefixes=e},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"outputFormat",{get:function(){return this._outputFormat},set:function(e){this._outputFormat=e.toLowerCase(),this.invalidateSprite()},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"forceLTR",{get:function(){return this._forceLTR},set:function(e){this._forceLTR=e,this.invalidateSprite()},enumerable:!0,configurable:!0}),t.prototype.escape=function(e){return e.replace("||",Af)},t.prototype.unescape=function(e){return e.replace(Af,"|")},t}(Ar);G.registeredClasses.NumberFormatter=GR;var Rm=function(n){function t(){var e=n.call(this)||this;return e._dateFormat="yyyy-MM-dd",e._inputDateFormat="yyyy-MM-dd",e._utc=!1,e.timezoneMinutes=0,e._firstDayOfWeek=1,e.months=["January","February","March","April","May","June","July","August","September","October","November","December"],e.monthsShort=["Jan","Feb","Mar","Apr","May(short)","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],e.weekdays=["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],e.weekdaysShort=["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],e._outputFormat="svg",e.capitalize=!0,e.className="DateFormatter",e.applyTheme(),e}return $(t,n),Object.defineProperty(t.prototype,"language",{get:function(){return this._language},set:function(e){this._language=e,this.dateFormat=this._language.translate("_date")},enumerable:!0,configurable:!0}),t.prototype.format=function(e,i,s){var l,p;if(this.language||(this.language=this.sprite?this.sprite.language:new lc),(void 0===i||""===i)&&(i=this._dateFormat),p=gt(e)?this.parse(e):DL(e),li(i))try{return this.intlLocales?new Intl.DateTimeFormat(this.intlLocales,i).format(p):new Intl.DateTimeFormat(void 0,i).format(p)}catch(g){return"Invalid"}else{i=I0(i);var h=this.parseFormat(i);if(L(this.timezoneOffset)?p.setMinutes(p.getMinutes()+p.getTimezoneOffset()-this.timezoneOffset):L(this.timezone)&&!1!==s&&(p=W0(p,this.timezone)),!M(p.getTime()))return this.language.translate("Invalid date");l=this.applyFormat(p,h,this.language),this.capitalize&&(l=l.replace(/^.{1}/,l.substr(0,1).toUpperCase()))}return l},t.prototype.parseFormat=function(e){var i=this.getCache(e);if(L(i))return i;for(var s={template:"",parts:[]},l=jl().chunk(e,!0),p=0;p<l.length;p++){var h=l[p];if("value"===h.type){h.text.match(/^date$/i)&&gt(this._dateFormat)&&(h.text=this._dateFormat);var g=h.text.match(/G|yyyy|yyy|yy|y|YYYY|YYY|YY|Y|u|q|MMMMM|MMMM|MMM|MM|M|ww|w|W|dd|d|DDD|DD|D|F|g|EEEEE|EEEE|EEE|EE|E|eeeee|eeee|eee|ee|e|aaa|aa|a|hh|h|HH|H|KK|K|kk|k|mm|m|ss|s|SSS|SS|S|A|zzzz|zzz|zz|z|ZZ|Z|t|x|nnn|nn|n|i|I/g);if(g)for(var v=0;v<g.length;v++)s.parts.push(g[v]),h.text=h.text.replace(g[v],$o)}s.template+=h.text}return this.setCache(e,s),s},t.prototype.applyFormat=function(e,i,s){var p,h,g,v,m,_,b,C,l=i.template,S=e.getTimezoneOffset(),E=e.getTime();this.utc?(p=e.getUTCFullYear(),h=e.getUTCMonth(),g=e.getUTCDay(),v=e.getUTCDate(),m=e.getUTCHours(),_=e.getUTCMinutes(),b=e.getUTCSeconds(),C=e.getUTCMilliseconds()):(p=e.getFullYear(),h=e.getMonth(),g=e.getDay(),v=e.getDate(),m=e.getHours(),_=e.getMinutes(),b=e.getSeconds(),C=e.getMilliseconds());for(var x=0,R=i.parts.length;x<R;x++){var P="";switch(i.parts[x]){case"G":P=s.translate(p<0?"_era_bc":"_era_ad");break;case"yyyy":P=Math.abs(p).toString(),p<0&&(P+=s.translate("_era_bc"));break;case"yyy":case"yy":case"y":P=Math.abs(p).toString().substr(-i.parts[x].length),p<0&&(P+=s.translate("_era_bc"));break;case"YYYY":case"YYY":case"YY":case"Y":var U=p;1==Sm(e)&&g>4&&U--,P="YYYY"==i.parts[x]?Math.abs(U).toString():Math.abs(U).toString().substr(-i.parts[x].length),U<0&&(P+=s.translate("_era_bc"));break;case"u":break;case"q":P=""+Math.ceil((e.getMonth()+1)/3);break;case"MMMMM":P=s.translate(this.months[h]).substr(0,1);break;case"MMMM":P=s.translate(this.months[h]);break;case"MMM":P=s.translate(this.monthsShort[h]);break;case"MM":P=yr(h+1,2,"0");break;case"M":P=(h+1).toString();break;case"ww":P=yr(Sm(e,this.utc),2,"0");break;case"w":P=Sm(e,this.utc).toString();break;case"W":P=l4(e,this.utc).toString();break;case"dd":P=yr(v,2,"0");break;case"d":P=v.toString();break;case"DD":case"DDD":P=yr(mR(e,this.utc).toString(),i.parts[x].length,"0");break;case"D":P=mR(e,this.utc).toString();break;case"F":case"g":break;case"t":P=s.translateFunc("_dateOrd").call(this,v);break;case"E":P=(g||7).toString();break;case"EE":P=yr((g||7).toString(),2,"0");break;case"EEE":case"eee":P=s.translate(this.weekdaysShort[g]);break;case"EEEE":case"eeee":P=s.translate(this.weekdays[g]);break;case"EEEEE":case"eeeee":P=s.translate(this.weekdays[g]).substr(0,1);break;case"e":case"ee":P=(g-this.firstDayOfWeek+1).toString(),"ee"==i.parts[x]&&(P=yr(P,2,"0"));break;case"a":P=s.translate(m>=12?"PM":"AM");break;case"aa":P=s.translate(m>=12?"P.M.":"A.M.");break;case"aaa":P=s.translate(m>=12?"P":"A");break;case"h":P=M0(m).toString();break;case"hh":P=yr(M0(m),2,"0");break;case"H":P=m.toString();break;case"HH":P=yr(m,2,"0");break;case"K":P=M0(m,0).toString();break;case"KK":P=yr(M0(m,0),2,"0");break;case"k":P=(m+1).toString();break;case"kk":P=yr(m+1,2,"0");break;case"m":P=_.toString();break;case"mm":P=yr(_,2,"0");break;case"s":P=b.toString();break;case"ss":P=yr(b,2,"0");break;case"S":case"SS":case"SSS":P=Math.round(C/1e3*Math.pow(10,i.parts[x].length)).toString();break;case"x":P=E.toString();break;case"n":case"nn":case"nnn":P=yr(C,i.parts[x].length,"0");break;case"z":P=F0(e,!1,!1,this.utc);break;case"zz":P=F0(e,!0,!1,this.utc);break;case"zzz":P=F0(e,!1,!0,this.utc);break;case"zzzz":P=F0(e,!0,!0,this.utc);break;case"Z":case"ZZ":var W=Math.abs(S)/60,Y=Math.floor(W),K=60*W-60*Y;this.utc&&(Y=0,K=0),"Z"==i.parts[x]?(P="GMT",P+=S>0?"-":"+",P+=yr(Y,2)+":"+yr(K,2)):(P=S>0?"-":"+",P+=yr(Y,2)+yr(K,2));break;case"i":P=e.toISOString();break;case"I":P=e.toUTCString()}l=l.replace($o,P)}return l},t.prototype.parse=function(e,i){if(L(i)||(i=this.inputDateFormat),e instanceof Date)return e;if("number"==typeof e)return new Date(e);"string"!=typeof e&&(e=e.toString()),this.language||(this.language=this.sprite?this.sprite.language:new lc);var s,l="";i=(i=I0(i)).substr(0,e.length);for(var p=this.parseFormat(i),h={year:-1,year3:-1,year2:-1,year1:-1,month:-1,monthShort:-1,monthLong:-1,weekdayShort:-1,weekdayLong:-1,day:-1,yearDay:-1,week:-1,hourBase0:-1,hour12Base0:-1,hourBase1:-1,hour12Base1:-1,minute:-1,second:-1,millisecond:-1,millisecondDigits:-1,am:-1,zone:-1,timestamp:-1,iso:-1},g={year:1970,month:0,day:1,hour:0,minute:0,second:0,millisecond:0,timestamp:null,offset:0,utc:this.utc},v=0,m=0,_=0;_<p.parts.length;_++){switch(m=_+v+1,p.parts[_]){case"yyyy":case"YYYY":l+="([0-9]{4})",h.year=m;break;case"yyy":case"YYY":l+="([0-9]{3})",h.year3=m;break;case"yy":case"YY":l+="([0-9]{2})",h.year2=m;break;case"y":case"Y":l+="([0-9]{1})",h.year1=m;break;case"MMMM":l+="("+this.getStringList(this.months).join("|")+")",h.monthLong=m;break;case"MMM":l+="("+this.getStringList(this.monthsShort).join("|")+")",h.monthShort=m;break;case"MM":case"M":l+="([0-9]{2}|[0-9]{1})",h.month=m;break;case"ww":case"w":l+="([0-9]{2}|[0-9]{1})",h.week=m;break;case"dd":case"d":l+="([0-9]{2}|[0-9]{1})",h.day=m;break;case"DDD":case"DD":case"D":l+="([0-9]{3}|[0-9]{2}|[0-9]{1})",h.yearDay=m;break;case"dddd":l+="("+this.getStringList(this.weekdays).join("|")+")",h.weekdayLong=m;break;case"ddd":l+="("+this.getStringList(this.weekdaysShort).join("|")+")",h.weekdayShort=m;break;case"aaa":case"aa":case"a":l+="("+this.getStringList(["AM","PM","A.M.","P.M.","A","P"]).join("|")+")",h.am=m;break;case"hh":case"h":l+="([0-9]{2}|[0-9]{1})",h.hour12Base1=m;break;case"HH":case"H":l+="([0-9]{2}|[0-9]{1})",h.hourBase0=m;break;case"KK":case"K":l+="([0-9]{2}|[0-9]{1})",h.hour12Base0=m;break;case"kk":case"k":l+="([0-9]{2}|[0-9]{1})",h.hourBase1=m;break;case"mm":case"m":l+="([0-9]{2}|[0-9]{1})",h.minute=m;break;case"ss":case"s":l+="([0-9]{2}|[0-9]{1})",h.second=m;break;case"SSS":case"SS":case"S":l+="([0-9]{3}|[0-9]{2}|[0-9]{1})",h.millisecond=m,h.millisecondDigits=p.parts[_].length;break;case"nnn":case"nn":case"n":l+="([0-9]{3}|[0-9]{2}|[0-9]{1})",h.millisecond=m;break;case"x":l+="([0-9]{1,})",h.timestamp=m;break;case"Z":l+="GMT([-+]+[0-9]{2}:[0-9]{2})",h.zone=m;break;case"ZZ":l+="([\\-+]+[0-9]{2}[0-9]{2})",h.zone=m;break;case"i":l+="([0-9]{4})-?([0-9]{2})-?([0-9]{2})T?([0-9]{2}):?([0-9]{2}):?([0-9]{2}).?([0-9]{0,3})([zZ]|[+-][0-9]{2}:?[0-9]{2}|$)",h.iso=m,v+=7;break;case"G":case"YYYY":case"YYY":case"YY":case"Y":case"MMMMM":case"W":case"EEEEE":case"EEEE":case"EEE":case"EE":case"E":case"eeeee":case"eeee":case"eee":case"ee":case"e":case"zzzz":case"zzz":case"zz":case"z":case"t":v--}l+="[^0-9]*"}var b=new RegExp(l),C=e.match(b);if(C){if(h.year>-1&&(g.year=parseInt(C[h.year])),h.year3>-1){var S=parseInt(C[h.year3]);g.year=S+=1e3}if(h.year2>-1&&(S=parseInt(C[h.year2]),g.year=S+=S>50?1e3:2e3),h.year1>-1&&(S=parseInt(C[h.year1]),S=10*Math.floor((new Date).getFullYear()/10)+S,g.year=S),h.monthLong>-1&&(g.month=this.resolveMonth(C[h.monthLong])),h.monthShort>-1&&(g.month=this.resolveShortMonth(C[h.monthShort])),h.month>-1&&(g.month=parseInt(C[h.month])-1),h.week>-1&&-1===h.day&&(g.month=0,g.day=function(n,t,e,i){void 0===e&&(e=1),void 0===i&&(i=!1);var s=new Date(t,0,4,0,0,0,0);return i&&s.setUTCFullYear(t),7*n+e-((s.getDay()||7)+3)}(parseInt(C[h.week]),g.year,1,this.utc)),h.day>-1&&(g.day=parseInt(C[h.day])),h.yearDay>-1&&(g.month=0,g.day=parseInt(C[h.yearDay])),h.hourBase0>-1&&(g.hour=parseInt(C[h.hourBase0])),h.hourBase1>-1&&(g.hour=parseInt(C[h.hourBase1])-1),h.hour12Base0>-1&&(11==(S=parseInt(C[h.hour12Base0]))&&(S=0),h.am>-1&&!this.isAm(C[h.am])&&(S+=12),g.hour=S),h.hour12Base1>-1&&(12==(S=parseInt(C[h.hour12Base1]))&&(S=0),h.am>-1&&!this.isAm(C[h.am])&&(S+=12),g.hour=S),h.minute>-1&&(g.minute=parseInt(C[h.minute])),h.second>-1&&(g.second=parseInt(C[h.second])),h.millisecond>-1&&(S=parseInt(C[h.millisecond]),2==h.millisecondDigits?S*=10:1==h.millisecondDigits&&(S*=100),g.millisecond=S),h.timestamp>-1){g.timestamp=parseInt(C[h.timestamp]);var E=new Date(g.timestamp);g.year=E.getUTCFullYear(),g.month=E.getUTCMonth(),g.day=E.getUTCDate(),g.hour=E.getUTCHours(),g.minute=E.getUTCMinutes(),g.second=E.getUTCSeconds(),g.millisecond=E.getUTCMilliseconds()}h.zone>-1&&(g.offset=this.resolveTimezoneOffset(new Date(g.year,g.month,g.day),C[h.zone])),h.iso>-1&&(g.year=Zt(C[h.iso+0]),g.month=Zt(C[h.iso+1])-1,g.day=Zt(C[h.iso+2]),g.hour=Zt(C[h.iso+3]),g.minute=Zt(C[h.iso+4]),g.second=Zt(C[h.iso+5]),g.millisecond=Zt(C[h.iso+6]),"Z"==C[h.iso+7]||"z"==C[h.iso+7]?g.utc=!0:""!=C[h.iso+7]&&(g.offset=this.resolveTimezoneOffset(new Date(g.year,g.month,g.day),C[h.iso+7]))),s=g.utc?new Date(Date.UTC(g.year,g.month,g.day,g.hour,g.minute,g.second,g.millisecond)):new Date(g.year,g.month,g.day,g.hour,g.minute+g.offset,g.second,g.millisecond)}else s=new Date(e);return s},t.prototype.resolveTimezoneOffset=function(e,i){if(i.match(/([+\-]?)([0-9]{2}):?([0-9]{2})/)){var l=hi(i.match(/([+\-]?)([0-9]{2}):?([0-9]{2})/)),p=l[1],g=l[3],v=60*parseInt(l[2])+parseInt(g);return"+"==p&&(v*=-1),v-(e||new Date).getTimezoneOffset()}return 0},t.prototype.resolveMonth=function(e){var i=this.months.indexOf(e);return i>-1||this.language&&!this.language.isDefault()&&(i=this.language.translateAll(this.months).indexOf(e))>-1?i:0},t.prototype.resolveShortMonth=function(e){var i=this.monthsShort.indexOf(e);return i>-1||(i=this.months.indexOf(e))>-1||this.language&&!this.language.isDefault()&&(i=this.language.translateAll(this.monthsShort).indexOf(e))>-1?i:0},t.prototype.isAm=function(e){return this.getStringList(["AM","A.M.","A"]).indexOf(e.toUpperCase())>-1},t.prototype.invalidateSprite=function(){this.sprite&&this.sprite.invalidate()},t.prototype.getStringList=function(e){for(var i=[],s=0;s<e.length;s++)i.push(pR(this.language?this.language.translate(e[s]):e[s]));return i},Object.defineProperty(t.prototype,"dateFormat",{get:function(){return this._dateFormat},set:function(e){this._dateFormat=e,this.invalidateSprite()},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"inputDateFormat",{get:function(){return this._inputDateFormat},set:function(e){this._inputDateFormat=e,this.invalidateSprite()},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"intlLocales",{get:function(){return this._intlLocales},set:function(e){this._intlLocales=e,this.invalidateSprite()},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"utc",{get:function(){return this._utc},set:function(e){this._utc=e,this.invalidateSprite()},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"timezoneOffset",{get:function(){return this._timezoneOffset},set:function(e){this._timezoneOffset!=e&&(this._timezoneOffset=e,this.invalidateSprite())},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"timezone",{get:function(){return this._timezone},set:function(e){this._timezone!=e&&(this._timezone=e,this.timezoneMinutes=function(n){var t=new Date;return t.setHours(0,0,0,0),W0(t,n).getMinutes()}(e),this.invalidateSprite())},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"firstDayOfWeek",{get:function(){return this._firstDayOfWeek},set:function(e){this._firstDayOfWeek=e,this.invalidateSprite()},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"outputFormat",{get:function(){return this._outputFormat},set:function(e){this._outputFormat=e.toLowerCase(),this.invalidateSprite()},enumerable:!0,configurable:!0}),t}(Ar);G.registeredClasses.DateFormatter=Rm;var HR=function(n){function t(){var e=n.call(this)||this;return e._negativeBase=0,e._baseUnit="second",e._outputFormat="svg",e._unitValues={millisecond:1,second:1e3,minute:6e4,hour:36e5,day:864e5,week:6048e5,month:2592e6,year:31536e6},e._unitAliases={Y:"y",D:"d",H:"h",K:"h",k:"h",n:"S"},e.className="DurationFormatter",e.applyTheme(),e}return $(t,n),t.prototype.format=function(e,i,s){this.language||(this.language=this.sprite?this.sprite.language:new lc);var l=s||this._baseUnit;(void 0===i||""===i)&&(i=L(this.durationFormat)?this.durationFormat:this.getFormat(Zt(e),null,l)),i=I0(i);var g,p=this.parseFormat(i,l),h=Number(e),v=this.applyFormat(h,g=h>this._negativeBase?p.positive:h<this._negativeBase?p.negative:p.zero);return""!==g.color&&("svg"===this._outputFormat?v="<tspan fill='"+g.color+"'>"+v+"</tspan>":"html"===this._outputFormat&&(v="<span style='color: "+g.color+";'>"+v+"</span>")),v},t.prototype.parseFormat=function(e,i){var s=this,l=this.getCache(e);if(L(l))return l;var p=i||this._baseUnit,h={positive:{color:"",template:"",parts:[],source:"",baseUnit:p,parsed:!1,absolute:!1},negative:{color:"",template:"",parts:[],source:"",baseUnit:p,parsed:!1,absolute:!1},zero:{color:"",template:"",parts:[],source:"",baseUnit:p,parsed:!1,absolute:!1}},g=(e=e.replace("||",Af)).split("|");return h.positive.source=g[0],void 0===g[2]?h.zero=h.positive:h.zero.source=g[2],void 0===g[1]?h.negative=h.positive:h.negative.source=g[1],We(h,function(v,m){if(!m.parsed){if(void 0!==s.getCache(m.source))return void(h[v]=s.getCache(m.source));var b,_=m.source;(b=m.source.match(/^\[([^\]]*)\]/))&&b.length&&""!==b[0]&&(_=m.source.substr(b[0].length),m.color=b[1]);for(var C=jl().chunk(_,!0),S=0;S<C.length;S++){var E=C[S];if(E.text=E.text.replace(Af,"|"),"value"===E.type){E.text.match(/[yYMdDwhHKkmsSn]+a/)&&(m.absolute=!0,E.text=E.text.replace(/([yYMdDwhHKkmsSn]+)a/,"$1"));var x=E.text.match(/y+|Y+|M+|d+|D+|w+|h+|H+|K+|k+|m+|s+|S+|n+/g);if(x)for(var R=0;R<x.length;R++)L(x[R])||(x[R]=s._unitAliases[x[R]]),m.parts.push(x[R]),E.text=E.text.replace(x[R],$o)}m.template+=E.text}s.setCache(m.source,m),m.parsed=!0}}),this.setCache(e,h),h},t.prototype.applyFormat=function(e,i){var s=!i.absolute&&e<this._negativeBase;e=Math.abs(e);for(var l=this.toTimeStamp(e,i.baseUnit),p=i.template,h=0,g=i.parts.length;h<g;h++){var v=i.parts[h],m=this.toTimeUnit(v.substr(0,1)),_=v.length,b=Math.floor(l/this._unitValues[m]);p=p.replace($o,yr(b,_,"0")),l-=b*this._unitValues[m]}return s&&(p="-"+p),p},t.prototype.toTimeStamp=function(e,i){return e*this._unitValues[i]},t.prototype.toTimeUnit=function(e){switch(e){case"S":return"millisecond";case"s":return"second";case"m":return"minute";case"h":return"hour";case"d":return"day";case"w":return"week";case"M":return"month";case"y":return"year"}},t.prototype.invalidateSprite=function(){this.sprite&&this.sprite.invalidate()},Object.defineProperty(t.prototype,"baseUnit",{get:function(){return this._baseUnit},set:function(e){this._baseUnit=e,this.invalidateSprite()},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"outputFormat",{get:function(){return this._outputFormat},set:function(e){this._outputFormat=e.toLowerCase(),this.invalidateSprite()},enumerable:!0,configurable:!0}),t.prototype.getFormat=function(e,i,s){if(L(this.durationFormat))return this.durationFormat;if(s||(s=this.baseUnit),L(i)&&e!=i){e=Math.abs(e),i=Math.abs(i);var l=this.getValueUnit(Qe(e,i),s);return this.durationFormats[s][l]}var p=this.getValueUnit(e,s);return this.durationFormats[s][p]},t.prototype.getValueUnit=function(e,i){i||(i=this.baseUnit);var s,l=this.getMilliseconds(e,i);return lL(this._unitValues,function(p,h){if(p==i||s){if(l/h<=1)return s||(s=p),!1;s=p}return!0}),s},t.prototype.getMilliseconds=function(e,i){return i||(i=this.baseUnit),e*this._unitValues[i]},Object.defineProperty(t.prototype,"durationFormat",{get:function(){return this._durationFormat},set:function(e){this._durationFormat!=e&&(this._durationFormat=e,this.invalidateSprite())},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"durationFormats",{get:function(){return this._durationFormats||(this._durationFormats={millisecond:{millisecond:this.language.translate("_duration_millisecond"),second:this.language.translate("_duration_millisecond_second"),minute:this.language.translate("_duration_millisecond_minute"),hour:this.language.translate("_duration_millisecond_hour"),day:this.language.translate("_duration_millisecond_day"),week:this.language.translate("_duration_millisecond_week"),month:this.language.translate("_duration_millisecond_month"),year:this.language.translate("_duration_millisecond_year")},second:{second:this.language.translate("_duration_second"),minute:this.language.translate("_duration_second_minute"),hour:this.language.translate("_duration_second_hour"),day:this.language.translate("_duration_second_day"),week:this.language.translate("_duration_second_week"),month:this.language.translate("_duration_second_month"),year:this.language.translate("_duration_second_year")},minute:{minute:this.language.translate("_duration_minute"),hour:this.language.translate("_duration_minute_hour"),day:this.language.translate("_duration_minute_day"),week:this.language.translate("_duration_minute_week"),month:this.language.translate("_duration_minute_month"),year:this.language.translate("_duration_minute_year")},hour:{hour:this.language.translate("_duration_hour"),day:this.language.translate("_duration_hour_day"),week:this.language.translate("_duration_hour_week"),month:this.language.translate("_duration_hour_month"),year:this.language.translate("_duration_hour_year")},day:{day:this.language.translate("_duration_day"),week:this.language.translate("_duration_day_week"),month:this.language.translate("_duration_day_month"),year:this.language.translate("_duration_day_year")},week:{week:this.language.translate("_duration_week"),month:this.language.translate("_duration_week_month"),year:this.language.translate("_duration_week_year")},month:{month:this.language.translate("_duration_month"),year:this.language.translate("_duration_month_year")},year:{year:this.language.translate("_duration_year")}}),this._durationFormats},set:function(e){this._durationFormats=e,this.invalidateSprite()},enumerable:!0,configurable:!0}),t}(Ar);G.registeredClasses.DurationFormatter=HR;var BR,XL=new ii,qL=function(n){function t(){var e=null!==n&&n.apply(this,arguments)||this;return e._validateDisposer=null,e}return $(t,n),t.prototype.invalidate=function(){null===this._validateDisposer&&(this._validateDisposer=G.events.on("exitframe",this.validate,this))},t.prototype.validate=function(){null!==this._validateDisposer&&(this._validateDisposer.dispose(),this._validateDisposer=null)},t.prototype.dispose=function(){null!==this._validateDisposer&&(this._validateDisposer.dispose(),this._validateDisposer=null),n.prototype.dispose.call(this)},t}(tl),gY=function(n){function t(){var e=n.call(this)||this;return e.adapter=new To(e),e.closeDelay=1e3,e.closeOnClick=!0,e._language=new Pn,e._menuTag="ul",e._itemTag="li",e._labelTag="a",e._iconTag="img",e._classPrefix="amexport",e._defaultStyles=!0,e._align="right",e._verticalAlign="top",e._tabindex=0,e._ignoreNextClose=!1,e._items=[{label:"...",menu:[{label:"Image",menu:[{type:"png",label:"PNG"},{type:"jpg",label:"JPG"},{type:"svg",label:"SVG"},{type:"pdf",label:"PDF"}]},{label:"Data",menu:[{type:"json",label:"JSON"},{type:"csv",label:"CSV"},{type:"xlsx",label:"XLSX"},{type:"html",label:"HTML"},{type:"pdfdata",label:"PDF"}]},{label:"Print",type:"print"}]}],e.className="ExportMenu",e._disposers.push(e._language),e.invalidate(),e.applyTheme(),e}return $(t,n),t.prototype.validate=function(){this.draw(),n.prototype.validate.call(this)},t.prototype.draw=function(){var e=this;this._element?(this._element.innerHTML="",this._element.className=this.getMenuItemClass(0)):this._element=this.createMenuElement(0),this.defaultStyles&&(this._element.style.display="none"),hi(this._container).appendChild(this._element);for(var i=this.adapter.apply("items",{items:this._items}).items,s=i.length,l=0;l<s;l++)this.drawBranch(this._element,i[l],0);this._element=this.adapter.apply("menuElement",{menuElement:this._element}).menuElement,this._disposers.push($e().body.events.on("down",function(p){p.pointer.touch||(e._ignoreNextClose=!1),e.close()})),this._disposers.push($e().body.events.on("keydown",function(p){var h=il.getEventKey(p.event);switch(h){case"esc":e.close();break;case"up":case"down":case"left":case"right":e._currentSelection&&p.event.preventDefault(),e.moveSelection(h)}})),this.defaultStyles&&this.loadDefaultCSS()},t.prototype.drawBranch=function(e,i,s){var l=this;if(!0!==(i=this.adapter.apply("branch",{branch:i,level:s}).branch).unsupported){i.ascendants||(i.ascendants=new Dt);var g,p=i.type,h=this.createItemElement(s,p);i.icon?((g=this.createIconElement(s,p)).src=i.icon,(i.label||i.title)&&(g.title=i.title||i.label)):i.svg?(g=this.createSvgElement(s,p,i.svg),(i.label||i.title)&&(g.title=i.title||i.label)):((g=this.createLabelElement(s,p)).innerHTML=i.label?this.language.translate(i.label):"",i.title&&(g.title=i.title));var v=this.getReaderLabel(i,g.innerHTML);g.setAttribute("aria-label",v),h.appendChild(g),i.interactions=$e().getInteraction(h),i.element=h,this.typeClickable(p)&&(i.interactions.events.on("hit",function(x){l.events.isEnabled("hit")&&!l.isDisposed()&&l.events.dispatchImmediately("hit",{type:"hit",event:x.event,target:l,branch:i})}),i.interactions.events.on("keyup",function(x){il.isKey(x.event,"enter")&&l.events.isEnabled("enter")&&l.events.dispatchImmediately("enter",{type:"enter",event:x.event,target:l,branch:i})}));var m=this.getSubMenu(i);null!=m&&(i.interactions.events.on("keyup",function(x){il.isKey(x.event,"enter")&&(l.selectBranch(m[0]),l.setFocus(m[0]))}),i.interactions.events.on("hit",function(x){l.selectBranch(i)})),i.interactions.events.on("over",function(x){x.pointer.touch&&(l._ignoreNextClose=!0),l.selectBranch(i),l.events.isEnabled("over")&&l.events.dispatchImmediately("over",{type:"over",event:x.event,target:l,branch:i})}),i.interactions.events.on("out",function(x){!l.isDisposed()&&(x.pointer.touch||l.delayUnselectBranch(i),l.events.isEnabled("out"))&&l.events.dispatchImmediately("out",{type:"out",event:x.event,target:l,branch:i})}),i.interactions.events.on("focus",function(x){l.selectBranch(i)}),i.interactions.events.on("blur",function(x){l.delayUnselectBranch(i)});var _=s+1;if(i.menu){var b=this.createMenuElement(_);i.submenuElement=b;for(var C=i.menu.length,S=0;S<C;S++){var E=new Dt;i.menu[S].ascendants=E,i.ascendants.length&&E.copyFrom(i.ascendants),E.push(i),this.drawBranch(b,i.menu[S],_)}if(""==b.innerHTML)return;h.appendChild(b)}i.hidden&&this.hideBranch(i),i.id&&h.setAttribute("id",i.id),i.color&&(h.style.backgroundColor=i.color.hex),e.appendChild(h)}},t.prototype.createMenuElement=function(e){var i=document.createElement(this.menuTag);return i.className=this.getMenuItemClass(e),i.setAttribute("role",0===e?"menubar":"menu"),i},t.prototype.getMenuItemClass=function(e){var i=this.classPrefix+"-menu "+this.classPrefix+"-menu-level-"+e;return 0===e&&(i+=" "+this.classPrefix+"-menu-root "+this.classPrefix+"-"+this.align+" "+this.classPrefix+"-"+this.verticalAlign),this.adapter.apply("menuClass",{className:i,level:e}).className},t.prototype.createItemElement=function(e,i){var s=document.createElement(this.itemTag);return s.className=this.adapter.apply("itemClass",{className:this.classPrefix+"-item "+this.classPrefix+"-item-level-"+e+" "+this.classPrefix+"-item-"+(i||"blank"),level:e,type:i}).className,s.setAttribute("role","menuitem"),s.setAttribute("tabindex",this.tabindex.toString()),s},t.prototype.createLabelElement=function(e,i){var s=document.createElement(this.labelTag),l=this.classPrefix+"-label "+this.classPrefix+"-label-level-"+e+" "+this.classPrefix+"-item-"+(i||"blank");return this.typeClickable(i)&&(l+=" "+this.classPrefix+"-clickable"),s.className=this.adapter.apply("labelClass",{className:l,level:e,type:i}).className,s},t.prototype.createIconElement=function(e,i){var s=document.createElement(this.iconTag),l=this.classPrefix+"-icon "+this.classPrefix+"-icon-level-"+e+" "+this.classPrefix+"-item-"+(i||"blank");return this.typeClickable(i)&&(l+=" "+this.classPrefix+"-clickable"),s.className=this.adapter.apply("labelClass",{className:l,level:e,type:i}).className,s.setAttribute("tabindex",this.tabindex.toString()),s.setAttribute("role","menuitem"),s},t.prototype.createSvgElement=function(e,i,s){var p=(new DOMParser).parseFromString(s,"image/svg+xml").documentElement,h=this.classPrefix+"-icon "+this.classPrefix+"-icon-level-"+e+" "+this.classPrefix+"-item-"+(i||"blank");return this.typeClickable(i)&&(h+=" "+this.classPrefix+"-clickable"),p.setAttribute("class",this.adapter.apply("labelClass",{className:h,level:e,type:i}).className),p.setAttribute("tabindex",this.tabindex.toString()),p.setAttribute("role","menuitem"),p},t.prototype.dispose=function(){this._disposed||(n.prototype.dispose.call(this),this._element&&this._element.parentNode&&this._element.parentNode.removeChild(this._element))},t.prototype.typeClickable=function(e){return L(e)},t.prototype.hasSubMenu=function(e){return!(!e.menu||!e.menu.length)},t.prototype.getSubMenu=function(e){if(e.menu&&e.menu.length)return e.menu},t.prototype.getReaderLabel=function(e,i){return i=wL(i),0==e.ascendants.length?(i="..."==i?this.language.translate("Export"):i,i+=" ["+this.language.translate("Press ENTER or use arrow keys to navigate")+"]"):this.hasSubMenu(e)?i+=" ["+this.language.translate("Click, tap or press ENTER to open")+"]":"print"==e.type?i=this.language.translate("Click, tap or press ENTER to print."):this.typeClickable(e.type)&&(i=this.language.translate("Click, tap or press ENTER to export as %1.",void 0,i)),this.adapter.apply("rederLabel",{label:i,branch:e}).label},Object.defineProperty(t.prototype,"container",{get:function(){return this._container},set:function(e){this._container=e,this.invalidate()},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"items",{get:function(){return this._items},set:function(e){this._items=e,this.invalidate()},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"tag",{set:function(e){this._menuTag=e,this._itemTag="ul"==e?"li":"div",this.invalidate()},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"menuTag",{get:function(){return this.adapter.apply("menuTag",{tag:this._menuTag}).tag},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"itemTag",{get:function(){return this.adapter.apply("itemTag",{tag:this._itemTag}).tag},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"labelTag",{get:function(){return this.adapter.apply("labelTag",{tag:this._labelTag}).tag},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"iconTag",{get:function(){return this.adapter.apply("iconTag",{tag:this._iconTag}).tag},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"align",{get:function(){return this.adapter.apply("align",{align:this._align}).align},set:function(e){this._align=e,this.invalidate()},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"verticalAlign",{get:function(){return this.adapter.apply("verticalAlign",{verticalAlign:this._verticalAlign}).verticalAlign},set:function(e){this._verticalAlign=e,this.invalidate()},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"classPrefix",{get:function(){return this.adapter.apply("classPrefix",{classPrefix:this._classPrefix}).classPrefix},set:function(e){this._classPrefix=e,this.invalidate()},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"defaultStyles",{get:function(){return this.adapter.apply("defaultStyles",{defaultStyles:this._defaultStyles}).defaultStyles},set:function(e){this._defaultStyles!=e&&(this._defaultStyles=e,e&&this.loadDefaultCSS()),this.invalidate()},enumerable:!0,configurable:!0}),t.prototype.loadDefaultCSS=function(){this._disposers.push(function(n,t){var e=t||"amexport",i=new Rt;return XL.insertKeyIfEmpty(e,function(){var l=new mi([new Kt(n,"."+e+"-menu *",{"box-sizing":"border-box"}),new Kt(n,"."+e+"-menu-level-0",{position:"absolute",top:"5px",right:"5px"}),new Kt(n,"."+e+"-menu-level-0."+e+"-left",{right:"auto",left:"5px"}),new Kt(n,"."+e+"-menu-level-0."+e+"-right",{right:"5px",left:"auto"}),new Kt(n,"."+e+"-menu-level-0."+e+"-top",{top:"5px",bottom:"auto"}),new Kt(n,"."+e+"-menu-level-0."+e+"-bottom",{top:"auto",bottom:"5px"}),new Kt(n,"."+e+"-item."+e+"-item-level-0",{opacity:"0.3",width:"30px","min-height":"30px",transition:"all 100ms ease-in-out"}),new Kt(n,"div:hover > div > ."+e+"-menu ."+e+"-item."+e+"-item-level-0, ."+e+"-item."+e+"-item-level-0.active",{opacity:"0.9"}),new Kt(n,"."+e+"-item."+e+"-item-level-0 > a",{padding:"0","text-align":"center",overflow:"hidden"}),new Kt(n,"."+e+"-item."+e+"-item-level-0:before",{display:"block"}),new Kt(n,"."+e+"-item",{position:"relative",display:"block",opacity:"0","z-index":"1","border-radius":"3px","background-color":i.getFor("secondaryButton").hex,padding:"0",margin:"1px 1px 0 0",color:i.getFor("secondaryButton").alternative.hex,transition:"all 100ms ease-in-out, opacity 0.5s ease 0.5s"}),new Kt(n,"."+e+"-left ."+e+"-item",{margin:"1px 0 0 1px"}),new Kt(n,"."+e+"-item:hover, ."+e+"-item.active",{background:i.getFor("secondaryButtonHover").hex,color:i.getFor("secondaryButtonText").hex}),new Kt(n,"."+e+"-item > ."+e+"-menu",{position:"absolute",top:"-1px",right:"0","margin-right":"100%"}),new Kt(n,"."+e+"-left ."+e+"-item > ."+e+"-menu",{left:"0",right:"auto","margin-left":"100%","margin-right":"auto"}),new Kt(n,"."+e+"-right ."+e+"-item > ."+e+"-menu",{left:"auto",right:"0","margin-left":"auto","margin-right":"100%"}),new Kt(n,"."+e+"-top ."+e+"-item > ."+e+"-menu",{top:"-1px",bottom:"auto"}),new Kt(n,"."+e+"-bottom ."+e+"-item > ."+e+"-menu",{top:"auto",bottom:"0"}),new Kt(n,"."+e+"-item > ."+e+"-menu",{display:"none"}),new Kt(n,"."+e+"-item:hover > ."+e+"-menu, ."+e+"-item.active > ."+e+"-menu",{display:"block"}),new Kt(n,"."+e+"-item:hover > ."+e+"-menu > ."+e+"-item, ."+e+"-item.active > ."+e+"-menu > ."+e+"-item",{opacity:"1"}),new Kt(n,"."+e+"-menu",{display:"block","list-style":"none",margin:"0",padding:"0"}),new Kt(n,"."+e+"-label",{display:"block",cursor:"default",padding:"0.5em 1em"}),new Kt(n,"."+e+"-icon",{display:"block",cursor:"default",padding:"0.2em 0.4em",width:"1.2em",height:"1.2em","min-width":"32px","min-height":"32px",margin:"auto auto","border-radius":"3px"}),new Kt(n,"."+e+"-item-level-0 > ."+e+"-icon",{padding:"0.1em 0.2em"}),new Kt(n,"."+e+"-clickable",{cursor:"pointer"})]);return new w0(function(){XL.removeKey(e),l.dispose()})}).increment()}(TR(this.container),this.classPrefix)),this._element&&(this._element.style.display="")},Object.defineProperty(t.prototype,"tabindex",{get:function(){return this.adapter.apply("tabindex",{tabindex:this._tabindex}).tabindex},set:function(e){this._tabindex=e,this.invalidate()},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"language",{get:function(){var e=this,i=this._language.get();return null==i&&(i=new lc,this._language.set(i,i.events.on("localechanged",function(s){e.invalidate()}))),i},set:function(e){var i=this;this._language.set(e,e.events.on("localechanged",function(s){i.invalidate()})),this.invalidate()},enumerable:!0,configurable:!0}),t.prototype.close=function(){var e=this;if(!this.isDisposed()){if(this._ignoreNextClose)return void(this._ignoreNextClose=!1);if(this.closeOnClick&&(this._element.style.pointerEvents="none",setTimeout(function(){e._element.style.pointerEvents="auto"},100)),this._currentSelection&&(this.setBlur(this._currentSelection),this._currentSelection=void 0),this._element)for(var i=this._element.getElementsByClassName("active"),l=i.length-1;l>=0;l--)i[l]&&PR(i[l],"active");this.events.dispatchImmediately("closed",{type:"closed",target:this})}},t.prototype.selectBranch=function(e){var i=this;!this.isDisposed()&&(e.closeTimeout&&(this.removeDispose(e.closeTimeout),e.closeTimeout=void 0),OR(e.element,"active"),e.submenuElement&&e.submenuElement.setAttribute("aria-expanded","true"),this._currentSelection&&this._currentSelection!==e&&this._currentSelection.ascendants&&oe(function(){for(var n=[],t=0;t<arguments.length;t++)n[t]=arguments[t];return function(e){for(var i=!0,s=function(h){return i=e(h)},l=n.length,p=0;p<l&&(n[p](s),i);++p);}}(Wd([this._currentSelection]),this._currentSelection.ascendants.iterator()),function(l){!e.ascendants.contains(l)&&e!==l&&i.unselectBranch(l,!0)}),oe(e.ascendants.iterator(),function(l){l.closeTimeout&&(i.removeDispose(l.closeTimeout),l.closeTimeout=void 0),OR(l.element,"active")}),this._currentSelection=e,this.events.isEnabled("branchselected"))&&this.events.dispatchImmediately("branchselected",{type:"branchselected",target:this,branch:e})},t.prototype.unselectBranch=function(e,i){!this.isDisposed()&&(PR(e.element,"active"),e.submenuElement&&e.submenuElement.removeAttribute("aria-expanded"),this._currentSelection==e&&(this._currentSelection=void 0),this.events.isEnabled("branchunselected"))&&this.events.dispatchImmediately("branchunselected",{type:"branchunselected",target:this,branch:e})},t.prototype.delayUnselectBranch=function(e,i){var s=this;this.isDisposed()||(e.closeTimeout&&(this.removeDispose(e.closeTimeout),e.closeTimeout=void 0),e.closeTimeout=this.setTimeout(function(){s.unselectBranch(e,i)},this.closeDelay),!0!==i&&e.ascendants&&oe(e.ascendants.iterator(),function(l){s.delayUnselectBranch(l,!0)}))},t.prototype.moveSelection=function(e){if(!this.isDisposed()&&this._currentSelection){var i;if("up"==e)i=this.getPrevSibling(this._currentSelection);else if("down"==e)i=this.getNextSibling(this._currentSelection);else if("left"==e&&"right"==this.align||"right"==e&&"left"==this.align){var s=this.getSubMenu(this._currentSelection);null!=s&&(i=s[0])}else("right"==e&&"right"==this.align||"left"==e&&"left"==this.align)&&(i=this.getParentItem(this._currentSelection));i&&i!==this._currentSelection&&(this.selectBranch(i),this.setFocus(i),this._currentSelection=i)}},t.prototype.getSiblings=function(e){var i=this.getParentItem(e);return i&&i.menu?i.menu:[]},t.prototype.getParentItem=function(e){if(e.ascendants&&e.ascendants.length)return e.ascendants.getIndex(e.ascendants.length-1)},t.prototype.getNextSibling=function(e){var i=this.getSiblings(e);if(i.length>1){var s=i.indexOf(e)+1;return i[s=i.length==s?0:s].unsupported?this.getNextSibling(i[s]):i[s]}return e},t.prototype.getPrevSibling=function(e){var i=this.getSiblings(e);if(i.length>1){var s=i.indexOf(e)-1;return i[s=-1==s?i.length-1:s].unsupported?this.getPrevSibling(i[s]):i[s]}return e},t.prototype.setFocus=function(e){if(e.interactions)try{e.interactions.element.focus()}catch(i){}},t.prototype.setBlur=function(e){if(e.interactions)try{e.interactions.element.blur()}catch(i){}},t.prototype.hideBranch=function(e){e.element.style.display="none"},t.prototype.showBranch=function(e){e.element.style.display=""},Object.defineProperty(t.prototype,"element",{get:function(){return this._element},enumerable:!0,configurable:!0}),t}(qL);function z0(n,t,e){return new Promise(function(i,s){var l=L(e)&&"blob"==e.responseType,p=new XMLHttpRequest;if(p.onload=function(){if(200===p.status){var m;if(l)return void function(n){return new Promise(function(t,e){var i=new FileReader;i.onload=function(s){t(i.result)},i.onerror=function(s){e(s)},i.readAsText(n)})}(m=p.response).then(function(b){var C={xhr:p,error:!1,response:b,blob:m,type:p.getResponseHeader("Content-Type"),target:t};i(C)});var _={xhr:p,error:!1,response:p.responseText||p.response,blob:m,type:p.getResponseHeader("Content-Type"),target:t};i(_)}else s({xhr:p,error:!0,type:p.getResponseHeader("Content-Type"),target:t})},p.onerror=function(){s({xhr:p,error:!0,type:p.getResponseHeader("Content-Type"),target:t})},p.open("GET",n,!0),e&&e.withCredentials&&(p.withCredentials=!0),L(e)){if(L(e.requestHeaders))for(var h=0;h<e.requestHeaders.length;h++){var g=e.requestHeaders[h];p.setRequestHeader(g.key,g.value)}L(e.responseType)&&(p.responseType=e.responseType)}p.send()})}var ZL=/src: ([^;]+);/;function _Y(n){return new Promise(function(t,e){var i=new FileReader;i.onload=function(s){t(i.result)},i.onerror=function(s){e(s)},i.readAsDataURL(n)})}function bY(n){return Yt(this,void 0,void 0,function(){var t;return Lt(this,function(i){switch(i.label){case 0:t=n.sheet,i.label=1;case 1:return i.trys.push([1,2,,4]),[2,t.cssRules];case 2:return i.sent(),[4,new Promise(function(s,l){n.addEventListener("load",function(){s(t.cssRules)},!0),n.addEventListener("error",function(p){l(p)},!0),setTimeout(function(){l(new Error("Timeout while waiting for <style> to load"))},1e4)})];case 3:return[2,i.sent()];case 4:return[2]}})})}function QL(n,t,e){return Yt(this,void 0,void 0,function(){var i,s,l,p;return Lt(this,function(h){switch(h.label){case 0:return h.trys.push([0,2,,3]),[4,z0(t)];case 1:return i=h.sent(),[3,3];case 2:return s=h.sent(),console.error("Failed to load stylesheet",t,s),[2];case 3:(l=n.createElement("style")).textContent=i.response,""!=nt.nonce&&l.setAttribute("nonce",nt.nonce),n.head.appendChild(l),h.label=4;case 4:return h.trys.push([4,,7,8]),[4,bY(l)];case 5:return p=h.sent(),[4,JL(n,t,p,e)];case 6:return h.sent(),[3,8];case 7:return n.head.removeChild(l),[7];case 8:return[2]}})})}function JL(n,t,e,i){return Yt(this,void 0,void 0,function(){var s,l,p,h,g;return Lt(this,function(v){switch(v.label){case 0:for(s=[],l=e.length,p=0;p<l;p++)(h=e[p]).type===CSSRule.IMPORT_RULE?(g=h.href)&&(g=DR(t,g),s.push(QL(n,g,i))):i(t,h);return s.length?[4,Promise.all(s)]:[3,2];case 1:v.sent(),v.label=2;case 2:return[2]}})})}function CY(n){return Yt(this,void 0,void 0,function(){var t,e;return Lt(this,function(i){switch(i.label){case 0:(t=document.createElement("iframe")).src="about:blank",t.setAttribute("title",""),document.head.appendChild(t),i.label=1;case 1:return i.trys.push([1,,3,4]),e=t.contentDocument,[4,Promise.all(fm(document.styleSheets,function(s){var l=s.href;return null==l?JL(e,location.href,s.cssRules,n):(l=DR(location.href,l),QL(e,l,n))}))];case 2:return i.sent(),[3,4];case 3:return document.head.removeChild(t),[7];case 4:return[2]}})})}var wY=function(n){function t(e){var i=n.call(this)||this;return i.adapter=new To(i),i._formatOptions=new ii,i._extraSprites=[],i._validateSprites=[],i.dataFieldsOrder=[],i._dynamicDataFields=!0,i._removedObjects=new Dt,i._hiddenObjects=[],i._objectsAlreadyHidden=!1,i._filePrefix="amCharts",i.useWebFonts=!0,i.useRetina=!0,i.useSimplifiedExport=!0,i.timeoutDelay=2e3,i._exportRunning=!1,i._prevHasData=!1,i._container=e,i.className="Export",i._formatOptions.setKey("png",{}),i._formatOptions.setKey("jpg",{quality:.8}),i._formatOptions.setKey("gif",{}),i._formatOptions.setKey("svg",{}),i._formatOptions.setKey("pdf",{fontSize:14,imageFormat:"png",align:"left",addURL:!0,addColumnNames:!0}),i._formatOptions.setKey("json",{indent:2,useLocale:!0}),i._formatOptions.setKey("csv",{addColumnNames:!0,emptyAs:"",addBOM:!0}),i._formatOptions.setKey("xlsx",{addColumnNames:!0,useLocale:!0,emptyAs:""}),i._formatOptions.setKey("html",{addColumnNames:!0,emptyAs:""}),i._formatOptions.setKey("pdfdata",{fontSize:14,imageFormat:"png",addURL:!0,addColumnNames:!0,emptyAs:""}),i._formatOptions.setKey("print",{delay:500,printMethod:"iframe"}),i.adapter.add("options",function(s){var l=i._formatOptions.getKey(s.type);return s.options=s.options?nR(l,s.options):l,s}),i.applyTheme(),i.dispatchImmediately("inited"),i}return $(t,n),Object.defineProperty(t.prototype,"menu",{get:function(){return this._menu},set:function(e){var i=this;this._menu&&this.removeDispose(this._menu),this._menu=e,this._menu.container=this.container,this._menu.language=this._language,this._menu.adapter.add("branch",function(s){return s.branch.unsupported=!i.typeSupported(s.branch.type),s}),this._menu.events.on("hit",function(s){i.export(s.branch.type,s.branch.options),i.menu.close()}),this._menu.events.on("enter",function(s){i.export(s.branch.type,s.branch.options),i.menu.close()}),this._menu.events.on("over",function(s){i._disablePointers()}),this._menu.events.on("out",function(s){setTimeout(function(){i._releasePointers()},10)}),this.dispatchImmediately("menucreated"),this._menu.adapter.add("classPrefix",function(s){return s.classPrefix=nt.classNamePrefix+s.classPrefix,s}),this._disposers.push(this._menu)},enumerable:!0,configurable:!0}),t.prototype.typeSupported=function(e){var i=!0,s=this.getFormatOptions(e);return L(s)&&s.disabled?i=!1:"pdf"===e||("xlsx"===e?i=!!this._hasData():("print"==e&&!window.print||-1!==["json","csv","html","pdfdata"].indexOf(e)&&!this._hasData())&&(i=!1)),this.adapter.apply("supported",{supported:i,type:e}).supported},t.prototype._hasData=function(){return this.data&&this.data.length},t.prototype._getFunction=function(e){switch(e){case"png":case"gif":case"jpg":return this.getImage;case"svg":return this.getSVG;case"pdf":case"pdfdata":return this.getPDF;case"xlsx":return this.getExcel;case"csv":return this.getCSV;case"json":return this.getJSON;case"html":return this.getHTML;case"print":return this.getPrint;default:return this.unsupported}},t.prototype.export=function(e,i){return Yt(this,void 0,void 0,function(){var l,p,v=this;return Lt(this,function(m){switch(m.label){case 0:return"custom"==e?(this.handleCustom(i),[2,!0]):(this._exportRunning=!0,this.events.isEnabled("exportstarted")&&this.events.dispatchImmediately("exportstarted",{type:"exportstarted",target:this,format:e,options:i}),this.showPreloader(),this.timeoutDelay&&(this.hideTimeout(),this._timeoutTimeout=this.setTimeout(function(){v.events.isEnabled("exporttimedout")&&v.events.dispatchImmediately("exporttimedout",{type:"exporttimedout",target:v,format:e,options:i}),v.showTimeout()},this.timeoutDelay)),this.hideNonExportableSprites(),l=this._getFunction(e),i=this.adapter.apply("options",{options:i,type:e}).options,[4,(l=this.adapter.apply("exportFunction",{func:l,type:e,options:i}).func).call(this,e,i)]);case 1:return p=m.sent(),this._exportRunning=!1,this._releasePointers(),this.restoreNonExportableSprites(),p?(this.events.isEnabled("exportfinished")&&this.events.dispatchImmediately("exportfinished",{type:"exportfinished",target:this,format:e,options:i}),this.hidePreloader(),this.hideTimeout(),this.menu&&this.menu.close(),"print"===e?[2,this.print(p,i,this.adapter.apply("title",{title:this.title,options:i}).title)]:"pdfdata"==e?[2,this.download(p,this.filePrefix+".pdf")]:[2,this.download(p,this.filePrefix+"."+e,i&&i.addBOM)]):(this.events.isEnabled("error")&&this.events.dispatchImmediately("error",{type:"error",target:this,format:e,options:i}),[2,!1])}})})},t.prototype.unsupported=function(e,i){return Yt(this,void 0,void 0,function(){return Lt(this,function(s){return[2,""]})})},t.prototype.handleCustom=function(e){L(e)&&L(e.callback)&&e.callback.call(e.callbackTarget||this,e)},t.prototype.getPrint=function(e,i){return Yt(this,void 0,void 0,function(){return Lt(this,function(s){return[2,this.getImage("png",i)]})})},t.prototype.getFontFamilies=function(){return Yt(this,void 0,void 0,function(){var e,i,s,l,p=this;return Lt(this,function(h){switch(h.label){case 0:return e=this.getDOMURL(),i=[],s=[],[4,CY(function(g,v){if(v.type===CSSRule.FONT_FACE_RULE){var m=v.cssText,_=ZL.exec(m);if(null!==_){var b=_[1].split(/ *, */).map(function(C){return Yt(p,void 0,void 0,function(){var S,E,x,R,P,k;return Lt(this,function(U){switch(U.label){case 0:return null!==(S=/^url\(["']?([^"'\)]+)["']?\)([^,]*)$/.exec(C))?[3,1]:[2,C];case 1:if(E=S[2],x=DR(g,S[1]),this.webFontFilter&&!x.match(this.webFontFilter))return[2,null];U.label=2;case 2:return U.trys.push([2,7,,8]),[4,z0(x,void 0,{responseType:"blob"})];case 3:return R=U.sent(),null!=window.navigator.msSaveOrOpenBlob?(P=e.createObjectURL(R.blob),i.push(P),[3,6]):[3,4];case 4:return[4,_Y(R.blob)];case 5:P=U.sent(),U.label=6;case 6:return[2,'url("'+P+'")'+E];case 7:return k=U.sent(),console.error("Failed to load font",x,k),[2,null];case 8:return[2]}})})});s.push(Promise.all(b).then(function(C){return 0===(C=C.filter(function(S){return null!=S})).length?"":m.replace(ZL,"src: "+C.join(", ")+";")}))}}})];case 1:return h.sent(),[4,Promise.all(s)];case 2:return l=h.sent(),[2,{blobs:i,cssText:l.filter(function(g){return!!g}).join("\n")}]}})})},t.prototype.getImage=function(e,i,s){return Yt(this,void 0,void 0,function(){var l,p,h,g,v;return Lt(this,function(m){switch(m.label){case 0:return(l=this._objectsAlreadyHidden)||this.hideNonExportableSprites(),L(i)||(i=this.getFormatOptions(e)),[4,this.awaitValidSprites()];case 1:return m.sent(),[4,this.simplifiedImageExport()];case 2:if(!m.sent())return[3,10];p=void 0,m.label=3;case 3:return m.trys.push([3,7,,9]),[4,this.getCanvas(i)];case 4:return p=m.sent(),!1===s?[3,6]:[4,this.addExtras(p,i)];case 5:p=m.sent(),m.label=6;case 6:return h=p.toDataURL(this.getContentType(e),i.quality),this.disposeCanvas(p),l||this.restoreNonExportableSprites(),[2,h];case 7:return g=m.sent(),console.error(g.message+"\n"+g.stack),NR("Simple export failed, falling back to advanced export"),p&&this.disposeCanvas(p),[4,this.getImageAdvanced(e,i,s)];case 8:return v=m.sent(),l||this.restoreNonExportableSprites(),[2,v];case 9:return[3,12];case 10:return[4,this.getImageAdvanced(e,i,s)];case 11:return v=m.sent(),l||this.restoreNonExportableSprites(),[2,v];case 12:return[2]}})})},t.prototype.addExtras=function(e,i,s){return Yt(this,void 0,void 0,function(){var l,p,h,g,v,m,_,b,C,S,E,x,R,P,k=this;return Lt(this,function(U){switch(U.label){case 0:return this.extraSprites.length?(l=0,p=0,h=e.width,g=e.height,v=0,m=0,[4,Promise.all(fm(this.extraSprites,function(W){return Yt(k,void 0,void 0,function(){var Y,K,X,J;return Lt(this,function(je){switch(je.label){case 0:return(Y=W instanceof Je?{sprite:W,position:"bottom"}:W).position=Y.position||"bottom",Y.marginTop=Y.marginTop||0,Y.marginRight=Y.marginRight||0,Y.marginBottom=Y.marginBottom||0,Y.marginLeft=Y.marginLeft||0,s?[4,Y.sprite.exporting.getCanvasAdvanced(i)]:[3,2];case 1:return K=je.sent(),[3,4];case 2:return[4,Y.sprite.exporting.getCanvas(i)];case 3:K=je.sent(),je.label=4;case 4:return X=K.width+Y.marginLeft+Y.marginRight,J=K.height+Y.marginTop+Y.marginBottom,"top"==Y.position?(h=Y.crop?g:Qe(h,X),p+=J):"right"==Y.position?(g=Y.crop?g:Qe(g,J),v+=X):"left"==Y.position?(g=Y.crop?g:Qe(g,J),l+=X):"bottom"===Y.position&&(h=Y.crop?g:Qe(h,X),m+=J),[2,{canvas:K,position:Y.position,left:Y.marginLeft,top:Y.marginTop,width:X,height:J}]}})})}))]):[3,2];case 1:return _=U.sent(),(b=this.getDisposableCanvas()).width=l+h+v,b.height=p+g+m,C=b.getContext("2d"),(S=this.backgroundColor||this.findBackgroundColor(this.sprite.dom))&&(C.fillStyle=S.toString(),C.fillRect(0,0,b.width,b.height)),R=(E=l)+h,P=(x=p)+g,be(_,function(W){"top"==W.position?C.drawImage(W.canvas,l+W.left,(x-=W.height)+W.top):"right"==W.position?(C.drawImage(W.canvas,R+W.left,p+W.top),R+=W.width):"left"==W.position?C.drawImage(W.canvas,(E-=W.width)+W.left,p+W.top):"bottom"===W.position&&(C.drawImage(W.canvas,l+W.left,P+W.top),P+=W.height),k.disposeCanvas(W.canvas)}),C.drawImage(e,l,p),[2,b];case 2:return[2,e]}})})},t.prototype.getCanvas=function(e){return Yt(this,void 0,void 0,function(){var i,s,l,p,h,g,v,m,_,b,C,S,E,x,R,P,k;return Lt(this,function(U){switch(U.label){case 0:L(e)||(e={}),i=this.backgroundColor||this.findBackgroundColor(this.sprite.dom),s=this.getDOMURL(),l=null,p=null,U.label=1;case 1:return U.trys.push([1,,4,5]),g=this.sprite.pixelWidth,v=this.sprite.pixelHeight,m=H0(this.sprite.dom),_=B0(this.sprite.dom),b=e.scale||1,C=this.getPixelRatio(e),b=this.getAdjustedScale(g*C,v*C,b,e),(h=this.getDisposableCanvas()).style.width=g*b+"px",h.style.height=v*b+"px",h.width=g*b,h.height=v*b,S=h.getContext("2d"),i&&(S.fillStyle=i.toString(),S.fillRect(0,0,g*b,v*b)),E=[],this.useWebFonts&&E.push(this.getFontFamilies().then(function(W){return p=W.blobs,W.cssText})),E.push(this.imagesToDataURI(this.sprite.dom,e)),E.push(this.prepForeignObjects(this.sprite.dom,e)),[4,Promise.all(E)];case 2:return x=U.sent(),R=this.normalizeSVG("<style>"+x[0]+"</style>"+this.serializeElement(this.sprite.paper.defs)+this.serializeElement(this.sprite.dom),e,g,v,b,m,_),P=new Blob([R],{type:"image/svg+xml"}),l=s.createObjectURL(P),[4,this.loadNewImage(l,g*b*C,v*b*C,"anonymous")];case 3:return k=U.sent(),S.drawImage(k,0,0),[3,5];case 4:return null!==l&&s.revokeObjectURL(l),null!==p&&be(p,function(W){s.revokeObjectURL(W)}),this.restoreRemovedObjects(),[7];case 5:return[2,h]}})})},t.prototype.getCanvasAdvanced=function(e){return Yt(this,void 0,void 0,function(){var i,s,l,p,h,g,v,m,_,b,C;return Lt(this,function(S){switch(S.label){case 0:return L(e)||(e={}),[4,this.imagesToDataURI(this.sprite.dom,e)];case 1:return S.sent(),i=this.backgroundColor||this.findBackgroundColor(this.sprite.dom),[4,this.canvg];case 2:return s=S.sent(),l=this.sprite.pixelWidth,p=this.sprite.pixelHeight,h=H0(this.sprite.dom),g=B0(this.sprite.dom),v=e.scale||1,m=this.getPixelRatio(e),v=this.getAdjustedScale(l*m,p*m,v,e),_=this.normalizeSVG(this.serializeElement(this.sprite.paper.defs)+this.serializeElement(this.sprite.dom),e,l,p,v,h,g,i),(b=this.getDisposableCanvas()).style.width=l*m*v+"px",b.style.height=p*m*v+"px",b.width=l*m*v,b.height=p*m*v,C={useCORS:!0},1!=m&&(C.ignoreDimensions=!0,C.scaleWidth=l*m*v,C.scaleHeight=p*m*v),[4,s.fromString(b.getContext("2d"),_,C).render()];case 3:return S.sent(),[2,b]}})})},t.prototype.getImageAdvanced=function(e,i,s){return Yt(this,void 0,void 0,function(){var l,p,h;return Lt(this,function(g){switch(g.label){case 0:return(l=this._objectsAlreadyHidden)||this.hideNonExportableSprites(),L(i)||(i=this.getFormatOptions(e)),[4,this.getCanvasAdvanced(i)];case 1:return p=g.sent(),!1===s?[3,3]:[4,this.addExtras(p,i,!0)];case 2:p=g.sent(),g.label=3;case 3:return h=p.toDataURL(this.getContentType(e),i.quality),this.disposeCanvas(p),l||this.restoreNonExportableSprites(),[2,h]}})})},t.prototype.getDisposableCanvas=function(){var e=document.createElement("canvas");return e.style.position="fixed",e.style.top="-10000px",document.body.appendChild(e),e},t.prototype.disposeCanvas=function(e){document.body.removeChild(e)},t.prototype.getPixelRatio=function(e){return this.useRetina&&window.devicePixelRatio||1},t.prototype.getAdjustedScale=function(e,i,s,l){if(!l)return s;var g,v,p=e*s,h=e*s;return l.maxWidth&&p>l.maxWidth&&(g=l.maxWidth/e),l.maxHeight&&h>l.maxHeight&&(v=l.maxHeight/i),g||v?vt(g,v):(l.minWidth&&p<l.minWidth&&(g=l.minWidth/e),l.minHeight&&h<l.minHeight&&(v=l.minHeight/i),g||v?Qe(g,v):s)},t.prototype.imagesToDataURI=function(e,i){return Yt(this,void 0,void 0,function(){var s,l,p,h,g,v;return Lt(this,function(m){switch(m.label){case 0:if(!(s=e.querySelectorAll("image")).length)return[3,2];for(l=[],p=s.length,h=0;h<p;h++)(v=(g=s[h]).getAttributeNS(t.XLINK,"href"))&&(-1!==v.indexOf("data:image")||(-1!==v.indexOf(".svg")?l.push(this.svgToDataURI(g,i)):l.push(this.imageToDataURI(g,i))));return[4,Promise.all(l)];case 1:return m.sent(),[2];case 2:return[2]}})})},t.prototype.prepForeignObjects=function(e,i){return Yt(this,void 0,void 0,function(){var s,l,p;return Lt(this,function(h){if((s=e.querySelectorAll("foreignObject")).length)for(l=s.length,p=0;p<l;p++)this.temporarilyRemoveObject(s[p]);return[2]})})},t.prototype.imageToDataURI=function(e,i){return Yt(this,void 0,void 0,function(){var s,l,p;return Lt(this,function(g){switch(g.label){case 0:return g.trys.push([0,2,,3]),[4,this.loadNewImage(e.getAttributeNS(t.XLINK,"href"),null,null,"anonymous")];case 1:s=g.sent(),(l=document.createElement("canvas")).width=s.width,l.height=s.height,l.getContext("2d").drawImage(s,0,0);try{return p=l.toDataURL(),e.setAttribute("href",p),[2,p]}catch(v){return!1!==i.keepTainted&&this.temporarilyRemoveObject(e),[2,void 0]}return[3,3];case 2:return g.sent(),(!i||!1!==i.keepTainted)&&this.temporarilyRemoveObject(e),[2,void 0];case 3:return[2]}})})},t.prototype.svgToDataURI=function(e,i){return Yt(this,void 0,void 0,function(){var s,l,p,h;return Lt(this,function(v){switch(v.label){case 0:s=e.getAttributeNS(t.XLINK,"href"),v.label=1;case 1:return v.trys.push([1,3,,4]),[4,z0(s)];case 2:return l=v.sent(),p=this.adapter.apply("charset",{charset:"base64",type:"svg",options:i}).charset,h=this.adapter.apply("svgToDataURI",{data:"data:"+this.getContentType("svg")+";"+p+","+btoa(l.response),options:i}).data,e.setAttributeNS(t.XLINK,"href",h),[2,h];case 3:return v.sent(),(!i||!1!==i.keepTainted)&&this.temporarilyRemoveObject(e),[2,void 0];case 4:return[2]}})})},t.prototype.temporarilyRemoveObject=function(e,i){var s=e.parentElement||e.parentNode;i||(i=this.sprite.paper.add("g").node),s.insertBefore(i,e),s.removeChild(e),this._removedObjects.push({element:e,placeholder:i})},t.prototype.restoreRemovedObjects=function(){for(var e;e=this._removedObjects.pop();)(e.placeholder.parentElement||e.placeholder.parentNode).insertBefore(e.element,e.placeholder)},t.prototype.simplifiedImageExport=function(){return Yt(this,void 0,void 0,function(){var e,i,s,l,p,h,g;return Lt(this,function(_){switch(_.label){case 0:if(!1===this.useSimplifiedExport)return[2,!1];if(!1===(e=G.getCache("simplifiedImageExport"))||!0===e)return[2,e];_.label=1;case 1:_.trys.push([1,6,,7]),(i=document.createElement("canvas")).width=1,i.height=1,s=i.getContext("2d"),l=this.getDOMURL(),p=new Blob([this.normalizeSVG("<g></g>",{},1,1)],{type:"image/svg+xml"}),h=l.createObjectURL(p),g=void 0,_.label=2;case 2:return _.trys.push([2,4,,5]),[4,this.loadNewImage(h,1,1)];case 3:return g=_.sent(),[3,5];case 4:return _.sent(),[2,!1];case 5:s.drawImage(g,0,0),l.revokeObjectURL(h);try{return G.setCache("simplifiedImageExport",!0),[2,!0]}catch(b){return G.setCache("simplifiedImageExport",!1),[2,!1]}return[3,7];case 6:return _.sent(),G.setCache("simplifiedImageExport",!1),[2,!1];case 7:return[2]}})})},t.prototype.loadNewImage=function(e,i,s,l){return new Promise(function(p,h){var g;function v(){if(l){var m=g.src;g.onerror=function(){h(new Error('Loading image "'+e+'" failed'))},g.removeAttribute("crossorigin"),g.src="",g.src=m}else h(new Error('Loading image "'+e+'" failed'))}g=i&&s?new Image(i,s):new Image,l&&g.setAttribute("crossOrigin",l),g.onload=function(){p(g)},g.onabort=v,g.onerror=v,g.src=e})},t.prototype.getDOMURL=function(){return self.URL||self.webkitURL||self},t.prototype.getSVG=function(e,i,s){return void 0===s&&(s=!0),Yt(this,void 0,void 0,function(){var l,p,h,g,v,m,_,b,C,S;return Lt(this,function(E){switch(E.label){case 0:return(l=this._objectsAlreadyHidden)||this.hideNonExportableSprites(),L(i)||(i=this.getFormatOptions("svg")),[4,this.awaitValidSprites()];case 1:return E.sent(),p=this.sprite.pixelWidth,h=this.sprite.pixelHeight,g=H0(this.sprite.dom),v=B0(this.sprite.dom),m=i.scale||1,_=this.getPixelRatio(i),m=this.getAdjustedScale(p*_,h*_,m,i),b=this.normalizeSVG(this.serializeElement(this.sprite.paper.defs)+this.serializeElement(this.sprite.dom),i,p,h,m,g,v),C=this.adapter.apply("charset",{charset:"charset=utf-8",type:"svg",options:i}).charset,S=this.adapter.apply("getSVG",{data:s?"data:"+this.getContentType(e)+";"+C+","+encodeURIComponent(b):b,options:i}).data,l||this.restoreNonExportableSprites(),[2,S]}})})},t.prototype.normalizeSVG=function(e,i,s,l,p,h,g,v){var m="";s&&(m+='width="'+Math.round(s*(p||1))+'px" '),l&&(m+='height="'+Math.round(l*(p||1))+'px" ');var _="";h&&(_+="font-family: "+h.replace(/"/g,"")+";"),g&&(_+="font-size: "+g+";"),p&&(m+='viewBox="0 0 '+s+" "+l+'" ');var b=[],C=e.match(/<foreignObject[\s\S]*<\/foreignObject>/gi);if(C)for(var S=0;S<C.length;S++)e=e.replace(C[S],$o),b.push(C[S]);e.match(/<svg/)?""!==m&&(e=(e=(e=e.replace(/(<svg[^>]*)width="[^"]*"/,"$1")).replace(/(<svg[^>]*)height="[^"]*"/,"$1")).replace(/(<svg)/,"$1"+m)):e='<?xml version="1.0" encoding="utf-8"?><svg '+m+' style="'+_+'" version="1.1" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink">'+e+"</svg>",v&&(e=e.replace(/(<svg[^>]*>)/,'$1<rect width="100%" height="100%" fill="'+v.rgba+'"/>')),/MSIE |Trident\//.test(navigator.userAgent)&&(e=e.replace(/<feColorMatrix [^\/>]*\/>/gi,""));var E=new RegExp("url\\("+pR(Dm()),"g");if(e=(e=e.replace(E,"url(#")).replace(/url\(&quot;([^)]*)&quot;\)/gm,"url($1)"),b.length)for(S=0;S<b.length;S++)e=e.replace($o,b[S]);return this.adapter.apply("normalizeSVG",{data:e,options:i}).data},t.prototype.serializeElement=function(e){return(new XMLSerializer).serializeToString(e)},t.prototype.getPDF=function(e,i){return Yt(this,void 0,void 0,function(){function s(x){var R={};R.normal=x.normal.path,E[x.normal.path]=x.normal.bytes,x.bold?(R.bold=x.bold.path,E[x.bold.path]=x.bold.bytes):R.bold=x.normal.path,x.italics?(R.italics=x.italics.path,E[x.italics.path]=x.italics.bytes):R.italics=x.normal.path,x.bolditalics?(R.bolditalics=x.bolditalics.path,E[x.bolditalics.path]=x.bolditalics.bytes):R.bolditalics=x.normal.path,S[x.name]=R}var l,p,h,g,v,m,_,b,C,S,E;return Lt(this,function(x){switch(x.label){case 0:return[4,this.getImage(i.imageFormat||"png",i)];case 1:return l=x.sent(),[4,this.pdfmake];case 2:return p=x.sent(),h=[30,30,30,30],g={pageSize:i.pageSize||"A4",pageOrientation:i.pageOrientation||"portrait",pageMargins:i.pageMargins||h,defaultStyle:{font:i.font?i.font.name:void 0},content:[]},v=this.adapter.apply("title",{title:this.title,options:i}).title,m=0,v&&(g.content.push({text:v,fontSize:i.fontSize||14,bold:!0,margin:[0,0,0,15]}),m+=50),i.addURL&&(g.content.push({text:this.language.translate("Saved from")+": "+document.location.href,fontSize:i.fontSize,margin:[0,0,0,15]}),m+=50),"pdfdata"!=e&&g.content.push({image:l,alignment:i.align||"left",fit:this.getPageSizeFit(g.pageSize,g.pageMargins,m)}),"pdfdata"==e||i.addData?(b=(_=g.content).push,C={},[4,this.getPDFData("pdf",i)]):[3,4];case 3:b.apply(_,[(C.table=x.sent(),C.fontSize=i.fontSize||14,C)]),x.label=4;case 4:return g=this.adapter.apply("pdfmakeDocument",{doc:g,options:i}).doc,S=null,E=null,i.font&&(S={},E={},s(i.font),i.extraFonts&&be(i.extraFonts,s)),[4,new Promise(function(R,P){p.createPdf(g,null,S,E).getDataUrl(function(k){R(k)})})];case 5:return[2,x.sent()]}})})},t.prototype.getPDFData=function(e,i){return Yt(this,void 0,void 0,function(){var s,l,p,h,g,v,m=this;return Lt(this,function(_){if(s={body:[]},l=this.adapter.apply("formatDataFields",{dataFields:this.dataFields,format:"pdf"}).dataFields,p=this.data,i.pivot)h=this.adapter.apply("dataFieldsOrder",{dataFieldsOrder:this.dataFieldsOrder,format:"pdfdata"}).dataFieldsOrder,Hl(l,function(b,C){var S=[];i.addColumnNames&&S.push(C);for(var E=p.length,x=0;x<E;x++)S.push(m.convertToSpecialFormat(b,p[x][b],i,!0));s.body.push(m.getPDFDataRow(S,i,void 0,!0))},function(b,C){var S=h.indexOf(b),E=h.indexOf(C);return S>E?1:S<E?-1:0});else for(i.addColumnNames&&(s.body.push(this.getPDFDataRow(l,i,void 0,!0)),s.headerRows=1),g=p.length,v=0;v<g;v++)s.body.push(this.getPDFDataRow(p[v],i,l));return[2,this.adapter.apply("pdfmakeTable",{table:s,options:i}).table]})})},t.prototype.getPDFDataRow=function(e,i,s,l){var p=this;void 0===l&&(l=!1);var h=[];s||(s=e);var g=this.adapter.apply("dataFieldsOrder",{dataFieldsOrder:this.dataFieldsOrder,format:"pdfdata"}).dataFieldsOrder;return Hl(s,function(v,m){var _=p.convertEmptyValue(v,e[v],i),b=l?_:p.convertToSpecialFormat(v,_,i);h.push(b=""+b)},function(v,m){var _=g.indexOf(v),b=g.indexOf(m);return _>b?1:_<b?-1:0}),h},t.prototype.getPageSizeFit=function(e,i,s){void 0===s&&(s=0);var l=[0,0,0,0];"number"==typeof i?l=[i,i,i,i]:2==i.length?l=[i[0],i[1],i[0],i[1]]:4==i.length&&(l=i);var h={"4A0":[4767.87,6740.79],"2A0":[3370.39,4767.87],A0:[2383.94,3370.39],A1:[1683.78,2383.94],A2:[1190.55,1683.78],A3:[841.89,1190.55],A4:[595.28,841.89],A5:[419.53,595.28],A6:[297.64,419.53],A7:[209.76,297.64],A8:[147.4,209.76],A9:[104.88,147.4],A10:[73.7,104.88],B0:[2834.65,4008.19],B1:[2004.09,2834.65],B2:[1417.32,2004.09],B3:[1000.63,1417.32],B4:[708.66,1000.63],B5:[498.9,708.66],B6:[354.33,498.9],B7:[249.45,354.33],B8:[175.75,249.45],B9:[124.72,175.75],B10:[87.87,124.72],C0:[2599.37,3676.54],C1:[1836.85,2599.37],C2:[1298.27,1836.85],C3:[918.43,1298.27],C4:[649.13,918.43],C5:[459.21,649.13],C6:[323.15,459.21],C7:[229.61,323.15],C8:[161.57,229.61],C9:[113.39,161.57],C10:[79.37,113.39],RA0:[2437.8,3458.27],RA1:[1729.13,2437.8],RA2:[1218.9,1729.13],RA3:[864.57,1218.9],RA4:[609.45,864.57],SRA0:[2551.18,3628.35],SRA1:[1814.17,2551.18],SRA2:[1275.59,1814.17],SRA3:[907.09,1275.59],SRA4:[637.8,907.09],EXECUTIVE:[521.86,756],FOLIO:[612,936],LEGAL:[612,1008],LETTER:[612,792],TABLOID:[792,1224]}[e];return h[0]-=l[0]+l[2],h[1]-=l[1]+l[3]+s,h},t.prototype.getExcel=function(e,i){return Yt(this,void 0,void 0,function(){var s,l,p,h,g,v,m,_,b,S=this;return Lt(this,function(E){switch(E.label){case 0:return L(i)||(i=this.getFormatOptions("xlsx")),[4,this.xlsx];case 1:if(s=E.sent(),l=this.adapter.apply("xlsxWorkbookOptions",{xlsx:s,options:{bookType:"xlsx",bookSST:!1,type:"base64"}}).options,p=this.normalizeExcelSheetName(this.adapter.apply("xlsxSheetName",{xlsx:s,name:this.title||this.language.translate("Data")}).name),h={SheetNames:[p],Sheets:{}},g=[],v=this.adapter.apply("formatDataFields",{dataFields:this.dataFields,format:"xslx"}).dataFields,i.pivot)m=this.adapter.apply("dataFieldsOrder",{dataFieldsOrder:this.dataFieldsOrder,format:"xlsx"}).dataFieldsOrder,Hl(v,function(x,R){var P=[];i.addColumnNames&&P.push(R);for(var k=S.data.length,U=0;U<k;U++)P.push(S.convertToSpecialFormat(x,S.data[U][x],i,!0));g.push(S.getExcelRow(P,i,void 0,!0))},function(x,R){var P=m.indexOf(x),k=m.indexOf(R);return P>k?1:P<k?-1:0});else for(i.addColumnNames&&g.push(this.getExcelRow(v,i,void 0,!0)),_=this.data.length,b=0;b<_;b++)g.push(this.getExcelRow(this.data[b],i,v));return h.Sheets[p]=s.utils.aoa_to_sheet(g),h=this.adapter.apply("xlsxWorkbook",{xlsx:s,workbook:h,options:i}).workbook,[2,this.adapter.apply("getExcel",{data:"data:"+this.getContentType(e)+";base64,"+s.write(h,l),options:i}).data]}})})},t.prototype.normalizeExcelSheetName=function(e){return fR(e=e.replace(/([:\\\/?*\[\]]+)/g," "),31,"...",!0)},t.prototype.getExcelRow=function(e,i,s,l){var p=this;void 0===l&&(l=!1);var h=[];s||(s=e);var g=this.adapter.apply("dataFieldsOrder",{dataFieldsOrder:this.dataFieldsOrder,format:"xlsx"}).dataFieldsOrder;return Hl(s,function(v,m){var _=p.convertEmptyValue(v,e[v],i),b=l?_:p.convertToSpecialFormat(v,_,i,!0);h.push(b)},function(v,m){var _=g.indexOf(v),b=g.indexOf(m);return _>b?1:_<b?-1:0}),h},t.prototype.getCSV=function(e,i,s){return void 0===s&&(s=!0),Yt(this,void 0,void 0,function(){var l,p,h,g,v,m,_,b,C,E=this;return Lt(this,function(x){if(L(i)||(i=this.getFormatOptions("csv")),l="",p=this.adapter.apply("formatDataFields",{dataFields:this.dataFields,format:"csv"}).dataFields,h="",g=this.data,i.pivot)v=this.adapter.apply("dataFieldsOrder",{dataFieldsOrder:this.dataFieldsOrder,format:"csv"}).dataFieldsOrder,Hl(p,function(R,P){var k=[];i.addColumnNames&&k.push(P);for(var U=g.length,W=0;W<U;W++)k.push(E.convertToSpecialFormat(R,g[W][R],i,!0));l+=h+E.getCSVRow(k,i,void 0,!0),h="\n"},function(R,P){var k=v.indexOf(R),U=v.indexOf(P);return k>U?-1:k<U?1:0});else{for(m=g.length,_=0;_<m;_++)b=this.getCSVRow(g[_],i,p),i.reverse?l=b+h+l:l+=h+b,h="\n";i.addColumnNames&&(l=this.getCSVRow(p,i,void 0,!0)+h+l)}return C=this.adapter.apply("charset",{charset:"charset=utf-8",type:e,options:i}).charset,[2,this.adapter.apply("getCSV",{data:s?"data:"+this.getContentType(e)+";"+C+","+encodeURIComponent(l):l,options:i}).data]})})},t.prototype.getCSVRow=function(e,i,s,l){var p=this;void 0===l&&(l=!1);var h=i.separator||",",g=[];s||(s=e);var v=this.adapter.apply("dataFieldsOrder",{dataFieldsOrder:this.dataFieldsOrder,format:"csv"}).dataFieldsOrder;return Hl(s,function(m,_){var b=p.convertEmptyValue(m,e[m],i),C=l?b:p.convertToSpecialFormat(m,b,i);C=(C=""+C).replace(/"/g,'""'),(i.forceQuotes||C.search(new RegExp('"|\n|'+h,"g"))>=0)&&(C='"'+C+'"'),g.push(C)},function(m,_){var b=v.indexOf(m),C=v.indexOf(_);return b>C?1:b<C?-1:0}),g.join(h)},t.prototype.getHTML=function(e,i,s){return void 0===s&&(s=!0),Yt(this,void 0,void 0,function(){var l,p,h,g,v,m,_,C=this;return Lt(this,function(S){if(L(i)||(i=this.getFormatOptions("html")),l="<table>",i.tableClass&&(l='<table class="'+i.tableClass+'">'),p=this.adapter.apply("formatDataFields",{dataFields:this.dataFields,format:"html"}).dataFields,h=this.data,i.pivot)g=this.adapter.apply("dataFieldsOrder",{dataFieldsOrder:this.dataFieldsOrder,format:"html"}).dataFieldsOrder,l+="\n<tbody>",Hl(p,function(E,x){var R=[];i.addColumnNames&&R.push(x);for(var P=h.length,k=0;k<P;k++)R.push(C.convertToSpecialFormat(E,h[k][E],i,!0));l+="\n"+C.getHTMLRow(R,i,void 0,!0)},function(E,x){var R=g.indexOf(E),P=g.indexOf(x);return R>P?-1:R<P?1:0}),l+="\n</tbody>";else{for(i.addColumnNames&&(l+="\n<thead>\n"+this.getHTMLRow(p,i,void 0,!0,!0)+"\n</thead>"),l+="\n<tbody>",v=h.length,m=0;m<v;m++)l+="\n"+this.getHTMLRow(h[m],i,p);l+="\n</tbody>"}return l+="\n</table>",_=this.adapter.apply("charset",{charset:"charset=utf-8",type:e,options:i}).charset,[2,this.adapter.apply("getHTML",{data:s?"data:"+this.getContentType(e)+";"+_+","+encodeURIComponent(l):l,options:i}).data]})})},t.prototype.getHTMLRow=function(e,i,s,l,p){var h=this;void 0===l&&(l=!1),void 0===p&&(p=!1);var g="\t<tr>";i.rowClass&&(g='\t<tr class="'+i.rowClass+'">'),s||(s=e);var v=this.adapter.apply("dataFieldsOrder",{dataFieldsOrder:this.dataFieldsOrder,format:"html"}).dataFieldsOrder,m=p?"th":"td",_=!0;return Hl(s,function(b,C){var S=h.convertEmptyValue(b,e[b],i),E=l?S:h.convertToSpecialFormat(b,S,i);E=(E=""+E).replace(/[\u00A0-\u9999<>\&]/gim,function(R){return"&#"+R.charCodeAt(0)+";"});var x=m;i.pivot&&_&&(x="th"),g+=i.cellClass?"\n\t\t<"+x+' class="'+i.cellClass+'">'+E+"</"+x+">":"\n\t\t<"+x+">"+E+"</"+x+">",_=!1},function(b,C){var S=v.indexOf(b),E=v.indexOf(C);return S>E?1:S<E?-1:0}),g+="\n\t</tr>"},t.prototype.getJSON=function(e,i,s){return void 0===s&&(s=!0),Yt(this,void 0,void 0,function(){var l,p,h,g,v,m,_,b,S=this;return Lt(this,function(E){if(L(i)||(i=this.getFormatOptions("json")),p=this.adapter.apply("formatDataFields",{dataFields:this.dataFields,format:"json"}).dataFields,this._dynamicDataFields)l=this.data;else for(l=[],g=function(x,R){var P=h[R];if("object"==typeof P){var k={};We(P,function(U,W){L(p[U])&&(k[p[U]]=S.convertToSpecialFormat(U,W,i))}),l.push(k)}},v=(h=this.data).length,m=0;m<v;m++)g(0,m);return _=JSON.stringify(l,function(x,R){return"object"==typeof R&&We(R,function(P,k){R[P]=S.convertToSpecialFormat(P,k,i)}),R},i.indent),b=this.adapter.apply("charset",{charset:"charset=utf-8",type:e,options:i}).charset,[2,this.adapter.apply("getJSON",{data:s?"data:"+this.getContentType(e)+";"+b+","+encodeURIComponent(_):_,options:i}).data]})})},t.prototype.convertToSpecialFormat=function(e,i,s,l){if("number"==typeof i)if(this.isDateField(e))i=new Date(i);else{if(this.isDurationField(e))return this.durationFormatter.format(i,this.durationFormat);if(this.isNumberField(e)&&this.numberFormat)return this.numberFormatter.format(i,this.numberFormat)}return i instanceof Date?s.useTimestamps?i=i.getTime():s.useLocale?l||(i=i.toLocaleString()):i=this.dateFormatter.format(i,this.dateFormat):gt(i)&&this.isDateField(e)&&this.dateFormat&&(i=this.dateFormatter.format(this.dateFormatter.parse(i),this.dateFormat)),i},t.prototype.convertEmptyValue=function(e,i,s){return L(i)?i:s.emptyAs},t.prototype.download=function(e,i,s){return void 0===s&&(s=!1),Yt(this,void 0,void 0,function(){var g,C,h,S,E,v,m,_,b,x,R,l,p,P,k;return Lt(this,function(U){if(this.msBlobDownloadSupport()){if(l=e.split(";"),p=l.shift().replace(/data:/,""),e=decodeURIComponent(l.join(";").replace(/^[^,]*,/,"")),-1!=["image/svg+xml","application/json","text/csv"].indexOf(p))return g=new Blob([e],{type:p}),window.navigator.msSaveBlob(g,i),[2,!0];try{h=atob(e),e=h}catch(W){return[2,!1]}for(v=new Array(e.length),m=0;m<e.length;++m)_=e.charCodeAt(m),v[m]=_;b=new Blob([new Uint8Array(v)],{type:p}),window.navigator.msSaveBlob(b,i)}else if(this.blobDownloadSupport()){if((C=document.createElement("a")).download=i,document.body.appendChild(C),l=e.split(";"),p=l.shift().replace(/data:/,""),e=decodeURIComponent(l.join(";").replace(/^[^,]*,/,"")),-1!=["image/svg+xml","application/json","text/csv","text/html"].indexOf(p))return s&&(e="\ufeff"+e),S=new Blob([e],{type:p}),E=window.URL.createObjectURL(S),C.href=E,C.download=i,C.click(),setTimeout(function(){document.body.removeChild(C),window.URL.revokeObjectURL(E)},100),[2,!0];try{h=atob(e),e=h}catch(W){return[2,!1]}for(v=new Array(e.length),m=0;m<e.length;++m)_=e.charCodeAt(m),v[m]=_;s&&(v=[239,187,191].concat(v)),b=new Blob([new Uint8Array(v)],{type:p}),x=window.URL.createObjectURL(b),C.href=x,C.download=i,document.body.appendChild(C),C.click(),document.body.removeChild(C),setTimeout(function(){window.URL.revokeObjectURL(x)},100)}else this.linkDownloadSupport()?((R=document.createElement("a")).download=i,R.href=e,document.body.appendChild(R),R.click(),document.body.removeChild(R)):this.legacyIE()?4===(l=e.match(/^data:(.*);[ ]*([^,]*),(.*)$/)).length&&("base64"==l[2]?l[1].match(/^image\//)&&this.showModal('<img src="'+e+'" style="float: left; max-width: 50%; max-height: 80%; margin: 0 1em 0.5em 0; border: 1px solid #eee;" /><p>'+this.language.translate('To save the image, right-click thumbnail on the left and choose "Save picture as..."')+'</p><p style="text-align: center;"><small>'+this.language.translate("(Press ESC to close this message)")+"</small></p>",this.language.translate("Image Export Complete")):(p=void 0,i.match(/\.svg$/)?p="image/svg+xml":(p="text/plain",i+=".txt"),(P=document.createElement("iframe")).width="1px",P.height="1px",P.style.display="none",document.body.appendChild(P),(k=P.contentDocument).open(p,"replace"),k.write(decodeURIComponent(l[3])),k.close(),k.execCommand("SaveAs",!0,i),document.body.removeChild(P))):window.location.href=e;return[2,!0]})})},t.prototype.downloadSupport=function(){return this.linkDownloadSupport()||this.msBlobDownloadSupport()},t.prototype.linkDownloadSupport=function(){var e=G.getCache("linkDownloadSupport");if(!1===e||!0===e)return e;var s=void 0!==document.createElement("a").download;return G.setCache("linkDownloadSupport",s),s},t.prototype.blobDownloadSupport=function(){return L(window.Blob)},t.prototype.msBlobDownloadSupport=function(){return L(window.navigator.msSaveOrOpenBlob)},t.prototype.legacyIE=function(){var e=document.createElement("div");return e.innerHTML="\x3c!--[if lt IE 10]><i></i><![endif]--\x3e",1==e.getElementsByTagName("i").length},t.prototype.print=function(e,i,s){return Yt(this,void 0,void 0,function(){return Lt(this,function(l){return"css"==i.printMethod?[2,this.printViaCSS(e,i,s)]:[2,this.printViaIframe(e,i,s)]})})},t.prototype.printViaCSS=function(e,i,s){return Yt(this,void 0,void 0,function(){var l,p,h,g;return Lt(this,function(m){return l=document.documentElement.scrollTop||document.body.scrollTop,p=new Kt(TR(this.container),"body > *",{display:"none",position:"fixed",visibility:"hidden",opacity:"0",clipPath:"polygon(0px 0px,0px 0px,0px 0px,0px 0px);"}),s&&document&&document.title&&(h=document.title,document.title=s),(g=new Image).src=e,g.style.maxWidth="100%",g.style.display="block",g.style.position="relative",g.style.visibility="visible",g.style.opacity="1",g.style.clipPath="none",document.body.appendChild(g),this.setTimeout(function(){window.print()},50),/iPad|iPhone|iPod/.test(navigator.userAgent)&&!window.MSStream&&i.delay<1e3?i.delay=1e3:i.delay<100&&(i.delay=100),this.setTimeout(function(){document.body.removeChild(g),p.dispose(),h&&(document.title=document.title),document.documentElement.scrollTop=document.body.scrollTop=l},i.delay||500),[2,!0]})})},t.prototype.printViaIframe=function(e,i,s){return Yt(this,void 0,void 0,function(){var l,p;return Lt(this,function(g){return(l=document.createElement("iframe")).style.visibility="hidden",document.body.appendChild(l),l.contentWindow.document.open(),l.contentWindow.document.close(),(p=new Image).src=e,p.style.maxWidth="100%",p.style.height="auto",s&&(l.contentWindow.document.title=s),l.contentWindow.document.body.appendChild(p),l.load=function(){l.contentWindow.document.body.appendChild(p)},this.setTimeout(function(){try{l.contentWindow.document.execCommand("print",!1,null)||l.contentWindow.print()}catch(v){l.contentWindow.print()}},i.delay||50),/iPad|iPhone|iPod/.test(navigator.userAgent)&&!window.MSStream&&i.delay<1e3?i.delay=1e3:i.delay<100&&(i.delay=100),this.setTimeout(function(){document.body.removeChild(l)},i.delay+50||100),[2,!0]})})},t.prototype.findBackgroundColor=function(e){var i=1,s=RR(e,"background-color");if((s.match(/[^,]*,[^,]*,[^,]*,[ ]?0/)||"transparent"==s)&&(i=0),0==i){var l=e.parentElement;return l?this.findBackgroundColor(l):Le("#fff")}return Le(s,i)},Object.defineProperty(t.prototype,"container",{get:function(){return this.adapter.apply("container",{container:this._container}).container},set:function(e){this._container=e},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"sprite",{get:function(){return this.adapter.apply("sprite",{sprite:this._sprite}).sprite},set:function(e){this._sprite=e},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"extraSprites",{get:function(){return this.adapter.apply("extraSprites",{extraSprites:this._extraSprites}).extraSprites},set:function(e){this._extraSprites=e},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"validateSprites",{get:function(){return this.adapter.apply("validateSprites",{validateSprites:this._validateSprites}).validateSprites},set:function(e){this._validateSprites=e},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"data",{get:function(){return this.adapter.apply("data",{data:this._data}).data},set:function(e){this._data=e},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"dataFields",{get:function(){return this._dataFields||this.generateDataFields(),this.adapter.apply("dataFields",{dataFields:this._dataFields}).dataFields},set:function(e){this._dataFields=e,this._dynamicDataFields=!1},enumerable:!0,configurable:!0}),t.prototype.handleDataUpdated=function(){this._dynamicDataFields&&(this._dataFields=void 0);var e=this.data.length>0;this._prevHasData!=e&&(this._prevHasData=e,this.menu&&this.menu.invalidate())},Object.defineProperty(t.prototype,"dateFormatter",{get:function(){return this._dateFormatter||(this._dateFormatter=new Rm,this._dateFormatter.language=this.language),this.adapter.apply("dateFormatter",{dateFormatter:this._dateFormatter}).dateFormatter},set:function(e){this._dateFormatter=e},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"dateFormat",{get:function(){return this.adapter.apply("dateFormat",{dateFormat:this._dateFormat}).dateFormat},set:function(e){this._dateFormat=e},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"dateFields",{get:function(){return this._dateFields||(this._dateFields=new Dt),this.adapter.apply("dateFields",{dateFields:this._dateFields}).dateFields},set:function(e){this._dateFields=e},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"numberFormatter",{get:function(){return this._numberFormatter||(this._numberFormatter=new GR,this._numberFormatter.language=this.language),this.adapter.apply("numberFormatter",{numberFormatter:this._numberFormatter}).numberFormatter},set:function(e){this._numberFormatter=e},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"numberFormat",{get:function(){return this.adapter.apply("numberFormat",{numberFormat:this._numberFormat}).numberFormat},set:function(e){this._numberFormat=e},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"numberFields",{get:function(){return this._numberFields||(this._numberFields=new Dt),this.adapter.apply("numberFields",{numberFields:this._numberFields}).numberFields},set:function(e){this._numberFields=e},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"durationFormatter",{get:function(){return this._durationFormatter||(this._durationFormatter=new HR,this._durationFormatter.language=this.language),this.adapter.apply("durationFormatter",{durationFormatter:this._durationFormatter}).durationFormatter},set:function(e){this._durationFormatter=e},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"durationFormat",{get:function(){return this.adapter.apply("durationFormat",{durationFormat:this._durationFormat}).durationFormat},set:function(e){this._durationFormat=e},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"durationFields",{get:function(){return this._durationFields||(this._durationFields=new Dt),this.adapter.apply("durationFields",{durationFields:this._durationFields}).durationFields},set:function(e){this._durationFields=e},enumerable:!0,configurable:!0}),t.prototype.generateDataFields=function(){var e=this;this._dataFields={},this.data.length&&be(this.data,function(i){We(i,function(s,l){L(e._dataFields[s])||(e._dataFields[s]=e.adapter.apply("dataFieldName",{name:s,field:s}).name)})})},t.prototype.isDateField=function(e){return this.adapter.apply("isDateField",{isDateField:this.dateFields.contains(e),field:e}).isDateField},t.prototype.isNumberField=function(e){return this.adapter.apply("isNumberField",{isNumberField:this.numberFields.contains(e),field:e}).isNumberField},t.prototype.isDurationField=function(e){return this.adapter.apply("isDurationField",{isDurationField:this.durationFields.contains(e),field:e}).isDurationField},t.prototype.getContentType=function(e){var i="";switch(e){case"png":case"gif":i="image/"+e;break;case"jpg":i="image/jpeg";break;case"svg":i="image/svg+xml";break;case"csv":i="text/csv";break;case"json":i="application/json";break;case"html":i="text/html";break;case"pdf":case"pdfdata":i="application/pdf";break;case"xlsx":i="application/vnd.openxmlformats-officedocument.spreadsheetml.sheet"}return this.adapter.apply("contentType",{contentType:i,type:e}).contentType},Object.defineProperty(t.prototype,"filePrefix",{get:function(){return this.adapter.apply("filePrefix",{filePrefix:this._filePrefix}).filePrefix},set:function(e){this._filePrefix=e},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"backgroundColor",{get:function(){return this.adapter.apply("backgroundColor",{backgroundColor:this._backgroundColor}).backgroundColor},set:function(e){this._backgroundColor=e},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"title",{get:function(){return this.adapter.apply("title",{title:this._title}).title},set:function(e){this._title=e},enumerable:!0,configurable:!0}),t.prototype.showPreloader=function(){var e=this.preloader;e&&(e.progress=.5,e.label.text="...")},t.prototype.hidePreloader=function(){var e=this.preloader;e&&(e.progress=1)},Object.defineProperty(t.prototype,"preloader",{get:function(){return this._sprite&&this._sprite.parent&&this._sprite.parent.preloader?this._sprite.parent.preloader:void 0},enumerable:!0,configurable:!0}),t.prototype.showTimeout=function(){this.showModal(this.adapter.apply("timeoutMessage",{message:this.language.translate("Export operation took longer than expected. Something might have gone wrong.")}).message)},t.prototype.hideTimeout=function(){this._timeoutTimeout&&(this.removeDispose(this._timeoutTimeout),this._timeoutTimeout=null),this.hideModal()},Object.defineProperty(t.prototype,"language",{get:function(){return this._language||(this._language=new lc),this._language},set:function(e){this._language=e},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"modal",{get:function(){return this._modal||(this._modal=new UL,this._modal.adapter.add("classPrefix",function(e){return nt.classNamePrefix+e})),this._modal},enumerable:!0,configurable:!0}),t.prototype.showModal=function(e,i){this.hideModal(),this.hidePreloader();var s=this.modal;s.container=this.sprite.svgContainer.SVGContainer,s.content=e,s.readerTitle=i,s.open()},t.prototype.hideModal=function(){this._modal&&this.modal.close()},t.prototype._canvg=function(){return Yt(this,void 0,void 0,function(){var e;return Lt(this,function(i){switch(i.label){case 0:return[4,Promise.all([Z.e(774),Z.e(265)]).then(Z.bind(Z,427))];case 1:return null!=(e=i.sent()).default?[2,e.default]:[2,e]}})})},Object.defineProperty(t.prototype,"canvg",{get:function(){return this._canvg()},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"pdfmake",{get:function(){return null==BR&&(BR=function(){return Yt(this,void 0,void 0,function(){var n,t,e,i;return Lt(this,function(s){switch(s.label){case 0:return[4,Promise.all([Promise.all([Z.e(774),Z.e(643)]).then(Z.t.bind(Z,496,23)),Promise.all([Z.e(774),Z.e(643)]).then(Z.bind(Z,7494))])];case 1:return n=s.sent(),t=n[0],e=n[1],(i=window).pdfMake=i.pdfMake||{},i.pdfMake.vfs=e.default,t.vfs=e.default,[2,t]}})})}()),BR},enumerable:!0,configurable:!0}),t.prototype._xlsx=function(){return Yt(this,void 0,void 0,function(){return Lt(this,function(e){switch(e.label){case 0:return[4,Z.e(297).then(Z.t.bind(Z,462,23))];case 1:return[2,e.sent()]}})})},Object.defineProperty(t.prototype,"xlsx",{get:function(){return this._xlsx()},enumerable:!0,configurable:!0}),t.prototype.setFormatOptions=function(e,i){this._formatOptions.setKey(e,i)},t.prototype.getFormatOptions=function(e){return this._formatOptions.getKey(e)},Object.defineProperty(t.prototype,"formatOptions",{get:function(){return this._formatOptions},enumerable:!0,configurable:!0}),t.prototype._disablePointers=function(){L(this._spriteInteractionsEnabled)||(this._spriteInteractionsEnabled=this.sprite.interactionsEnabled),this.sprite.interactionsEnabled=!1},t.prototype._releasePointers=function(){L(this._spriteInteractionsEnabled)&&!this._exportRunning&&(this.sprite.interactionsEnabled=this._spriteInteractionsEnabled)},t.prototype.hideNonExportableSprites=function(){var e=this;if(!this._objectsAlreadyHidden){var i=this.sprite.svgContainer;i&&be(i.nonExportableSprites,function(s){!s.isHidden&&!s.isHiding&&s.visible&&e._hiddenObjects.push(s),s.hide(0)}),this._objectsAlreadyHidden=!0}},t.prototype.restoreNonExportableSprites=function(){!this._objectsAlreadyHidden||(be(this._hiddenObjects,function(e){e.show(0)}),this._hiddenObjects=[],this._objectsAlreadyHidden=!1)},t.prototype.awaitValidSprites=function(){return Yt(this,void 0,void 0,function(){var e;return Lt(this,function(i){switch(i.label){case 0:return e=[],this.validateSprites.length&&be(this.validateSprites,function(s,l){s.invalid&&e.push(new Promise(function(p,h){s.events.once("validated",function(g){p()})}))}),e.length?[4,Promise.all(e)]:[3,2];case 1:i.sent(),i.label=2;case 2:return[2]}})})},t.prototype.processConfig=function(e){G.registeredClasses.ExportMenu=gY,e&&(L(e.menu)&&!L(e.menu.type)&&(e.menu.type="ExportMenu"),L(e.dataFields)&&li(e.dataFields)&&(this.dataFields=e.dataFields,delete e.dataFields)),n.prototype.processConfig.call(this,e)},t.XLINK="http://www.w3.org/1999/xlink",t}(qL),Ni=["fill","fillOpacity","stroke","strokeOpacity","strokeWidth","strokeDasharray","strokeDashoffset","strokeLinecap","strokeLinejoin"],Je=function(n){function t(){var e=n.call(this)||this;return e.properties={},e._eventDispatcher=new j4(e),e._bindings={},e._isTemplate=!1,e._isPath=!1,e._inited=!1,e._ready=!1,e.isHiding=!1,e._isHidden=!1,e.isShowing=!1,e.isStandaloneInstance=!1,e._isActive=!1,e._mask=new Pn,e._positionPrecision=3,e._language=new Pn,e._exporting=new Pn,e._exportable=!0,e._bbox={x:0,y:0,width:0,height:0},e.invalid=!1,e.positionInvalid=!1,e.propertyFields={},e.applyOnClones=!1,e._measuredWidthSelf=0,e._measuredHeightSelf=0,e.maxLeft=0,e.maxRight=0,e.maxTop=0,e.maxBottom=0,e.maxLeftSelf=0,e.maxRightSelf=0,e.maxTopSelf=0,e.maxBottomSelf=0,e._isDragged=!1,e._isResized=!1,e._disabled=!1,e._internalDisabled=!1,e._updateDisabled=!1,e._internalDefaultsApplied=!1,e.rollOutDelay=0,e.isBaseSprite=!1,e.shouldClone=!0,e.appeared=!1,e.ex=0,e.ey=0,e.dragWhileResize=!1,e.measureFailed=!1,e.preventShow=!1,e.cloneTooltip=!0,e.className="Sprite",e._disposers.push(e._eventDispatcher),e.group=e.paper.addGroup("g"),e.setPropertyValue("scale",1),e.setPropertyValue("rotation",0),e.setPropertyValue("align","none"),e.setPropertyValue("valign","none"),e.setPropertyValue("pixelPerfect",!1),e.setPropertyValue("visible",!0),e.setPropertyValue("tooltipPosition","fixed"),e.setPropertyValue("verticalCenter","none"),e.setPropertyValue("horizontalCenter","none"),e.setPropertyValue("tooltipX",ue(50)),e.setPropertyValue("tooltipX",ue(50)),e.setPropertyValue("marginTop",0),e.setPropertyValue("marginBottom",0),e.setPropertyValue("marginLeft",0),e.setPropertyValue("marginRight",0),e.setPropertyValue("dx",0),e.setPropertyValue("dy",0),e.setPropertyValue("paddingTop",0),e.setPropertyValue("paddingBottom",0),e.setPropertyValue("paddingRight",0),e.setPropertyValue("paddingLeft",0),e.setPropertyValue("togglable",!1),e.setPropertyValue("hidden",!1),e.setPropertyValue("urlTarget","_self"),e.setPropertyValue("alwaysShowTooltip",!1),e.setPropertyValue("showTooltipOn","hover"),e._prevMeasuredWidth=0,e._prevMeasuredHeight=0,e._measuredWidth=0,e._measuredHeight=0,e._isMeasured=!0,e.invalidate(),e.applyTheme(),e._disposers.push(e.events),e._disposers.push(e.group),e._disposers.push(e._mask),e._disposers.push(e._language),e._disposers.push(e._exporting),e._disposers.push(new Bt(function(){We(e._bindings,function(i,s){s.dispose()})})),e.setPropertyValue("interactionsEnabled",!0),e}return $(t,n),Object.defineProperty(t.prototype,"events",{get:function(){return this._eventDispatcher},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"adapter",{get:function(){return this._adapterO||(this._adapterO=new To(this)),this._adapterO},enumerable:!0,configurable:!0}),t.prototype.applyTheme=function(){n.prototype.applyTheme.call(this),nt.autoSetClassName&&this.setClassName()},t.prototype.getCurrentThemes=function(){var e=this._themes;if(e)return e;var i=this._parent;return i?i.getCurrentThemes():G.themes},t.prototype.applyInternalDefaults=function(){this._internalDefaultsApplied=!0},t.prototype.invalidate=function(){this.disabled||this._isTemplate||this.__disabled||this.invalid||(this.invalid=!0,G.addToInvalidSprites(this),lt.requestFrame())},t.prototype.validate=function(){this.dispatchImmediately("beforevalidated"),this._internalDefaultsApplied||this.applyInternalDefaults(),this.beforeDraw(),this.draw(),this.invalid=!1,G.removeFromInvalidSprites(this),this.afterDraw()},t.prototype.invalidatePosition=function(){this.disabled||this._isTemplate||this.positionInvalid||(this.positionInvalid=!0,G.addToInvalidPositions(this),lt.requestFrame())},t.prototype.validatePosition=function(){var e=this.pixelX,i=this.pixelY,s=this.dx,l=this.dy,p=e+s,h=i+l;this._updateDisabled&&(this._internalDisabled?this.group.attr({display:"none"}):this.disabled||this.removeSVGAttribute("display"),this._updateDisabled=!1);var g=this.measure(),v=this.group.transformString;this.group.moveTo({x:p,y:h}),this.group.rotation=this.rotation,this.group.scale=this.nonScaling?this.scale/this.globalScale:this.scale,(v!=this.group.transformString||g)&&(null==v?this.dispatch("transformed"):this.dispatchImmediately("transformed"),this.dispatch("positionchanged"),("hit"==this.showTooltipOn||"always"==this.showTooltipOn)&&this.updateTooltipPosition()),e+s==p&&i+l==h&&(G.removeFromInvalidPositions(this),this.positionInvalid=!1);var m=this._maskRectangle;m&&this._clipElement.moveTo({x:m.x-e,y:m.y-i})},t.prototype.beforeDraw=function(){},t.prototype.draw=function(){},t.prototype.afterDraw=function(){var e,i;if((this.isMeasured||"none"!==this.horizontalCenter||"none"!==this.verticalCenter)&&this.measureElement(),this._inited)this.dispatch("validated");else{if(this._adapterO)try{for(var s=Sf(this._adapterO.keys()),l=s.next();!l.done;l=s.next()){var p=l.value;switch(p){case"mask":case"fill":case"opacity":case"fillOpacity":case"stroke":case"strokeOpacity":case"strokeWidth":case"shapeRendering":case"strokeDasharray":case"strokeDashoffset":case"strokeLinecap":case"strokeLinejoin":case"textDecoration":case"fontSize":case"fontFamily":case"fontWeight":this[p]=this[p]}}}catch(h){e={error:h}}finally{try{l&&!l.done&&(i=s.return)&&i.call(s)}finally{if(e)throw e.error}}this.applyFilters(),this.visible=this.visible,this.interactionsEnabled=this.getPropertyValue("interactionsEnabled"),this._inited=!0,this.showOnInit||(this.appeared=!0),this.hidden&&this.hide(0),this.applyMask(),this.dispatch("validated"),this.dispatch("inited"),this.dispatchReady()}"always"==this.showTooltipOn&&(!this.visible||this.disabled||this.__disabled?this.hideTooltip(0):this.showTooltip())},t.prototype.dispatchReady=function(){this.isReady()||(this._ready=!0,this.dispatch("ready"))},t.prototype.reinit=function(){this._inited=!1,this.setState(this.defaultState),this.invalidate()},t.prototype.handleGlobalScale=function(){this.dispatch("globalscalechanged"),this.nonScalingStroke&&(this.strokeWidth=this.strokeWidth),this.nonScaling&&this.validatePosition(),this.updateFilterScale()},t.prototype.updateFilterScale=function(){var e=this;oe(this.filters.iterator(),function(i){i.scale=e.globalScale})},t.prototype.removeFromInvalids=function(){G.removeFromInvalidSprites(this),G.removeFromInvalidPositions(this)},t.prototype.copyFrom=function(e){var i=this;n.prototype.copyFrom.call(this,e),this.isMeasured=e.isMeasured,this.states.copyFrom(e.states),e.filters.length>0&&e.filters.each(function(s){i.filters.push(s.clone())}),e._adapterO&&this.adapter.copyFrom(e._adapterO),e._interaction&&this.interactions.copyFrom(e.interactions),e._plugins&&this.plugins.copyFrom(e.plugins),this.configField=e.configField,this.applyOnClones=e.applyOnClones,this.disabled=e.disabled,this.virtualParent=e.virtualParent,this.exportable=e.exportable,e._tooltip&&(this._tooltip?this._tooltip.copyFrom(e.tooltip):e.cloneTooltip?this.tooltip=e.tooltip.clone():this._tooltip=e.tooltip),this._showSystemTooltip=e.showSystemTooltip,Bl(e.propertyFields,this.propertyFields),Bl(e.properties,this),e.fillModifier&&(this.fillModifier=e.fillModifier.clone()),e.strokeModifier&&(this.strokeModifier=e.strokeModifier.clone())},t.prototype.dispose=function(){if(!this.isDisposed()){if("always"==this.showTooltipOn&&this.tooltip&&this.tooltip.hide(),this.dispatchImmediately("beforedisposed"),this.isBaseSprite){if(this.htmlContainer)for(;this.htmlContainer.childNodes.length>0;)this.htmlContainer.removeChild(this.htmlContainer.firstChild);this.isBaseSprite=!1}if(n.prototype.dispose.call(this),this._adapterO&&this._adapterO.clear(),this.applyOnClones&&this._clones)for(var e=this._clones.length-1;e>=0;e--)this._clones.getIndex(e).dispose();this._svgContainer&&this._svgContainer.dispose(),this._interactionDisposer&&(this._interactionDisposer.dispose(),this._interactionDisposer=void 0),this._urlDisposer&&this._urlDisposer.dispose(),this.removeFromInvalids(),this.element&&this.element.dispose(),this.group&&this.group.dispose(),this._numberFormatter&&this._numberFormatter.dispose(),this._focusFilter&&this._focusFilter.dispose();var s=this.stroke;s&&!(s instanceof St)&&s.dispose&&(this.clonedFrom&&this.clonedFrom.stroke==s||s.dispose());var l=this.fill;if(l&&!(l instanceof St)&&l.dispose&&(this.clonedFrom&&this.clonedFrom.fill==l||l.dispose()),L(this.id)&&this.map.removeKey(this.id),this.parent=void 0,this._filters)for(;this._filters.length>0;){var p=this._filters.getIndex(0);p.dispose(),this._filters.removeValue(p)}this._alwaysShowDisposers=void 0}},Object.defineProperty(t.prototype,"isTemplate",{get:function(){return this._isTemplate},set:function(e){e=pi(e),this._isTemplate!=e&&(this._isTemplate=e,this instanceof Ve&&oe(this.children.iterator(),function(i){i.isTemplate=e}),e?(this.parent=this._parent,this.removeFromInvalids()):this.invalidate())},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"showSystemTooltip",{get:function(){return L(this._showSystemTooltip)?this._showSystemTooltip:this.virtualParent?this.virtualParent.showSystemTooltip:!!this._parent&&this._parent.showSystemTooltip},set:function(e){e=pi(e),this._showSystemTooltip!=e&&(this._showSystemTooltip=e,this.applyAccessibility())},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"topParent",{get:function(){return this._topParent?this._topParent:this._parent?this._parent.topParent:void 0},set:function(e){this._topParent=e},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"parent",{get:function(){return this._parent},set:function(e){if(!this._isTemplate){var i=this._parent;i!=e&&(i&&i.children.removeValue(this),this._parent=e,e?(this.topParent=e.topParent,e.isTemplate&&(this.isTemplate=!0),this.baseId=e.baseId,e.children.push(this),this._tooltip&&!this._tooltipContainer&&(this._tooltip.parent=e.tooltipContainer),this._dataItem||(this.dataItem=e.dataItem),this.handleAlwaysShowTooltip(),this.dataItem&&this.applyAccessibility(),this.dispatchImmediately("parentset")):this.topParent=void 0)}},enumerable:!0,configurable:!0}),t.prototype.handleAlwaysShow=function(){this.showTooltip()},t.prototype.handleAlwaysShowTooltip=function(){var e=this,i=this._alwaysShowDisposers;if(i&&be(i,function(l){l.dispose()}),this._alwaysShowDisposers=[],"always"==this.showTooltipOn)for(;null!=e;){var s=e.events.on("visibilitychanged",this.handleAlwaysShow,this,!1);this.addDisposer(s),this._alwaysShowDisposers.push(s),e=e.parent}},Object.defineProperty(t.prototype,"virtualParent",{get:function(){return this._virtualParent},set:function(e){this._virtualParent=e,this.dataItem&&this.applyAccessibility()},enumerable:!0,configurable:!0}),t.prototype.appendDefs=function(){this.filterElement&&this.paper.appendDef(this.filterElement);var e=this.fill;e&&e.element&&this.paper.appendDef(e.element);var i=this.stroke;if(i&&i.element&&this.paper.appendDef(i.element),this.fillModifier&&this.fill instanceof St){var s=this.fillModifier.modify(this.fill);s&&s.element&&this.paper.appendDef(s.element)}if(this.strokeModifier&&this.stroke instanceof St){var l=this.strokeModifier.modify(this.stroke);l&&l.element&&this.paper.appendDef(l.element)}this._clipPath&&this.paper.appendDef(this._clipPath),!1===this._exportable&&(this.exportable=!1)},Object.defineProperty(t.prototype,"map",{get:function(){var e=this.topParent;return e?e.map:(this._map||(this._map=new ii),this._map)},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"delayedMap",{get:function(){var e=this.topParent;return e?e.delayedMap:(this._delayedMap||(this._delayedMap=new ii),this._delayedMap)},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"id",{get:function(){return this._id},set:function(e){if(this._id!=e){if(this._id=e,this.map.hasKey(e))throw Error("Duplicate id ("+e+") used on multiple objects.");this.map.setKey(e,this),nt.autoSetClassName&&this.setClassName()}},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"dom",{get:function(){return this.group.node},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"paper",{get:function(){if(this._paper)return this._paper;var e=this._parent;return e?e.paper:Pm()},set:function(e){this.setPaper(e)},enumerable:!0,configurable:!0}),t.prototype.setPaper=function(e){return this._paper!=e&&(this._paper=e,this.appendDefs(),!0)},Object.defineProperty(t.prototype,"htmlContainer",{get:function(){if(this._htmlContainer)return this._htmlContainer;var e=this._parent;return e?e.htmlContainer:void 0},set:function(e){this._htmlContainer=e},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"titleElement",{get:function(){return this._titleElement||(this._titleElement=this.paper.add("title"),this.group.add(this._titleElement)),this._titleElement},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"descriptionElement",{get:function(){return this._descriptionElement||(this._descriptionElement=this.paper.add("desc"),this.group.add(this._descriptionElement)),this._descriptionElement},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"filters",{get:function(){return this._filters||(this._filters=new Dt,this._disposers.push(this._filters.events.onAll(this.applyFilters,this)),this._disposers.push(new Qt(this._filters))),this._filters},enumerable:!0,configurable:!0}),t.prototype.setSVGAttributes=function(){this.fill=this.fill,this.opacity=this.opacity,this.fillOpacity=this.fillOpacity,this.stroke=this.stroke,this.strokeOpacity=this.strokeOpacity,this.shapeRendering=this.shapeRendering,this.strokeDasharray=this.strokeDasharray,this.strokeDashoffset=this.strokeDashoffset,this.strokeLinecap=this.strokeLinecap,this.strokeLinejoin=this.strokeLinejoin,this.focusable=this.focusable,this.tabindex=this.tabindex,this.role=this.role},t.prototype.setSVGAttribute=function(e){this.group.attr(e)},t.prototype.removeSVGAttribute=function(e){this.group.removeAttr(e)},t.prototype.setClassName=function(){var e=this.className,i=nt.classNamePrefix;this.element&&this.element.addClass(i+e),this.group.addClass(i+e+"-group"),L(this.id)&&this.group.addClass(i+this.id),this.userClassName&&this.group.addClass(this.userClassName)},t.prototype.uidAttr=function(){return this.setSVGAttribute({id:this.uid}),this.uid},t.prototype.updateClipPath=function(){var e=this._clipElement;e&&e.moveTo({x:this.mask.pixelX,y:this.mask.pixelY})},t.prototype.createClipPath=function(){if(!this._clipPath){this._clipPath=this.paper.addGroup("clipPath"),this.paper.appendDef(this._clipPath),this._disposers.push(this._clipPath);var e=G.getUniqueId();this._clipPath.attr({id:e}),this.group.attr({"clip-path":'url("'+Dm()+e+'")'})}},t.prototype.applyMask=function(){var e=this.mask;if(this._clipPath&&e)if(e instanceof Ve){this._clipElement.attr({width:Qe(0,e.pixelWidth),height:Qe(0,e.pixelHeight)});var i=ho({x:e.pixelX,y:e.pixelY},e.parent,this);this._clipPath.x=i.x,this._clipPath.y=i.y}else e.element&&e.element!=this._clipElement&&(this._clipElement=e.element,this._clipPath.add(this._clipElement)),this._clipPath.scale=e.scale,this._clipPath.x=e.pixelX,this._clipPath.y=e.pixelY,this._clipPath.rotation=e.rotation},t.prototype.applyFilters=function(){var e=this;if(this._filters&&this._filters.length>0){var i=100,s=100;this.filterElement?this.filterElement.removeChildNodes():(this.filterElement=this.paper.addGroup("filter"),this._disposers.push(this.filterElement)),this.paper.appendDef(this.filterElement);var l="filter-"+this.uid;this.filterElement.attr({id:l}),oe(this.filters.iterator(),function(g){g.sprite=e,g.paper=e.paper,e.filterElement.attr({filterUnits:g.filterUnits}),g.appendPrimitives(e.filterElement),g.width>i&&(i=g.width),g.height>s&&(s=g.height),g.scale=e.globalScale}),this.filterElement.attr({width:i+"%",height:s+"%",x:-(i-100)/2+"%",y:-(s-100)/2+"%"}),this.group.attr({filter:'url("'+Dm()+l+'")'})}else this.filterElement&&(this.group.removeAttr("filter"),this.filterElement.removeChildNodes())},t.prototype.removeClipPath=function(){this._clipPath&&(this.removeDispose(this._clipPath),this._clipPath=void 0)},t.prototype.setElement=function(e){this.element=e,this.setSVGAttributes(),this.applyAccessibility()},Object.defineProperty(t.prototype,"element",{get:function(){return this._element},set:function(e){this.removeElement(),this._element=e,this.group.add(e),e.node instanceof SVGPathElement&&(this._isPath=!0),this.invalid||this.validate(),nt.autoSetClassName&&this.setClassName()},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"svgContainer",{get:function(){return this._svgContainer?this._svgContainer:this._parent?this._parent.svgContainer:void 0},set:function(e){this._svgContainer=e},enumerable:!0,configurable:!0}),t.prototype.measureElement=function(){if(this.element)if(this.definedBBox)this._bbox=this.definedBBox;else{var e=this.element.getBBox();this._bbox={x:e.x,y:e.y,width:e.width,height:e.height}}},t.prototype.updateCenter=function(){if(this.element){var e=this.element.transformString,i=this.bbox,s=0,l=0,p=i.x,h=i.y,g=i.width,v=i.height,m=this.pixelPaddingLeft,_=this.pixelPaddingRight,b=this.pixelPaddingTop,C=this.pixelPaddingBottom,S=Qe(g+m+_,this.pixelWidth),E=Qe(v+b+C,this.pixelHeight),x=i.x,R=i.x+S,P=i.y,k=i.y+E,W=this.verticalCenter;switch(this.horizontalCenter){case"none":s=p+m;break;case"left":s=m;break;case"middle":s=m-(g+_+m)/2;break;case"right":s=-_-g}switch(W){case"none":l=h+b;break;case"top":l=b;break;case"middle":l=b-(v+C+b)/2;break;case"bottom":l=-C-v}this._measuredHeight=E,this._measuredWidth=S;var Y=ae(s-p,this._positionPrecision,!0),K=ae(l-h,this._positionPrecision,!0);this.ex=Y-m,this.ey=K-b,this.maxLeft=x+Y-m,this.maxRight=R+Y-m,this.maxTop=P+K-b,this.maxBottom=k+K-b,this.pixelPerfect&&0==nt.pixelPerfectPrecision&&(Y-=.5,K-=.5),this.element.moveTo({x:Y,y:K}),e!=this.element.transformString&&this.dispatchImmediately("transformed")}},t.prototype.measure=function(){this.updateCenter();var e=this._measuredWidth,i=this._measuredHeight,s=this.maxLeft,l=this.maxRight,p=this.maxTop,h=this.maxBottom;this._measuredWidthSelf=e,this._measuredHeightSelf=i;var g=this._positionPrecision;if(this.maxLeftSelf=this.maxLeft,this.maxRightSelf=this.maxRight,this.maxTopSelf=this.maxTop,this.maxBottomSelf=this.maxBottom,0!==this.rotation||1!==this.scale||this.nonScaling){this.nonScalingStroke&&(this.strokeWidth=this.strokeWidth);var v=this.paper.svg,m=v.createSVGMatrix(),_=this.rotation,b=this.scale;this.nonScaling&&(b=this.scale/this.globalScale),m.a=ve(_)*b,m.c=-ge(_)*b,m.e=0,m.b=ge(_)*b,m.d=ve(_)*b,m.f=0;var C=v.createSVGPoint();C.x=s,C.y=p;var S=v.createSVGPoint();S.x=l,S.y=p;var E=v.createSVGPoint();E.x=l,E.y=h;var x=v.createSVGPoint();x.x=s,x.y=h;var R=C.matrixTransform(m),P=S.matrixTransform(m),k=E.matrixTransform(m),U=x.matrixTransform(m);s=Math.min(R.x,P.x,k.x,U.x),l=Math.max(R.x,P.x,k.x,U.x),p=Math.min(R.y,P.y,k.y,U.y),e=l-s,i=(h=Math.max(R.y,P.y,k.y,U.y))-p,this.maxLeft=ae(s,g,!0),this.maxRight=ae(l,g,!0),this.maxTop=ae(p,g,!0),this.maxBottom=ae(h,g,!0)}return this._measuredWidth=ae(e,g,!0),this._measuredHeight=ae(i,g,!0),(this._measuredWidth!=this._prevMeasuredWidth||this._measuredHeight!=this._prevMeasuredHeight)&&(this._prevMeasuredHeight=this._measuredHeight,this._prevMeasuredWidth=this._measuredWidth,this.dispatch("sizechanged"),(this.isHover||"hit"==this.showTooltipOn||"always"==this.showTooltipOn)&&this.tooltip&&this.tooltip.visible&&(L(this.tooltipText)||L(this.tooltipHTML))&&this.updateTooltipPosition(),!0)},t.prototype.insertBefore=function(e){var i=this._parent;if(i){var s=i.children.indexOf(e);-1!==s&&(i.children.moveValue(this,s),i.sortChildren())}return this},t.prototype.insertAfter=function(e){var i=this._parent;if(i){var s=i.children.indexOf(e);-1!==s&&(i.children.moveValue(this,s+1),i.sortChildren())}return this},t.prototype.removeElement=function(){this._element&&(this.removeDispose(this._element),this._element=void 0)},t.prototype.getRelativeX=function(e){return e instanceof ft?e.value:this._parent?e/this._parent.innerWidth:0},t.prototype.getRelativeY=function(e){return e instanceof ft?e.value:this._parent?e/this._parent.innerHeight:0},t.prototype.getPixelX=function(e){var i=0;return M(e)?i=e:e instanceof ft&&this._parent&&(i=ae(this._parent.innerWidth*e.value,this._positionPrecision,!0)),i},t.prototype.getPixelY=function(e){var i=0;return M(e)?i=e:e instanceof ft&&this._parent&&(i=ae(this._parent.innerHeight*e.value,this._positionPrecision,!0)),i},t.prototype.moveTo=function(e,i,s,l){this.isDragged&&!l||(e&&(M(e.x)&&this.setPropertyValue("x",ae(e.x,this._positionPrecision,!0)),M(e.y)&&this.setPropertyValue("y",ae(e.y,this._positionPrecision,!0))),M(i)&&(this.rotation=i),M(s)&&(this.scale=s),this.invalidatePosition())},Object.defineProperty(t.prototype,"mask",{get:function(){return this._adapterO?this._adapterO.apply("mask",this._mask.get()):this._mask.get()},set:function(e){var i=this;this._mask.get()!==e&&(e?(this.createClipPath(),e instanceof Ve?this._clipElement=this.paper.add("rect"):(e.isMeasured=!1,e.element&&(this._clipElement=e.element)),this._clipElement&&this._clipPath.add(this._clipElement),this._mask.set(e,new mi([e.events.on("maxsizechanged",function(){i.inited&&i.applyMask()},void 0,!1),e.events.on("validated",this.applyMask,this,!1),e.events.on("positionchanged",this.applyMask,this,!1)])),this.applyMask()):(this._mask.reset(),this.group.removeAttr("clip-path"),this.removeClipPath()))},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"maskRectangle",{get:function(){return this._maskRectangle},set:function(e){e?(this.createClipPath(),this._clipElement||(this._clipElement=this.paper.add("rect"),this._clipPath.add(this._clipElement)),this._clipElement.attr({width:e.width,height:e.height})):(this.removeClipPath(),this._clipElement=void 0),this._maskRectangle=e},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"isMeasured",{get:function(){return this._isMeasured},set:function(e){(e=pi(e))||(this._measuredWidth=0,this._measuredHeight=0),this._isMeasured!=e&&(this._isMeasured=e,this.invalidatePosition())},enumerable:!0,configurable:!0}),t.prototype.hitTest=function(e){this.invalid&&this.validate(),e.invalid&&e.validate();var i=this.pixelX+this.maxLeft,s=this.pixelY+this.maxTop,h=e.pixelX+e.maxLeft,g=e.pixelY+e.maxTop;return!(h>i+this.maxRight||h+e.maxRight<i||g>s+this.maxBottom||g+e.maxBottom<s)},Object.defineProperty(t.prototype,"inited",{get:function(){return this._inited},enumerable:!0,configurable:!0}),t.prototype.isReady=function(){return this._ready},Object.defineProperty(t.prototype,"states",{get:function(){if(!this._states){var e=new k0;this._states=new bm(e),this._disposers.push(this._states.events.on("insertKey",this.processState,this,!1)),this._disposers.push(this._states.events.on("setKey",this.processState,this,!1)),this._disposers.push(new zd(this._states)),this._disposers.push(e)}return this._states},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"hiddenState",{get:function(){if(!this.states.getKey("hidden")){var e=this.states.create("hidden");e.properties.opacity=0,e.properties.visible=!1}return this.states.getKey("hidden")},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"defaultState",{get:function(){return this.states.getKey("default")||(this.states.create("default").properties.opacity=1),this.states.getKey("default")},enumerable:!0,configurable:!0}),t.prototype.processState=function(e){var i=e.newValue;if(i.sprite=this,i.name=e.key,(this.states.hasKey("hover")||"hover"==this.showTooltipOn&&(L(this.tooltipHTML)||L(this.tooltipText)))&&(this.hoverable=!0),(this.states.hasKey("down")||"hover"==this.showTooltipOn&&(L(this.tooltipHTML)||L(this.tooltipText)))&&(this.clickable=!0),this.states.hasKey("focus")&&(this.focusable=!0),this.applyOnClones)for(var s=this.clones.values,l=s.length,p=0;p<l;++p){var h=s[p];h.isDisposed()||h.states.setKey(i.name,i)}},Object.defineProperty(t.prototype,"animations",{get:function(){return this._animations||(this._animations=[],this._disposers.push(new Mf(this._animations))),this._animations},enumerable:!0,configurable:!0}),t.prototype.getSvgPoint=function(e){try{var i=this.htmlContainer.getBoundingClientRect();return{x:e.x-i.left,y:e.y-i.top}}catch(s){return e}},t.prototype.animate=function(e,i,s){return new ua(this,e,i,s).start()},t.prototype.setState=function(e,i,s){var l;if(e instanceof k0)this.states.setKey(e.name,e),l=e;else if(!(l=this.states.getKey(e)))return;if("hover"==l.name){if(this.isHidden)return;this.isHover=!0}return"hidden"==l.name?this.isHiding=!0:this.visible||this.setVisibility(l.properties.visible||this.defaultState.properties.visible),"active"==l.name&&(this.isActive=!0),M(i)||(i=l.transitionDuration),L(s)||(s=l.transitionEasing),this.transitTo(l,i,s)},t.prototype.applyCurrentState=function(e){var i=this.setState(this.defaultState,e);return this.isHover&&(i=this.setState("hover",e)),this.isDown&&this.interactions.downPointers.length&&(i=this.setState("down",e)),this.isFocused=this.isFocused,this.isActive&&(i=this.setState("active",e),this.isHover&&this.states.hasKey("hoverActive")&&(i=this.setState("hoverActive",e))),i},t.prototype.transitTo=function(e,i,s){var g,l=this,p=[];if(We(e.allValues,function(m,_){var b=l[m];_!=b&&null==l.defaultState.properties[m]&&(l.defaultState.properties[m]=b),"__unset"!=_&&p.push({from:b,to:_,property:m})}),p.length>0&&((g=this.animate(p,i,s))&&!g.isFinished()?this._disposers.push(g.events.on("animationended",function(){l.dispatchImmediately("transitionended")})):this.dispatchImmediately("transitionended")),e.filters.length>0){var v=[];oe(e.filters.iterator(),function(m){var _=m.clone();v.push(_);var b=[];oe(l.filters.iterator(),function(C){C.className==_.className&&(rR(l.defaultState.filters.iterator(),function(S){return S.className===_.className})||l.defaultState.filters.push(C),We(_.properties,function(S,E){var x=C.properties[S];x!=E&&b.push({property:S,from:x,to:E})}))}),_.animate(b,i,s)}),this.filters.clear(),this.filters.pushAll(v)}return g},t.prototype.isInTransition=function(){return this.animations.length>0},Object.defineProperty(t.prototype,"isHover",{get:function(){return!!this.isInteractive()&&this.interactions.isHover},set:function(e){(e=pi(e))!==this.isHover&&this.isInteractive()&&(this.interactions.isHover=e,e?this.handleOver():(this.interactions.isRealHover=!1,this.handleOut()))},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"isDragged",{get:function(){return this._isDragged},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"isResized",{get:function(){return this._isResized},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"isDown",{get:function(){return!!this.isInteractive()&&this.interactions.isDown},set:function(e){e=pi(e),this.isInteractive()&&this.isDown!=e&&(this.interactions.isDown=e,e?this.handleDown():this.handleUp())},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"isFocused",{get:function(){return!!this.isInteractive()&&this.interactions.isFocused},set:function(e){e=pi(e),this.focusable&&this.isFocused!=e&&this.isInteractive()&&(this.interactions.isFocused=e,!0===e?this.handleFocus():this.handleBlur())},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"isActive",{get:function(){return this._isActive},set:function(e){this.setActive(e)},enumerable:!0,configurable:!0}),t.prototype.setActive=function(e){e=pi(e),this._isActive!==e&&(this._isActive=e,e&&this.states.hasKey("active")?(this.setState("active"),this.isHover&&this.states.hasKey("hoverActive")&&this.setState("hoverActive")):this.applyCurrentState(),this.dispatchImmediately("toggled"))},Object.defineProperty(t.prototype,"disabled",{get:function(){var e=this.getPropertyValue("disabled");return L(e)?e:this.virtualParent?this.virtualParent.disabled:!!this._parent&&this._parent.disabled},set:function(e){this.setDisabled(e)},enumerable:!0,configurable:!0}),t.prototype.setDisabled=function(e){if(e=pi(e),this.getPropertyValue("disabled")!=e){if(this.setPropertyValue("disabled",e,!0),e)this.parent=this._parent,this.removeFromInvalids(),this.group.attr({display:"none"}),this.dispatch("disabled");else{if(this._parent){var s=this._parent.element;s.hasChild(this.group)||s.add(this.group)}this instanceof Ve?(this.deepInvalidate(),this._background&&this._background.invalidate()):this.invalidate(),this.__disabled||this.removeSVGAttribute("display"),this.dispatch("enabled")}return this.dispatch("transformed"),lt.requestFrame(),!0}return!1},Object.defineProperty(t.prototype,"__disabled",{get:function(){return this._internalDisabled},set:function(e){this._internalDisabled!=e&&(this._internalDisabled=e,this._updateDisabled=!0,this.invalidatePosition(),e||this.invalidate())},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"numberFormatter",{get:function(){return this._numberFormatter?this._numberFormatter:this.virtualParent?this.virtualParent.numberFormatter:this._parent?this._parent.numberFormatter:(this._numberFormatter=new GR,this._numberFormatter.language=this.language,this.numberFormatter)},set:function(e){this._numberFormatter=e,this._numberFormatter.language=this.language},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"dateFormatter",{get:function(){return this._dateFormatter?this._dateFormatter:this.virtualParent?this.virtualParent.dateFormatter:this._parent?this._parent.dateFormatter:(this._dateFormatter=new Rm,this._dateFormatter.language=this.language,this.dateFormatter)},set:function(e){this._dateFormatter=e,this._dateFormatter.language=this.language},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"durationFormatter",{get:function(){return this._durationFormatter?this._durationFormatter:this.virtualParent?this.virtualParent.durationFormatter:this._parent?this._parent.durationFormatter:(this._durationFormatter=new HR,this._durationFormatter.language=this.language,this.durationFormatter)},set:function(e){this._durationFormatter=e,this._durationFormatter.language=this.language},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"language",{get:function(){var e=this._language.get();return e||(this.virtualParent?this.virtualParent.language:this._parent?this._parent.language:(e=new lc,this.language=e,e))},set:function(e){var i=this;this._language.get()!==e&&this._language.set(e,e.events.on("localechanged",function(s){if(i._numberFormatter&&(i._numberFormatter.language=i.language),i._dateFormatter&&(i._dateFormatter.language=i.language),i._durationFormatter&&(i._durationFormatter.language=i.language),i._exporting.get()){var l=i._exporting.get();l.numberFormatter.language=i.language,l.dateFormatter.language=i.language,l.durationFormatter.language=i.language,l.language=i.language}i instanceof Ve&&i.deepInvalidate()}))},enumerable:!0,configurable:!0}),t.prototype.populateString=function(e,i){if(L(e)){e=zP(e);var s=(e=jl().escape(e)).match(/\{([^}]+)\}/g),l=void 0;if(s)for(l=0;l<s.length;l++){var p=s[l].replace(/\{([^}]+)\}/,"$1"),h=this.getTagValue(p,"",i);L(h)||(h=""),e=e.split(s[l]).join(h)}e=jl().unescape(e)}else e="";return this._adapterO?this._adapterO.apply("populateString",e):e},t.prototype.getTagValue=function(e,i,s){var l;L(s)||(s=this.dataItem);for(var g,p=[],h=/([^.]+)\(([^)]*)\)|([^.]+)/g;null!==(g=h.exec(e));)if(g[3])p.push({prop:g[3]});else{var v=[];if(""!=CL(g[2]))for(var m=/'([^']*)'|"([^"]*)"|([0-9\-]+)/g,_=void 0;null!==(_=m.exec(g[2]));)v.push(_[1]||_[2]||_[3]);p.push({method:g[1],params:v})}if(s){(!L(l=this.getTagValueFromObject(p,s.values))||li(l))&&(l=this.getTagValueFromObject(p,s));var b=s.dataContext;!L(l)&&b&&(L(l=this.getTagValueFromObject(p,s.dataContext))||(l=this.getTagValueFromObject([{prop:e}],b)),!L(l)&&b.dataContext&&(l=this.getTagValueFromObject(p,b.dataContext))),!L(l)&&s.component&&s.component.dataItem!==s&&(l=s.component.getTagValue(e,i))}return L(l)||(l=this.getTagValueFromObject(p,this.populateStringFrom||this)),!L(l)&&this._parent&&(l=this._parent.getTagValue(e,i)),l},t.prototype.getTagValueFromObject=function(e,i,s){for(var l=i,p=!1,h=0,g=e.length;h<g;h++){var v=e[h];if(v.prop){if(!L(l=l[v.prop]))return}else switch(v.method){case"formatNumber":var m=yR(l);L(m)&&(l=this.numberFormatter.format(m,s||v.params[0]||void 0),p=!0);break;case"formatDate":var _=void 0;if(!cm(_=gt(l)?this.dateFormatter.parse(l):DL(l))||Mn(_.getTime()))return;L(_)&&(l=this.dateFormatter.format(_,s||v.params[0]||void 0),p=!0);break;case"formatDuration":var b=yR(l);L(b)&&(l=this.durationFormatter.format(b,s||v.params[0]||void 0,v.params[1]||void 0),p=!0);break;case"urlEncode":case"encodeURIComponent":l=encodeURIComponent(l);break;default:l[v.method]&&l[v.method].apply(this,v.params)}}if(!p){var C=[{method:"",params:s}];if(L(s)){var S=function(n){if(void 0===n)return"string";var t=(n=(n=(n=n.toLowerCase().replace(/^\[[^\]]*\]/,"")).replace(/\[[^\]]+\]/,"")).trim()).match(/\/(date|number|duration)$/);return t?t[1]:n===P0?P0:n===R0?R0:n===dR?dR:n.match(/[#0]/)?P0:n.match(/[ymwdhnsqaxkzgtei]/)?R0:"string"}(s);S===P0?C[0].method="formatNumber":S===R0?C[0].method="formatDate":S===dR&&(C[0].method="formatDuration")}else M(l)?(C[0].method="formatNumber",C[0].params=""):cm(l)&&(C[0].method="formatDate",C[0].params="");C[0].method&&(l=this.getTagValueFromObject(C,l))}return l},Object.defineProperty(t.prototype,"dataItem",{get:function(){if(!this._dataItem){if(this.virtualParent)return this.virtualParent.dataItem;if(this._parent)return this._parent.dataItem}return this._dataItem},set:function(e){this.setDataItem(e)},enumerable:!0,configurable:!0}),t.prototype.setDataItem=function(e){var i=this;if(this._dataItem!=e){if(this._dataItem=e,e){if(this.configField){var s=e.dataContext;s&&(this.config=s[this.configField],!this.config&&s.dataContext&&(this.config=s.dataContext[this.configField]))}var l=e.dataContext;if(l){var p=l.dataContext;We(this.propertyFields,function(h,g){if(L(l[g]))i[h]=l[g];else if(p){var m=p[g];L(m)&&(i[h]=m)}})}}this.invalidate()}},t.prototype.getPropertyValue=function(e){var i=this.properties[e];return this._isTemplate||(this._adapterO&&(i=this._adapterO.apply(e,i)),i=uR.applyAll(this,e,i)),i},t.prototype.setColorProperty=function(e,i,s){var l=this.properties[e];return!(i instanceof St&&l instanceof St&&i.toString()==l.toString())&&this.setPropertyValue(e,i,s)},t.prototype.setPercentProperty=function(e,i,s,l,p,h){if(M(i=function(n){return!L(n)||M(n)||function(n){return n instanceof ft}(n)?n:gt(n)&&-1!=n.indexOf("%")?ue(Zt(n)):Zt(n)}(i)))return M(p)&&(i=ae(i,p,h)),this.setPropertyValue(e,i,s,l);var g=this.properties[e];return!(i instanceof ft&&g instanceof ft&&i.value==g.value)&&this.setPropertyValue(e,i,s,l)},t.prototype.setPropertyValue=function(e,i,s,l){if(this.properties[e]!==i&&!this.isDisposed()){if(this.properties[e]=i,this.events.isEnabled("propertychanged")&&this.events.dispatchImmediately("propertychanged",{type:"propertychanged",target:this,property:e}),s&&this.invalidate(),l&&this.invalidatePosition(),this.applyOnClones)for(var h=this.clones.values,g=h.length,v=0;v<g;++v){var m=h[v];m.isDisposed()||(m[e]=i)}return!0}return!1},t.prototype.bind=function(e,i,s,l){var p=this;void 0===s&&(s=e),L(this._bindings[e])&&this._bindings[e].dispose(),this[e]=i[s],this._bindings[e]=i.events.on("propertychanged",function(h){if(h.property===s){var g=i[s];l&&(g=l(g)),p[e]=g}})},t.prototype.observe=function(e,i,s,l){var p=this;return new mi(fm(iL(e),function(h){return p.events.on("propertychanged",function(g){g.property===h&&i.call(s,g)},s,l)}))},t.prototype.applyAccessibility=function(){var e=this.readerTitle,i=this.readerDescription,s=this.role,l=this.readerHidden,p=this.readerChecked,h=this.readerControls,g=this.readerLive,v=this.readerOrientation,m=this.readerValueNow,_=this.readerValueText,b=[],C=[],S=this.readerLabelledBy;S&&b.push(S);var E=this.readerDescribedBy;if(E&&C.push(E),e)if(b.length||this.showSystemTooltip){var x=this.titleElement,R=this.uid+"-title";x.node.textContent!=e&&(x.node.textContent=e,x.attr({id:R})),b.push(R)}else this._titleElement&&(this.group.removeElement(this._titleElement),this._titleElement=void 0),this.setSVGAttribute({"aria-label":e});else this.removeSVGAttribute("aria-label"),this._titleElement&&(this.group.removeElement(this._titleElement),this._titleElement=void 0);if(i){var P=this.descriptionElement,k=this.uid+"-description";P.node.textContent!=i&&(P.node.textContent=i,P.attr({id:k})),C.push(k)}else this._descriptionElement&&(this.group.removeElement(this._descriptionElement),this._descriptionElement=void 0);b.length?this.setSVGAttribute({"aria-labelledby":b.join(" ")}):this.removeSVGAttribute("aria-labelledby"),C.length?this.setSVGAttribute({"aria-describedby":C.join(" ")}):this.removeSVGAttribute("aria-describedby"),s?this.setSVGAttribute({role:s}):this.removeSVGAttribute("role"),l?this.setSVGAttribute({"aria-hidden":"true"}):this.removeSVGAttribute("aria-hidden"),p?this.setSVGAttribute({"aria-checked":"true"}):!1===p?this.setSVGAttribute({"aria-checked":"false"}):this.removeSVGAttribute("aria-checked"),h?this.setSVGAttribute({"aria-controls":h}):this.removeSVGAttribute("aria-controls"),g?this.setSVGAttribute({"aria-live":g}):this.removeSVGAttribute("aria-live"),v?this.setSVGAttribute({"aria-orientation":v}):this.removeSVGAttribute("aria-orientation"),m?this.setSVGAttribute({"aria-valuenow":m}):this.removeSVGAttribute("aria-valuenow"),_?this.setSVGAttribute({"aria-valuetext":_}):this.removeSVGAttribute("aria-valuetext")},Object.defineProperty(t.prototype,"readerTitle",{get:function(){var e=this.getPropertyValue("readerTitle");return L(e)&&this.dataItem?this.populateString(e):e},set:function(e){e=tr(e),this.setPropertyValue("readerTitle",e)&&this.applyAccessibility()},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"readerDescription",{get:function(){var e=this.getPropertyValue("readerDescription");return L(e)&&this.dataItem?this.populateString(e):this.getPropertyValue("readerDescription")},set:function(e){e=tr(e),this.setPropertyValue("readerDescription",e)&&this.applyAccessibility()},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"role",{get:function(){return this.getPropertyValue("role")},set:function(e){e=tr(e),this.setPropertyValue("role",e)&&(this.applyAccessibility(),"slider"==e&&(this.setSVGAttribute({"aria-valuemin":"0"}),this.setSVGAttribute({"aria-valuemax":"100"})))},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"readerHidden",{get:function(){return this.getPropertyValue("readerHidden")},set:function(e){e=pi(e),this.setPropertyValue("readerHidden",e)&&this.applyAccessibility()},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"readerChecked",{get:function(){return this.getPropertyValue("readerChecked")},set:function(e){e=pi(e),this.setPropertyValue("readerChecked",e)&&this.applyAccessibility()},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"readerControls",{get:function(){return this.getPropertyValue("readerControls")},set:function(e){e=tr(e),this.setPropertyValue("readerControls",e)&&this.applyAccessibility()},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"readerLive",{get:function(){return this.getPropertyValue("readerLive")},set:function(e){e=tr(e),this.setPropertyValue("readerLive",e)&&this.applyAccessibility()},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"readerLabelledBy",{get:function(){return this.getPropertyValue("readerLabelledBy")},set:function(e){e=tr(e),this.setPropertyValue("readerLabelledBy",e)&&this.applyAccessibility()},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"readerDescribedBy",{get:function(){return this.getPropertyValue("readerDescribedBy")},set:function(e){e=tr(e),this.setPropertyValue("readerDescribedBy",e)&&this.applyAccessibility()},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"readerOrientation",{get:function(){return this.getPropertyValue("readerOrientation")},set:function(e){e=tr(e),this.setPropertyValue("readerOrientation",e)&&this.applyAccessibility()},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"readerValueNow",{get:function(){return this.getPropertyValue("readerValueNow")},set:function(e){e=tr(e),this.setPropertyValue("readerValueNow",e)&&this.applyAccessibility()},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"readerValueText",{get:function(){return this.getPropertyValue("readerValueText")},set:function(e){e=tr(e),this.setPropertyValue("readerValueText",e)&&this.applyAccessibility()},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"keyboardOptions",{get:function(){if(!this.interactions.keyboardOptions){if(this.virtualParent)return this.virtualParent.keyboardOptions;if(this._parent)return this._parent.keyboardOptions}return this.interactions.keyboardOptions},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"mouseOptions",{get:function(){if(!this.interactions.mouseOptions){if(this.virtualParent)return this.virtualParent.mouseOptions;if(this._parent)return this._parent.mouseOptions}return this.interactions.mouseOptions},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"interactions",{get:function(){if(!this._interaction){var e=$e().getInteraction(this.dom);this._interaction=e,this._interaction.clickable=this.clickable,this._interaction.hoverable=this.hoverable,this._interaction.trackable=this.trackable,this._interaction.draggable=this.draggable,this._interaction.swipeable=this.swipeable,this._interaction.resizable=this.resizable,this._interaction.wheelable=this.wheelable,this._interaction.contextMenuDisabled=this.contextMenuDisabled,this._interaction.inert=this.inert,this._interaction.sprite=this,this._disposers.push(this._interaction)}return this._interaction},enumerable:!0,configurable:!0}),t.prototype.isInteractive=function(){return!!this._interaction},Object.defineProperty(t.prototype,"focusable",{get:function(){return this.getPropertyValue("focusable")},set:function(e){var i=this;e=pi(e),this.setPropertyValue("focusable",e)&&(!e&&!this.isInteractive()||(this.interactions.focusable=e,e?(this.setSVGAttribute({focusable:e}),this._tabindex||(this.tabindex=0)):(this.removeSVGAttribute("focusable"),this.tabindex=void 0),this.interactions.setEventDisposer("sprite-focusable",e,function(){return new mi([i.events.on("blur",i.handleBlur,i,!1),i.events.on("focus",i.handleFocus,i,!1)])})))},enumerable:!0,configurable:!0}),t.prototype.handleFocus=function(e){this.focusable&&(this.topParent&&(this.topParent.hasFocused=!0,this.topParent.focusedElement=this),this.focusFilter&&this.filters.push(this.focusFilter),this.hoverOnFocus&&(this.isHover=!0,this.handleOver()))},t.prototype.handleBlur=function(e){this.focusable&&(this.topParent&&(this.topParent.hasFocused=!1,this.topParent.focusedElement=void 0),this.focusFilter&&this.filters.removeValue(this.focusFilter),this.hoverOnFocus&&(this.isHover=!1,this.handleOut()))},Object.defineProperty(t.prototype,"focusFilter",{get:function(){return this._focusFilter||(this.virtualParent?this.virtualParent.focusFilter:this._parent?this._parent.focusFilter:void 0)},set:function(e){this._focusFilter=e},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"hoverOnFocus",{get:function(){return this.getPropertyValue("hoverOnFocus")},set:function(e){e!==this.hoverOnFocus&&this.setPropertyValue("hoverOnFocus",e)},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"tabindex",{get:function(){var e=this._tabindex;return null!=e?e:this.virtualParent?this.virtualParent.tabindex:this._parent?this._parent.tabindex:void 0},set:function(e){e=Zt(e),this.setPropertyValue("tabindex",e)&&M(e)&&(this.interactions.tabindex=e,this.setSVGAttribute({tabindex:e}),this._tabindex=e,this.focusable=e>-1||void 0)},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"inertiaOptions",{get:function(){return!this.interactions.inertiaOptions&&this._parent?this._parent.inertiaOptions:this.interactions.inertiaOptions},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"draggable",{get:function(){return this.getPropertyValue("draggable")},set:function(e){var i=this;e=pi(e),this.setPropertyValue("draggable",e)&&(!e&&!this.isInteractive()||(this.applyCursorStyle(),this.interactions.draggable=e,this.interactions.setEventDisposer("sprite-draggable",e,function(){return new mi([i.events.on("down",i.handleDown,i,!1),i.events.on("dragstart",i.handleDragStart,i,!1),i.events.on("drag",i.handleDragMove,i,!1),i.events.on("dragstop",i.handleDragStop,i,!1)])})))},enumerable:!0,configurable:!0}),t.prototype.handleDragStart=function(e){(!this.interactions.isTouchProtected||!e.touch)&&(this.interactions.originalPosition={x:this.pixelX,y:this.pixelY},this._isDragged=!0,this.hideTooltip(0))},t.prototype.dragStart=function(e){this._isDragged=!0,$e().dragStart(this.interactions,e)},t.prototype.handleDragStop=function(e){(!this.interactions.isTouchProtected||!e.touch)&&(this._isDragged=!1,this.showTooltip(),this.interactions.originalPosition=void 0)},t.prototype.dragStop=function(e,i){this._isDragged=!1,$e().dragStop(this.interactions,e,i)},t.prototype.handleDragMove=function(e){if(!this.interactions.isTouchProtected||!e.touch){var i=this.interactions.originalPosition;if(i&&this._isDragged){var s=this._parent.globalScale*this.svgContainer.cssScale;this.moveTo({x:i.x+e.shift.x/s,y:i.y+e.shift.y/s},void 0,void 0,!0)}this.dispatchImmediately("dragged",e)}},Object.defineProperty(t.prototype,"inert",{get:function(){return this.getPropertyValue("inert")},set:function(e){e=pi(e),this.setPropertyValue("inert",e)&&(!e&&!this.isInteractive()||(this.interactions.inert=e))},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"hoverOptions",{get:function(){if(!this.interactions.hoverOptions){if(this.virtualParent)return this.virtualParent.hoverOptions;if(this._parent)return this._parent.hoverOptions}return this.interactions.hoverOptions},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"hoverable",{get:function(){return this.getPropertyValue("hoverable")},set:function(e){var i=this;e=pi(e),this.setPropertyValue("hoverable",e)&&(!e&&!this.isInteractive()||(this.applyCursorStyle(),this.interactions.hoverable=e,this.interactions.setEventDisposer("sprite-hoverable",e,function(){return new mi([i.events.on("over",i.handleOver,i,!1),i.events.on("out",i.handleOut,i,!1)])})))},enumerable:!0,configurable:!0}),t.prototype.handleOver=function(e){if(this._outTimeout&&this._outTimeout.dispose(),this.isHover){this.states.hasKey("hover")&&(this.isHidden||this.applyCurrentState());var i=void 0;e&&e.pointer&&(i=sc(e.pointer.point,this.svgContainer.SVGContainer,this.svgContainer.cssScale)),"hover"==this.showTooltipOn&&this.showTooltip(i)}else"hover"==this.showTooltipOn&&this.hideTooltip(),!this.isHidden&&this.states.hasKey("hover")&&this.applyCurrentState()},t.prototype.handleOut=function(e){var i=this;this.tooltip&&this.tooltip.targetSprite==this&&this.tooltip.keepTargetHover?this._outTimeout=this.setTimeout(function(){i.tooltip.isHover||(i.tooltip.targetSprite==i&&i.hideTooltip(),i._outTimeout=i.setTimeout(i.handleOutReal.bind(i),i.rollOutDelay))},10):("hover"==this.showTooltipOn&&this.hideTooltip(),this._outTimeout=this.setTimeout(this.handleOutReal.bind(this),this.rollOutDelay))},t.prototype.handleOutReal=function(){!this.isHidden&&!this.isHiding&&this.states.hasKey("hover")&&this.applyCurrentState()},Object.defineProperty(t.prototype,"hitOptions",{get:function(){if(!this.interactions.hitOptions){if(this.virtualParent)return this.virtualParent.hitOptions;if(this._parent)return this._parent.hitOptions}return this.interactions.hitOptions},enumerable:!0,configurable:!0}),t.prototype.handleDown=function(e){1===this.interactions.downPointers.length&&(this.interactions.originalPosition={x:this.pixelX,y:this.pixelY},this.interactions.originalAngle=this.rotation,this.interactions.originalScale=this.scale,this.states.hasKey("down")&&this.setState("down"))},t.prototype.handleUp=function(e){var i=this;this._isResized=!1,this.states.hasKey("down")&&this.applyCurrentState(),"hit"==this.showTooltipOn&&(this.updateTooltipPosition(e.pointer?e.pointer.point:void 0),this._disposers.push(G.events.once("exitframe",function(){i.showTooltip()})),this._disposers.push($e().body.events.once("down",function(s){i.hideTooltip()})))},Object.defineProperty(t.prototype,"clickable",{get:function(){return this.getPropertyValue("clickable")},set:function(e){var i=this;e=pi(e),this.setPropertyValue("clickable",e)&&(!e&&!this.isInteractive()||(this.applyCursorStyle(),this.interactions.clickable=e,this.interactions.setEventDisposer("sprite-clickable",e,function(){return new mi([i.events.on("down",i.handleDown,i,!1),i.events.on("up",i.handleUp,i,!1)])})))},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"togglable",{get:function(){return this.getPropertyValue("togglable")},set:function(e){var i=this;e=pi(e),this.setPropertyValue("togglable",e)&&(!e&&!this.isInteractive()||this.interactions.setEventDisposer("sprite-togglable",e,function(){return i.events.on("hit",i.handleToggle,i,!1)}))},enumerable:!0,configurable:!0}),t.prototype.handleToggle=function(e){this.isActive=!this.isActive},Object.defineProperty(t.prototype,"contextMenuDisabled",{get:function(){return this.getPropertyValue("contextMenuDisabled")},set:function(e){e=pi(e),this.setPropertyValue("contextMenuDisabled",e)&&(this.interactions.contextMenuDisabled=e)},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"url",{get:function(){return this.getPropertyValue("url")},set:function(e){this.setPropertyValue("url",e)&&(this._urlDisposer&&this._urlDisposer.dispose(),T0(e)&&(this._urlDisposer=this.events.on("hit",this.urlHandler,this,!1),this.clickable=!0,this.cursorOverStyle=jn.pointer))},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"baseId",{get:function(){return!this._baseId&&this._parent&&(this.baseId=this._parent.baseId),this._baseId},set:function(e){this.setBaseId(e)},enumerable:!0,configurable:!0}),t.prototype.setBaseId=function(e){e!=this._baseId&&(this.invalid&&(this.invalid=!1,G.removeFromInvalidSprites(this),this.invalidate()),this._baseId=e)},Object.defineProperty(t.prototype,"baseSprite",{get:function(){return this.isBaseSprite?this:this._parent?this._parent.baseSprite:void 0},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"urlTarget",{get:function(){return this.getPropertyValue("urlTarget")},set:function(e){this.setPropertyValue("urlTarget",e)},enumerable:!0,configurable:!0}),t.prototype.urlHandler=function(e){if(T0(this.url)){var i=this.populateString(this.url);"_self"===this.urlTarget?window.location.href=i:window.open(i,this.urlTarget)}},Object.defineProperty(t.prototype,"swipeOptions",{get:function(){if(!this.interactions.swipeOptions){if(this.virtualParent)return this.virtualParent.swipeOptions;if(this._parent)return this._parent.swipeOptions}return this.interactions.swipeOptions},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"swipeable",{get:function(){return this.getPropertyValue("swipeable")},set:function(e){e=pi(e),this.setPropertyValue("swipeable",e)&&(this.applyCursorStyle(),!e&&!this.isInteractive()||(this.interactions.swipeable=e))},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"trackable",{get:function(){return this.getPropertyValue("trackable")},set:function(e){e=pi(e),this.setPropertyValue("trackable",e)&&(!e&&!this.isInteractive()||(this.applyCursorStyle(),this.interactions.trackable=e))},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"wheelable",{get:function(){return this.getPropertyValue("wheelable")},set:function(e){this.setPropertyValue("wheelable",e)&&(!e&&!this.isInteractive()||(this.applyCursorStyle(),this.interactions.wheelable=e))},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"resizable",{get:function(){return this.getPropertyValue("resizable")},set:function(e){var i=this;e=pi(e),this.setPropertyValue("resizable",e)&&(!e&&!this.isInteractive()||(this.applyCursorStyle(),this.interactions.resizable=e,this.interactions.setEventDisposer("sprite-resizable",e,function(){return new mi([i.events.on("down",i.handleDown,i,!1),i.events.on("resize",i.handleResize,i,!1)])})))},enumerable:!0,configurable:!0}),t.prototype.handleResize=function(e){if((!this.interactions.isTouchProtected||!e.touch)&&(this._isResized=!0,this.scale=this.interactions.originalScale*e.scale,this.validatePosition(),this.draggable||this.dragWhileResize)){this._isDragged=!1;var l=_0(sc(e.point1,this.htmlContainer,this.svgContainer.cssScale),sc(e.point2,this.htmlContainer,this.svgContainer.cssScale)),p=If(e.startPoint1,this._parent),h=If(e.startPoint2,this._parent),g=this.interactions.originalPosition,v=this.interactions.originalScale;if(g){var b=_0({x:(p.x-g.x)/v,y:(p.y-g.y)/v},{x:(h.x-g.x)/v,y:(h.y-g.y)/v}),C=Yo(l,this._parent);this.moveTo({x:C.x-b.x*this.scale,y:C.y-b.y*this.scale},void 0,void 0,!0)}}},Object.defineProperty(t.prototype,"cursorOptions",{get:function(){if(!this.interactions.cursorOptions){if(this.virtualParent)return this.virtualParent.cursorOptions;if(this._parent)return this._parent.cursorOptions}return this.interactions.cursorOptions},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"cursorOverStyle",{set:function(e){this.cursorOptions.overStyle||(this.interactions.cursorOptions={defaultStyle:this.cursorOptions.defaultStyle}),this.cursorOptions.overStyle=e,$e().applyCursorOverStyle(this.interactions)},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"cursorDownStyle",{set:function(e){this.cursorOptions.downStyle=e},enumerable:!0,configurable:!0}),t.prototype.applyCursorStyle=function(){},Object.defineProperty(t.prototype,"interactionsEnabled",{get:function(){return!1!==this.getPropertyValue("interactionsEnabled")&&(this.virtualParent?this.virtualParent.interactionsEnabled:!this._parent||this._parent.interactionsEnabled)},set:function(e){if(e=pi(e),this.setPropertyValue("interactionsEnabled",e)){var i=null;e?this.group.node.style.pointerEvents="":i="none",this.group.node.style.pointerEvents=i}},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"exporting",{get:function(){return this.getExporting()},set:function(e){this._exporting.set(e,e)},enumerable:!0,configurable:!0}),t.prototype.getExporting=function(){var e=this._exporting.get();return e||(!this.isStandaloneInstance&&this._parent?this._parent.exporting:((e=new wY(this.svgContainer.SVGContainer)).sprite=this,e.language=this.language,e.numberFormatter=this.numberFormatter,e.dateFormatter=this.dateFormatter,e.durationFormatter=this.durationFormatter,this._exporting.set(e,e),e))},Object.defineProperty(t.prototype,"exportable",{get:function(){return this._exportable},set:function(e){var i=this.svgContainer;this._exportable=e,i&&(e?Ue(i.nonExportableSprites,this):-1==Rs(i.nonExportableSprites,this)&&i.nonExportableSprites.push(this))},enumerable:!0,configurable:!0}),t.prototype.modalPrefix=function(e){return nt.classNamePrefix+e},Object.defineProperty(t.prototype,"modal",{get:function(){var e=this.svgContainer;if(e){var i=e.modal;return i.adapter.has("classPrefix",this.modalPrefix)||i.adapter.add("classPrefix",this.modalPrefix),i}},enumerable:!0,configurable:!0}),t.prototype.openModal=function(e,i){var s=this.svgContainer;if(s)return s.openModal(e,i)},t.prototype.closeModal=function(){var e=this.svgContainer;e&&e.closeModal()},Object.defineProperty(t.prototype,"popups",{get:function(){var e=this.svgContainer;if(e){var i=e.popups;return i.template.sprite=this,i.template.adapter.has("classPrefix",this.modalPrefix)||i.template.adapter.add("classPrefix",this.modalPrefix),i}},enumerable:!0,configurable:!0}),t.prototype.openPopup=function(e,i){var s=this.svgContainer;if(s)return s.openPopup(e,i)},t.prototype.closeAllPopups=function(){var e=this.svgContainer;e&&e.closeAllPopups()},Object.defineProperty(t.prototype,"x",{get:function(){return this.getPropertyValue("x")},set:function(e){this.isDragged||this.setPercentProperty("x",e,!1,!0,this._positionPrecision,!0)},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"pixelX",{get:function(){var e=xe(this.getPixelX(this.x),this.minX,this.maxX);return this._adapterO?this._adapterO.apply("pixelX",e):e},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"relativeX",{get:function(){return this._adapterO?this._adapterO.apply("relativeX",this.getRelativeX(this.x)):this.getRelativeX(this.x)},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"minX",{get:function(){return this.getPropertyValue("minX")},set:function(e){M(e)&&(e=ae(e,this._positionPrecision,!0),this.setPropertyValue("minX",e,!1,!0))},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"maxX",{get:function(){return this.getPropertyValue("maxX")},set:function(e){M(e)&&(e=ae(e,this._positionPrecision,!0),this.setPropertyValue("maxX",e,!1,!0))},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"y",{get:function(){return this.getPropertyValue("y")},set:function(e){this.isDragged||this.setPercentProperty("y",e,!1,!0,this._positionPrecision,!0)},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"pixelY",{get:function(){var e=xe(this.getPixelY(this.y),this.minY,this.maxY);return this._adapterO?this._adapterO.apply("pixelY",e):e},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"relativeY",{get:function(){return this._adapterO?this._adapterO.apply("relativeY",this.getRelativeX(this.y)):this.getRelativeX(this.y)},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"minY",{get:function(){return this.getPropertyValue("minY")},set:function(e){M(e)&&(e=ae(e,this._positionPrecision,!0),this.setPropertyValue("minY",e,!1,!0))},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"maxY",{get:function(){return this.getPropertyValue("maxY")},set:function(e){M(e)&&(e=ae(e,this._positionPrecision,!0),this.setPropertyValue("maxY",e,!1,!0))},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"dx",{get:function(){return this.getPropertyValue("dx")},set:function(e){M(e)&&(e=ae(e,this._positionPrecision,!0),this.setPropertyValue("dx",e,!1,!0))},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"dy",{get:function(){return this.getPropertyValue("dy")},set:function(e){M(e)&&(e=ae(e,this._positionPrecision,!0),this.setPropertyValue("dy",e,!1,!0))},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"rotation",{get:function(){return this.getPropertyValue("rotation")},set:function(e){M(e=Zt(e))||(e=0),this.setPropertyValue("rotation",e,!1,!0)},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"align",{get:function(){return this.getPropertyValue("align")},set:function(e){e=tr(e),this.setPropertyValue("align",e)&&this._parent&&this._parent.invalidateLayout()},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"valign",{get:function(){return this.getPropertyValue("valign")},set:function(e){e=tr(e),this.setPropertyValue("valign",e)&&this._parent&&this._parent.invalidateLayout()},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"horizontalCenter",{get:function(){return this.getPropertyValue("horizontalCenter")},set:function(e){e=tr(e),this.setPropertyValue("horizontalCenter",e)&&this.updateCenter()},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"verticalCenter",{get:function(){return this.getPropertyValue("verticalCenter")},set:function(e){e=tr(e),this.setPropertyValue("verticalCenter",e)&&this.updateCenter()},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"maxWidth",{get:function(){var e=this.getPropertyValue("maxWidth");if(!M(e)&&this._parent){var i=this._parent.maxWidth;return"absolute"!=this._parent.layout&&"none"!=this.align&&null!=this.align&&(i=i-this.pixelMarginLeft-this.pixelMarginRight),i}return e},set:function(e){this.setMaxWidth(e)},enumerable:!0,configurable:!0}),t.prototype.setMaxWidth=function(e){var i=this.maxWidth,s=this.maxHeight;this.setPropertyValue("maxWidth",e)&&(M(this.relativeWidth)&&this.invalidate(),this.dispatchImmediately("maxsizechanged",{type:"maxsizechanged",target:this,previousWidth:i,previousHeight:s}))},Object.defineProperty(t.prototype,"maxHeight",{get:function(){var e=this.getPropertyValue("maxHeight");if(!M(e)&&this._parent){var i=this._parent.maxHeight;return"absolute"!=this._parent.layout&&"none"!=this.valign&&null!=this.valign&&(i=i-this.pixelMarginTop-this.pixelMarginBottom),i}return e},set:function(e){this.setMaxHeight(e)},enumerable:!0,configurable:!0}),t.prototype.setMaxHeight=function(e){var i=this.maxWidth,s=this.maxHeight;this.setPropertyValue("maxHeight",e)&&(M(this.relativeHeight)&&this.invalidate(),this.dispatchImmediately("maxsizechanged",{type:"maxsizechanged",target:this,previousWidth:i,previousHeight:s}))},Object.defineProperty(t.prototype,"minWidth",{get:function(){return this.getPropertyValue("minWidth")},set:function(e){this.setPropertyValue("minWidth",e,!0)},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"minHeight",{get:function(){return this.getPropertyValue("minHeight")},set:function(e){this.setPropertyValue("minHeight",e,!0)},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"width",{get:function(){return this.getPropertyValue("width")},set:function(e){this.setPercentProperty("width",e,!0,!1,this._positionPrecision,!0)&&(this.percentWidth=void 0,this.relativeWidth=void 0,e instanceof ft?(this.percentWidth=e.percent,M(this._pixelWidth)&&(this.maxWidth=void 0),this._pixelWidth=void 0):(this._pixelWidth=Number(e),this.maxWidth=this._pixelWidth),this.invalidatePosition())},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"height",{get:function(){return this.getPropertyValue("height")},set:function(e){this.setPercentProperty("height",e,!0,!1,this._positionPrecision,!0)&&(this.percentHeight=void 0,this._relativeHeight=void 0,e instanceof ft?(this.percentHeight=e.percent,M(this._pixelHeight)&&(this.maxHeight=void 0),this._pixelHeight=void 0):(this._pixelHeight=Number(e),this.maxHeight=this._pixelHeight),this.invalidatePosition())},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"pixelWidth",{get:function(){var e;e=M(this.percentWidth)?this.maxWidth:M(this._pixelWidth)?this._pixelWidth:0;var i=this.minWidth;null!=i&&e<i&&(e=i);var s=ae(e,this._positionPrecision,!0);return this._adapterO?this._adapterO.apply("pixelWidth",s):s},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"pixelHeight",{get:function(){var e;e=M(this.percentHeight)?this.maxHeight:M(this._pixelHeight)?this._pixelHeight:0;var i=this.minHeight;null!=i&&e<i&&(e=i);var s=ae(e,this._positionPrecision,!0);return this._adapterO?this._adapterO.apply("pixelHeight",s):s},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"relativeWidth",{get:function(){var e=this._relativeWidth;if(M(e))return this._adapterO?this._adapterO.apply("relativeWidth",e):e},set:function(e){this._relativeWidth!=e&&(this._relativeWidth=e)},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"relativeHeight",{get:function(){var e=this._relativeHeight;if(M(e))return this._adapterO?this._adapterO.apply("relativeHeight",e):e},set:function(e){this._relativeHeight!=e&&(this._relativeHeight=e)},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"measuredWidth",{get:function(){return this.disabled||this.__disabled?0:this._adapterO?this._adapterO.apply("measuredWidth",this._measuredWidth):this._measuredWidth},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"measuredHeight",{get:function(){return this.disabled||this.__disabled?0:this._adapterO?this._adapterO.apply("measuredHeight",this._measuredHeight):this._measuredHeight},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"outerWidth",{get:function(){var e=this.pixelWidth+this.pixelMarginRight+this.pixelMarginLeft;return this._adapterO?this._adapterO.apply("outerWidth",e):e},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"outerHeight",{get:function(){var e=this.pixelHeight+this.pixelMarginTop+this.pixelMarginBottom;return this._adapterO?this._adapterO.apply("outerHeight",e):e},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"innerWidth",{get:function(){var e=Math.max(0,this.pixelWidth-this.pixelPaddingRight-this.pixelPaddingLeft);return this._adapterO?this._adapterO.apply("innerWidth",e):e},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"innerHeight",{get:function(){var e=Math.max(0,this.pixelHeight-this.pixelPaddingTop-this.pixelPaddingBottom);return this._adapterO?this._adapterO.apply("innerHeight",e):e},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"globalScale",{get:function(){var e=this.scale;return this._parent&&(e*=this._parent.globalScale),this._adapterO?this._adapterO.apply("globalScale",e):e},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"scale",{get:function(){return this.getPropertyValue("scale")},set:function(e){(e=Zt(e))<0&&(e=0),e!=this.getPropertyValue("scale")&&(this.setPropertyValue("scale",e,!1,!0),this.handleGlobalScale())},enumerable:!0,configurable:!0}),t.prototype.margin=function(e,i,s,l){return this.marginTop=e,this.marginRight=i,this.marginBottom=s,this.marginLeft=l,this},Object.defineProperty(t.prototype,"marginLeft",{get:function(){return this.getPropertyValue("marginLeft")},set:function(e){this.setPercentProperty("marginLeft",e,!0,!0,this._positionPrecision,!0)},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"marginRight",{get:function(){return this.getPropertyValue("marginRight")},set:function(e){this.setPercentProperty("marginRight",e,!0,!0,this._positionPrecision,!0)},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"marginTop",{get:function(){return this.getPropertyValue("marginTop")},set:function(e){this.setPercentProperty("marginTop",e,!0,!0,this._positionPrecision,!0)},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"marginBottom",{get:function(){return this.getPropertyValue("marginBottom")},set:function(e){this.setPercentProperty("marginBottom",e,!0,!0,this._positionPrecision,!0)},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"pixelMarginRight",{get:function(){var e=this.getPixelX(this.marginRight);return this._adapterO?this._adapterO.apply("pixelMarginRight",e):e},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"relativeMarginRight",{get:function(){var e=this.getRelativeX(this.marginRight);return this._adapterO?this._adapterO.apply("relativeMarginRight",e):e},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"pixelMarginLeft",{get:function(){var e=this.getPixelX(this.marginLeft);return this._adapterO?this._adapterO.apply("pixelMarginLeft",e):e},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"relativeMarginLeft",{get:function(){var e=this.getRelativeX(this.marginLeft);return this._adapterO?this._adapterO.apply("relativeMarginLeft",e):e},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"pixelMarginTop",{get:function(){var e=this.getPixelY(this.marginTop);return this._adapterO?this._adapterO.apply("pixelMarginTop",e):e},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"relativeMarginTop",{get:function(){var e=this.getRelativeY(this.marginTop);return this._adapterO?this._adapterO.apply("relativeMarginTop",e):e},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"pixelMarginBottom",{get:function(){var e=this.getPixelY(this.marginBottom);return this._adapterO?this._adapterO.apply("pixelMarginBottom",e):e},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"relativeMarginBottom",{get:function(){var e=this.getRelativeY(this.marginBottom);return this._adapterO?this._adapterO.apply("relativeMarginBottom",e):e},enumerable:!0,configurable:!0}),t.prototype.padding=function(e,i,s,l){return this.paddingTop=e,this.paddingRight=i,this.paddingBottom=s,this.paddingLeft=l,this},Object.defineProperty(t.prototype,"paddingLeft",{get:function(){return this.getPropertyValue("paddingLeft")},set:function(e){this.setPercentProperty("paddingLeft",e,!0,!0,this._positionPrecision,!0)},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"paddingRight",{get:function(){return this.getPropertyValue("paddingRight")},set:function(e){this.setPercentProperty("paddingRight",e,!0,!0,this._positionPrecision,!0)},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"paddingTop",{get:function(){return this.getPropertyValue("paddingTop")},set:function(e){this.setPercentProperty("paddingTop",e,!0,!0,this._positionPrecision,!0)},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"paddingBottom",{get:function(){return this.getPropertyValue("paddingBottom")},set:function(e){this.setPercentProperty("paddingBottom",e,!0,!0,this._positionPrecision,!0)},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"pixelPaddingRight",{get:function(){return this.getPixelX(this.paddingRight)},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"relativePaddingRight",{get:function(){return this.getRelativeX(this.paddingRight)},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"pixelPaddingLeft",{get:function(){return this.getPixelX(this.paddingLeft)},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"relativePaddingLeft",{get:function(){return this.getRelativeX(this.paddingLeft)},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"pixelPaddingTop",{get:function(){return this.getPixelY(this.paddingTop)},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"relativePaddingTop",{get:function(){return this.getRelativeY(this.paddingTop)},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"pixelPaddingBottom",{get:function(){return this.getPixelY(this.paddingBottom)},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"relativePaddingBottom",{get:function(){return this.getRelativeY(this.paddingBottom)},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"path",{get:function(){return this.getPropertyValue("path")},set:function(e){this.setPath(e)},enumerable:!0,configurable:!0}),t.prototype.setPath=function(e){return!!this.setPropertyValue("path",e)&&(this._adapterO&&(e=this._adapterO.apply("path",e)),this._isPath||((!this.element||this.element.node&&!(this.element.node instanceof SVGPathElement))&&(this.element=this.paper.add("path")),this._isPath=!0),L(e)?this.element.attr({d:e}):this.element.removeAttr("d"),this.invalidatePosition(),this.inited||this.events.once("inited",this.validatePosition,this,!1),!0)},Object.defineProperty(t.prototype,"fillModifier",{get:function(){return this.getPropertyValue("fillModifier")},set:function(e){this.setPropertyValue("fillModifier",e)&&this.setFill(this.fill)},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"strokeModifier",{get:function(){return this.getPropertyValue("strokeModifier")},set:function(e){this.setPropertyValue("strokeModifier",e,!0)},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"fillOpacity",{get:function(){return this.getPropertyValue("fillOpacity")},set:function(e){e=YP(e,0,1),this.setPropertyValue("fillOpacity",e)&&this.setSVGAttribute({"fill-opacity":e})},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"fill",{get:function(){return this.getPropertyValue("fill")},set:function(e){this.setFill(e)},enumerable:!0,configurable:!0}),t.prototype.setFill=function(e){if((!li(e)||"r"in e)&&(e=As(e)),this.setColorProperty("fill",e)||this.fillModifier)if(e instanceof St&&this.fillModifier&&(e=this.fillModifier.modify(e)),this.realFill=e,e instanceof St)this.setSVGAttribute({fill:e.toString()});else if(L(e)){if(e instanceof Lf||e instanceof Ms||e instanceof ac){var i=e;i.paper=this.paper,this.setSVGAttribute({fill:'url("'+Dm()+i.id+'")'})}}else this.removeSVGAttribute("fill")},Object.defineProperty(t.prototype,"opacity",{get:function(){return this.getPropertyValue("opacity")},set:function(e){e=YP(e,0,1),this.setPropertyValue("opacity",e)&&this.setSVGAttribute({opacity:e})},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"stroke",{get:function(){return this.getPropertyValue("stroke")},set:function(e){this.setStroke(e)},enumerable:!0,configurable:!0}),t.prototype.setStroke=function(e){if((!li(e)||"r"in e)&&(e=As(e)),this.setColorProperty("stroke",e)||this.strokeModifier)if(e instanceof St&&this.strokeModifier&&(e=this.strokeModifier.modify(e)),this.realStroke=e,e instanceof St)"none"==e.hex?this.removeSVGAttribute("stroke"):this.setSVGAttribute({stroke:e.toString()});else if(L(e)){if(e instanceof Lf||e instanceof Ms||e instanceof ac){var i=e;i.paper=this.paper,this.setSVGAttribute({stroke:'url("'+Dm()+i.id+'")'})}}else this.removeSVGAttribute("stroke")},Object.defineProperty(t.prototype,"strokeOpacity",{get:function(){return this.getPropertyValue("strokeOpacity")},set:function(e){e=YP(e,0,1),this.setPropertyValue("strokeOpacity",e)&&this.setSVGAttribute({"stroke-opacity":e})},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"nonScalingStroke",{get:function(){return this.getPropertyValue("nonScalingStroke")},set:function(e){e=pi(e),this.setPropertyValue("nonScalingStroke",e)&&(this.strokeWidth=this.strokeWidth)},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"nonScaling",{get:function(){return this.getPropertyValue("nonScaling")},set:function(e){e=pi(e),this.setPropertyValue("nonScaling",e,!1,!0)},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"strokeWidth",{get:function(){return this.getPropertyValue("strokeWidth")},set:function(e){e=Zt(e),this.setPropertyValue("strokeWidth",e,!0),this.nonScalingStroke&&(M(e)||(e=1),e/=this.globalScale),this.setSVGAttribute({"stroke-width":e})},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"strokeDasharray",{get:function(){return this.getPropertyValue("strokeDasharray")},set:function(e){e=tr(e),this.setPropertyValue("strokeDasharray",e)&&this.setSVGAttribute({"stroke-dasharray":e})},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"strokeDashoffset",{get:function(){return this.getPropertyValue("strokeDashoffset")},set:function(e){e=Zt(e),this.setPropertyValue("strokeDashoffset",e)&&this.setSVGAttribute({"stroke-dashoffset":e})},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"strokeLinecap",{get:function(){return this.getPropertyValue("strokeLinecap")},set:function(e){this.setPropertyValue("strokeLinecap",e)&&this.setSVGAttribute({"stroke-linecap":e})},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"strokeLinejoin",{get:function(){return this.getPropertyValue("strokeLinejoin")},set:function(e){this.setPropertyValue("strokeLinejoin",e)&&this.setSVGAttribute({"stroke-linejoin":e})},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"shapeRendering",{get:function(){return this.getPropertyValue("shapeRendering")},set:function(e){e=tr(e),this.setPropertyValue("shapeRendering",e)&&this.setSVGAttribute({"shape-rendering":e})},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"pixelPerfect",{get:function(){return this.getPropertyValue("pixelPerfect")},set:function(e){e=pi(e),this._positionPrecision=e?nt.pixelPerfectPrecision:3,this.setPropertyValue("pixelPerfect",e,!0)},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"rtl",{get:function(){return L(this._rtl)?this._rtl:!!this._topParent&&this._topParent.rtl},set:function(e){e=pi(e),this.isBaseSprite&&(this.topParent.rtl=e),this._rtl=e},enumerable:!0,configurable:!0}),t.prototype.show=function(e){return this.showReal(e)},t.prototype.showReal=function(e){var i=this;if(!this.preventShow){var s,l=this.defaultState.properties;if(!this.disabled&&(this.isHidden||!this.visible||this.isHiding||null!=l.opacity&&this.opacity<l.opacity&&!this.isShowing)&&!this.isDisposed()){this.invalid&&this.validate(),this.positionInvalid&&this.validatePosition(),M(e)||(e=this.defaultState.transitionDuration),this._hideAnimation&&(this._hideAnimation.kill(),this._hideAnimation=void 0),this._showHideDisposer&&this.removeDispose(this._showHideDisposer),this._isHidden=!1,this.isHiding=!1,this.isShowing=!0,(s=this.applyCurrentState(e))&&!s.isFinished()?(this._showHideDisposer=s.events.on("animationended",function(){i.isShowing=!1}),this._disposers.push(this._showHideDisposer)):this.isShowing=!1;var p=this.defaultState.properties.visible;L(p)||(p=!0),this.visible=p,this.readerHidden=!1,this.dispatchImmediately("shown")}return s}},t.prototype.hide=function(e){return this.hideReal(e)},t.prototype.hideReal=function(e){var s,i=this;if(!this.isHiding&&this.visible&&!this.isDisposed()){this.tooltip&&this.tooltip.currentSprite==this&&this.hideTooltip(0),this._hideAnimation&&(this._hideAnimation.kill(),this._hideAnimation=void 0),this.isShowing=!1,this._showHideDisposer&&this.removeDispose(this._showHideDisposer);var l=this.hiddenState;l?(s=this.setState(l,e,void 0))&&!s.isFinished()?(this._hideAnimation=s,this._showHideDisposer=s.events.on("animationended",function(){i.isHiding=!1,i._isHidden=!0,0==l.properties.visible&&(i.visible=!1)},this),this._disposers.push(this._showHideDisposer),this._disposers.push(s)):(this.isHiding=!1,this._isHidden=!0):(this.visible=!1,this.isHiding=!1,this._isHidden=!0),this.readerHidden=!0,this.dispatchImmediately("hidden"),this.invalidate()}return M(e)||(e=this.hiddenState.transitionDuration),s},Object.defineProperty(t.prototype,"visible",{get:function(){return this.getVisibility()},set:function(e){e=pi(e),this.setVisibility(e)},enumerable:!0,configurable:!0}),t.prototype.getVisibility=function(){var e=this.getPropertyValue("visible");return L(e)||(e=!0),e},t.prototype.setVisibility=function(e){this.setPropertyValue("visible",e)&&(e?this.group.removeAttr("visibility"):this.group.attr({visibility:"hidden"}),this.events.isEnabled("visibilitychanged"))&&this.events.dispatchImmediately("visibilitychanged",{type:"visibilitychanged",target:this,visible:e})},Object.defineProperty(t.prototype,"zIndex",{get:function(){return this.getPropertyValue("zIndex")},set:function(e){e=Zt(e),this.setPropertyValue("zIndex",e)&&this.dispatch("zIndexChanged")},enumerable:!0,configurable:!0}),t.prototype.toFront=function(){var e=this._parent;e&&e.children.indexOf(this)!=e.children.length-1&&(e.children.moveValue(this,e.children.length-1),this.dispatch("zIndexChanged"))},t.prototype.toBack=function(){var e=this._parent;e&&0!=e.children.indexOf(this)&&(e.children.moveValue(this,0),this.dispatch("zIndexChanged"))},Object.defineProperty(t.prototype,"userClassName",{get:function(){return this.getPropertyValue("userClassName")},set:function(e){this.setPropertyValue("userClassName",e)&&(!e&&this.userClassName&&this.group.removeClass(this.userClassName),this.setClassName())},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"tooltip",{get:function(){return this._tooltip?this._tooltip:this.virtualParent?this.virtualParent.tooltip:this._parent?this._parent.tooltip:void 0},set:function(e){this._tooltip&&this.removeDispose(this._tooltip),this._tooltip=e,e&&(e.parent=this.tooltipContainer)},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"tooltipDataItem",{get:function(){return this._tooltipDataItem||this.dataItem},set:function(e){this._tooltipDataItem=e},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"tooltipColorSource",{get:function(){return this._tooltipColorSource},set:function(e){this._tooltipColorSource=e},enumerable:!0,configurable:!0}),t.prototype.showTooltip=function(e){"always"==this.showTooltipOn&&!this._tooltip&&this.tooltip&&(this._tooltip=this.tooltip.clone()),!e&&"pointer"==this.tooltipPosition&&this.isHover&&(e=sc($e().lastPointer.point,this.svgContainer.SVGContainer,this.svgContainer.cssScale));for(var i=this;null!=i;){if(!i.visible||i.disabled||i.__disabled)return void(this._tooltip&&this._tooltip.visible&&this._tooltip.hide(0));i=i.parent}if(L(this.tooltipText)||L(this.tooltipHTML)){var s=this.tooltip,l=this.tooltipDataItem;if(s){s.targetSprite=this;var p=this,h=this.tooltipColorSource;if((s.getStrokeFromObject||s.getFillFromObject)&&h&&(h.isTemplate?l&&ZP(l.sprites,function(C){return C.clonedFrom!=h||(p=C,!1)}):p=h),s.getStrokeFromObject){for(var g=this.stroke,v=p;null!=v.parent&&(null==(g=v.stroke)&&(v=v.parent),null==g););g instanceof St?s.background.animate({property:"stroke",to:g},s.animationDuration):s.background.stroke=g}if(s.dataItem=l,s.label.populateStringFrom=this,s.getFillFromObject){var m=this.fill;for(v=p;null!=v.parent;)if(null==(m=v.fill)||m instanceof St&&null==m.rgb)v=v.parent;else if(null!=m)break;null==m&&(m=Le("#000000")),m instanceof St&&s.visible?s.background.animate({property:"fill",to:m},s.animationDuration):s.background.fill=m,s.autoTextColor&&m instanceof St&&(s.label.fill=m.alternative)}var _="";if(this.tooltipHTML&&(s.html=this.tooltipHTML,_=this.tooltipHTML),this.tooltipText&&(s.text=this.tooltipText,_=this.tooltipText),this.updateTooltipPosition(e)){if(s.readerDescribedBy=this.uidAttr(),s.label.invalid&&s.label.validate(),null!=_&&""!=_&&""!=s.label.currentText){s&&!s.parent&&(s.parent=this.tooltipContainer);var b=s.defaultState.transitionDuration;return b<=0&&(b=1),s.show(b),s.currentSprite=this,!0}this.hideTooltip(0)}else this.hideTooltip(0)}}return!1},t.prototype.updateTooltipPosition=function(e){var i=this;if("pointer"!=this.tooltipPosition){var s=Is({x:this.getTooltipX(),y:this.getTooltipY()},this);return this.pointTooltipTo(s)}if(this._interactionDisposer&&this._interactionDisposer.dispose(),this._interactionDisposer=$e().body.events.on("track",function(l){return i.pointTooltipTo(sc(l.point,i.svgContainer.SVGContainer,i.svgContainer.cssScale),!0)}),e)return this.pointTooltipTo(e,!0)},t.prototype.pointTooltipTo=function(e,i){var s=this.tooltip;return!(!s||!this.topParent||!s.showInViewport&&!tL(e,{x:0,y:0,width:this.topParent.maxWidth,height:this.topParent.maxHeight})||(s.pointTo(e,i),0))},t.prototype.hideTooltip=function(e){if("always"!=this.showTooltipOn){var i=this.tooltip;i&&(i.targetSprite==this&&(i.targetSprite=void 0),i.hide(e),this._interactionDisposer&&(this._interactionDisposer.dispose(),this._interactionDisposer=void 0))}},Object.defineProperty(t.prototype,"tooltipHTML",{get:function(){return this.getPropertyValue("tooltipHTML")},set:function(e){e=tr(e),this.hoverable=!0,this.setPropertyValue("tooltipHTML",e)&&this.tooltip&&this.tooltip.visible&&this.showTooltip()},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"tooltipText",{get:function(){return this.getPropertyValue("tooltipText")},set:function(e){(e=tr(e))&&(this.hoverable=!0),this.setPropertyValue("tooltipText",e)&&this.tooltip&&this.tooltip.visible&&this.showTooltip()},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"tooltipContainer",{get:function(){return this._tooltipContainer?this._tooltipContainer:this._parent?this._parent.tooltipContainer:void 0},set:function(e){this._tooltipContainer=e},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"tooltipX",{get:function(){return this.getTooltipX()},set:function(e){this.setPercentProperty("tooltipX",e)&&this.tooltip&&this.tooltip.invalidate()},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"alwaysShowTooltip",{get:function(){return"always"==this.getPropertyValue("showTooltipOn")},set:function(e){(e=pi(e))&&(this.showTooltipOn="always")},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"showTooltipOn",{get:function(){return this.getPropertyValue("showTooltipOn")},set:function(e){this.setPropertyValue("showTooltipOn",e)&&("hit"==e&&(this.clickable=!0),this.tooltip&&("always"==e?this.showTooltip():this.handleAlwaysShowTooltip()))},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"tooltipPosition",{get:function(){return this.getPropertyValue("tooltipPosition")},set:function(e){this.setPropertyValue("tooltipPosition",e)},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"tooltipY",{get:function(){return this.getTooltipY()},set:function(e){this.setPercentProperty("tooltipY",e)&&this.tooltip&&this.tooltip.invalidate()},enumerable:!0,configurable:!0}),t.prototype.getTooltipX=function(){var i,e=this.getPropertyValue("tooltipX");return L(e)||(e=ue(50)),M(e)&&(i=e),e instanceof ft&&(i=this.maxLeftSelf+this._measuredWidthSelf*e.value-this.pixelPaddingLeft-this.ex),M(i)||(i=0),i},t.prototype.getTooltipY=function(){var i,e=this.getPropertyValue("tooltipY");return L(e)||(e=ue(50)),M(e)&&(i=e),e instanceof ft&&(i=this.maxTopSelf+this._measuredHeightSelf*e.value-this.pixelPaddingTop-this.ey),M(i)||(i=0),i},t.prototype.raiseCriticalError=function(e,i){this.svgContainer&&(this.modal.content=this._adapterO?this._adapterO.apply("criticalError",e).message:e.message,i?this.modal.closable=!0:this.disabled=!0,nt.suppressErrors||this.modal.open()),nt.verbose&&console.log(e)},t.prototype.processConfig=function(e){e&&(L(e.tooltipColorSource)&&gt(e.tooltipColorSource)&&this.map.hasKey(e.tooltipColorSource)&&(e.tooltipColorSource=this.map.getKey(e.tooltipColorSource)),L(e.cursorOverStyle)&&gt(e.cursorOverStyle)&&(e.cursorOverStyle=this.getCursorStyle(e.cursorOverStyle)),L(e.cursorDowntyle)&&gt(e.cursorDowntyle)&&(e.cursorDowntyle=this.getCursorStyle(e.cursorDowntyle)),L(e.cursorOptions)&&(L(e.cursorOptions.overStyle)&&gt(e.cursorOptions.overStyle)&&(e.cursorOptions.overStyle=this.getCursorStyle(e.cursorOptions.overStyle)),L(e.cursorOptions.downStyle)&&gt(e.cursorOptions.downStyle)&&(e.cursorOptions.downStyle=this.getCursorStyle(e.cursorOptions.downStyle)))),n.prototype.processConfig.call(this,e),this.processDelayedMap()},t.prototype.getCursorStyle=function(e){switch(e){case"grab":return jn.grab;case"grabbing":return jn.grabbing;case"pointer":return jn.pointer;case"horizontalResize":return jn.horizontalResize;case"verticalResize":return jn.verticalResize;default:return jn.default}},t.prototype.configOrder=function(e,i){return e==i?0:"tooltipColorSource"==e?1:"tooltipColorSource"==i?-1:n.prototype.configOrder.call(this,e,i)},Object.defineProperty(t.prototype,"isHidden",{get:function(){return this._isHidden?this._isHidden:!!this._parent&&this._parent.isHidden},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"showOnInit",{get:function(){return this.getPropertyValue("showOnInit")},set:function(e){e=pi(e),this.setShowOnInit(e)},enumerable:!0,configurable:!0}),t.prototype.setShowOnInit=function(e){this.setPropertyValue("showOnInit",e)&&(this.isTemplate||(!e||this.inited||this.hidden?this._showOnInitDisposer&&this._showOnInitDisposer.dispose():(this._showOnInitDisposer=new mi([G.events.once("enterframe",this.hideInitially,this),this.events.once("beforevalidated",this.hideInitially,this,!1),this.events.on("inited",this.appear,this,!1)]),this._disposers.push(this._showOnInitDisposer))))},t.prototype.hideInitially=function(){this.isDisposed()||(this.appeared=!1,this.inited||this.hide(0))},t.prototype.appear=function(){var e=this;if(this.appeared=!1,!this.hidden&&!this.isHidden&&this.hide(0),this.hidden)this.appeared=!0,this.dispatch("appeared");else{var i=this.show();i&&!i.isFinished()?this.addDisposer(i.events.on("animationended",function(){e.appeared=!0,e.dispatch("appeared")})):(this.appeared=!0,this.dispatch("appeared"))}},Object.defineProperty(t.prototype,"hidden",{get:function(){return this.getPropertyValue("hidden")},set:function(e){e=pi(e),this.setPropertyValue("hidden",e)},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"bbox",{get:function(){return this.definedBBox?this.definedBBox:this._bbox},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"plugins",{get:function(){var e=this;return this._plugins||(this._plugins=new Dt,this._disposers.push(this._plugins.events.on("inserted",function(i){i.newValue.target=e,i.newValue.init()})),this._disposers.push(new Qt(this._plugins))),this._plugins},enumerable:!0,configurable:!0}),t.prototype._systemUpdate=function(e){this.validate()},t.prototype._systemCheckIfValidate=function(){return!0},t.prototype._systemValidatePositions=function(){this.validatePosition()},t.prototype._systemValidateLayouts=function(){},t}(tl);G.registeredClasses.Sprite=Je;var $0=function(n){function t(){var e=n.call(this)||this;return e.className="Rectangle",e.element=e.paper.add("rect"),e.applyTheme(),e}return $(t,n),t.prototype.draw=function(){n.prototype.draw.call(this);var e=this._positionPrecision;this.pixelPerfect&&(e=0);var i=ae(this.innerWidth,e),s=ae(this.innerHeight,e);this.element.attr({width:i,height:s})},t.prototype.measureElement=function(){},Object.defineProperty(t.prototype,"bbox",{get:function(){return this.definedBBox?this.definedBBox:this.isMeasured?{x:0,y:0,width:this.innerWidth,height:this.innerHeight}:{x:0,y:0,width:0,height:0}},enumerable:!0,configurable:!0}),t}(Je);G.registeredClasses.Rectangle=$0;var Ve=function(n){function t(){var e=n.call(this)||this;return e._childrenByLayout=[],e._childrenDisposers=new ii,e.hasFocused=!1,e.setStateOnSprites=[],e.layoutInvalid=!1,e._absoluteWidth=0,e._absoluteHeight=0,e._shouldBeReady=[],e._tapToActivate=!1,e.tapTimeout=3e3,e.className="Container",e._element=e.paper.addGroup("g"),e.group.add(e.element),e.setPropertyValue("pixelPerfect",!1),e.setPropertyValue("layout","absolute"),e.setPropertyValue("fixedWidthGrid",!1),e.setPropertyValue("verticalCenter","none"),e.setPropertyValue("horizontalCenter","none"),e._positionPrecision=4,e._disposers.push(new zd(e._childrenDisposers)),e.children.events.on("inserted",e.handleChildAdded,e),e.children.events.on("removed",e.handleChildRemoved,e),e.applyTheme(),e}return $(t,n),t.prototype.handleChildAdded=function(e){this.processChild(e.newValue)},t.prototype.processChild=function(e){try{this._childrenDisposers.insertKey(e.uid,new mi([e.events.on("transformed",this.handleChildTransform,this),e.events.on("zIndexChanged",this.sortAndAdd,this)]))}catch(s){}this.element&&this.element.add(e.group),e.parent=this,e.paper=this.paper,this.dispatchImmediately("childadded",{type:"childadded",newValue:e}),this.invalidate()},t.prototype.sortAndAdd=function(){this.sortChildren(),this.addChildren()},t.prototype.handleChildRemoved=function(e){var i=e.oldValue;this._childrenDisposers.removeKey(i.uid),this.element&&this.element.removeElement(i.group),i.isMeasured&&this.invalidateLayout(),this.dispatchImmediately("childremoved",{type:"childremoved",oldValue:i})},t.prototype.handleChildTransform=function(e){e.target.isMeasured&&this.invalidateLayout()},t.prototype.invalidateLayout=function(){this.layoutInvalid||this.disabled||this.isTemplate||"none"==this.layout||this.__disabled||(this.layoutInvalid=!0,G.addToInvalidLayouts(this),lt.requestFrame())},t.prototype.invalidate=function(){n.prototype.invalidate.call(this),this.invalidateLayout()},t.prototype.deepInvalidate=function(){n.prototype.invalidate.call(this),be(this._childrenByLayout,function(e){e instanceof t?e.deepInvalidate():e.invalidate()}),this.invalidateLayout()},Object.defineProperty(t.prototype,"children",{get:function(){return this._children||(this._children=new Dt),this._children},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"minWidth",{get:function(){return this.getPropertyValue("minWidth")},set:function(e){this.setPropertyValue("minWidth",e)&&this.invalidateLayout()},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"minHeight",{get:function(){return this.getPropertyValue("minHeight")},set:function(e){this.setPropertyValue("minHeight",e)&&this.invalidateLayout()},enumerable:!0,configurable:!0}),t.prototype.removeElement=function(){},t.prototype.sortChildren=function(){var e=this;if(this._childrenByLayout=[],"none"!=this.layout&&"absolute"!=this.layout&&this.layout){var i=[],s=[];oe(this.children.iterator(),function(l){"horizontal"==e.layout||"grid"==e.layout?M(l.percentWidth)?s.push(l):i.push(l):"vertical"==e.layout&&M(l.percentHeight)?s.push(l):i.push(l)}),this._childrenByLayout=i.concat(s)}else this._childrenByLayout=this.children.values;this.calculateRelativeSize()},t.prototype.calculateRelativeSize=function(){var e=this,i=0,s=0;be(this._childrenByLayout,function(l){l.isMeasured&&(M(l.percentWidth)&&(i+=l.percentWidth),M(l.percentHeight)&&(s+=l.percentHeight))}),be(this._childrenByLayout,function(l){l.isMeasured&&("horizontal"==e.layout&&(M(l.percentWidth)&&(l.relativeWidth=l.percentWidth/i),M(l.percentHeight)&&(l.relativeHeight=l.percentHeight/100)),"vertical"==e.layout&&(M(l.percentHeight)&&(l.relativeHeight=l.percentHeight/s),M(l.percentWidth)&&(l.relativeWidth=l.percentWidth/100)),"grid"==e.layout&&(M(l.percentHeight)&&(l.relativeHeight=l.percentHeight/100),M(l.percentWidth)&&(l.relativeWidth=l.percentWidth/100))),("absolute"==e.layout||!l.isMeasured)&&(M(l.percentWidth)&&(l.relativeWidth=l.percentWidth/100),M(l.percentHeight)&&(l.relativeHeight=l.percentHeight/100))})},t.prototype.addChildren=function(){if(this.element){var e=gm(this.children.values),i=e.map(function(g,v){return{idx:v,data:g}});i.sort(function(g,v){var m=g.data.zIndex||0,_=v.data.zIndex||0;return m<_?-1:m>_?1:g.idx-v.idx}),e=i.map(function(g){return g.data});var s=this.element,l=!0;if(s.node&&s.node.childNodes)for(var p=0,h=s.node.childNodes.length;p<h;p++)if(s.node.childNodes[p]!=e[p].group.node){l=!1;break}l||(be(e,function(g){g.group&&s.add(g.group)}),this._background&&this.group.addToBack(this._background.group),this.invalidateLayout())}},t.prototype.createChild=function(e){var i=new e;return i.parent=this,i},t.prototype.removeChildren=function(){for(;this.children.length>0;){var e=this.children.getIndex(0);e.parent=void 0,this.children.removeValue(e)}},t.prototype.disposeChildren=function(){for(;this.children.length>0;){var e=this.children.getIndex(0);e.dispose(),this.children.removeValue(e)}},Object.defineProperty(t.prototype,"background",{get:function(){return this._background||(this._background=this.createBackground(),this.processBackground()),this._background},set:function(e){this._background&&this.background!=e&&this.removeDispose(this._background),e&&(this._background=e,this._disposers.push(e),this.processBackground())},enumerable:!0,configurable:!0}),t.prototype.handleGlobalScale=function(){n.prototype.handleGlobalScale.call(this),this.children.each(function(e){e.handleGlobalScale()})},t.prototype.createBackground=function(){return new $0},t.prototype.processBackground=function(){var e=this._background;e&&(e.isMeasured=!1,this._background.fill=(new Rt).getFor("background"),e.parent=this,e.isMeasured=!1,this.children.removeValue(e),this._disposers.push(e),this.group.addToBack(this._background.group))},t.prototype.validateLayout=function(){var e=this;G.removeFromInvalidLayouts(this),this.layoutInvalid=!1,this._availableWidth=this.innerWidth,this._availableHeight=this.innerHeight;var i=0,s=0,l=!0;this.children&&(this.sortChildren(),be(this._childrenByLayout,function(p){var h,g;if(M(p.relativeWidth)?(h=ae(e._availableWidth*p.relativeWidth,2),"horizontal"==e.layout&&(h-=p.pixelMarginRight+p.pixelMarginLeft)):"horizontal"==e.layout&&p.invalid&&p.validate(),M(p.relativeHeight)?(g=ae(e._availableHeight*p.relativeHeight,2),"vertical"==e.layout&&(g-=p.pixelMarginTop+p.pixelMarginBottom)):"vertical"==e.layout&&p.invalid&&p.validate(),0==p.invalid){if(M(p.relativeWidth)&&(p.maxWidth=h),M(p.relativeHeight)&&(p.maxHeight=g),p.isMeasured){"horizontal"==e.layout&&(M(p.percentWidth)||p.measuredWidth>0&&(e._availableWidth-=p.measuredWidth+p.pixelMarginLeft+p.pixelMarginRight)),"vertical"==e.layout&&(M(p.percentHeight)||p.measuredHeight>0&&(e._availableHeight-=p.measuredHeight+p.pixelMarginTop+p.pixelMarginBottom));var v=p.measuredWidth,m=p.measuredHeight;"none"!=p.align&&(v+=p.pixelMarginLeft+p.pixelMarginRight),"none"!=p.valign&&(m+=p.pixelMarginTop+p.pixelMarginBottom),i=Math.max(i,v),s=Math.max(s,m)}}else p.isMeasured&&(M(p.relativeWidth)&&p.maxWidth!=h&&(p.maxWidth=h,l=!1),M(p.relativeHeight)&&p.maxHeight!=g&&(p.maxHeight=g,l=!1))})),this._absoluteWidth=i,this._absoluteHeight=s,l&&this.arrange()},t.prototype.arrange=function(){var g,v,m,_,Y,K,X,gn,Zi,Mr,vn,e=this,i=this.children,s=0,l=0,p=Qe(this.innerWidth,this._absoluteWidth),h=Qe(this.innerHeight,this._absoluteHeight),b=this.pixelPaddingLeft,C=this.pixelPaddingRight,S=this.pixelPaddingTop,E=this.pixelPaddingBottom,x=0,R=0,P=0,k=0,U=[],W=[],J=this.maxWidth,je=this.maxHeight,we=this.minWidth,Oe=this.minHeight,Tt=gm(i.values);if(this.reverseOrder&&Tt.reverse(),"grid"==this.layout){K=J,Y=1;for(var Vi=0,fn=Tt.length;Vi<fn;Vi++)if((He=Tt[Vi]).isMeasured&&!He.disabled&&!He.__disabled){var qi=He.measuredWidth;qi<K&&(K=qi),qi>Y&&(Y=qi)}K=xe(K,1,J),Y=xe(Y,1,J),X=this.fixedWidthGrid?J/Y:J/K,X=Qe(1,Math.floor(X)),X=vt(this.maxColumns,X),U=this.getColumnWidth(Tt,X,Y)}for(Vi=0,fn=Tt.length;Vi<fn;Vi++){var He;if(!(He=Tt[Vi]).isMeasured||He.disabled||He.__disabled)He.validatePosition();else{var Be=void 0,Xt=void 0,Ei=He.pixelMarginLeft,Ns=He.pixelMarginRight,Xo=He.pixelMarginTop,Xr=He.pixelMarginBottom,Io=He.measuredWidth,al=He.measuredHeight,fa=void 0,dp=void 0,pp=void 0,LD=void 0;switch(this.layout){case"none":break;case"absolute":switch(He.align){case"left":Be=Ei-He.maxLeft;break;case"center":Be=(p-Io)/2-He.maxLeft;break;case"right":Be=p-Ns-He.maxRight;break;default:He.x instanceof ft||(Be=He.pixelX)}switch(He.valign){case"top":Xt=Xo-He.maxTop;break;case"middle":Xt=(h-al)/2-He.maxTop;break;case"bottom":Xt=h-Xr-He.maxBottom;break;default:He.y instanceof ft||(Xt=He.pixelY)}break;case"vertical":switch(He.align){case"left":Be=Ei-He.maxLeft;break;case"center":Be=(p-Io)/2-He.maxLeft;break;case"right":Be=p-Ns-He.maxRight;break;default:Be=He.pixelX}R=(Xt=R+Xo-He.maxTop)+He.maxBottom+Xr;break;case"horizontal":switch(He.valign){case"top":Xt=Xo-He.maxTop;break;case"middle":Xt=(h-al)/2-He.maxTop;break;case"bottom":Xt=h-Xr-He.maxBottom;break;default:Xt=He.pixelY}x=(Be=x+Ei-He.maxLeft)+He.maxRight+Ns;break;case"grid":switch(Be=x+Ei-He.maxLeft,He.valign){case"top":Xt=R+Xo-He.maxTop;break;case"middle":Xt=R+(h-al)/2-He.maxTop;break;case"bottom":Xt=R+h-Xr-He.maxBottom;break;default:Xt=R-He.maxTop}x+=U[k],W[P]=Qe(W[P],al);var cA=U[++k];if(M(cA)||(cA=Y),x>vt(this.innerWidth,J)-cA+1&&k<X){X=k,x=0,R=0,P=0,k=0,U=this.getColumnWidth(Tt,X,Y),W=[],Vi=-1;continue}k>=X&&(k=0,R+=W[P],P++,x=0)}"none"!==this.layout&&(He.moveTo({x:Be,y:Xt}),fa=Be+He.maxLeft-Ei,pp=Xt+He.maxTop-Xo,LD=Xt+He.maxBottom+Xr,((dp=Be+He.maxRight+Ns)>v||!M(v))&&(v=dp),(fa<g||!M(g))&&(g=fa),(pp<m||!M(m))&&(m=pp),(LD>_||!M(_))&&(_=LD),(dp>Zi||!M(Zi))&&(Zi=dp),(fa<gn||!M(gn))&&(gn=fa),(pp<Mr||!M(Mr))&&(Mr=pp),(LD>vn||!M(vn))&&(vn=vn))}}if("none"==this.layout){var $f=this.bbox;g=$f.x,v=$f.x+$f.width,m=$f.y,_=$f.y+$f.height}M(g)||(g=0,gn=0),M(v)||(Zi=v=this._availableWidth),M(m)||(m=0,Mr=0),M(_)||(vn=_=this._availableHeight),M(Mr)||(Mr=0),M(vn)||(vn=Mr),M(gn)||(gn=0),M(Zi)||(Zi=gn),s=v-g,l=_-m,M(this.relativeWidth)&&(g=0,v=s=J-b-C),M(this.relativeHeight)&&(m=0,_=l=je-S-E),M(this._pixelWidth)&&(g=0,s=this._pixelWidth-b-C),M(we)&&s<we&&(g=0,s=this.minWidth-b-C),M(this._pixelHeight)&&(m=0,l=this._pixelHeight-S-E),M(Oe)&&l<Oe&&(m=0,l=Oe-S-E);var VD=Zi-gn,kD=vn-Mr;if("none"!=this.layout&&(this.contentAlign||this.contentValign)&&i.length>0){var GD,HD,BD=s,jD=l;BD<VD&&(BD=VD),jD<kD&&(jD=kD),"center"==this.contentAlign&&(GD=(BD-VD)/2),"right"==this.contentAlign&&(GD=BD-VD),"middle"==this.contentValign&&(HD=(jD-kD)/2),"bottom"==this.contentValign&&(HD=jD-kD),M(GD)&&oe(i.iterator(),function(yn){var Yf=yn.maxLeft,Mo=GD;"horizontal"==e.layout&&(yn.x=yn.pixelX+Mo),"grid"==e.layout&&(yn.x=yn.pixelX+Mo),"vertical"==e.layout&&(Mo+=yn.pixelMarginLeft,"none"==yn.align&&(yn.x=Mo-Yf)),"absolute"==e.layout&&(Mo+=yn.pixelMarginLeft,"none"==yn.align&&(yn.x=Mo-Yf))}),M(HD)&&oe(i.iterator(),function(yn){var Yf=yn.maxTop,Mo=HD;"horizontal"==e.layout&&(Mo+=yn.pixelMarginTop,"none"==yn.valign&&(yn.y=Mo-Yf)),"grid"==e.layout&&(yn.y=(Mo+=yn.pixelMarginTop)-Yf),"vertical"==e.layout&&(yn.y=yn.pixelY+Mo),"absolute"==e.layout&&(Mo+=yn.pixelMarginTop,"none"==yn.valign&&(yn.y=Mo-Yf))})}var dA=this.bbox;s=Qe(s,we),l=Qe(l,Oe),this.contentWidth=s,this.contentHeight=l,s=vt(s,J),l=vt(l,je),this._bbox={x:g,y:m,width:s,height:l};var I7=this.maxLeft,M7=this.maxTop,F7=this.maxBottom,N7=this.maxRight;if(this.measure(),(I7!=this.maxLeft||N7!=this.maxRight||M7!=this.maxTop||F7!=this.maxBottom)&&this.events.isEnabled("transformed")){var pH={type:"transformed",target:this};dA&&(pH.dummyData=dA.width+" "+s+"  "+dA.height+" "+l),this.events.dispatchImmediately("transformed",pH)}this.dispatchImmediately("layoutvalidated")},t.prototype.updateCenter=function(){n.prototype.updateCenter.call(this),this.updateBackground()},t.prototype.updateBackground=function(){var e=this._background;e&&(e.x=this.maxLeft,e.y=this.maxTop,e.width=this.maxRight-this.maxLeft,e.height=this.maxBottom-this.maxTop)},t.prototype.getColumnWidth=function(e,i,s){var l=this,p=[],h=0;return be(e,function(g){g.isMeasured&&!g.disabled&&!g.__disabled&&(p[h]=l.fixedWidthGrid?s:Qe(p[h],g.measuredWidth+g.pixelMarginRight+g.pixelMarginLeft),++h==i&&(h=0))}),p},Object.defineProperty(t.prototype,"layout",{get:function(){return this.getPropertyValue("layout")},set:function(e){this.setPropertyValue("layout",e)&&this.invalidateLayout()},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"contentValign",{get:function(){return this.getPropertyValue("contentValign")},set:function(e){this.setPropertyValue("contentValign",e,!0)},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"contentAlign",{get:function(){return this.getPropertyValue("contentAlign")},set:function(e){this.setPropertyValue("contentAlign",e,!0)},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"fixedWidthGrid",{get:function(){return this.getPropertyValue("fixedWidthGrid")},set:function(e){this.setPropertyValue("fixedWidthGrid",e,!0)},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"maxColumns",{get:function(){return this.getPropertyValue("maxColumns")},set:function(e){this.setPropertyValue("maxColumns",e,!0)},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"reverseOrder",{get:function(){return this.getPropertyValue("reverseOrder")},set:function(e){this.setPropertyValue("reverseOrder",e,!0)},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"setStateOnChildren",{get:function(){return this.getPropertyValue("setStateOnChildren")},set:function(e){this.setPropertyValue("setStateOnChildren",e,!0)},enumerable:!0,configurable:!0}),t.prototype.fitsToBounds=function(e){var i=e.x,s=e.y,l=.5;return i>=-l&&i<=this.pixelWidth+l&&s>=-l&&s<=this.pixelHeight+l},t.prototype.copyFrom=function(e){var i=this;n.prototype.copyFrom.call(this,e),this.layout=e.layout,this.setStateOnChildren=e.setStateOnChildren,e._background&&(this.background=e._background.clone(),this.background.copyFrom(e._background)),oe(e.children.iterator(),function(s){s.shouldClone&&(s.clone().parent=i)})},Object.defineProperty(t.prototype,"preloader",{get:function(){return this._preloader||(this.parent?this.parent.preloader:void 0)},set:function(e){this._preloader&&this.removeDispose(this._preloader),this._preloader=e,e&&(e.parent=this.tooltipContainer,this._disposers.push(e))},enumerable:!0,configurable:!0}),t.prototype.setPaper=function(e){var i=this,s=n.prototype.setPaper.call(this,e);return s&&(this._background&&(this._background.paper=e,this._background.topParent=this.topParent),this.children.each(function(l){l.setPaper(e),l.topParent=i.topParent})),s},t.prototype.removeFromInvalids=function(){n.prototype.removeFromInvalids.call(this),G.removeFromInvalidLayouts(this)},t.prototype.setDataItem=function(e){this._dataItem!=e&&(oe(this.children.iterator(),function(i){i.dataItem=e}),this._background&&(this._background.dataItem=e)),n.prototype.setDataItem.call(this,e)},t.prototype.measureElement=function(){this.disabled||this.isTemplate||"none"==this.layout||this.__disabled||this.validateLayout()},Object.defineProperty(t.prototype,"fontFamily",{get:function(){return this.getPropertyValue("fontFamily")},set:function(e){this.setPropertyValue("fontFamily",e,!0)&&(this.setSVGAttribute({"font-family":e}),this.invalidateLabels())},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"fontSize",{get:function(){return this.getPropertyValue("fontSize")},set:function(e){this.setPropertyValue("fontSize",e,!0)&&(this.setSVGAttribute({"font-size":e}),this.invalidateLabels())},enumerable:!0,configurable:!0}),t.prototype.invalidateLabels=function(){this.children.each(function(e){e.hardInvalidate?(e.hardInvalidate(),e.events.once("validated",e.handleValidate,e,!1)):e instanceof t&&e.invalidateLabels()})},Object.defineProperty(t.prototype,"fontWeight",{get:function(){return this.getPropertyValue("fontWeight")},set:function(e){this.setPropertyValue("fontWeight",e),this.setSVGAttribute({"font-weight":e})},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"textDecoration",{get:function(){return this.getPropertyValue("textDecoration")},set:function(e){this.setPropertyValue("textDecoration",e),this.setSVGAttribute({"text-decoration":e})},enumerable:!0,configurable:!0}),t.prototype.dispose=function(){this._background&&this._background.dispose(),this._shouldBeReady=[],this.disposeChildren(),n.prototype.dispose.call(this)},t.prototype.setState=function(e,i,s){var l=e;return e instanceof k0&&(l=e.name),this.setStateOnChildren&&oe(this.children.iterator(),function(p){p.setState(l,i,s),"active"!=l&&(p.isActive=!1)}),this._background&&this._background.setState(l),this.setStateOnSprites.length&&be(this.setStateOnSprites,function(p){p.setState(l,i,s)}),n.prototype.setState.call(this,e,i,s)},t.prototype.setActive=function(e){n.prototype.setActive.call(this,e),this._background&&(this._background.isActive=e)},t.prototype.dispatchReady=function(){var e=this;if(!this.isReady()&&!this.isDisposed()){var i=!0;zo(this.children.iterator(),function(s){return!!(s.__disabled||s.disabled||s.isReady())||(i=!1,!1)}),ZP(this._shouldBeReady,function(s){return!!(s.__disabled||s.disabled||s.isReady())||(i=!1,!1)}),i?n.prototype.dispatchReady.call(this):G.events.once("exitframe",function(){e.dispatchReady(),lt.requestFrame()},void 0,!1)}},t.prototype._systemUpdate=function(e){this.children.each(function(i){i.invalid&&(i._systemCheckIfValidate()?i.dataItem&&i.dataItem.component&&i.dataItem.component.dataInvalid?e.push(i):i.validate():e.push(i))}),n.prototype._systemUpdate.call(this,e)},t.prototype._systemValidatePositions=function(){this.children.each(function(e){e.positionInvalid&&e.validatePosition()}),n.prototype._systemValidatePositions.call(this)},t.prototype._systemValidateLayouts=function(){this.layoutInvalid&&!this.isDisposed()&&this.validateLayout()},Object.defineProperty(t.prototype,"tapToActivate",{get:function(){return this._tapToActivate},set:function(e){this._tapToActivate!=e&&this.setTapToActivate(e)},enumerable:!0,configurable:!0}),t.prototype.setTapToActivate=function(e){var i=this;this._tapToActivate=e,this.interactions.isTouchProtected=e,e&&this.interactions.setEventDisposer("container-tapToActivate",e,function(){return new mi([i.events.on("hit",i.handleTapToActivate,i,!1),i.events.on("down",i.initTapTimeout,i,!1),i.events.on("track",i.initTapTimeout,i,!1),$e().body.events.on("down",function(s){$e().isLocalElement(s.pointer,i.paper.svg,i.uid)||i.handleTapToActivateDeactivation()},i,!1)])}),$e()},t.prototype.handleTapToActivate=function(){this.interactions.isTouchProtected=!1,this.initTapTimeout()},t.prototype.handleTapToActivateDeactivation=function(){this.interactions.isTouchProtected=!0},t.prototype.initTapTimeout=function(){var e=this;this._tapToActivateTimeout&&this._tapToActivateTimeout.dispose(),this.tapToActivate&&!this.interactions.isTouchProtected&&this.tapTimeout&&(this._tapToActivateTimeout=this.setTimeout(function(){e.handleTapToActivateDeactivation()},this.tapTimeout))},t.prototype.moveHtmlContainer=function(e){var i=VL(e);if(i){this.htmlContainer=i;var s=this.svgContainer;s.htmlElement=i,s.htmlElement.appendChild(s.SVGContainer),s.initSensor(),s.measure()}else gt(e)&&""!=e&&lt.log("html container '"+e+"' not found")},t.prototype.hasLicense=function(){if(nt.commercialLicense)return!0;for(var e=0;e<nt.licenses.length;e++)if(nt.licenses[e].match(/^CH.{5,}/i))return!0;return!1},t}(Je);G.registeredClasses.Container=Ve;var lt=new(function(){function n(){this._isPaused=!1,this.animations=[],this.uid=G.getUniqueId(),this.dummyCounter=0,this._frameRequested=!1,this.updateStepDuration=45,this.time=Date.now()}return n.prototype.reportTime=function(t,e){e&&(this.time=Date.now())},n.prototype.update=function(){var t=this;if(!this._isPaused){this._frameRequested=!1;var e=Date.now();for(var s in G.dispatchImmediately("enterframe"),G.invalidDatas)if(Ja(G.invalidDatas,s)){for(var l=G.invalidDatas[s];l.length>0;){var h=(p=l[0]).dataProvider;if(p.isDisposed())Ue(l,p);else if(h&&h.dataInvalid)try{if(h.validateData(),h.dataValidationProgress<1)break}catch(_){Ue(l,h),h.raiseCriticalError(_)}else try{if(p.validateData(),p.dataValidationProgress<1)break}catch(_){Ue(l,p),p.raiseCriticalError(_)}}if(Date.now()-e>this.updateStepDuration)break}for(;G.invalidRawDatas.length>0;)if((p=G.invalidRawDatas[0]).isDisposed())Ue(G.invalidRawDatas,p);else try{p.validateRawData()}catch(b){Ue(G.invalidRawDatas,p),p.raiseCriticalError(b)}for(;G.invalidDataItems.length>0;){if(h=(p=G.invalidDataItems[0]).dataProvider,!(p.isDisposed()||p.dataInvalid||h&&h.dataInvalid))try{p.validateDataItems()}catch(C){Ue(G.invalidDataItems,p),p.raiseCriticalError(C)}Ue(G.invalidDataItems,p)}for(;G.invalidDataRange.length>0;){var p;if(h=(p=G.invalidDataRange[0]).dataProvider,!(p.isDisposed()||p.dataInvalid||h&&h.dataInvalid))try{p.validateDataRange(),p.skipRangeEvent||p.dispatchImmediately("datarangechanged"),p.skipRangeEvent=!1}catch(C){Ue(G.invalidDataRange,p),p.raiseCriticalError(C)}Ue(G.invalidDataRange,p)}var g=[];We(G.invalidLayouts,function(_){t.validateLayouts(_)}),We(G.invalidPositions,function(_){t.validatePositions(_)});var v=!1;if(e=Date.now(),We(G.invalidSprites,function(_,b){for(var C=0;b.length>0;){if(t.validateLayouts(_),t.validatePositions(_),5==++C){if(Date.now()-e>t.updateStepDuration)break;C=0}var S=b[b.length-1];if(S&&!S.isDisposed()){if(S._systemCheckIfValidate())if(t.checkIfValidate2(S))try{S._systemUpdate(g)}catch(E){S.invalid=!1,Ue(b,S),S.raiseCriticalError(E)}else g.push(S);else g.push(S);S.invalid=!1}Ue(b,S)}G.invalidSprites[_]=G.invalidSprites[_].concat(g)}),We(G.invalidSprites,function(_,b){b.length>0&&(v=!0)}),We(G.invalidDatas,function(_,b){b.length>0&&(v=!0)}),be(gm(this.animations),function(_){_.update()}),We(G.invalidLayouts,function(_){t.validateLayouts(_)}),We(G.invalidPositions,function(_){t.validatePositions(_)}),function(){for(var n=Date.now(),t=eR.length,e=0;e<t;++e)eR.shift()(n)}(),We(G.invalidLayouts,function(_){t.validateLayouts(_)}),We(G.invalidPositions,function(_){t.validatePositions(_)}),G.dispatchImmediately("exitframe"),(v||this.animations.length>0||[].length>0)&&this.requestFrame(),this.updateStepDuration<200){var m=!0;We(G.invalidDatas,function(_,b){b.length>0&&(m=!1)}),We(G.invalidSprites,function(_,b){b.length>0&&(m=!1)}),m&&(this.updateStepDuration=200)}}},n.prototype.checkIfValidate2=function(t){return!(t.dataItem&&t.dataItem.component&&t.dataItem.component.dataInvalid&&!t.dataItem.component.isTemplate)},n.prototype.requestFrame=function(){var t=this;this._frameRequested||(tR(function(){t.update()}),this._frameRequested=!0)},n.prototype.softInvalidate=function(t){var e=this;t.children.each(function(i){i instanceof Ve&&e.softInvalidate(i),i.measureFailed&&(Tr(i,"Label")?i.hardInvalidate():i.invalidate(),i.measureFailed=!1)})},n.prototype.validatePositions=function(t){for(var e=G.invalidPositions[t];e.length>0;){var i=e[e.length-1];if(i.isDisposed())Ue(e,i);else try{i._systemValidatePositions()}catch(s){i.positionInvalid=!1,Ue(e,i),i.raiseCriticalError(s)}}},n.prototype.validateLayouts=function(t){for(var e=G.invalidLayouts[t];e.length>0;){var i=e[e.length-1];if(i.isDisposed())Ue(e,i);else try{i.children.each(function(s){s._systemValidateLayouts()}),i.validateLayout()}catch(s){i.layoutInvalid=!1,Ue(e,i),i.raiseCriticalError(s)}}},n.prototype.log=function(t){!function(){for(var n=[],t=0;t<arguments.length;t++)n[t]=arguments[t];nt.verbose&&console&&console.log.apply(console,xf(n))}(t)},Object.defineProperty(n.prototype,"isPaused",{get:function(){return this._isPaused},set:function(t){this._isPaused=t,t||(this._frameRequested=!1,this.requestFrame())},enumerable:!0,configurable:!0}),n.VERSION="4.10.23",n}()),eV=function(){function n(){}return n.prototype.parse=function(t){return[]},Object.defineProperty(n.prototype,"parsableNumbers",{get:function(){return this.options.numberFields&&this.options.numberFields.length>0},enumerable:!0,configurable:!0}),n.prototype.maybeToNumber=function(t,e){return-1!==this.options.numberFields.indexOf(t)?yR(e):e},Object.defineProperty(n.prototype,"parsableDates",{get:function(){return this.options.dateFields&&this.options.dateFields.length>0},enumerable:!0,configurable:!0}),n.prototype.maybeToDate=function(t,e){return-1!==this.options.dateFields.indexOf(t)?this.options.dateFormatter.parse(e,this.dateFormat):e},n.prototype.maybeToEmpty=function(t){return L(t)&&""!=t||!L(this.options.emptyAs)?t:this.options.emptyAs},Object.defineProperty(n.prototype,"dateFormatter",{get:function(){return this.options.dateFormatter||(this.options.dateFormatter=new Rm,this.options.dateFormat&&(this.options.dateFormat=this.options.dateFormat)),this.options.dateFormatter},enumerable:!0,configurable:!0}),Object.defineProperty(n.prototype,"dateFormat",{get:function(){return this.options.dateFormat||this.dateFormatter.inputDateFormat},enumerable:!0,configurable:!0}),n}(),SY=[",",";","\t"],Y0=function(n){function t(){var e=null!==n&&n.apply(this,arguments)||this;return e.contentType="text/csv",e.options={delimiter:"",reverse:!1,skipRows:0,skipEmpty:!0,useColumnNames:!1},e}return $(t,n),t.isCSV=function(e){return!!t.getDelimiterFromData(e)},t.getDelimiterFromData=function(e){var l,i=e.split("\n"),s=i.length;return be(SY,function(p){for(var h=0,g=0,v=0;v<s;++v){if(!((h=i[v].split(p).length)>1)){g=0;break}if(0===g)g=h;else if(h!=g){g=0;break}}g&&(l=p)}),l},t.prototype.parse=function(e){this.options.delimiter||(this.options.delimiter=t.getDelimiterFromData(e));var v,m,b,i=this.CSVToArray(e,this.options.delimiter),s=L(this.options.emptyAs),l=this.parsableNumbers,p=this.parsableDates,h=[],g=[];for(m=0;m<this.options.skipRows;m++)i.shift();if(this.options.useColumnNames){g=i.shift();for(var _=0;_<g.length;_++)""===(v=L(g[_])?g[_].replace(/^\s+|\s+$/gm,""):"")&&(v="col"+_),g[_]=v}for(;b=this.options.reverse?i.pop():i.shift();)if(!this.options.skipEmpty||1!==b.length||""!==b[0]){var C={};for(m=0;m<b.length;m++)C[v=void 0===g[m]?"col"+m:g[m]]=""===b[m]?this.options.emptyAs:b[m],s&&(C[v]=this.maybeToEmpty(C[v])),l&&(C[v]=this.maybeToNumber(v,C[v])),p&&(C[v]=this.maybeToDate(v,C[v]));h.push(C)}return h},t.prototype.CSVToArray=function(e,i){i=i||",";for(var s=new RegExp("(\\"+i+'|\\r?\\n|\\r|^)(?:"([^"]*(?:""[^"]*)*)"|([^"\\'+i+"\\r\\n]*))","gi"),l=[[]],p=null;p=s.exec(e);){var h=p[1];h.length&&h!==i&&l.push([]);var g;g=p[2]?p[2].replace(new RegExp('""',"g"),'"'):p[3],l[l.length-1].push(g)}return l},t}(eV),Tm=function(n){function t(){var e=null!==n&&n.apply(this,arguments)||this;return e.contentType="application/json",e.options={},e}return $(t,n),t.isJSON=function(e){try{return JSON.parse(e),!0}catch(i){return!1}},t.prototype.parse=function(e){var s,i=this;try{L(JSON)&&(s=JSON.parse(e))}catch(_){return}var l=L(this.options.emptyAs),p=this.parsableNumbers,h=this.parsableDates;if(Array.isArray(s)&&(p||h||l))for(var g=function(_,b){var C=s[_];We(C,function(S,E){l&&(C[S]=i.maybeToEmpty(C[S])),p&&(C[S]=i.maybeToNumber(S,C[S])),h&&(C[S]=i.maybeToDate(S,C[S]))})},v=0,m=s.length;v<m;v++)g(v);return s},t}(eV),jR=new(function(){function n(){this.adapter=new To(this)}return n.prototype.load=function(t){var i=fm(Array.isArray(t)?t:[t],function(s){return s.dispatchImmediately("started"),s.dispatchImmediately("loadstarted"),z0(s.url,s,s.requestOptions)});Promise.all(i).then(function(s){be(s,function(l){var p=l.target;p.dispatchImmediately("loadended"),l.error?p.events.isEnabled("error")&&p.events.dispatchImmediately("error",{type:"error",code:l.xhr.status,message:p.language.translate("Unable to load file: %1",null,p.url),target:p}):p.processData(l.response,l.type),p.dispatchImmediately("ended")})}).catch(function(s){s.target&&(s.target.dispatchImmediately("loadended"),s.target.events.isEnabled("error")&&s.target.events.dispatchImmediately("error",{type:"error",code:s.xhr.status,message:s.target.language.translate("Unable to load file: %1",null,s.target.url),target:s.target}),s.target.dispatchImmediately("ended"))})},n.prototype.getParserByType=function(t){return this.adapter.apply("getParserByType",{parser:null,type:t}).parser||("csv"==t||"text/csv"==t||"application/vnd.ms-excel"==t?new Y0:"json"==t||"application/json"==t?new Tm:void 0)},n.prototype.getParserByData=function(t,e){var i=this.adapter.apply("getParserByData",{parser:null,data:t,type:e}).parser;if(!i){if(i=this.getParserByType(e))return i;if(Tm.isJSON(t))return this.getParserByType("json");if(Y0.isCSV(t))return this.getParserByType("csv")}return i},n}()),xY=function(n){function t(e,i){var s=n.call(this)||this;return s.adapter=new To(s),s._requestOptions={},s._incremental=!1,s._incrementalParams={},s._keepCount=!1,s._updateCurrentData=!1,s.showPreloader=!0,s.className="DataSource",e&&(s.url=e),i&&(s.parser="string"==typeof i?jR.getParserByType(i):i),s}return $(t,n),t.prototype.processData=function(e,i){if(this.dispatchImmediately("parsestarted"),this.parser||(this.parser=jR.getParserByData(e,i),this.parser)){if(this.parser.options=this.adapter.apply("parserOptions",this.parser.options),this.parser.options.dateFields=this.adapter.apply("dateFields",this.parser.options.dateFields||[]),this.parser.options.numberFields=this.adapter.apply("numberFields",this.parser.options.numberFields||[]),this.parser.options.dateFields&&!this.parser.options.dateFormatter&&(this.parser.options.dateFormatter=this.dateFormatter),this.data=this.adapter.apply("parsedData",this.parser.parse(this.adapter.apply("unparsedData",e))),!L(this.data)&&this.events.isEnabled("parseerror")){var l={type:"parseerror",message:this.language.translate("Error parsing file: %1",null,this.url),target:this};this.events.dispatchImmediately("parseerror",l)}this.dispatchImmediately("parseended"),L(this.data)&&this.dispatchImmediately("done",{data:this.data}),this.lastLoad=new Date}else{if(this.events.isEnabled("parseerror")){var s={type:"parseerror",message:this.language.translate("No parser available for file: %1",null,this.url),target:this};this.events.dispatchImmediately("parseerror",s)}this.dispatchImmediately("parseended")}},Object.defineProperty(t.prototype,"url",{get:function(){var e=this.disableCache?this.timestampUrl(this._url):this._url;return this.incremental&&this.component.data.length&&(e=this.addUrlParams(e,this.incrementalParams)),this.adapter.apply("url",e)},set:function(e){this._url=e},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"requestOptions",{get:function(){return this.adapter.apply("requestOptions",this._requestOptions)},set:function(e){this._requestOptions=e},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"parser",{get:function(){return this._parser||(this._parser=new Tm),this.adapter.apply("parser",this._parser)},set:function(e){this._parser=e},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"reloadFrequency",{get:function(){return this.adapter.apply("reloadTimeout",this._reloadFrequency)},set:function(e){var i=this;this._reloadFrequency!=e&&(this._reloadFrequency=e,e?L(this._reloadDisposer)||(this._reloadDisposer=this.events.on("ended",function(s){i._reloadTimeout=setTimeout(function(){i.load()},i.reloadFrequency)})):L(this._reloadDisposer)&&(this._reloadDisposer.dispose(),this._reloadDisposer=void 0))},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"incremental",{get:function(){return this.adapter.apply("incremental",this._incremental)},set:function(e){this._incremental=e},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"incrementalParams",{get:function(){return this.adapter.apply("incrementalParams",this._incrementalParams)},set:function(e){this._incrementalParams=e},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"keepCount",{get:function(){return this.adapter.apply("keepCount",this._keepCount)},set:function(e){this._keepCount=e},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"updateCurrentData",{get:function(){return this.adapter.apply("updateCurrentData",this._updateCurrentData)},set:function(e){this._updateCurrentData=e},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"language",{get:function(){return this._language?this._language:this.component?(this._language=this.component.language,this._language):(this.language=new lc,this.language)},set:function(e){this._language=e},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"dateFormatter",{get:function(){return this._dateFormatter?this._dateFormatter:this.component?(this._dateFormatter=this.component.dateFormatter,this._dateFormatter):(this.dateFormatter=new Rm,this.dateFormatter)},set:function(e){this._dateFormatter=e},enumerable:!0,configurable:!0}),t.prototype.timestampUrl=function(e){var s={};return s[(new Date).getTime().toString()]="",this.addUrlParams(e,s)},t.prototype.dispose=function(){n.prototype.dispose.call(this),this._reloadTimeout&&clearTimeout(this._reloadTimeout),L(this._reloadDisposer)&&(this._reloadDisposer.dispose(),this._reloadDisposer=void 0)},t.prototype.load=function(){this.url&&(this._reloadTimeout&&clearTimeout(this._reloadTimeout),jR.load(this))},t.prototype.addUrlParams=function(e,i){var s=e.match(/\?/)?"&":"?",l=[];return We(i,function(p,h){l.push(""!=h?p+"="+encodeURIComponent(h):p)}),l.length?e+s+l.join("&"):e},t.prototype.processConfig=function(e){G.registeredClasses.json=Tm,G.registeredClasses.JSONParser=Tm,G.registeredClasses.csv=Y0,G.registeredClasses.CSVParser=Y0,n.prototype.processConfig.call(this,e)},t}(tl),OY=function(n){function t(){var e=n.call(this)||this;return e._rules=new Dt,e._appliedRules={},e._appliedTargets=[],e._useDefault=!0,e.adapter=new To(e),e._enabled=!1,e._responsiveDisposers=[],e._noStates=[],e.className="Responsive",e.rules.events.on("inserted",function(){e.checkRules()},!0),e.rules.events.on("removed",function(){e.checkRules()},!0),e._disposers.push(e.rules.events),e.applyTheme(),e}return $(t,n),Object.defineProperty(t.prototype,"component",{get:function(){return this._component},set:function(e){var i=this;e!=this._component&&(this.disposeResponsiveHandlers(),this._component=e,this._responsiveDisposers.push(hi(this.component).events.on("sizechanged",function(){i.checkRules()},this)),this._responsiveDisposers.push(hi(this.component).events.on("datavalidated",function(){i._component.isReady()&&i.checkRules(!0)},this)),this.enabled=!0)},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"enabled",{get:function(){return this.adapter.apply("enabled",this._enabled)},set:function(e){this._enabled!=e&&(this._enabled=e,this.applyRules())},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"useDefault",{get:function(){return this.adapter.apply("useDefault",this._useDefault)},set:function(e){this._useDefault!=e&&(this._useDefault=e,this.applyRules())},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"rules",{get:function(){return this.adapter.apply("rules",this._rules)},set:function(e){this._rules=e,this._enabled=!0,this.applyRules()},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"defaultRules",{get:function(){return this.adapter.apply("defaultRules",Wn)},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"allRules",{get:function(){var e=new Dt;return this.useDefault&&e.copyFrom(this.defaultRules),e.copyFrom(this.rules),this.adapter.apply("allRules",e)},enumerable:!0,configurable:!0}),t.prototype.isApplied=function(e){var i=this._appliedRules[e];return!!L(i)&&i},t.prototype.checkRules=function(e){var i=this;void 0===e&&(e=!1);var s=this.allRules;if(s&&0!=s.length){var l=!1,p=hi(this.component);if(oe(s.iterator(),function(h){h.id||(h.id=G.getUniqueId());var g=h.relevant(p);(g&&!i.isApplied(h.id)||!g&&i.isApplied(h.id))&&(l=!0),i._appliedRules[h.id]=g}),e&&(l=!0),l){if(!this.component.isReady())return p.hidden=!0,void p.events.once("ready",function(h){h.target.show(0),i.applyRules()});this.dispatchImmediately("ruleschanged"),this.applyRules()}}},t.prototype.applyRules=function(e){var i=this,s=L(e)?e:hi(this.component),l=!1;if(this.enabled){var p=!1;oe(this.allRules.iterator(),function(h){var g=i.getState(h,s);g&&(l||(-1!==Rs(i._appliedTargets,s.uid)&&s.setState(i.getDefaultState(s),0),l=!0),i.isApplied(hi(h.id))&&(g.transitionDuration=0,i.setTargetState(s,g),i.dispatchImmediately("ruleapplied",{rule:h}),p=!0))}),p?function(n,t,e){var i=n.indexOf(t);-1!==i&&n.splice(i,1),M(e)?n.splice(e,0,t):n.push(t)}(this._appliedTargets,s.uid):Ue(this._appliedTargets,s.uid)}s.children&&oe(s.children.iterator(),function(h){i.applyRules(h)})},t.prototype.getState=function(e,i){var s="responsive-"+e.id,l=i.uid+"_"+s;if(-1===Rs(this._noStates,l)){if(i.states.hasKey(s))return i.states.getKey(s);var p=e.state(i,s);return p||this._noStates.push(l),p}},t.prototype.getDefaultState=function(e){return e.states.hasKey("responsive-default")?e.states.getKey("responsive-default"):e.states.create("responsive-default")},t.prototype.setTargetState=function(e,i){var s=this,l=this.getDefaultState(e);We(i.properties,function(p,h){L(l.properties[p])||(l.properties[p]=s.getValue(e,p))}),e.setState(i)},t.prototype.getValue=function(e,i){var s=e.getPropertyValue(i);return!L(s)&&L(e[i])&&(s=e[i]),s},t.prototype.dispose=function(){this.disposeResponsiveHandlers(),n.prototype.dispose.call(this)},t.prototype.disposeResponsiveHandlers=function(){for(var e=this._responsiveDisposers.pop();e;)e.dispose(),e=this._responsiveDisposers.pop()},t}(tl),Wn=new Dt;Wn.events.on("inserted",function(n){n.newValue.id=G.getUniqueId()});var mr=function(){function n(){}return n.widthXXS=function(t){return t.pixelWidth<=n.XXS},n.widthXS=function(t){return t.pixelWidth<=n.XS},n.widthS=function(t){return t.pixelWidth<=n.S},n.widthM=function(t){return t.pixelWidth<=n.M},n.widthL=function(t){return t.pixelWidth<=n.L},n.widthXL=function(t){return t.pixelWidth<=n.XL},n.widthXXL=function(t){return t.pixelWidth<=n.XXL},n.heightXXS=function(t){return t.pixelHeight<=n.XXS},n.heightXS=function(t){return t.pixelHeight<=n.XS},n.heightS=function(t){return t.pixelHeight<=n.S},n.heightM=function(t){return t.pixelHeight<=n.M},n.heightL=function(t){return t.pixelHeight<=n.L},n.heightXL=function(t){return t.pixelHeight<=n.XL},n.heightXXL=function(t){return t.pixelHeight<=n.XXL},n.isXXS=function(t){return t.pixelWidth<=n.XXS&&t.pixelHeight<=n.XXS},n.isXS=function(t){return t.pixelWidth<=n.XS&&t.pixelHeight<=n.XS},n.isS=function(t){return t.pixelWidth<=n.S&&t.pixelHeight<=n.S},n.isM=function(t){return t.pixelWidth<=n.M&&t.pixelHeight<=n.M},n.isL=function(t){return t.pixelWidth<=n.L&&t.pixelHeight<=n.L},n.isXL=function(t){return t.pixelWidth<=n.XL&&t.pixelHeight<=n.XL},n.isXXL=function(t){return t.pixelWidth<=n.XXL&&t.pixelHeight<=n.XXL},n.maybeXXS=function(t){return t.pixelWidth<=n.XXS||t.pixelHeight<=n.XXS},n.maybeXS=function(t){return t.pixelWidth<=n.XS||t.pixelHeight<=n.XS},n.maybeS=function(t){return t.pixelWidth<=n.S||t.pixelHeight<=n.S},n.maybeM=function(t){return t.pixelWidth<=n.M||t.pixelHeight<=n.M},n.maybeL=function(t){return t.pixelWidth<=n.L||t.pixelHeight<=n.L},n.maybeXL=function(t){return t.pixelWidth<=n.XL||t.pixelHeight<=n.XL},n.maybeXXL=function(t){return t.pixelWidth<=n.XXL||t.pixelHeight<=n.XXL},n.XXS=100,n.XS=200,n.S=300,n.M=400,n.L=600,n.XL=800,n.XXL=1e3,n}(),Yd=function(n){function t(){var e=n.call(this)||this;return e._disabled=!1,e.hasProperties=!1,e.values={},e.categories={},e.dates={},e.locations={},e.workingLocations={},e.properties={},e.sprites=[],e.isTemplate=!1,e._index=null,e._visible=!0,e._hidden=!1,e._ignoreMinMax=!1,e.hasChildren={},e.isHiding=!1,e._valueAnimations={},e._locationAnimations={},e.className="DataItem",e.applyTheme(),e}return $(t,n),Object.defineProperty(t.prototype,"adapter",{get:function(){return this._adapterO||(this._adapterO=new To(this)),this._adapterO},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"index",{get:function(){return this.component&&null!=this._index?this._index:-1},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"animations",{get:function(){return this._animations||(this._animations=[],this._disposers.push(new Mf(this._animations))),this._animations},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"visible",{get:function(){return!this._hidden&&this._visible},set:function(e){e&&(this.hidden=!1),this._visible!=e&&this.setVisibility(e)},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"hidden",{get:function(){return this._hidden},set:function(e){this._hidden!=e&&(this._hidden=e,e?this.setVisibility(!1):this.setVisibility(!0,!0))},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"__disabled",{get:function(){return this._disabled},set:function(e){this._disabled=e,be(this.sprites,function(i){i.__disabled=e})},enumerable:!0,configurable:!0}),t.prototype.setVisibility=function(e,i){be(this.sprites,function(l){l.visible=e?l.defaultState.properties.visible:!!l.hiddenState&&l.hiddenState.properties.visible}),this._visible=e,this._eventDispatcher&&!this.__disabled&&this.events.isEnabled("visibilitychanged")&&this.events.dispatchImmediately("visibilitychanged",{type:"visibilitychanged",target:this,visible:e})},t.prototype.show=function(e,i,s){var p,l=this;if(!this.hidden)return this.setVisibility(!0,!0),this.isHiding=!1,this._hideDisposer&&this.removeDispose(this._hideDisposer),s&&be(s,function(h){p=l.setWorkingValue(h,l.values[h].value,e,i)}),be(this.sprites,function(h){var g=h.show(e);null!=g&&!g.isFinished()&&(l._disposers.push(g),null!=i&&i>0&&g.delay(i))}),p},t.prototype.dispose=function(){n.prototype.dispose.call(this),be(this.sprites,function(e){e.dispose()}),this.sprites=[]},t.prototype.hide=function(e,i,s,l){var p=this;if(this.isHiding=!0,be(this.sprites,function(g){var v=g.hide(e);null!=v&&!v.isFinished()&&(p._disposers.push(v),null!=i&&i>0&&v.delay(i))}),M(s)&&l){var h;if(be(l,function(g){var v=p.setWorkingValue(g,s,e,i);v&&(h=v)}),h&&!h.isFinished())return this._hideDisposer=h.events.on("animationended",function(){p.setVisibility(!1,!0),p.isHiding=!1}),this._disposers.push(this._hideDisposer),h;this.isHiding=!1,this.setVisibility(!1,!0)}else this.isHiding=!1,this.setVisibility(!1)},t.prototype.getDuration=function(e){if(!M(e)){var i=this.component;i&&(e=i.interpolationDuration)}if(null!=e)return this._adapterO?this._adapterO.apply("duration",e):e},t.prototype.getValue=function(e,i){if(e&&this.component){i||(i=this.component.dataFields[e+"Show"])||(i="value");var s=this.values[e][i];return this._adapterO&&this._adapterO.isEnabled("value")?this._adapterO.apply("value",{value:s,field:e}).value:s}},t.prototype.getWorkingValue=function(e){if(e&&this.component){var i=this.component.dataFields[e+"Show"];return i||(i="workingValue"),this._adapterO?this._adapterO.apply("workingValue",{workingValue:this.values[e][i],field:e}).workingValue:this.values[e][i]}},t.prototype.getActualWorkingValue=function(e){return this.values[e].workingValue},t.prototype.setValue=function(e,i,s,l){var p=this.values[e].value,h=this.getDuration(s);p!==(i=Zt(i))&&(this.values[e].value=i,this._eventDispatcher&&!this.__disabled&&this.events.isEnabled("valuechanged")&&this.events.dispatchImmediately("valuechanged",{type:"valuechanged",target:this,property:e}),this.component&&this.component.handleDataItemValueChange(this,e)),this.setWorkingValue(e,i,h,l)},t.prototype.setCalculatedValue=function(e,i,s){this.values[e][s]!==i&&M(i)&&(this.values[e][s]=i,this._eventDispatcher&&!this.__disabled&&this.events.isEnabled("calculatedvaluechanged")&&this.events.dispatchImmediately("calculatedvaluechanged",{type:"calculatedvaluechanged",target:this,property:e}),this.component&&this.component.handleDataItemCalculatedValueChange(this,e))},t.prototype.setWorkingValue=function(e,i,s,l){if(M(this.values[e].value)){var p=this.getDuration(s),h=this.values[e].workingValue;if(null!=p&&p>0&&M(h)&&this.component){if(h!=i){var g=this.animate({childObject:this.values[e],property:"workingValue",from:h,to:i,dummyData:e},p,this.component.interpolationEasing);return null!=l&&g.delay(l),g.events.on("animationstarted",this.handleInterpolationProgress,this),g.events.on("animationprogress",this.handleInterpolationProgress,this),g.events.on("animationended",this.handleInterpolationProgress,this),this._valueAnimations[e]=g,g}(v=this._valueAnimations[e])&&v.stop(),this.values[e].workingValue=i}else{var v;(v=this._valueAnimations[e])&&v.stop(),this.values[e].workingValue=i,this._eventDispatcher&&!this.__disabled&&this.events.isEnabled("workingvaluechanged")&&this.events.dispatchImmediately("workingvaluechanged",{type:"workingvaluechanged",target:this,property:e}),this.component&&this.component.handleDataItemWorkingValueChange(this,e)}}},t.prototype.setLocation=function(e,i,s,l){this.locations[e]!==i&&(this.locations[e]=i,this._eventDispatcher&&!this.__disabled&&this.events.isEnabled("locationchanged")&&this.events.dispatchImmediately("locationchanged",{type:"locationchanged",target:this,property:e}),this.component&&this.component.handleDataItemValueChange(this,e),this.setWorkingLocation(e,i,s,l))},t.prototype.setWorkingLocation=function(e,i,s,l){var p=this.getDuration(s),h=this.workingLocations[e];if(null!=p&&p>0&&M(h)&&this.component){if(h!=i){var g=this.animate({childObject:this.workingLocations,property:e,from:h,to:i,dummyData:e},p,this.component.interpolationEasing);return null!=l&&g.delay(l),g.events.on("animationstarted",this.handleInterpolationProgress,this),g.events.on("animationprogress",this.handleInterpolationProgress,this),g.events.on("animationended",this.handleInterpolationProgress,this),this._locationAnimations[e]=g,g}(v=this._locationAnimations[e])&&v.stop(),this.workingLocations[e]=i}else{var v;(v=this._locationAnimations[e])&&v.stop(),this.workingLocations[e]=i,this._eventDispatcher&&!this.__disabled&&this.events.isEnabled("workinglocationchanged")&&this.events.dispatchImmediately("workinglocationchanged",{type:"workinglocationchanged",target:this,property:e}),this.component&&this.component.handleDataItemWorkingLocationChange(this,e)}},t.prototype.setDate=function(e,i,s){!cm(i)&&this.component&&(i=this.component.dateFormatter.parse(i)),this.dates[e]!==i&&(this.dates[e]=i,this.setValue(e,i.getTime(),s))},t.prototype.getDate=function(e){return this._adapterO?this._adapterO.apply("date",{date:this.dates[e],field:e}).date:this.dates[e]},t.prototype.setProperty=function(e,i){this.properties[e]!==i&&(this.hasProperties=!0,this.properties[e]=i,this._eventDispatcher&&!this.__disabled&&this.events.isEnabled("propertychanged")&&this.events.dispatchImmediately("propertychanged",{type:"propertychanged",target:this,property:e,value:i}),this.component&&this.component.handleDataItemPropertyChange(this,e))},t.prototype.setCategory=function(e,i){gt(i)||(i=zP(i)),this.categories[e]!==i&&(this.categories[e]=i)},t.prototype.copyFrom=function(e){n.prototype.copyFrom.call(this,e),e.dataContext&&(this.dataContext=function(n,t){return We(n,function(e,i){t[e]=i}),t}(e.dataContext,{})),Bl(e.locations,this.locations),e._adapterO&&this.adapter.copyFrom(e._adapterO),this.component=e.component},Object.defineProperty(t.prototype,"opacity",{set:function(e){be(this.sprites,function(i){i.opacity=e})},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"ignoreMinMax",{get:function(){return this._ignoreMinMax},set:function(e){this._ignoreMinMax=e,this._eventDispatcher&&!this.__disabled&&this.events.isEnabled("propertychanged")&&this.events.dispatchImmediately("propertychanged",{type:"propertychanged",target:this,property:"ignoreMinMax",value:e}),this.component&&this.component.handleDataItemPropertyChange(this,"ignoreMinMax")},enumerable:!0,configurable:!0}),t.prototype.animate=function(e,i,s){return new ua(this,e,i,s).start()},t.prototype.handleInterpolationProgress=function(e){var s=e.target.animationOptions[0];s&&(this._eventDispatcher&&!this.__disabled&&this.events.isEnabled("workingvaluechanged")&&this.events.dispatchImmediately("workingvaluechanged",{type:"workingvaluechanged",target:this,property:s.dummyData}),this.component&&this.component.handleDataItemWorkingValueChange(this,s.dummyData))},t.prototype.hasValue=function(e){for(var i=0,s=e.length;i<s;i++){var l=this.values[e[i]];if(!l||!L(l.value))return!1}return!0},Object.defineProperty(t.prototype,"depth",{get:function(){return this.parent?this.parent.depth+1:0},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"dataContext",{get:function(){return this._dataContext},set:function(e){this._dataContext=e},enumerable:!0,configurable:!0}),t.prototype.addSprite=function(e){e.dataItem&&e.dataItem!=this&&Ue(e.dataItem.sprites,e),this.visible||e.hide(0),this.isHiding&&e.hide(),this.sprites.push(e),e.dataItem=this},t}(tl),Kd=function(n){function t(){var e=n.call(this)||this;return e.dataFields={},e._dataSources={},e._parseDataFrom=0,e._dataDisposers=[],e._currentDataSetId="",e._start=0,e._end=1,e.skipRangeEvent=!1,e.rangeChangeDuration=0,e.rangeChangeEasing=$d,e.parsingStepDuration=50,e.dataInvalid=!1,e.rawDataInvalid=!1,e.dataRangeInvalid=!1,e.dataItemsInvalid=!1,e.interpolationDuration=0,e.interpolationEasing=$d,e.sequencedInterpolation=!0,e.sequencedInterpolationDelay=0,e.dataValidationProgress=0,e._addAllDataItems=!0,e._usesData=!0,e.className="Component",e.minZoomCount=1,e.maxZoomCount=0,e._dataItems=new S0(e.createDataItem()),e._dataItems.events.on("inserted",e.handleDataItemAdded,e,!1),e._dataItems.events.on("removed",e.handleDataItemRemoved,e,!1),e._disposers.push(new Qt(e._dataItems)),e._disposers.push(e._dataItems.template),e.invalidateData(),e.dataUsers.events.on("inserted",e.handleDataUserAdded,e,!1),e._disposers.push(new mi(e._dataDisposers)),e._start=0,e._end=1,e.maxZoomDeclination=1,e.applyTheme(),e}return $(t,n),t.prototype.createDataItem=function(){return new Yd},t.prototype.handleDataUserAdded=function(e){e.newValue.dataProvider=this},t.prototype.handleDataItemValueChange=function(e,i){this.dataItemsInvalid||this.invalidateDataItems()},t.prototype.handleDataItemWorkingValueChange=function(e,i){},t.prototype.handleDataItemWorkingLocationChange=function(e,i){},t.prototype.handleDataItemCalculatedValueChange=function(e,i){},t.prototype.handleDataItemPropertyChange=function(e,i){},t.prototype.processDataItem=function(e,i){var s=this;if(e){i||(i={}),e.dataContext=i;var l=!1;We(this.dataFields,function(p,h){var g=p,v=i[h];if(s._adapterO&&s._adapterO.isEnabled("dataContextValue")&&(v=s._adapterO.apply("dataContextValue",{field:g,value:v,dataItem:e}).value),L(v))if(l=!0,e.hasChildren[g]){var m=s.createDataItem();m.copyFrom(s.mainDataSet.template);var _=new S0(m);_.events.on("inserted",s.handleDataItemAdded,s,!1),_.events.on("removed",s.handleDataItemRemoved,s,!1),s._dataDisposers.push(new Qt(_));for(var b=v.length,C=0;C<b;C++){var S=v[C],E=_.create();E.parent=e,s.processDataItem(E,S)}e[g]=_}else e[g]=v}),We(this.propertyFields,function(p,h){var g=p,v=i[h];L(v)&&(l=!0,e.setProperty(g,v))}),!this._addAllDataItems&&!l&&this.mainDataSet.remove(e)}},t.prototype.updateDataItem=function(e){var i=this;if(e){var s=e.dataContext;We(this.dataFields,function(l,p){var h=l,g=s[p];i._adapterO&&(g=i._adapterO.apply("dataContextValue",{field:h,value:g,dataItem:e}).value),L(g)&&(e.hasChildren[h]?e[h].each(function(_){i.updateDataItem(_)}):e[h]=g)}),We(this.propertyFields,function(l,p){var h=l,g=s[p];L(g)&&e.setProperty(h,g)})}},t.prototype.validateDataElements=function(){for(var e=this.endIndex,i=this.startIndex;i<e;i++){var s=this.dataItems.getIndex(i);s&&this.validateDataElement(s)}},t.prototype.validate=function(){this.validateDataElements(),n.prototype.validate.call(this)},t.prototype.validateDataElement=function(e){},t.prototype.addData=function(e,i,s){var l=this;if(!this.dataInvalid&&this.inited&&(this._parseDataFrom=this.data.length),s||(e instanceof Array?be(e,function(p){l.data.push(p)}):this.data.push(e)),this.inited)this.removeData(i,s);else if(M(i))for(;i>0;)this.data.shift(),i--;this.invalidateData()},t.prototype.removeData=function(e,i){if(M(e)&&e>0){for(;e>0;){var s=this.mainDataSet.getIndex(0);s&&this.mainDataSet.remove(s),this.dataUsers.each(function(l){if(!l.data||0==l.data.length){var p=l.mainDataSet.getIndex(0);p&&l.mainDataSet.remove(p)}}),i||this.data.shift(),this._parseDataFrom>0&&this._parseDataFrom--,e--}this.invalidateDataItems()}},t.prototype.invalidateData=function(){this.disabled||this.isTemplate||(G.addToInvalidComponents(this),lt.requestFrame(),this.dataInvalid=!0,oe(this.dataUsers.iterator(),function(e){e.invalidateDataItems()}))},t.prototype.invalidateDataUsers=function(){oe(this.dataUsers.iterator(),function(e){e.invalidate()})},t.prototype.invalidateDataItems=function(){this.disabled||this.isTemplate||(Ts(G.invalidDataItems,this),lt.requestFrame(),this.dataItemsInvalid=!0,oe(this.dataUsers.iterator(),function(e){e.invalidateDataItems()}))},t.prototype.invalidateDataRange=function(){this.disabled||this.isTemplate||(this.dataRangeInvalid=!0,Ts(G.invalidDataRange,this),lt.requestFrame())},t.prototype.validateDataRange=function(){Ue(G.invalidDataRange,this),this.dataRangeInvalid=!1,(this.startIndex!=this._prevStartIndex||this.endIndex!=this._prevEndIndex)&&(this.rangeChangeUpdate(),this.appendDataItems(),this.invalidate(),this.dispatchImmediately("datarangechanged"))},t.prototype.sliceData=function(){this._workingStartIndex=this.startIndex,this._workingEndIndex=this.endIndex},t.prototype.rangeChangeUpdate=function(){this.sliceData(),this._prevStartIndex=this.startIndex,this._prevEndIndex=this.endIndex},t.prototype.appendDataItems=function(){for(var e=this.endIndex,i=this.startIndex;i<e;i++)(s=this.dataItems.getIndex(i))&&(s.__disabled=!1);for(i=0;i<this.startIndex;i++)(s=this.dataItems.getIndex(i))&&(s.__disabled=!0);for(i=this.endIndex;i<this.dataItems.length;i++){var s;(s=this.dataItems.getIndex(i))&&(s.__disabled=!0)}},t.prototype.invalidateRawData=function(){this.disabled||this.isTemplate||(Ts(G.invalidRawDatas,this),lt.requestFrame(),this.rawDataInvalid=!0,oe(this.dataUsers.iterator(),function(e){e.invalidateRawData()}))},t.prototype.validateRawData=function(){var e=this;Ue(G.invalidRawDatas,this),oe(this.mainDataSet.iterator(),function(i){i&&e.updateDataItem(i)})},t.prototype.dispose=function(){var e=this;this.mainDataSet.template.clones.clear(),We(this._dataSources,function(i,s){e.removeDispose(s)}),this.disposeData(),n.prototype.dispose.call(this)},t.prototype.disposeData=function(){this.mainDataSet.template.clones.clear(),be(this._dataDisposers,function(e){e.dispose()}),oe(this.dataUsers.iterator(),function(e){e.disposeData()}),this._dataDisposers.length=0,this._startIndex=void 0,this._endIndex=void 0,this.mainDataSet.clear(),this.mainDataSet.template.clones.clear(),this._dataSets&&this._dataSets.clear()},t.prototype.getDataItem=function(e){return this.mainDataSet.create()},t.prototype.validateData=function(){if(this.dispatchImmediately("beforedatavalidated"),this.dataInvalid=!1,G.removeFromInvalidComponents(this),!this.__disabled){if(this.dataValidationProgress=0,this._prevStartIndex=void 0,this._prevEndIndex=void 0,this._startIndex=void 0,this._endIndex=void 0,this.dataFields.data&&this.dataItem&&(this._data=this.dataItem.dataContext[this.dataFields.data]),0===this._parseDataFrom&&this.data.length>0&&this.disposeData(),this.data.length>0){var i=this.preloader;oe(this.dataUsers.iterator(),function(_){_._startIndex=void 0,_._endIndex=void 0});for(var s=0,l=Date.now(),p=this._parseDataFrom,h=this.data.length,g=function(){var _=v.data[p];if(v._usesData){var b=v.getDataItem(_);v.processDataItem(b,_)}if(v.dataUsers.each(function(S){if(0==S.data.length){var E=S.getDataItem(_);S.processDataItem(E,_)}}),100==++s&&(s=0,Date.now()-l>v.parsingStepDuration&&p<v.data.length-10))return v._parseDataFrom=p+1,i&&(p/v.data.length>.5&&!i.visible||(i.progress=p/v.data.length)),v.dataValidationProgress=p/v.data.length,p=v.data.length,v.invalidateData(),{value:void 0}},v=this;p<h;p++){var m=g();if("object"==typeof m)return m.value}i&&(i.progress=1),this.dataUsers.each(function(_){_.hidden&&_.hide(0)})}this.dataValidationProgress=1,this._parseDataFrom=0,this.invalidateDataItems(),this._internalDefaultsApplied||this.applyInternalDefaults(),this.dispatch("datavalidated")}},t.prototype.validateDataItems=function(){Ue(G.invalidDataItems,this),this.dataItemsInvalid=!1,this.invalidateDataRange(),this.invalidate(),this.dispatch("dataitemsvalidated")},Object.defineProperty(t.prototype,"data",{get:function(){return this._data||(this._data=[]),this._adapterO?this._adapterO.apply("data",this._data):this._data},set:function(e){this.setData(e)},enumerable:!0,configurable:!0}),t.prototype.setData=function(e){this.isDisposed()||(this._parseDataFrom=0,this.disposeData(),this._data=e,e&&e.length>0?this.invalidateData():(this.dispatchImmediately("beforedatavalidated"),this.dispatch("datavalidated")))},t.prototype.getDataSource=function(e){var i=this;return L(this._dataSources[e])||(this._dataSources[e]=new xY,this._dataSources[e].component=this,this.setDataSourceEvents(this._dataSources[e],e),this._dataSources[e].adapter.add("dateFields",function(s){return i.dataSourceDateFields(s)}),this._dataSources[e].adapter.add("numberFields",function(s){return i.dataSourceNumberFields(s)}),this.events.on("inited",function(){i.loadData(e)},this,!1)),this._dataSources[e]},Object.defineProperty(t.prototype,"dataSource",{get:function(){return this._dataSources.data||this.getDataSource("data"),this._dataSources.data},set:function(e){var i=this;this._dataSources.data&&this.removeDispose(this._dataSources.data),this._dataSources.data=e,this._dataSources.data.component=this,this.events.on("inited",function(){i.loadData("data")},this,!1),this.setDataSourceEvents(e,"data")},enumerable:!0,configurable:!0}),t.prototype.loadData=function(e){this._dataSources[e].load()},t.prototype.dataSourceDateFields=function(e){return e},t.prototype.dataSourceNumberFields=function(e){return e},t.prototype.populateDataSourceFields=function(e,i,s){return be(s,function(l){i[l]&&-1===Rs(e,i[l])&&e.push(i[l])}),e},t.prototype.setDataSourceEvents=function(e,i){var s=this;e.events.on("started",function(l){var p=s.preloader;p&&(p.progress=0)},void 0,!1),e.events.on("loadstarted",function(l){var p=s.preloader;p&&(p.progress=.25)},void 0,!1),e.events.on("loadended",function(l){var p=s.preloader;p&&(p.progress=.5)},void 0,!1),e.events.on("parseended",function(l){var p=s.preloader;p&&(p.progress=.75)},void 0,!1),e.events.on("ended",function(l){var p=s.preloader;p&&(p.progress=1)},void 0,!1),e.events.on("error",function(l){var p=s.preloader;p&&(p.progress=1),s.openModal(l.message)},void 0,!1),i&&e.events.on("done",function(l){var p=s.preloader;p&&(p.progress=1),"data"==i&&!hn(l.data)&&(l.data=[l.data]),e.incremental&&"data"==i&&s.data.length?s.addData(l.data,e.keepCount?l.data.length:0):e.updateCurrentData&&"data"==i&&s.data.length?(be(s.data,function(h,g){L(l.data[g])&&We(h,function(v,m){L(l.data[g][v])&&(h[v]=l.data[g][v])})}),s.invalidateRawData()):s[i]=l.data})},Object.defineProperty(t.prototype,"responsive",{get:function(){return this._responsive||(this._responsive=new OY,this._responsive.component=this),this._responsive},set:function(e){this._responsive=e,this._responsive.component=this},enumerable:!0,configurable:!0}),t.prototype.zoom=function(e,i,s,l){var p=this;void 0===i&&(i=!1),void 0===s&&(s=!1);var h=e.start,g=e.end,v=e.priority;if(e.start==e.end&&(e.start=e.start-.5/this.maxZoomFactor,e.end=e.end+.5/this.maxZoomFactor),"end"==v&&1==g&&0!=h&&h<this.start&&(v="start"),"start"==v&&0==h&&g>this.end&&(v="end"),M(l)||(l=this.maxZoomDeclination),!M(h)||!M(g))return{start:this.start,end:this.end};if(this._finalStart!=h||this._finalEnd!=g){var m=this.maxZoomFactor/this.minZoomCount,_=this.maxZoomFactor/this.maxZoomCount;if("start"==v?(this.maxZoomCount>0&&1/(g-h)<_&&(g=h+1/_),1/(g-h)>m&&(g=h+1/m),g>1&&g-h<1/m&&(h=g-1/m)):(this.maxZoomCount>0&&1/(g-h)<_&&(h=g-1/_),1/(g-h)>m&&(h=g-1/m),h<0&&g-h<1/m&&(g=h+1/m)),h<-l&&(h=-l),1/(g-h)>m&&(g=h+1/m),g>1+l&&(g=1+l),1/(g-h)>m&&(h=g-1/m),this._finalEnd=g,this._finalStart=h,this.skipRangeEvent=i,this.dispatchImmediately("rangechangestarted"),this.rangeChangeDuration>0&&!s){var b=this.rangeChangeAnimation;if(b&&b.progress<1){var C=b.animationOptions;if(C.length>1){if(C[0].to==h&&C[1].to==g)return{start:h,end:g};b.isDisposed()||b.stop()}}this.rangeChangeAnimation&&this.rangeChangeAnimation.kill(),b=this.animate([{property:"start",to:h},{property:"end",to:g}],this.rangeChangeDuration,this.rangeChangeEasing),this.rangeChangeAnimation=b,b&&!b.isFinished()?b.events.on("animationended",function(){p.dispatchImmediately("rangechangeended")}):this.dispatchImmediately("rangechangeended")}else this.start=h,this.end=g,this.dispatch("rangechangeended")}return{start:h,end:g}},t.prototype.zoomToIndexes=function(e,i,s,l){M(e)&&M(i)&&this.zoom({start:e/this.dataItems.length,end:i/this.dataItems.length},s,l)},Object.defineProperty(t.prototype,"zoomFactor",{get:function(){return xe(1/(this.end-this.start),1,this.maxZoomFactor)},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"maxZoomFactor",{get:function(){return this.getPropertyValue("maxZoomFactor")},set:function(e){this.setPropertyValue("maxZoomFactor",e)&&(1==e&&(this.maxZoomDeclination=0),this.invalidateDataRange())},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"maxZoomDeclination",{get:function(){return this.getPropertyValue("maxZoomDeclination")},set:function(e){this.setPropertyValue("maxZoomDeclination",e)&&this.invalidateDataRange()},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"startIndex",{get:function(){return M(this._startIndex)||(this._startIndex=0),this._startIndex},set:function(e){this._startIndex=xe(Math.round(e),0,this.dataItems.length),this.start=this.indexToPosition(this._startIndex)},enumerable:!0,configurable:!0}),t.prototype.indexToPosition=function(e){return e/this.dataItems.length},Object.defineProperty(t.prototype,"endIndex",{get:function(){var e=this.dataItems.length;return(!M(this._endIndex)||this._endIndex>e)&&(this._endIndex=e),this._endIndex},set:function(e){this._endIndex=xe(Math.round(e),0,this.dataItems.length),this.end=this.indexToPosition(this._endIndex)},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"start",{get:function(){return this._adapterO?this._adapterO.apply("start",this._start):this._start},set:function(e){if(this._start!=e){this._start=e;var i=Math.max(0,Math.floor(this.dataItems.length*e)||0);this._startIndex=Math.min(i,this.dataItems.length),this.invalidateDataRange(),this.invalidate(),this.dispatchImmediately("startchanged"),this.dispatch("startendchanged")}},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"end",{get:function(){return this._adapterO?this._adapterO.apply("end",this._end):this._end},set:function(e){this._end!=e&&(this._end=e,this._endIndex=Math.min(this.dataItems.length,Math.ceil(this.dataItems.length*e)||0),this.invalidateDataRange(),this.invalidate(),this.dispatchImmediately("endchanged"),this.dispatch("startendchanged"))},enumerable:!0,configurable:!0}),t.prototype.removeFromInvalids=function(){n.prototype.removeFromInvalids.call(this),G.removeFromInvalidComponents(this),Ue(G.invalidDataItems,this),Ue(G.invalidDataRange,this),Ue(G.invalidRawDatas,this)},Object.defineProperty(t.prototype,"dataItems",{get:function(){if(""!=this._currentDataSetId){var e=this.dataSets.getKey(this._currentDataSetId);if(e)return e}return this._dataItems},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"dataSets",{get:function(){return this._dataSets||(this._dataSets=new ii),this._dataSets},enumerable:!0,configurable:!0}),t.prototype.setDataSet=function(e){if(this._currentDataSetId!=e){if(this.dataSets.getKey(e))return this.dataItems.each(function(s){s.__disabled=!0}),this._currentDataSetId=e,this.invalidateDataRange(),this._prevStartIndex=void 0,this.dataItems.each(function(s){s.__disabled=!1}),!0;if(""!=this._currentDataSetId)return this.dataItems.each(function(s){s.__disabled=!0}),this._currentDataSetId="",this.invalidateDataRange(),this._prevStartIndex=void 0,this.dataItems.each(function(s){s.__disabled=!1}),!0}return!1},Object.defineProperty(t.prototype,"currentDataSetId",{get:function(){return this._currentDataSetId},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"mainDataSet",{get:function(){return this._dataItems},enumerable:!0,configurable:!0}),t.prototype._updateDataItemIndexes=function(e){for(var i=this.mainDataSet.values,s=i.length,l=e;l<s;++l)i[l]._index=l},t.prototype.handleDataItemAdded=function(e){e.newValue.component=this,this._updateDataItemIndexes(e.index),this.dataItemsInvalid||this.invalidateDataItems()},t.prototype.handleDataItemRemoved=function(e){this._updateDataItemIndexes(e.index),this.dataItemsInvalid||this.invalidateDataItems()},t.prototype.bindDataField=function(e,i){this.dataFields[e]=i,this.invalidateDataRange()},t.prototype.invalidateProcessedData=function(){this.resetProcessedRange(),this.invalidateDataRange()},t.prototype.resetProcessedRange=function(){this._prevEndIndex=null,this._prevStartIndex=null},Object.defineProperty(t.prototype,"dataUsers",{get:function(){var e=this;return this._dataUsers||(this._dataUsers=new Dt,this._disposers.push(new Bt(function(){oe(e._dataUsers.iterator(),function(i){i.dispose()})}))),this._dataUsers},enumerable:!0,configurable:!0}),t.prototype.clone=function(){var e=n.prototype.clone.call(this);return e.dataFields=Bl(this.dataFields,{}),e},t.prototype.copyFrom=function(e){n.prototype.copyFrom.call(this,e),this.data=e.data,this.sequencedInterpolation=e.sequencedInterpolation,this.sequencedInterpolationDelay=e.sequencedInterpolationDelay,this.interpolationDuration=e.interpolationDuration,this.interpolationEasing=e.interpolationEasing},t.prototype.reinit=function(){this._inited=!1,this.deepInvalidate()},t.prototype.getExporting=function(){var e=n.prototype.getExporting.call(this);return e.adapter.has("data",this._exportData,-1,this)||(e.adapter.add("data",this._exportData,-1,this),this.events.on("datavalidated",function(i){e.handleDataUpdated()})),e},t.prototype._exportData=function(e){return e.data=this.data,e},t.prototype.setDisabled=function(e){var i=n.prototype.setDisabled.call(this,e);return i&&this.invalidateData(),i},t.prototype.setShowOnInit=function(e){e!=this.getPropertyValue("showOnInit")&&(!e||this.inited||this.hidden?this._showOnInitDisposer2&&this.removeDispose(this._showOnInitDisposer2):(this._showOnInitDisposer2=this.events.once("dataitemsvalidated",this.hideInitially,this,!1),this._disposers.push(this._showOnInitDisposer2))),n.prototype.setShowOnInit.call(this,e)},t.prototype.setBaseId=function(e){e!=this._baseId&&this.dataInvalid&&(this.dataInvalid=!1,G.removeFromInvalidComponents(this),this._baseId=e,this.invalidateData()),n.prototype.setBaseId.call(this,e)},Object.defineProperty(t.prototype,"minZoomCount",{get:function(){return this.getPropertyValue("minZoomCount")},set:function(e){this.setPropertyValue("minZoomCount",e)},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"maxZoomCount",{get:function(){return this.getPropertyValue("maxZoomCount")},set:function(e){this.setPropertyValue("maxZoomCount",e)},enumerable:!0,configurable:!0}),t.prototype._systemCheckIfValidate=function(){return!(this.dataInvalid||this.dataProvider&&this.dataProvider.dataInvalid)},t.prototype.asFunction=function(e){return"interpolationEasing"==e||"rangeChangeEasing"==e||n.prototype.asIs.call(this,e)},t}(Ve);G.registeredClasses.Component=Kd;var Yr=function(n){function t(){var e=n.call(this)||this;return e.isOversized=!1,e.className="Label",e.fill=(new Rt).getFor("text"),e.wrap=!1,e.truncate=!1,e.fullWords=!0,e.ellipsis="\u2026",e.textAlign="start",e.textValign="top",e.layout="absolute",e.baseLineRatio=-.27,e._positionPrecision=1,e.events.on("maxsizechanged",function(){e.inited&&e.handleMaxSize()},e,!1),e.events.once("validated",e.handleValidate,e,!1),e.applyTheme(),e}return $(t,n),t.prototype.afterDraw=function(){n.prototype.afterDraw.call(this),this.validatePosition()},t.prototype.setPaper=function(e){var i=n.prototype.setPaper.call(this,e);return i&&this.hardInvalidate(),i},t.prototype.handleValidate=function(){(this.currentText||this.text)&&(0==this.bbox.width||0==this.bbox.height)&&G.events.once("exitframe",this.hardInvalidate,this)},t.prototype.handleMaxSize=function(){(this.bbox.width>this.availableWidth||this.bbox.width<this.availableWidth&&(this.isOversized||this.truncate)||this.bbox.height>this.availableHeight||this.bbox.height<this.availableHeight&&this.isOversized)&&this.invalidate()},t.prototype.arrange=function(){},t.prototype.updateCurrentText=function(){var e,i;T0(this.html)&&this.paper.supportsForeignObject()?(e="html",i=this.html):(e="svg",i=this.text),li(i)&&(i=i.toString()),L(i)&&""!==i&&(i=this.populateString(i,this.dataItem)),"html"==e?this._adapterO&&(i=this._adapterO.apply("htmlOutput",i)):this._adapterO&&(i=this._adapterO.apply("textOutput",i));var s=i!=this.currentText||e!=this._currentFormat;return this.currentText=i,this._currentFormat=e,s},t.prototype.hardInvalidate=function(){this._prevStatus="",this.invalidate()},t.prototype.getLineBBox=function(e){var i=e&&e.element,s=i&&i.node;s&&s.parentNode&&(e.bbox=i.getBBox())},t.prototype.draw=function(){n.prototype.draw.call(this);var e=this.bbox.width,i=this.bbox.height,s=this.topParent;if(!s||s.maxWidth&&s.maxHeight){var l=Qe(this.availableWidth-this.pixelPaddingLeft-this.pixelPaddingRight,0),p=Qe(this.availableHeight-this.pixelPaddingTop-this.pixelPaddingBottom,0),h=p+","+l+this.wrap+this.truncate+this.fullWords+this.rtl+this.ellipsis;if(this.updateCurrentText()||!this.inited||this._prevStatus!=h){this._measuredWidth=0,this._measuredHeight=0,this.isOversized=!1;var g=this._currentFormat,v=this.currentText;if(!L(v)||""==v)return void this.element.attr({display:"none"});var m=v.split("\n");this._prevStatus=h,this.textAlign=this.textAlign;var _=this.group.getAttr("display");if("none"==_&&this.group.removeAttr("display"),this.textPathElement&&this.textPathElement.removeChildren(),"svg"===g){this.element.removeAttr("display");var b=this.element;this.resetBBox();for(var C=0,S="",E=0;E<m.length;E++){var x=m[E];if(""!=x){var U=jl().chunk(x,null,this.ignoreFormatting),W=0,Y=!0,K=!1,X=this.getLineInfo(E);X?(X.text="",X.element.textContent=""):(X={text:"",element:this.getSVGLineElement("",0),complex:!1},b.add(X.element)),X.element.removeAttr("display"),X.element.removeChildren(),this.textPathElement&&X.element.add(this.textPathElement);for(var J=0;J<U.length;J++){J&&(X.complex=!0);var je=U[J];if("format"===je.type)S=je.text;else{if(K)continue;if(X.text=je.text,X.style=jl().translateStyleShortcuts(S),this.getSvgElement(X.text,X.style,this.textPathElement?this.textPathElement:X.element),this.getLineBBox(X),X.bbox.width=Math.ceil(X.bbox.width),W<X.bbox.height&&(W=X.bbox.height),(this.wrap||this.truncate)&&X.bbox.width>l){this.isOversized=!0;var we=X.element.textContent,Oe=X.bbox.width/we.length,Tt=vt(Math.ceil((X.bbox.width-l)/Oe),we.length);if(this.truncate){var Vi=!1,fn=X.element.node;if(fn&&fn.childNodes)for(var He=X.element.node.childNodes.length-1;He>=0;He--){var qi=X.element.node.childNodes[He];if(Vi&&X.bbox.width<=l&&(qi.textContent+=" "+this.ellipsis,X.bbox=X.element.getBBox(),X.bbox.width=Math.floor(X.bbox.width),X.bbox.width<=l))break;Vi=!1;var gn=qi.textContent;for(we=X.element.textContent,Tt=vt(Math.ceil((X.bbox.width-l)/Oe),we.length);X.bbox.width>l&&Tt<=we.length&&Tt>0;)(Zi=Qe(we.length-Tt-this.ellipsis.length,1))<=1&&(Tt=0,He>0&&(Vi=!0,X.element.node.removeChild(qi))),(gn=fR(gn,Zi,this.ellipsis,this.fullWords,this.rtl)).length>Zi&&this.fullWords&&(gn=fR(gn,Zi,this.ellipsis,!1,this.rtl)),qi.textContent=gn,X.bbox=X.element.getBBox(),X.bbox.width=Math.floor(X.bbox.width),Tt=Math.ceil(1.1*Tt);K=!0}}else if(X.element.node){for(var vn=X.element.node.lastChild,Be=void 0;X.bbox.width>l&&Tt<=we.length&&Tt>0;){var Zi=Qe(je.text.length-Tt,1);if(Y?Be=hR(je.text,Zi,!0,this.rtl):((Be=hR(je.text,Zi,!0,this.rtl,!1))[0].length>Zi||1===Zi)&&(X.element.node.removeChild(vn),Tt=0),Tt>0){var Xt=Be.shift();Y&&(Xt=CL(Xt)),vn.textContent=jl().cleanUp(Xt)}X.bbox=X.element.getBBox(),X.bbox.width=Math.floor(X.bbox.width),Tt++}if(Be.length>0){var Ei="";L(Be)&&(Ei+=this.rtl?Be.join("")+S:S+Be.join("").replace(/([\[\]]{1})/g,"$1$1"));for(var Ns=J+1;Ns<U.length;Ns++)Ei+="value"==U[Ns].type?U[Ns].text.replace(/([\[\]]{1})/g,"$1$1"):U[Ns].text;m.splice(E+1,0,Ei)}K=!0}}this.bbox.width<X.bbox.width&&(this.bbox.width=X.bbox.width),this.bbox.height=C+W,X.element.attr(this.textPathElement?{dy:-this.paddingBottom.toString()}:{x:"0",y:C+W,dy:ae(this.baseLineRatio*W,3).toString()}),Y=!1}}var Xo=X.element.node;Xo&&(vn=Xo.lastChild)&&(vn.textContent=this.rtl?o4(vn.textContent):r4(vn.textContent)),C+=W,this.addLineInfo(X,E)}else{var R=this.getSVGLineElement("",0);R.add(this.getSvgElement(".",jl().translateStyleShortcuts(S))),b.add(R);var P=Math.ceil(R.getBBox().height);P>0&&(C+=P),b.removeElement(R);var k=this.getLineInfo(E);k&&(k.text="",k.element.textContent="")}}this.maybeHideOversized(),this.measureFailed=!1,(0==this.bbox.width||0==this.bbox.height)&&(this.measureFailed=!0),this._measuredWidth=ae(Qe(this.bbox.width,this.pixelWidth-this.pixelPaddingLeft-this.pixelPaddingRight)),this._measuredHeight=ae(Qe(this.bbox.height,this.pixelHeight-this.pixelPaddingTop-this.pixelPaddingBottom)),this.alignSVGText(),this.bbox.width=this._measuredWidth,this.bbox.height=this._measuredHeight,(i!=this._measuredHeight||e!=this._measuredWidth)&&this.dispatch("transformed"),this.hideUnused(m.length)}else{this.element.removeAttr("display"),this.resetBBox(),(b=this.element).removeChildren();var Xr=this.paper.foreignObject();b.add(Xr),this.maxWidth&&Xr.attr({width:this.maxWidth-this.pixelPaddingLeft-this.pixelPaddingRight}),this.maxHeight&&Xr.attr({height:this.maxHeight-this.pixelPaddingTop-this.pixelPaddingBottom});var Io=this.getHTMLLineElement(v);Xr.node.appendChild(Io),Io.style.display="inline-block";var al=Io.clientWidth,fa=Io.clientHeight;Io.style.display="block",this._bbox={x:0,y:0,width:al,height:fa},Xr.attr({width:al+1,height:fa}),this.maybeHideOversized(),this._measuredWidth=Qe(this.bbox.width,this.pixelWidth-this.pixelPaddingLeft-this.pixelPaddingRight),this._measuredHeight=Qe(this.bbox.height,this.pixelHeight-this.pixelPaddingTop-this.pixelPaddingBottom),this.bbox.width=this._measuredWidth,this.bbox.height=this._measuredHeight,this.truncate&&(Io.style.overflow="hidden"),(al>l||fa>p)&&(this.isOversized=!0)}this.setStyles(),this.updateCenter(),this.updateBackground(),"none"==_&&this.group.attr({display:"none"}),this.pathElement&&this.paper.appendDef(this.pathElement)}}else s.events.once("maxsizechanged",this.hardInvalidate,this,!1)},t.prototype.maybeHideOversized=function(){this.hideOversized&&(this.availableWidth<this.bbox.width||this.availableHeight<this.bbox.height?(this.element.attr({display:"none"}),this.isOversized=!0):(this.element.removeAttr("display"),this.isOversized=!1))},t.prototype.alignSVGText=function(){var e=this.element,i=e.node.children||e.node.childNodes;if(i&&(!i||0!=i.length)){var s=this._measuredWidth,l=this._measuredHeight;this.rtl?e.attr({direction:"rtl"}):e.removeAttr("direction");for(var p=i.length-1;p>=0;p--){var h=i[p];if(h.setAttribute("text-anchor",this.textAlign),this.textPathElement)h.removeAttribute("x"),h.removeAttribute("y");else{switch(this.textAlign){case"middle":h.setAttribute("x",(s/2).toString()+"px");break;case"end":this.rtl||h.setAttribute("x",s.toString());break;default:this.rtl?h.setAttribute("x",s.toString()):h.removeAttribute("text-anchor")}var g=Zt(h.getAttribute("y"));switch(this.textValign){case"middle":h.setAttribute("y",((g||0)+(l-this.bbox.height)/2).toString());break;case"bottom":h.setAttribute("y",((g||0)+l-this.bbox.height).toString());break;default:h.setAttribute("y",(g||0).toString())}}}}},t.prototype.getSVGLineElement=function(e,i){var s=this.paper.addGroup("text");return s.textContent=e,s.attr({x:"0"}),L(i)&&s.attr({y:i.toString()}),(this.truncate||this.wrap)&&s.attr({overflow:"hidden"}),s},Object.defineProperty(t.prototype,"rtl",{get:function(){return L(this._rtl)?this._rtl:!!this._topParent&&this._topParent.rtl},set:function(e){e=pi(e),this._rtl=e,this.element&&this.alignSVGText()},enumerable:!0,configurable:!0}),t.prototype.resetBBox=function(){this._bbox={x:0,y:0,width:0,height:0}},t.prototype.getHTMLLineElement=function(e){var i=document.createElement("div");switch(i.innerHTML=e,this.textAlign){case"middle":i.style.textAlign="center";break;case"end":i.style.textAlign="right"}return this.wrap?i.style.wordWrap="break-word":i.style.whiteSpace="nowrap",this.rtl&&(i.style.direction="rtl"),L(this.fill)&&(i.style.color=this.fill.toString()),i},t.prototype.setStyles=function(){var e=this.element;!this.selectable||this.draggable||this.resizable||this.swipeable?e.addStyle({webkitUserSelect:"none",msUserSelect:"none"}):this.selectable&&(e.removeStyle("webkitUserSelect"),e.removeStyle("msUserSelect"))},t.prototype.hideUnused=function(e){this.initLineCache();var i=this.getCache("lineInfo");if(i.length>=e)for(var s=e;s<i.length;s++){var l=i[s];l&&l.element&&l.element.attr({display:"none"})}},Object.defineProperty(t.prototype,"text",{get:function(){return this.getPropertyValue("text")},set:function(e){this.setPropertyValue("text",e,!0)},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"path",{get:function(){return this.getPropertyValue("path")},set:function(e){this.setPropertyValue("path",e,!0)&&(this.pathElement&&this.pathElement.dispose(),this.textPathElement&&this.textPathElement.dispose(),this.pathElement=this.paper.add("path"),this.pathElement.attr({d:e}),this.pathElement.attr({id:"text-path-"+this.uid}),this._disposers.push(this.pathElement),this.textPathElement=this.paper.addGroup("textPath"),this.textPathElement.attrNS(xR,"xlink:href","#text-path-"+this.uid),this.textPathElement.attr({path:e}),this._disposers.push(this.textPathElement),this.hardInvalidate())},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"locationOnPath",{get:function(){return this.getPropertyValue("locationOnPath")},set:function(e){this.setPropertyValue("locationOnPath",e),this.textPathElement&&this.textPathElement.attr({startOffset:100*e+"%"})},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"baseLineRatio",{get:function(){return this.getPropertyValue("baseLineRatio")},set:function(e){this.setPropertyValue("baseLineRatio",e)},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"wrap",{get:function(){return this.getPropertyValue("wrap")},set:function(e){this.resetBBox(),this.setPropertyValue("wrap",e,!0)},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"truncate",{get:function(){return this.getPropertyValue("truncate")},set:function(e){this.resetBBox(),this.setPropertyValue("truncate",e,!0)},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"fullWords",{get:function(){return this.getPropertyValue("fullWords")},set:function(e){this.setPropertyValue("fullWords",e,!0)},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"ellipsis",{get:function(){return this.getPropertyValue("ellipsis")},set:function(e){this.setPropertyValue("ellipsis",e,!0)},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"selectable",{get:function(){return this.getPropertyValue("selectable")},set:function(e){this.setPropertyValue("selectable",e,!0),this.setStyles()},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"textAlign",{get:function(){return this.getPropertyValue("textAlign")},set:function(e){this.setPropertyValue("textAlign",e,!0)},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"textValign",{get:function(){return this.getPropertyValue("textValign")},set:function(e){this.setPropertyValue("textValign",e,!0)},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"html",{get:function(){return this.getPropertyValue("html")},set:function(e){this.setPropertyValue("html",e,!0)},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"hideOversized",{get:function(){return this.getPropertyValue("hideOversized")},set:function(e){this.setPropertyValue("hideOversized",e,!0)},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"ignoreFormatting",{get:function(){return this.getPropertyValue("ignoreFormatting")},set:function(e){this.setPropertyValue("ignoreFormatting",e,!0)},enumerable:!0,configurable:!0}),t.prototype.measureElement=function(){},t.prototype.getLineInfo=function(e){this.initLineCache();var i=this.getCache("lineInfo");return i.length>e?i[e]:void 0},t.prototype.addLineInfo=function(e,i){this.initLineCache(),this.getCache("lineInfo")[i]=e},t.prototype.initLineCache=function(){L(this.getCache("lineInfo"))||this.setCache("lineInfo",[],0)},t.prototype.setDataItem=function(e){this._sourceDataItemEvents&&this._sourceDataItemEvents.dispose(),e&&(this._sourceDataItemEvents=new mi([e.events.on("valuechanged",this.invalidate,this,!1),e.events.on("workingvaluechanged",this.invalidate,this,!1),e.events.on("calculatedvaluechanged",this.invalidate,this,!1),e.events.on("propertychanged",this.invalidate,this,!1)])),n.prototype.setDataItem.call(this,e)},Object.defineProperty(t.prototype,"availableWidth",{get:function(){return L(this.maxWidth)?this.maxWidth:this.pixelWidth},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"availableHeight",{get:function(){return L(this.maxHeight)?this.maxHeight:this.pixelHeight},enumerable:!0,configurable:!0}),t.prototype.getSvgElement=function(e,i,s){var l=this.paper.add("tspan");if(l.textContent=e,i)if(nt.nonce&&s){var p="amcharts_element_style_"+btoa(i).replace(/[^\w]*/g,"");l.node.setAttribute("class",p);var h=document.createElementNS(Ff,"defs");s.node.appendChild(h);var g=document.createElement("style");g.type="text/css",g.innerHTML="."+p+" { "+i+"}",g.setAttribute("nonce",nt.nonce),h.appendChild(g)}else l.node.setAttribute("style",i);return s&&s.add(l),l},t.prototype.deepInvalidate=function(){n.prototype.deepInvalidate.call(this),this.hardInvalidate()},Object.defineProperty(t.prototype,"readerTitle",{get:function(){var e=this.getPropertyValue("readerTitle");return e?this.dataItem&&(e=this.populateString(e)):e=this.populateString(vR(T0(this.html)?this.html:this.text)),e},set:function(e){e=tr(e),this.setPropertyValue("readerTitle",e)&&this.applyAccessibility()},enumerable:!0,configurable:!0}),t}(Ve);G.registeredClasses.Label=Yr,Wn.push({relevant:mr.heightXS,state:function(n,t){if(n instanceof Yr&&n.parent&&n.parent.isBaseSprite){var e=n.states.create(t);return e.properties.disabled=!0,e}return null}});var rl=function(n){function t(){var e=n.call(this)||this;return e.className="RoundedRectangle",e.element=e.paper.add("path"),e.cornerRadius(3,3,3,3),e.applyTheme(),e}return $(t,n),t.prototype.draw=function(){n.prototype.draw.call(this);var e=this.innerWidth,i=this.innerHeight;if(M(e)&&M(i)){var s=vt(e,i)/2,l=fi(this.cornerRadiusTopLeft,s),p=fi(this.cornerRadiusTopRight,s),h=fi(this.cornerRadiusBottomRight,s),g=fi(this.cornerRadiusBottomLeft,s),v=vt(Math.abs(e/2),Math.abs(i/2)),m=xe(l,0,v),_=xe(p,0,v),b=xe(h,0,v),C=xe(g,0,v);this.path="M"+m+",0 L"+(e-_)+",0 a"+_+","+_+" 0 0 1 "+_+","+_+" L"+e+","+(i-b)+" a"+b+","+b+" 0 0 1 -"+b+","+b+" L"+C+","+i+" a"+C+","+C+" 0 0 1 -"+C+",-"+C+" L0,"+m+" a"+m+","+m+" 0 0 1 "+m+",-"+m+" Z"}},t.prototype.cornerRadius=function(e,i,s,l){this.cornerRadiusTopLeft=e,this.cornerRadiusTopRight=i,this.cornerRadiusBottomLeft=s,this.cornerRadiusBottomRight=l},Object.defineProperty(t.prototype,"cornerRadiusTopLeft",{get:function(){return this.getPropertyValue("cornerRadiusTopLeft")},set:function(e){this.setPercentProperty("cornerRadiusTopLeft",e,!0)},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"cornerRadiusTopRight",{get:function(){return this.getPropertyValue("cornerRadiusTopRight")},set:function(e){this.setPercentProperty("cornerRadiusTopRight",e,!0)},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"cornerRadiusBottomRight",{get:function(){return this.getPropertyValue("cornerRadiusBottomRight")},set:function(e){this.setPercentProperty("cornerRadiusBottomRight",e,!0)},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"cornerRadiusBottomLeft",{get:function(){return this.getPropertyValue("cornerRadiusBottomLeft")},set:function(e){this.setPercentProperty("cornerRadiusBottomLeft",e,!0)},enumerable:!0,configurable:!0}),t.prototype.measureElement=function(){},Object.defineProperty(t.prototype,"bbox",{get:function(){return this.definedBBox?this.definedBBox:this.isMeasured?{x:0,y:0,width:this.innerWidth,height:this.innerHeight}:{x:0,y:0,width:0,height:0}},enumerable:!0,configurable:!0}),t}(Je);G.registeredClasses.RoundedRectangle=rl;var uc=function(n){function t(){var e=n.call(this)||this;e.className="Button",e.tooltipY=0,e.iconPosition="left",e.layout="horizontal",e.contentAlign="center",e.contentValign="middle",e.padding(8,16,8,16),e.setStateOnChildren=!0;var i=new Rt,s=e.background;s.fill=i.getFor("secondaryButton"),s.stroke=i.getFor("secondaryButtonStroke"),s.fillOpacity=1,s.strokeOpacity=1,s.cornerRadius(3,3,3,3),e.label=new Yr,e.label.fill=i.getFor("secondaryButtonText"),e.label.shouldClone=!1;var l=s.states.create("hover");l.properties.fillOpacity=1,l.properties.fill=i.getFor("secondaryButtonHover");var p=s.states.create("down");return p.transitionDuration=100,p.properties.fill=i.getFor("secondaryButtonDown"),p.properties.fillOpacity=1,e.role="button",e.focusable=!0,e.applyTheme(),e}return $(t,n),Object.defineProperty(t.prototype,"icon",{get:function(){return this._icon},set:function(e){var i=this._icon;i&&(i.parent=void 0),e&&(this._icon=e,e.parent=this,e.interactionsEnabled=!1,e.shouldClone=!1,this.iconPosition=this.iconPosition,this._disposers.push(e))},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"iconPosition",{get:function(){return this.getPropertyValue("iconPosition")},set:function(e){this.setPropertyValue("iconPosition",e),this.icon&&("left"==e?this.icon.toBack():this.icon.toFront())},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"label",{get:function(){return this._label},set:function(e){this._label&&this.removeDispose(this._label),this._label=e,e&&(e.parent=this,e.interactionsEnabled=!1,this._disposers.push(this._label))},enumerable:!0,configurable:!0}),t.prototype.createBackground=function(){return new rl},t.prototype.copyFrom=function(e){n.prototype.copyFrom.call(this,e),e.label&&this.label.copyFrom(e.label),e.icon&&(this.icon=e.icon.clone())},t}(Ve);G.registeredClasses.Button=uc;var Xd=function(n){function t(){var e=n.call(this)||this;return e.className="Circle",e.element=e.paper.add("circle"),e.setPercentProperty("radius",ue(100)),e.setPropertyValue("horizontalCenter","middle"),e.setPropertyValue("verticalCenter","middle"),e.applyTheme(),e}return $(t,n),t.prototype.draw=function(){n.prototype.draw.call(this),this.element.attr({r:this.pixelRadius})},Object.defineProperty(t.prototype,"radius",{get:function(){return this.getPropertyValue("radius")},set:function(e){this.setPercentProperty("radius",e,!0,!1,10,!1)},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"pixelRadius",{get:function(){return fi(this.radius,vt(this.innerWidth/2,this.innerHeight/2))},enumerable:!0,configurable:!0}),t.prototype.measureElement=function(){var e=this.pixelRadius;this._bbox={x:-e,y:-e,width:2*e,height:2*e}},t}(Je);G.registeredClasses.Circle=Xd;var WR=function(n){function t(){var e=n.call(this)||this;return e.className="Ellipse",e.element=e.paper.add("ellipse"),e.applyTheme(),e}return $(t,n),t.prototype.draw=function(){n.prototype.draw.call(this),this.element.attr({rx:this.radius}),this.element.attr({ry:this.radiusY})},Object.defineProperty(t.prototype,"radiusY",{get:function(){return this.innerHeight/2},set:function(e){this.height=2*e,this.invalidate()},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"radius",{get:function(){return this.innerWidth/2},set:function(e){this.width=2*e,this.invalidate()},enumerable:!0,configurable:!0}),t}(Xd);G.registeredClasses.Ellipse=WR;var PY=function(n){function t(){var e=n.call(this)||this;return e.className="Image",e.element=e.paper.add("image"),e.applyTheme(),e.width=50,e.height=50,e}return $(t,n),t.prototype.draw=function(){if(n.prototype.draw.call(this),this.href){var e=this.innerWidth,i=this.innerHeight;M(this.widthRatio)&&(this.width=e=i*this.widthRatio),M(this.heightRatio)&&(this.height=i=e*this.heightRatio),this.element.attr({width:e,height:i}),this.element.attrNS(xR,"xlink:href",this.href)}},Object.defineProperty(t.prototype,"href",{get:function(){return this.getPropertyValue("href")},set:function(e){this.setPropertyValue("href",e,!0)},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"widthRatio",{get:function(){return this.getPropertyValue("widthRatio")},set:function(e){this.setPropertyValue("widthRatio",e,!0)},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"heightRatio",{get:function(){return this.getPropertyValue("heightRatio")},set:function(e){this.setPropertyValue("heightRatio",e,!0)},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"bbox",{get:function(){return{x:0,y:0,width:this.pixelWidth,height:this.pixelHeight}},enumerable:!0,configurable:!0}),t}(Je);G.registeredClasses.Image=PY;var ca=function(n){function t(){var e=n.call(this)||this;return e.className="Line",e.element=e.paper.add("line"),e.fill=Le(),e.x1=0,e.y1=0,e.applyTheme(),e}return $(t,n),t.prototype.draw=function(){n.prototype.draw.call(this),this.pixelPerfect=this.x1==this.x2||this.y1==this.y2,this.x1=this.x1,this.x2=this.x2,this.y1=this.y1,this.y2=this.y2},Object.defineProperty(t.prototype,"x1",{get:function(){return this.getPropertyValue("x1")},set:function(e){M(e)||(e=0);var i=0;this.pixelPerfect&&this.stroke instanceof Ms&&(i=1e-5),this.setPropertyValue("x1",e,!0),this.element.attr({x1:e+i})},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"x2",{get:function(){var e=this.getPropertyValue("x2");return M(e)||(e=this.pixelWidth),e},set:function(e){M(e)||(e=0),this.setPropertyValue("x2",e,!0),this.element.attr({x2:e})},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"y1",{get:function(){return this.getPropertyValue("y1")},set:function(e){M(e)||(e=0);var i=0;this.pixelPerfect&&this.stroke instanceof Ms&&(i=1e-5),this.setPropertyValue("y1",e,!0),this.element.attr({y1:e+i})},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"y2",{get:function(){var e=this.getPropertyValue("y2");return M(e)||(e=this.pixelHeight),e},set:function(e){M(e)||(e=0),this.setPropertyValue("y2",e,!0),this.element.attr({y2:e})},enumerable:!0,configurable:!0}),t.prototype.positionToPoint=function(e){var i={x:this.x1,y:this.y1},s={x:this.x2,y:this.y2},l=_0(i,s,e),p=Fn(i,s);return{x:l.x,y:l.y,angle:p}},t}(Je);G.registeredClasses.Line=ca;var TY=function(n){function t(){var e=n.call(this)||this;return e.className="PointedRectangle",e.element=e.paper.add("path"),e.cornerRadius=6,e.applyTheme(),e}return $(t,n),t.prototype.draw=function(){n.prototype.draw.call(this);var e=this.cornerRadius,i=this.innerWidth,s=this.innerHeight;if(i>0&&s>0){var we,Oe,l=this.pointerX,p=this.pointerY,h=this.pointerBaseWidth/2,g=vt(i/2,s/2),v=xe(e,0,g),m=xe(e,0,g),_=xe(e,0,g),b=xe(e,0,g),W=void 0,Y=void 0,K=void 0,X=void 0,J=(l-0)*(s-0)-(p-0)*(i-0),je=(l-0)*(0-s)-(p-s)*(i-0);W=J>0&&je>0?"M"+v+",0 L"+((we=xe(l,v+h,i-h-m))-h)+",0 L"+l+","+(p=xe(p,-1/0,0))+" L"+(we+h)+",0 L"+(i-m)+",0":"M"+v+",0 L"+(i-m)+",0",K=J<0&&je<0?" L"+(i-_)+","+s+" L"+((we=xe(l,b+h,i-h-_))+h)+","+s+" L"+l+","+(p=xe(p,s,1/0))+" L"+(we-h)+","+s+" L"+b+","+s:" L"+b+","+s,X=J<0&&je>0?" L0,"+(s-b)+" L0,"+((Oe=xe(p,v+h,s-b-h))+h)+" L"+(l=xe(l,-1/0,0))+","+p+" L0,"+(Oe-h)+" L0,"+v:" L0,"+v,Y=J>0&&je<0?" L"+i+","+m+" L"+i+","+((Oe=xe(p,m+h,s-h-_))-h)+" L"+(l=xe(l,i,1/0))+","+p+" L"+i+","+(Oe+h)+" L"+i+","+(s-_):" L"+i+","+(s-_),this.path=W+" a"+m+","+m+" 0 0 1 "+m+","+m+Y+" a"+_+","+_+" 0 0 1 -"+_+","+_+K+" a"+b+","+b+" 0 0 1 -"+b+",-"+b+X+" a"+v+","+v+" 0 0 1 "+v+",-"+v}},Object.defineProperty(t.prototype,"cornerRadius",{get:function(){return this.getPropertyValue("cornerRadius")},set:function(e){this.setPropertyValue("cornerRadius",e,!0)},enumerable:!0,configurable:!0}),t}(function(n){function t(){var e=n.call(this)||this;return e.className="PointedShape",e.pointerBaseWidth=15,e.pointerLength=10,e.pointerY=0,e.pointerX=0,e.applyTheme(),e}return $(t,n),t.prototype.draw=function(){n.prototype.draw.call(this),M(this.pointerX)||(this.pointerX=this.pixelWidth/2),M(this.pointerY)||(this.pointerY=this.pixelHeight+10)},Object.defineProperty(t.prototype,"pointerBaseWidth",{get:function(){return this.getPropertyValue("pointerBaseWidth")},set:function(e){this.setPropertyValue("pointerBaseWidth",e,!0)},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"pointerLength",{get:function(){return this.getPropertyValue("pointerLength")},set:function(e){this.setPropertyValue("pointerLength",e,!0)},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"pointerX",{get:function(){return this.getPropertyValue("pointerX")},set:function(e){this.setPropertyValue("pointerX",e,!0)},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"pointerY",{get:function(){return this.getPropertyValue("pointerY")},set:function(e){this.setPropertyValue("pointerY",e,!0)},enumerable:!0,configurable:!0}),t}(Je));function Am(n){var t=ne(n[0]),e={x:0,y:0},i=nt.minPolylineStep;M(i)||(i=.5);for(var s=0,l=n.length;s<l;s++){var p=n[s];At(p,e)>i&&(t+=ne(p),e=p)}return t}function Ce(n){return" M"+ae(n.x,4)+","+ae(n.y,4)+" "}function ne(n){return" L"+ae(n.x,4)+","+ae(n.y,4)+" "}function qd(n,t){return" Q"+ae(t.x,4)+","+ae(t.y,4)+" "+ae(n.x,4)+","+ae(n.y,4)}function Vf(n,t,e){return" C"+ae(t.x,4)+","+ae(t.y,4)+" "+ae(e.x,4)+","+ae(e.y,4)+" "+ae(n.x,4)+","+ae(n.y,4)}function Rn(n,t,e,i){if(0==t)return"";M(i)||(i=e);var s="",l=",",p=Math.ceil(Math.abs(t)/180),h=1;t<0&&(h=0);var g=0,v=0,m=-ve(n)*e,_=-ge(n)*i;if(t<.5&&e>3e3)return ne({x:C=ae(ve(b=n+t)*e,4),y:S=ae(ge(b)*i,4)});for(var E=0;E<p;E++){var b,C,S;s+=" a"+e+l+i+l+0+l+0+l+h+l+(C=ae(ve(b=n+t/p*(E+1))*e+m-g,4))+l+(S=ae(ge(b)*i+_-v,4)),g=C,v=S}return s}function kf(n,t,e,i,s,l,p){if(0==t||(M(i)||(i=0),0==e&&i<=0))return"";if(e<i){var h=e;e=i,i=h,M(s)&&(s=s/i*e)}360==(t=vt(t,360))&&(l=0,p=0);var g=n+t,v=ge(vt(t,45)/2),m=(s=M(s)?s:e)/e*i,_=s/e*(l=l||0),b=s/e*(p=M(p)?p:l);l=xe(l,0,(e-i)/2),_=xe(_,0,(s-m)/2),p=xe(p,0,(e-i)/2),b=xe(b,0,(s-m)/2),l=ae(xe(l,0,e*v),4),_=ae(xe(_,0,s*v),4),p=ae(xe(p,0,i*v),4),b=ae(xe(b,0,m*v),4);var C=Math.asin(l/e/2)*rc*2,S=Math.asin(_/s/2)*rc*2;i<p&&(i=p),m<b&&(m=b);var E=Math.asin(p/i/2)*rc*2,x=Math.asin(b/m/2)*rc*2;M(E)||(E=0),M(x)||(x=0);var R=n+t/2,P={x:ae(ve(R)*i,4),y:ge(R)*m},k={x:ve(n)*(i+p),y:ge(n)*(m+b)},U={x:ve(n)*(e-l),y:ge(n)*(s-_)},W={x:ve(g)*(e-l),y:ge(g)*(s-_)},Y={x:ve(g)*(i+p),y:ge(g)*(m+b)},K={x:ve(n+C)*e,y:ge(n+S)*s},X={x:ve(g-E)*i,y:ge(g-x)*m};p+=p*ge(E/2),b+=b*ge(x/2),E>(g-n)/2&&(X=P);var J="";return 360==t?J=Ce(U):(J=Ce(k),J+=ne(U),J+=Ko(K,l,_,!0)),J+=Rn(n+C,t-2*C,e,s),M(i)&&0!=i?(360==t&&0==l?J+=Ce(Y):(J+=Ko(W,l,_,!0),J+=ne(Y),J+=Ko(X,p,b,!0)),J+=Rn(g-E,-(t-2*E),i,m),(t<360||l>0)&&(J+=Ko(k,p,b,!0)),J+=ne(k)):(J+=Ko(W,l,_,!0),t<360&&(J+=ne(k))),J}function Ko(n,t,e,i,s,l){if(0==t)return"";var p=",";return" A"+t+p+e+p+(l=l||0)+p+ +(s=Boolean(s))+p+ +(i=Boolean(i))+p+ae(n.x,4)+p+ae(n.y,4)}function UR(n,t,e,i){return M(e)||(e=0),M(i)||(i=0),Ce({x:e,y:i})+ne({x:e+n,y:i})+ne({x:e+n,y:i+t})+ne({x:e,y:i+t})+" Z"}function cc(n,t){var e=",",i=" L";return t?"M"+n.x+e+n.y+i+n.x+e+(n.y+n.height)+i+(n.x+n.width)+e+(n.y+n.height)+i+(n.x+n.width)+e+n.y+i+n.x+e+n.y:"M"+n.x+e+n.y+i+(n.x+n.width)+e+n.y+i+(n.x+n.width)+e+(n.y+n.height)+i+n.x+e+(n.y+n.height)+i+n.x+e+n.y}var Im=function(n){function t(){var e=n.call(this)||this;return e._distance=0,e.className="Polyline",e.element=e.paper.add("path"),e.shapeRendering="auto",e.fill=Le(),e.strokeOpacity=1,e.applyTheme(),e}return $(t,n),t.prototype.makePath=function(){this._distance=0;var e=this.segments;if(e&&e.length>0){for(var i="",s=0,l=e.length;s<l;s++){var p=e[s];if(p.length>0){i+=Ce(p[0]);for(var h=1;h<p.length;h++){var g=p[h];i+=ne(g),this._distance+=At(p[h-1],g)}}}this.path=i}this._realSegments=e},Object.defineProperty(t.prototype,"segments",{get:function(){return this.getPropertyValue("segments")},set:function(e){this.setPropertyValue("segments",e),this.makePath()},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"distance",{get:function(){return this._distance},enumerable:!0,configurable:!0}),t.prototype.positionToPoint=function(e){var i=0;e<0&&(e=Math.abs(e),i=180);var s=this._realSegments;if(s){for(var l=this.distance,p=0,g=0,v=0,m=void 0,_=void 0,b=0;b<s.length;b++){var C=s[b];if(C.length>1){for(var S=1;S<C.length;S++)if(g=p/l,v=(p+=At(m=C[S-1],_=C[S]))/l,g<=e&&v>e){b=s.length;break}}else 1==C.length&&(m=C[0],_=C[0],g=0,v=1)}if(m&&_){var x=_0(m,_,(e-g)/(v-g));return{x:x.x,y:x.y,angle:i+Fn(m,_)}}}return{x:0,y:0,angle:0}},Object.defineProperty(t.prototype,"realSegments",{get:function(){return this._realSegments},enumerable:!0,configurable:!0}),t}(Je);G.registeredClasses.Polyline=Im;var AY=function(n){function t(){var e=n.call(this)||this;return e.className="Polyarc",e.controlPointDistance=.5,e.controlPointPosition=.5,e.applyTheme(),e}return $(t,n),t.prototype.makePath=function(){this._distance=0;var e=this.segments;if(e&&e.length>0){var i="";this._realSegments=[];for(var s=0,l=e.length;s<l;s++){var p=e[s],h=[];if(this._realSegments.push(h),p.length>0){i+=Ce(p[0]);for(var g=1;g<p.length;g++){var v=p[g-1],m=p[g],_=At(m,v),b=_*this.controlPointDistance,C=this.controlPointPosition,S=-Fn(v,m),R={x:v.x+(m.x-v.x)*C*.5-b*ge(S),y:v.y+(m.y-v.y)*C*.5-b*ve(S)},U={x:v.x+(m.x-v.x)*C*1.5-b*ge(S),y:v.y+(m.y-v.y)*C*1.5-b*ve(S)};i+=Vf(m,R,U);var W=Math.ceil(_),Y=v;if(W>0)for(var K=0;K<=W;K++){var X=KP(v,m,R,U,K/W);h.push(X),this._distance+=At(Y,X),Y=X}else h.push(v)}}}this.path=i}},Object.defineProperty(t.prototype,"controlPointPosition",{get:function(){return this.getPropertyValue("controlPointPosition")},set:function(e){this.setPropertyValue("controlPointPosition",e),this.makePath()},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"controlPointDistance",{get:function(){return this.getPropertyValue("controlPointDistance")},set:function(e){this.setPropertyValue("controlPointDistance",e),this.makePath()},enumerable:!0,configurable:!0}),t}(Im);G.registeredClasses.Polyarc=AY;var IY=function(n){function t(e){var i=n.call(this)||this;return i._bboxes=[],i.morphDuration=800,i.morphEasing=$d,i.morphToSingle=!0,i.scaleRatio=1,i.className="Morpher",i.morphable=e,i.applyTheme(),i}return $(t,n),t.prototype.morphToPolygon=function(e,i,s){var l=this.morphable.currentPoints;if(l&&e){this.sortPoints(l),this.sortPoints(e),this._morphFromPointsReal=[],this._morphToPointsReal=[],L(i)||(i=this.morphDuration),L(s)||(s=this.morphEasing),this._morphFromPointsReal=this.normalizePoints(e,l),this._morphToPointsReal=this.normalizePoints(l,e),this.morphable.currentPoints=this._morphFromPointsReal;var p=new ua(this,{property:"morphProgress",from:0,to:1},i,s);return this._disposers.push(p),p.start(),p}},t.prototype.normalizePoints=function(e,i){for(var s=0,l=e.length;s<l;s++){var p=e[s][0],h=e[s][1],g=hi(pm(p)),v=g.x+g.width,m=g.y+g.height;if(i[s]||(i[s]=[]),p&&!i[s][0]&&(i[s][0]=[{x:v,y:m},{x:v,y:m}]),i[s][0]){i[s][0]=this.addPoints(i[s][0],p.length);for(var _=1/0,b=0,C=0;C<i[s][0].length;C++){var S=At(i[s][0][C],p[0]);S<_&&(b=C,_=S)}var E=i[s][0].slice(0,b),x=i[s][0].slice(b);i[s][0]=x.concat(E)}h&&(i[s][1]||(i[s][1]=[{x:v,y:m},{x:v,y:m}]),i[s][1]=this.addPoints(i[s][1],h.length))}return i},t.prototype.sortPoints=function(e){e.sort(function(h,g){var v=hi(pm(h[0])),m=hi(pm(g[0]));return v.width*v.height>m.width*m.height?-1:1});for(var i=[],s=0,l=e.length;s<l;s++){var p=e[s][0];p&&i.push(hi(pm(p)))}return hm(i)},t.prototype.morphToCircle=function(e,i,s){var l=this.morphable.points,p=this.sortPoints(l);this._morphFromPointsReal=[],this._morphToPointsReal=[],L(i)||(i=this.morphDuration),L(s)||(s=this.morphEasing);for(var h=0,g=l.length;h<g;h++){var v=l[h][0],m=l[h][1];if(this._morphFromPointsReal[h]=[],this._morphToPointsReal[h]=[],v){var _=v,b=v,C=hi(pm(b));this.morphToSingle&&(C=hi(p));var S=C.x+C.width/2,E=C.y+C.height/2,x=e;M(x)||(x=Math.min(C.width/2,C.height/2)),_=[];var R=Fn({x:S,y:E},v[0]),P=100;v.length>P&&(P=v.length);for(var k=360/((P=(b=this.addPoints(v,P)).length)-1),U=0;U<P;U++){var W=k*U+R,Y={x:S+x*ve(W),y:E+x*ge(W)};_[U]=Y}if(m&&m.length>0)for(var K=0,X=m.length;K<X;K++)_.push({x:S,y:E});this._morphFromPointsReal[h][0]=b,this._morphToPointsReal[h][0]=_}}this.morphable.currentPoints=this._morphFromPointsReal;var J=new ua(this,{property:"morphProgress",from:0,to:1},i,s);return this._disposers.push(J),J.start(),J},t.prototype.addPoints=function(e,i){for(var s=Math.round(i/e.length),l=[],p=0,h=e.length;p<h;p++){var v,g=e[p];v=p==e.length-1?e[0]:e[p+1],l.push(g);for(var m=1;m<s;m++){var _=m/s;l.push({x:g.x+(v.x-g.x)*_,y:g.y+(v.y-g.y)*_})}l.length+e.length-p==i&&(s=0)}if(l.length<i&&e.length>0){var C=e[e.length-1];for(m=l.length;m<i;m++)l.push({x:C.x,y:C.y})}return l},t.prototype.morphToRectangle=function(e,i,s,l){var p=this.morphable.points;this.sortPoints(p),this._morphFromPointsReal=[],this._morphToPointsReal=[],L(s)||(s=this.morphDuration),L(l)||(l=this.morphEasing);for(var h=0,g=p.length;h<g;h++){var v=p[h][0],m=p[h][1];if(this._morphFromPointsReal[h]=[],this._morphToPointsReal[h]=[],v){var _=v,b=v,C=this._bboxes[h],S=C.x,E=C.y,x=e,R=i;if(M(x)||(x=C.width),M(R)||(R=C.height),_=this.addPoints(_=[{x:S,y:E},{x:S+x,y:E},{x:S+x,y:E+R},{x:S,y:E+R}],v.length),v.length<4)for(var P=v.length;P<4;P++)_.push({x:v[P].x,y:v[P].y});if(m&&m.length>0)for(var k=C.x+C.width/2,U=C.y+C.height/2,W=0,Y=m.length;W<Y;W++)_.push({x:k,y:U});this._morphFromPointsReal[h][0]=b,this._morphToPointsReal[h][0]=_}}this.morphable.currentPoints=this._morphFromPointsReal;var K=new ua(this,{property:"morphProgress",from:0,to:1},s,l);return this._disposers.push(K),K.start(),K},Object.defineProperty(t.prototype,"morphProgress",{get:function(){return this._morphProgress},set:function(e){this._morphProgress=e;var i=[];if(null!=e){var s=this._morphFromPointsReal,l=this._morphToPointsReal;if(null!=s&&null!=l)for(var p=0,h=s.length;p<h;p++){var g=[];i.push(g);var v=s[p][0],m=s[p][1],_=l[p][0],b=l[p][1];if(v&&v.length>0&&_&&_.length>0){for(var C=[],S=0,E=v.length;S<E;S++)C.push({x:(x=v[S]).x+((R=_[S]).x*this.scaleRatio-x.x)*e,y:x.y+(R.y*this.scaleRatio-x.y)*e});g[0]=C}if(m&&m.length>0&&b&&b.length>0){for(var k=[],U=0,W=m.length;U<W;U++){var x,R;k.push({x:(x=m[U]).x+((R=b[U]).x*this.scaleRatio-x.x)*e,y:x.y+(R.y*this.scaleRatio-x.y)*e})}g[1]=k}}}this.morphable.currentPoints=i},enumerable:!0,configurable:!0}),t.prototype.morphBack=function(e,i){this._morphToPointsReal=this._morphFromPointsReal,this._morphFromPointsReal=this.morphable.currentPoints,L(e)||(e=this.morphDuration),L(i)||(i=this.morphEasing);var s=new ua(this,{property:"morphProgress",from:0,to:1},e,i);return this._disposers.push(s),s.start(),s},Object.defineProperty(t.prototype,"animations",{get:function(){return this._animations||(this._animations=[],this._disposers.push(new Mf(this._animations))),this._animations},enumerable:!0,configurable:!0}),t}(Ar),MY=function(n){function t(){var e=n.call(this)||this;return e.className="Polygon",e.element=e.paper.add("path"),e.shapeRendering="auto",e._currentPoints=[],e.applyTheme(),e}return $(t,n),Object.defineProperty(t.prototype,"points",{get:function(){var e=this.getPropertyValue("points"),i=this.path;if(i&&(!e||0==e.length)){for(var l=i.slice(1,i.length-1).split("ZM"),p=0;p<l.length;p++){var h=l[p];if(h.length>0){var g=h.split("M"),v=g[0],m=g[1];if(v&&v.length>0){var _=v.split("L");if(_.length>0){var b=[],C=[b];e.push(C);for(var S=0;S<_.length;S++){var E=_[S].split(",");b.push({x:+E[0],y:+E[1]})}if(m&&m.length>0){var x=m.split("L");if(x.length>0){var R=[];for(C.push(R),S=x.length-1;S>=0;S--)E=x[S].split(","),R.push({x:+E[0],y:+E[1]})}}}}}}this.setPropertyValue("points",e),this._currentPoints=e}return e},set:function(e){this.setPropertyValue("points",e,!0),this._currentPoints=e},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"currentPoints",{get:function(){return(!this._currentPoints||0==this._currentPoints.length)&&this.path&&(this._currentPoints=this.points),this._currentPoints},set:function(e){this._currentPoints!=e&&(this._currentPoints=e,this.draw())},enumerable:!0,configurable:!0}),t.prototype.draw=function(){var s,l,p,h,e="",i=this._currentPoints;if(i.length>0){for(var g=0,v=i.length;g<v;g++){var m=i[g][0],_=i[g][1];if(m&&m.length>0){e+=Ce(b=m[0]);for(var C=0;C<m.length;C++)e+=ne(b=m[C]),(!M(l)||l<b.x)&&(l=b.x),(!M(s)||s>b.x)&&(s=b.x),(!M(p)||p>b.y)&&(p=b.y),(!M(h)||h<b.y)&&(h=b.y)}if(_&&_.length>0){var b;e+=Ce(b=_[0]);for(var S=0,E=_.length;S<E;S++)e+=ne(b=_[S])}}e&&(e+=" Z"),this.bbox.x=s,this.bbox.y=p,this.bbox.width=l-s,this.bbox.height=h-p,n.prototype.setPath.call(this,e)}},t.prototype.setPath=function(e){return!!n.prototype.setPath.call(this,e)&&(this.points=[],this._bbox=this.group.getBBox(),!0)},t.prototype.measureElement=function(){},Object.defineProperty(t.prototype,"centerPoint",{get:function(){return{x:this.bbox.x+this.bbox.width/2,y:this.bbox.y+this.bbox.height/2}},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"morpher",{get:function(){return this._morpher||(this._morpher=new IY(this),this._disposers.push(this._morpher)),this._morpher},enumerable:!0,configurable:!0}),t}(Je);G.registeredClasses.Polygon=MY;var K0=function(n){function t(){var e=n.call(this)||this;return e.className="Polyspline",e.tensionX=.5,e.tensionY=.5,e.applyTheme(),e}return $(t,n),t.prototype.makePath=function(){this._distance=0;var e=this.segments,i=this.tensionX,s=this.tensionY;if(this.allPoints=[],e&&e.length>0){var l="";this._realSegments=[];for(var p=0,h=e.length;p<h;p++){var g=e[p],v=[];if(this._realSegments.push(v),g.length>0){var m=g[0],_=g[g.length-1],b=!1;ae(m.x,3)==ae(_.x)&&ae(m.y)==ae(_.y)&&(b=!0),l+=Ce(g[0]);for(var C=0;C<g.length-1;C++){var S=g[C-1],E=g[C],x=g[C+1],R=g[C+2];0===C?S=g[C]:C==g.length-2&&(R=g[C+1]),R||(R=x),0===C?S=b?g[g.length-2]:g[p]:C==g.length-2&&(R=b?g[1]:g[C+1]);var P=JN(S,E,x,0,i,s),k=eL(0,E,x,R,i,s);l+=Vf(x,P,k);var U=1.2*Math.ceil(v6(E,x,P,k,20)),W=E;if(U>0)for(var Y=0;Y<=U;Y++){var K=KP(E,x,P,k,Y/U);if(K.x!=W.x||K.y!=W.y){v.push(K);var X=ae(Fn(W,K),5);this._distance+=At(W,K),this.allPoints[Math.floor(this._distance)]={x:K.x,y:K.y,angle:X},W=K}}else v.push(S)}}var J=this.allPoints;if(J.length>1)for(var je=0;je<J.length;je++)if(!J[je])if(je>1)J[je]=J[je-1];else for(var we=1;we<J.length;we++)if(J[we]){J[je]=J[we];break}}this.path=l}},t.prototype.getClosestPointIndex=function(e){var s,i=this.allPoints,l=1/0;if(i.length>1)for(var p=1;p<i.length;p++){var h=At(e,i[p]);h<l&&(s=p,l=h)}return s},Object.defineProperty(t.prototype,"tensionX",{get:function(){return this.getPropertyValue("tensionX")},set:function(e){this.setPropertyValue("tensionX",e),this.makePath()},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"tensionY",{get:function(){return this.getPropertyValue("tensionY")},set:function(e){this.setPropertyValue("tensionY",e,!0),this.makePath()},enumerable:!0,configurable:!0}),t.prototype.positionToPoint=function(e,i){var s=0,l=this.allPoints,p=l.length;if(M(e)||(e=0),p>1){if(i&&p>3){var h,g,v,m;if(e<0)return e<-.01&&(e=-.01),{x:v=(h=l[0]).x-(h.x-(g=l[1]).x)*p*e,y:m=h.y-(h.y-g.y)*p*e,angle:Fn(h,g)};if(e>1)return e>1.01&&(e=1.01),{x:v=(h=l[l.length-2]).x+(h.x-(g=l[l.length-3]).x)*p*(e-1),y:m=h.y+(h.y-g.y)*p*(e-1),angle:Fn(h,{x:v,y:m})};if(1==e){var _=l[l.length-1];return{x:_.x,y:_.y,angle:_.angle}}}else e<0&&(e=Math.abs(e),s=180),e>=1&&(e=.9999999999999);var b;return{x:(b=l[Math.floor(e*p)]).x,y:b.y,angle:b.angle+s}}return 1==p?{x:(b=l[0]).x,y:b.y,angle:b.angle}:{x:0,y:0,angle:0}},t}(Im);G.registeredClasses.Polyspline=K0;var Zd=function(n){function t(){var e=n.call(this)||this;return e.className="Slice",e.setPropertyValue("cornerRadius",0),e.setPropertyValue("startAngle",0),e.setPercentProperty("innerRadius",0),e.setPercentProperty("radius",0),e.setPropertyValue("arc",0),e.setPropertyValue("shiftRadius",0),e.strokeOpacity=1,e.setPropertyValue("layout","none"),e.slice=e.createChild(Je),e.slice.isMeasured=!1,e._disposers.push(e.slice),e.applyTheme(),e}return $(t,n),t.prototype.draw=function(){n.prototype.draw.call(this);var e=this.radiusY;this.radius>0&&0==e&&(e=.01),this.slice.path=kf(this.startAngle,this.arc,this.radius,this.pixelInnerRadius,e,this.cornerRadius,this.innerCornerRadius),this.slice.invalidate(),this.shiftRadius=this.shiftRadius,this.realFill instanceof ac&&this.updateGradient(this.realFill),this.realStroke instanceof ac&&this.updateGradient(this.realStroke)},t.prototype.updateGradient=function(e){e.element.attr({gradientUnits:"userSpaceOnUse"}),e.element.attr({r:this.radius}),e.cx=0,e.cy=0,e.element.attr({radius:this.radius})},Object.defineProperty(t.prototype,"bbox",{get:function(){return this.definedBBox?this.definedBBox:this.isMeasured?hm([Qa(this.startAngle,this.startAngle+this.arc,this.pixelInnerRadius),Qa(this.startAngle,this.startAngle+this.arc,this.radius)]):{x:0,y:0,width:0,height:0}},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"startAngle",{get:function(){return this.getPropertyValue("startAngle")},set:function(e){this.setPropertyValue("startAngle",jd(e),!0)},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"arc",{get:function(){return this.getPropertyValue("arc")},set:function(e){M(e)||(e=0),this.setPropertyValue("arc",e,!0)},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"radius",{get:function(){var e=this.getPropertyValue("radius");return M(e)||(e=0),e},set:function(e){this.setPropertyValue("radius",e,!0)},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"radiusY",{get:function(){var e=this.getPropertyValue("radiusY");return M(e)||(e=this.radius),e},set:function(e){this.setPropertyValue("radiusY",e,!0)},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"innerRadius",{get:function(){return this.getPropertyValue("innerRadius")},set:function(e){this.setPercentProperty("innerRadius",e,!0,!1,10,!1)},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"pixelInnerRadius",{get:function(){return fi(this.innerRadius,this.radius)},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"cornerRadius",{get:function(){return this.getPropertyValue("cornerRadius")},set:function(e){this.setPropertyValue("cornerRadius",e,!0)},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"innerCornerRadius",{get:function(){return this.getPropertyValue("innerCornerRadius")},set:function(e){this.setPropertyValue("innerCornerRadius",e,!0)},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"shiftRadius",{get:function(){return this.getPropertyValue("shiftRadius")},set:function(e){this.setPropertyValue("shiftRadius",e),e=this.getPropertyValue("shiftRadius"),this.dx=e*this.radius*this.ix,this.dy=e*this.radiusY*this.iy},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"ix",{get:function(){return ve(this.middleAngle)},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"iy",{get:function(){return ge(this.middleAngle)},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"middleAngle",{get:function(){return this.startAngle+this.arc/2},enumerable:!0,configurable:!0}),t.prototype.getTooltipX=function(){var e=this.getPropertyValue("tooltipX");if(M(e))return e;var i=.5;e instanceof ft&&(i=e.value);var s=fi(this.innerRadius,this.radius);return this.ix*(s+(this.radius-s)*i)},t.prototype.getTooltipY=function(){var e=this.getPropertyValue("tooltipY");if(M(e))return e;var i=.5;e instanceof ft&&(i=e.value);var s=fi(this.innerRadius,this.radius);return this.iy*(s+(this.radius-s)*i)+this.slice.dy},t}(Ve);G.registeredClasses.Slice=Zd;var tV=function(n){function t(){var e=n.call(this)||this;e.className="Preloader",e.width=ue(100),e.height=ue(100);var i=new Rt,s=e.createChild(Ve);s.shouldClone=!1;var l=s.createChild(Zd);l.shouldClone=!1,l.radius=53,l.arc=360,l.fill=i.getFor("fill"),l.fillOpacity=.8,l.innerRadius=42,l.isMeasured=!1,e.backgroundSlice=l;var p=s.createChild(Zd);p.shouldClone=!1,p.radius=50,p.innerRadius=45,p.fill=i.getFor("alternativeBackground"),p.fillOpacity=.2,p.isMeasured=!1,e.progressSlice=p;var h=s.createChild(Yr);return h.shouldClone=!1,h.horizontalCenter="middle",h.verticalCenter="middle",h.isMeasured=!1,h.fill=i.getFor("text"),h.align="center",h.valign="middle",h.textAlign="middle",h.fillOpacity=.4,e.label=h,e.background.opacity=1,e.background.fill=i.getFor("background"),e.contentAlign="center",e.contentValign="middle",e.delay=300,e.states.create("hidden").properties.opacity=0,e.visible=!1,e.hide(0),e.__disabled=!0,e._disposers.push(e.backgroundSlice),e._disposers.push(e.progressSlice),e._disposers.push(e.label),e._disposers.push(s),e}return $(t,n),Object.defineProperty(t.prototype,"progress",{get:function(){return this.getPropertyValue("progress")},set:function(e){var i=this;this.__disabled=!1,this.validateLayout(),this.setPropertyValue("progress",e),this.progressSlice.arc=360*e,this.label&&(this.label.text=Math.round(100*e)+"%"),e>=1?(this._started&&(this._started=void 0),G.events.once("enterframe",function(){var s=i.hide();s&&!s.isFinished()?s.events.once("animationended",function(){i.__disabled=!0}):i.__disabled=!0}),this.interactionsEnabled=!1,this.setPropertyValue("progress",0)):e>0&&(this.delay?this._started?this._started+this.delay<=(new Date).getTime()&&(this.__disabled=!1,this.show(),this.interactionsEnabled=!0):this._started=(new Date).getTime():(this.__disabled=!1,this.show(),this.interactionsEnabled=!0))},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"delay",{get:function(){return this.getPropertyValue("delay")},set:function(e){this.setPropertyValue("delay",e)},enumerable:!0,configurable:!0}),t}(Ve);G.registeredClasses.Preloader=tV;var zR=function(n){function t(){var e=n.call(this)||this;e.className="ResizeButton",e.orientation="horizontal",e.layout="absolute",e.horizontalCenter="middle",e.verticalCenter="middle",e.draggable=!0,e.padding(8,8,8,8),e.background.cornerRadius(20,20,20,20);var i=new Je;i.element=e.paper.add("path");var s=Ce({x:-2,y:-6});return s+=ne({x:-2,y:6}),s+=Ce({x:2,y:-6}),s+=ne({x:2,y:6}),i.path=s,i.pixelPerfect=!0,i.padding(0,4,0,4),i.stroke=(new Rt).getFor("alternativeText"),i.strokeOpacity=.7,e.icon=i,e.label.dispose(),e.label=void 0,e.applyTheme(),e}return $(t,n),Object.defineProperty(t.prototype,"orientation",{set:function(e){var i=this.icon;i&&(i.rotation="horizontal"==e?0:-90)},enumerable:!0,configurable:!0}),t}(uc);G.registeredClasses.ResizeButton=zR;var FY=function(n){function t(){var e=n.call(this)||this;e.className="CloseButton",e.padding(8,8,8,8),e.showSystemTooltip=!0,e.width=30,e.height=30;var i=new Rt;e.cursorOverStyle=jn.pointer;var s=e.background;s.cornerRadius(20,20,20,20);var l=i.getFor("background");s.fill=l,s.stroke=i.getFor("primaryButton"),s.strokeOpacity=1,s.strokeWidth=1;var p=i.getFor("primaryButtonActive"),h=s.states.getKey("hover");h.properties.strokeWidth=3,h.properties.fill=l;var g=s.states.getKey("down");g.properties.stroke=p,g.properties.fill=l;var v=new Je;return v.element=e.paper.add("path"),v.stroke=s.stroke,e.icon=v,e.applyTheme(),e}return $(t,n),t.prototype.validate=function(){n.prototype.validate.call(this);var e=this.pixelWidth/3,i=this.pixelHeight/3,s=Ce({x:-e/2,y:-i/2});s+=ne({x:e/2,y:i/2}),s+=Ce({x:e/2,y:-i/2}),s+=ne({x:-e/2,y:i/2}),this.icon.path=s,this.invalidateLayout()},t.prototype.applyInternalDefaults=function(){n.prototype.applyInternalDefaults.call(this),L(this.readerTitle)||(this.readerTitle=this.language.translate("Close"))},t}(uc);G.registeredClasses.CloseButton=FY;var NY=function(n){function t(){var e=n.call(this)||this;e.className="SwitchButton",e.tooltipY=0,e.layout="horizontal",e.contentAlign="center",e.contentValign="middle",e.padding(8,16,8,16),e.setStateOnChildren=!0,e.states.create("active");var i=new Rt,s=new Yr;s.fillOpacity=.3,s.states.create("active").properties.fillOpacity=1,s.isActive=!0,e.leftLabel=s;var p=new uc,h=new Xd;p.contentValign="none",p.padding(0,0,0,0),h.radius=10,p.icon=h,p.icon.valign="middle",p.label=void 0;var g=ue(100);p.background.cornerRadius(g,g,g,g),p.width=3.5*h.radius,p.height=2.1*h.radius,p.marginLeft=8,p.marginRight=8,p.togglable=!0,h.dx=.7*-h.radius,h.fill=i.getFor("primaryButton"),h.states.create("hover").properties.fill=i.getFor("primaryButtonHover");var m=h.states.create("active");m.properties.fill=i.getFor("primaryButtonActive"),m.properties.dx=.7*h.radius,e.switchButton=p,e.events.on("toggled",function(){e.leftLabel.isActive=!e.isActive,e.rightLabel.isActive=e.isActive});var _=new Yr;return _.fillOpacity=.3,_.states.create("active").properties.fillOpacity=1,e.rightLabel=_,e.role="button",e.focusable=!0,_.valign="middle",s.valign="middle",p.valign="middle",e.applyTheme(),e}return $(t,n),Object.defineProperty(t.prototype,"leftLabel",{get:function(){return this._leftLabel},set:function(e){this._leftLabel&&this.removeDispose(this._leftLabel),this._leftLabel=e,e&&(e.parent=this,e.interactionsEnabled=!1,e.shouldClone=!1,this._disposers.push(this._leftLabel))},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"rightLabel",{get:function(){return this._rightLabel},set:function(e){this._rightLabel&&this.removeDispose(this._rightLabel),this._rightLabel=e,e&&(e.parent=this,e.interactionsEnabled=!1,e.shouldClone=!1,this._disposers.push(this._rightLabel))},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"switch",{get:function(){return this._switchButton},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"switchButton",{get:function(){return this._switchButton},set:function(e){this._switchButton&&this.removeDispose(this._switchButton),this._switchButton=e,e&&(e.parent=this,e.shouldClone=!1,this._disposers.push(this._switchButton))},enumerable:!0,configurable:!0}),t.prototype.copyFrom=function(e){n.prototype.copyFrom.call(this,e),e.leftLabel&&this.leftLabel.copyFrom(e.leftLabel),e.rightLabel&&this.rightLabel.copyFrom(e.rightLabel),e.switchButton&&this.switchButton.copyFrom(e.switchButton)},t}(Ve);G.registeredClasses.SwitchButton=NY;var X0=function(n){function t(){var e=n.call(this)||this;e._previousStart=0,e._previousEnd=1,e._prevStart=0,e._prevEnd=1,e._isBusy=!1,e._skipRangeEvents=!1,e.updateWhileMoving=!0,e.className="Scrollbar",e.minHeight=12,e.minWidth=12,e.animationDuration=0,e.animationEasing=$d,e.margin(10,10,10,10);var i=new Rt,s=e.background;return s.cornerRadius(10,10,10,10),s.fill=i.getFor("fill"),s.fillOpacity=.5,e.showSystemTooltip=!0,e.startGrip=new zR,e.endGrip=new zR,e.events.on("transformed",function(){e.updateThumb()},e,!1),e.start=0,e.end=1,e.role="scrollbar",e.thumb.role="slider",e.thumb.readerLive="polite",e.startGrip.role="slider",e.endGrip.role="slider",e.events.once("inited",function(){e._previousStart=void 0,e.dispatchRangeChange()},void 0,!1),e.hideGrips=!1,e.orientation="horizontal",e.setSVGAttribute({"aria-valuemin":"0"}),e.setSVGAttribute({"aria-valuemax":"100"}),e.applyTheme(),e}return $(t,n),t.prototype.applyInternalDefaults=function(){n.prototype.applyInternalDefaults.call(this),"horizontal"===this.orientation?(L(this.readerTitle)||(this.readerTitle=this.language.translate("Use TAB to select grip buttons or left and right arrows to change selection")),L(this.thumb.readerDescription)||(this.thumb.readerDescription=this.language.translate("Use left and right arrows to move selection")),L(this.startGrip.readerDescription)||(this.startGrip.readerDescription=this.language.translate("Use left and right arrows to move left selection")),L(this.endGrip.readerDescription)||(this.endGrip.readerDescription=this.language.translate("Use left and right arrows to move right selection")),this.readerOrientation="horizontal"):(L(this.readerTitle)||(this.readerTitle=this.language.translate("Use TAB select grip buttons or up and down arrows to change selection")),L(this.thumb.readerDescription)||(this.thumb.readerDescription=this.language.translate("Use up and down arrows to move selection")),L(this.startGrip.readerDescription)||(this.startGrip.readerDescription=this.language.translate("Use up and down arrows to move upper selection")),L(this.endGrip.readerDescription)||(this.endGrip.readerDescription=this.language.translate("Use up and down arrows to move lower selection")),this.readerOrientation="vertical"),this.readerControls=this.baseSprite.uidAttr()},t.prototype.validateLayout=function(){this.updateSize(),n.prototype.validateLayout.call(this),this.updateExtremes()},t.prototype.processBackground=function(){n.prototype.processBackground.call(this);var e=this.background;e.clickable=!0,e.events.on("hit",this.handleBgHit,this,void 0)},t.prototype.handleBgHit=function(e){this.makeBusy();var i=e.spritePoint;i=ho(i,this.background,this);var s=this.thumb;if("horizontal"==this.orientation){var l=i.x-s.pixelWidth/2;l=xe(l,0,this.innerWidth-s.pixelWidth),this._thumbAnimation=s.animate({property:"x",to:l},this.animationDuration,this.animationEasing)}else{var p=i.y-s.pixelHeight/2;p=xe(p,0,this.innerHeight-s.pixelHeight),this._thumbAnimation=s.animate({property:"y",to:p},this.animationDuration,this.animationEasing)}this.animationDuration>0?this._thumbAnimation.events.on("animationended",this.makeUnbusy,this,!1):(this._thumb.validate(),this.makeUnbusy())},t.prototype.makeBusy=function(){this._isBusy=!0,this._skipRangeEvents=!1,this._unbusyTimeout&&this.removeDispose(this._unbusyTimeout),this._unbusyTimeout=void 0,this.stopAnimations()},t.prototype.stopAnimations=function(){this._thumbAnimation&&this._thumbAnimation.stop(!0),this._zoomAnimation&&this._zoomAnimation.stop(!0)},t.prototype.makeUnbusy=function(){this._unbusyTimeout=this.setTimeout(this.makeUnbusyReal.bind(this),1.1*this.animationDuration)},t.prototype.makeUnbusyReal=function(){this._usingGrip=void 0,this._isBusy=!1,this.updateWhileMoving||this.dispatchRangeChange()},t.prototype.dispatchRangeChange=function(){(this._previousEnd!=this.end||this._previousStart!=this.start)&&(this._previousStart=this.start,this._previousEnd=this.end,this.dispatch("rangechanged"))},t.prototype.updateThumb=function(e){if(void 0===e&&(e=!0),this.parent){var i=this.thumb,s=this.start,l=this.end,p=this.startGrip,h=this.endGrip;if("horizontal"==this.orientation){var g=this.innerWidth;i.width=g*(l-s),i.maxX=g-i.pixelWidth,i.x=s*g,p.moveTo({x:i.pixelX,y:0},void 0,void 0,!0),h.moveTo({x:i.pixelX+i.pixelWidth,y:0},void 0,void 0,!0),p.readerTitle=this.language.translate("From %1",void 0,this.adapter.apply("positionValue",{value:Math.round(100*s)+"%",position:s}).value),p.readerValueNow=""+Math.round(100*s),p.readerValueText=p.readerTitle,h.readerTitle=this.language.translate("To %1",void 0,this.adapter.apply("positionValue",{value:Math.round(100*l)+"%",position:l}).value),h.readerValueNow=""+Math.round(100*l),h.readerValueText=h.readerTitle}else{var v=this.innerHeight;i.height=v*(l-s),i.maxY=v-i.pixelHeight,i.y=(1-l)*v,p.moveTo({x:0,y:i.pixelY+i.pixelHeight},void 0,void 0,!0),h.moveTo({x:0,y:i.pixelY},void 0,void 0,!0),p.readerTitle=this.language.translate("To %1",void 0,this.adapter.apply("positionValue",{value:Math.round(100*(1-s))+"%",position:1-s}).value),p.readerValueNow=""+Math.round(100*s),p.readerValueText=p.readerTitle,h.readerTitle=this.language.translate("From %1",void 0,this.adapter.apply("positionValue",{value:Math.round(100*(1-l))+"%",position:1-l}).value),h.readerValueNow=""+Math.round(100*l),h.readerValueText=h.readerTitle}i.readerTitle=this.language.translate("From %1 to %2",void 0,this.adapter.apply("positionValue",{value:Math.round(100*s)+"%",position:s}).value,this.adapter.apply("positionValue",{value:Math.round(100*l)+"%",position:l}).value),i.readerValueNow=""+Math.round(100*s),i.readerValueText=i.readerTitle,this.readerValueNow=""+Math.round(100*s),this.readerValueText=i.readerTitle,!this._skipRangeEvents&&this.updateWhileMoving&&e&&this.dispatchRangeChange()}},t.prototype.updateExtremes=function(){var i=0,s=0,l=0,p=0;"horizontal"==this.orientation?(l=this.innerWidth,s=p=this.innerHeight/2):(p=this.innerHeight,i=l=this.innerWidth/2);var h=this.startGrip;h.minX=i,h.maxX=l,h.minY=s,h.maxY=p;var g=this.endGrip;g.minX=i,g.maxX=l,g.minY=s,g.maxY=p;var v=this.thumb;v.minX=i,v.maxX=l,v.minY=s,v.maxY=p},t.prototype.updateSize=function(){var e=this.orientation,i=this.startGrip;i&&(i.orientation=e),this.endGrip&&(this.endGrip.orientation=e);var s=this.thumb;s&&("horizontal"==e?(M(this._pixelWidth)||this.width instanceof ft||(this.width=ue(100)),L(this.percentHeight)&&(this.height=this.minHeight),s.height=this.innerHeight,s.verticalCenter="middle",s.horizontalCenter="left"):(M(this._pixelHeight)||this.height instanceof ft||(this.height=ue(100)),L(this.percentWidth)&&(this.width=this.minWidth),s.width=this.innerWidth,s.verticalCenter="top",s.horizontalCenter="middle"))},Object.defineProperty(t.prototype,"isBusy",{get:function(){return this._isBusy},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"start",{get:function(){return Math.min(this.getPosition(this._start),this.getPosition(this._end))},set:function(e){this._isBusy||(this.__start=e)},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"__start",{get:function(){return this._start},set:function(e){this._start=this.getPosition(e),this.updateThumb()},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"end",{get:function(){return Math.max(this.getPosition(this._start),this.getPosition(this._end))},set:function(e){this._isBusy||(this.__end=e)},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"__end",{get:function(){return this._end},set:function(e){this._end=this.getPosition(e),this.updateThumb()},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"range",{get:function(){return{start:this.start,end:this.end,priority:this._usingGrip}},enumerable:!0,configurable:!0}),t.prototype.skipRangeEvents=function(){this._isBusy||(this._skipRangeEvents=!0)},t.prototype.fixRange=function(e){(e.start!=ae(this._start,2)||e.end!=ae(this._end,2))&&(this._start=e.start,this._end=e.end,this._skipRangeEvents=!0,this.updateThumb(),this._skipRangeEvents=!1,this.thumb.validate(),this.thumb.background.validate())},t.prototype.getPosition=function(e){return xe(ae(e,4),0,1)},Object.defineProperty(t.prototype,"orientation",{get:function(){return this.getPropertyValue("orientation")},set:function(e){this.setPropertyValue("orientation",e)&&("horizontal"===e?(this.startGrip.cursorOverStyle=jn.horizontalResize,this.endGrip.cursorOverStyle=jn.horizontalResize):(this.startGrip.cursorOverStyle=jn.verticalResize,this.endGrip.cursorOverStyle=jn.verticalResize),this.updateByOrientation(),this.invalidate())},enumerable:!0,configurable:!0}),t.prototype.updateByOrientation=function(){},Object.defineProperty(t.prototype,"startGrip",{get:function(){return this._startGrip},set:function(e){this._startGrip&&this.removeDispose(this._startGrip),this._startGrip=e,this.processGrip(e)},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"endGrip",{get:function(){return this._endGrip},set:function(e){this._endGrip&&this.removeDispose(this._endGrip),this._endGrip=e,this.processGrip(e)},enumerable:!0,configurable:!0}),t.prototype.processGrip=function(e){e.parent=this,e.isMeasured=!1,e.focusable=!0,e.shouldClone=!1,e.zIndex=100,e.events.on("drag",this.handleGripDrag,this,!1),e.events.on("dragstop",this.makeUnbusy,this,!1),e.events.on("down",this.makeBusy,this,!1),e.events.on("up",this.makeUnbusy,this,!1),this._disposers.push(e)},t.prototype.handleGripDrag=function(e){this.makeBusy(),this._usingGrip=e.target===this._startGrip?"start":"end","horizontal"==this.orientation?(this._start=this.startGrip.pixelX/this.innerWidth,this._end=this.endGrip.pixelX/this.innerWidth):(this._start=1-this.startGrip.pixelY/this.innerHeight,this._end=1-this.endGrip.pixelY/this.innerHeight),this.updateThumb()},Object.defineProperty(t.prototype,"thumb",{get:function(){if(!this._thumb){var e=new uc;e.background.cornerRadius(10,10,10,10),e.padding(0,0,0,0),this.thumb=e}return this._thumb},set:function(e){var i=this;e&&(this._thumb&&this.removeDispose(this._thumb),this._thumb=e,e.parent=this,e.isMeasured=!1,e.inert=!0,e.draggable=!0,e.clickable=!0,e.hoverable=!0,e.focusable=!0,e.shouldClone=!1,e.zIndex=0,e.cursorOverStyle=jn.grab,e.cursorDownStyle=jn.grabbing,e.events.on("dragstart",this.makeBusy,this,!1),e.events.on("dragstop",this.makeUnbusy,this,!1),e.events.on("positionchanged",this.handleThumbPosition,this,!1),e.events.on("sizechanged",this.handleThumbPosition,this,!1),e.events.on("doublehit",this.handleDoubleClick,this,!1),this._disposers.push($e().body.events.on("keyup",function(s){il.isKey(s.event,["space","enter"])&&i.thumb.isFocused&&(s.event.preventDefault(),i.handleDoubleClick())})),this._disposers.push(this._thumb))},enumerable:!0,configurable:!0}),t.prototype.handleDoubleClick=function(){this.makeBusy();var e=0,i=1;0!=this.start||1!=this.end?(this._prevStart=this.start,this._prevEnd=this.end):(e=this._prevStart,i=this._prevEnd);var s=this.animate([{property:"__start",to:e},{property:"__end",to:i}],this.animationDuration,this.animationEasing);s&&!s.isFinished()?(s.events.on("animationended",this.makeUnbusy,this,!1),this._zoomAnimation=s):this.makeUnbusy()},t.prototype.handleThumbPosition=function(){var e=this.thumb;if("horizontal"==this.orientation){var i=this.innerWidth,s=e.innerWidth,l=e.pixelX;this._start=l/i,this._end=(l+s)/i,this.updateThumb()}else{var p=this.innerHeight,g=e.pixelY;this._start=1-(g+e.innerHeight)/p,this._end=1-g/p,this.updateThumb()}},t.prototype.createBackground=function(){return new rl},Object.defineProperty(t.prototype,"hideGrips",{get:function(){return this._hideGrips},set:function(e){var i=this;this._hideGrips=e,this._overDisposer&&this.removeDispose(this._overDisposer),this._outDisposer&&this.removeDispose(this._outDisposer),e?(this._overDisposer=this.events.on("over",function(){i.startGrip.show(),i.endGrip.show()},void 0,!1),this._outDisposer=this.events.on("out",function(){i.startGrip.hide(),i.endGrip.hide()},void 0,!1),this.startGrip.hide(),this.endGrip.hide()):(this.startGrip.show(),this.endGrip.show())},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"animationDuration",{get:function(){return this.getPropertyValue("animationDuration")},set:function(e){this.setPropertyValue("animationDuration",e)},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"animationEasing",{get:function(){return this.getPropertyValue("animationEasing")},set:function(e){this.setPropertyValue("animationEasing",e)},enumerable:!0,configurable:!0}),t.prototype.asFunction=function(e){return"animationEasing"==e||n.prototype.asIs.call(this,e)},t}(Ve);G.registeredClasses.Scrollbar=X0;var LY=function(n){function t(){var e=n.call(this)||this;return e.className="Slider",e.thumb.opacity=0,e.thumb.interactionsEnabled=!1,e.endGrip.opacity=0,e.endGrip.interactionsEnabled=!1,e.startGrip.events.on("drag",function(){e.endGrip.x=e.startGrip.x,e.endGrip.y=e.startGrip.y}),e.applyTheme(),e}return $(t,n),Object.defineProperty(t.prototype,"__end",{get:function(){return this._start},set:function(e){},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"end",{get:function(){return this._start},set:function(e){},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"start",{get:function(){return this._start},set:function(e){this._isBusy||(this.__start=e)},enumerable:!0,configurable:!0}),t}(X0);G.registeredClasses.Slider=LY;var $R=function(n){function t(){var e=n.call(this)||this;e.className="TextLink",e.selectable=!0;var i=new Rt;return e.fill=i.getFor("primaryButton").brighten(.3),e.states.create("hover").properties.fill=i.getFor("primaryButtonHover").brighten(.3),e.states.create("down").properties.fill=i.getFor("primaryButtonDown").brighten(.3),e.cursorOverStyle=jn.pointer,e.applyTheme(),e}return $(t,n),t}(Yr);G.registeredClasses.TextLink=$R;var Gf=function(n){function t(){var e=n.call(this)||this;return e.properties={},e.isTemplate=!1,e._scale=1,e._nonScaling=!0,e.className="Filter",e.filterPrimitives=new Dt,e.properties.filterUnits="objectBoundingBox",e.filterPrimitives.events.on("inserted",function(i){e._disposers.push(i.newValue)}),e.width=120,e.height=120,e.applyTheme(),e}return $(t,n),t.prototype.appendPrimitives=function(e){oe(this.filterPrimitives.iterator(),function(i){e.add(i)})},t.prototype.animate=function(e,i,s){return new ua(this,e,i,s).start()},Object.defineProperty(t.prototype,"width",{get:function(){return this.properties.width},set:function(e){this.properties.width=e},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"height",{get:function(){return this.properties.height},set:function(e){this.properties.height=e},enumerable:!0,configurable:!0}),t.prototype.copyFrom=function(e){var i=this;n.prototype.copyFrom.call(this,e),We(e.properties,function(s,l){i[s]=l})},Object.defineProperty(t.prototype,"paper",{get:function(){return this._paper?this._paper:Pm()},set:function(e){this._paper!=e&&(this._paper=e)},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"animations",{get:function(){return this._animations||(this._animations=[],this._disposers.push(new Mf(this._animations))),this._animations},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"scale",{get:function(){return this._scale},set:function(e){this._scale=e,this.updateScale()},enumerable:!0,configurable:!0}),t.prototype.updateScale=function(){},Object.defineProperty(t.prototype,"filterUnits",{get:function(){return this.properties.filterUnits},set:function(e){this.properties.filterUnits=e},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"nonScaling",{get:function(){return this._nonScaling},set:function(e){this._nonScaling=e,e||(this._scale=1),this.updateScale()},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"sprite",{set:function(e){this.setSprite(e)},enumerable:!0,configurable:!0}),t.prototype.setSprite=function(e){this._sprite&&this._sprite!=e&&this._sprite.filters.removeValue(this),this._sprite=e},t}(Ar),iV=function(n){function t(){var e=n.call(this)||this;return e.className="DropShadowFilter",e.color=Le("#000"),e.feGaussianBlur=e.paper.add("feGaussianBlur"),e.feGaussianBlur.attr({result:"blurOut",in:"SourceGraphic"}),e.filterPrimitives.push(e.feGaussianBlur),e.feOffset=e.paper.add("feOffset"),e.feOffset.attr({result:"offsetBlur"}),e.filterPrimitives.push(e.feOffset),e.feFlood=e.paper.add("feFlood"),e.feFlood.attr({"flood-color":e.color}),e.filterPrimitives.push(e.feFlood),e.feComposite=e.paper.add("feComposite"),e.feComposite.attr({in2:"offsetBlur",operator:"in"}),e.filterPrimitives.push(e.feComposite),e.feMerge=e.paper.addGroup("feMerge"),e.feMerge.add(e.paper.add("feMergeNode")),e.feMerge.add(e.paper.add("feMergeNode").attr({in:"SourceGraphic"})),e.filterPrimitives.push(e.feMerge),e.width=200,e.height=200,e.blur=1.5,e.dx=3,e.dy=3,e.opacity=.5,e.applyTheme(),e}return $(t,n),Object.defineProperty(t.prototype,"color",{get:function(){return this.properties.color},set:function(e){this.properties.color=e,this.feFlood&&this.feFlood.attr({"flood-color":e})},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"opacity",{get:function(){return this.properties.opacity},set:function(e){this.properties.opacity=e,this.feFlood.attr({"flood-opacity":e})},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"dx",{get:function(){return this.properties.dx},set:function(e){this.properties.dx=e,this.feOffset.attr({dx:e/this.scale})},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"dy",{get:function(){return this.properties.dy},set:function(e){this.properties.dy=e,this.feOffset.attr({dy:e/this.scale})},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"blur",{get:function(){return this.properties.blur},set:function(e){this.properties.blur=e,this.feGaussianBlur.attr({stdDeviation:e/this.scale})},enumerable:!0,configurable:!0}),t.prototype.updateScale=function(){this.dx=this.dx,this.dy=this.dy,this.blur=this.blur},t}(Gf);G.registeredClasses.DropShadowFilter=iV;var Hf=function(n){function t(){var e=n.call(this)||this;e._boundingRect={x:-4e4,y:-4e4,width:8e4,height:8e4},e._pointTo={x:0,y:0},e.fitPointerToBounds=!1,e._verticalOrientation="up",e.fixDoc=!0,e.className="Tooltip",e.isMeasured=!1,e.getFillFromObject=!0,e.margin(5,5,5,5),e.defaultState.transitionDuration=1,e.hiddenState.transitionDuration=1;var i=e.background;i.interactionsEnabled=!1,i.fillOpacity=.9,i.strokeWidth=1,i.strokeOpacity=1,i.stroke=Le("#ffffff"),i.cornerRadius=3,i.pointerLength=6,i.pointerBaseWidth=10;var s=new iV;s.dy=1,s.dx=1,s.opacity=.5,i.filters.push(s),e.autoTextColor=!0;var l=e.createChild(Yr);return l.shouldClone=!1,e.label=l,l.padding(7,12,4,12),l.interactionsEnabled=!1,l.horizontalCenter="middle",l.fill=Le("#ffffff"),e._disposers.push(l),e.label.events.on("sizechanged",e.drawBackground,e),e.label.zIndex=1,e.pointerOrientation="vertical",e.animationDuration=0,e.animationEasing=$d,e.setPropertyValue("showInViewport",!1),e.role="tooltip",e.visible=!1,e.opacity=0,e.x=0,e.y=0,e.events.on("visibilitychanged",e.handleVisibility,e),e.applyTheme(),e}return $(t,n),t.prototype.handleVisibility=function(){this.visible&&this.label.invalidate()},Object.defineProperty(t.prototype,"getStrokeFromObject",{get:function(){return this.getPropertyValue("getStrokeFromObject")},set:function(e){this.setPropertyValue("getStrokeFromObject",e,!0)},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"autoTextColor",{get:function(){return this.getPropertyValue("autoTextColor")},set:function(e){this.setPropertyValue("autoTextColor",e,!0)},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"keepTargetHover",{get:function(){return this.getPropertyValue("keepTargetHover")},set:function(e){var i=this;this.setPropertyValue("keepTargetHover",e,!0)&&e&&(this.hoverable=!0,this.background.interactionsEnabled=!0,this._disposers.push(this.events.on("over",function(s){i.targetSprite&&i.targetSprite.hoverable&&(i.targetSprite.isHover=!0)})),this._disposers.push(this.events.on("out",function(s){i.targetSprite&&i.targetSprite.hoverable&&(i.targetSprite.isHover=!1)})))},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"showInViewport",{get:function(){return this.getPropertyValue("showInViewport")},set:function(e){this.setPropertyValue("showInViewport",e)},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"getFillFromObject",{get:function(){return this.getPropertyValue("getFillFromObject")},set:function(e){this.setPropertyValue("getFillFromObject",e,!0)},enumerable:!0,configurable:!0}),t.prototype.createBackground=function(){return new TY},Object.defineProperty(t.prototype,"pointerOrientation",{get:function(){return this.getPropertyValue("pointerOrientation")},set:function(e){this.setPropertyValue("pointerOrientation",e,!0)},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"animationDuration",{get:function(){return this.getPropertyValue("animationDuration")},set:function(e){this.setPropertyValue("animationDuration",e)},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"animationEasing",{get:function(){return this.getPropertyValue("animationEasing")},set:function(e){this.setPropertyValue("animationEasing",e)},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"html",{get:function(){return this.label.html},set:function(e){this.label.html!=e&&(this.label.html=e,this.invalidate())},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"text",{get:function(){return this.label.text},set:function(e){this.label.text!=e&&(this.label.text=e,this.invalidate())},enumerable:!0,configurable:!0}),t.prototype.draw=function(){n.prototype.draw.call(this);var e=this.label;e.invalid&&e.validate();var v,m,i=this._pointTo.x,s=this._pointTo.y,l=this._boundingRect,p=e.measuredWidth,h=e.measuredHeight,g=this.background.pointerLength;if(this.ignoreBounds&&(l=void 0),l&&this.fixDoc&&p>l.width){wR({x:l.x,y:l.y},this.parent);var _=wR({x:l.x+l.width,y:l.y+l.height},this.parent),b=document.body.offsetWidth;document,_.x>b/2?l.x=l.width-p:l.width=l.x+p}var C=this.pointerOrientation;"horizontal"==C||"left"==C||"right"==C?(m=-h/2,v="horizontal"==C?l&&i>l.x+l.width/2?-p/2-g:p/2+g:"left"==C?p/2+g:-p/2-g):(l&&(v=xe(0,l.x-i+p/2,l.x-i+l.width-p/2)),"vertical"==C?l&&s>l.y+h+g?(m=-h-g,this._verticalOrientation="up"):(m=g,this._verticalOrientation="down"):"down"==C?(m=-h-g,this._verticalOrientation="up"):(m=g,this._verticalOrientation="down")),l&&(m=xe(m,l.y-s,l.y+l.height-h-s)),e.x=v,e.y=m,this.drawBackground()},t.prototype.updateBackground=function(){this.group.addToBack(this.background.group)},t.prototype.drawBackground=function(){var e=this.label,i=this.background,s=e.measuredWidth,p=this._boundingRect,h=s,v=e.measuredHeight,m=e.pixelY,C=p.x-this._pointTo.x,S=C+p.width,E=p.y-this._pointTo.y,x=E+p.height;i.x=e.pixelX-s/2,i.y=m,i.width=h,i.height=v,this.fitPointerToBounds?(i.pointerX=xe(-i.x,C-i.x,S-i.x),i.pointerY=xe(-i.y,E-i.y,x-i.y)):(i.pointerX=-i.x,i.pointerY=-i.y),i.validate()},t.prototype.delayedPointTo=function(e,i){var s=this;this._pointToDisposer&&this._pointToDisposer.dispose(),this._pointToDisposer=G.events.once("exitframe",function(){s.pointTo(e,i)}),this.addDisposer(this._pointToDisposer)},t.prototype.pointTo=function(e,i){(this._pointTo.x!=e.x||this._pointTo.y!=e.y)&&(this._pointTo=e,this.invalidate(),!this.visible||i?(this.moveTo(this._pointTo),this._animation&&this._animation.kill()):0==this.pixelX&&0==this.pixelY?this.moveTo(this._pointTo):(this._animation&&this._animation.kill(),this._animation=new ua(this,[{property:"x",to:e.x,from:this.pixelX},{property:"y",to:e.y,from:this.pixelY}],this.animationDuration,this.animationEasing).start()))},t.prototype.setBounds=function(e){var i=this._boundingRect;(i.x!=e.x||i.y!=e.y||i.width!=e.width||i.height!=e.height)&&(this._boundingRect=e,this.invalidate())},Object.defineProperty(t.prototype,"boundingContainer",{set:function(e){this._boundingContainer=e,e.events.on("sizechanged",this.updateBounds,this),e.events.on("positionchanged",this.updateBounds,this)},enumerable:!0,configurable:!0}),t.prototype.updateBounds=function(){var e=this._boundingContainer,i=CR({x:e.pixelX,y:e.pixelY,width:e.maxWidth,height:e.maxHeight},e);this.setBounds(i)},Object.defineProperty(t.prototype,"ignoreBounds",{get:function(){return this.getPropertyValue("ignoreBounds")},set:function(e){this.setPropertyValue("ignoreBounds",e)},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"verticalOrientation",{get:function(){return this._verticalOrientation},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"tooltip",{get:function(){},enumerable:!0,configurable:!0}),t.prototype.copyFrom=function(e){n.prototype.copyFrom.call(this,e),this.label.copyFrom(e.label),e._boundingRect&&(this._boundingRect=e._boundingRect)},t.prototype.asFunction=function(e){return"animationEasing"==e||n.prototype.asIs.call(this,e)},t}(Ve);G.registeredClasses.Tooltip=Hf;var nV=function(n){function t(){var e=n.call(this)||this;return e.className="Trapezoid",e.element=e.paper.add("path"),e.topSide=ue(100),e.bottomSide=ue(100),e.leftSide=ue(100),e.rightSide=ue(100),e.isMeasured=!1,e.applyTheme(),e}return $(t,n),t.prototype.draw=function(){n.prototype.draw.call(this);var e=this.pixelWidth,i=this.pixelHeight,s=fi(this.topSide,e),l=fi(this.bottomSide,e),p=fi(this.leftSide,i),h=fi(this.rightSide,i),g=(e-s)/2,v=(i-p)/2,m=e-(e-s)/2,_=(i-h)/2,b=e-(e-l)/2,C=i-(i-h)/2,S=(e-l)/2,E=i-(i-p)/2,x="",R="",P="",k="";if(L(this.horizontalNeck)){var U=this.horizontalNeck.value;x=ne({x:e*U,y:Math.max(v,_)}),P=ne({x:e*U,y:Math.min(C,E)})}if(L(this.verticalNeck)){var W=this.verticalNeck.value;R=ne({x:Math.min(m,b),y:i*W}),k=ne({x:Math.max(g,S),y:i*W})}var Y=Ce({x:g,y:v})+x+ne({x:m,y:_})+R+ne({x:b,y:C})+P+ne({x:S,y:E})+k;this.path=Y},Object.defineProperty(t.prototype,"topSide",{get:function(){return this.getPropertyValue("topSide")},set:function(e){this.setPercentProperty("topSide",e,!0,!1,10,!1)},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"bottomSide",{get:function(){return this.getPropertyValue("bottomSide")},set:function(e){this.setPercentProperty("bottomSide",e,!0,!1,10,!1)},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"leftSide",{get:function(){return this.getPropertyValue("leftSide")},set:function(e){this.setPercentProperty("leftSide",e,!0,!1,10,!1)},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"rightSide",{get:function(){return this.getPropertyValue("rightSide")},set:function(e){this.setPercentProperty("rightSide",e,!0,!1,10,!1)},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"horizontalNeck",{get:function(){return this.getPropertyValue("horizontalNeck")},set:function(e){this.setPropertyValue("horizontalNeck",e,!0)},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"verticalNeck",{get:function(){return this.getPropertyValue("verticalNeck")},set:function(e){this.setPropertyValue("verticalNeck",e,!0)},enumerable:!0,configurable:!0}),t}(Je);G.registeredClasses.Trapezoid=nV;var YR=function(n){function t(){var e=n.call(this)||this;return e.className="Triangle",e.element=e.paper.add("path"),e.direction="top",e.applyTheme(),e}return $(t,n),t.prototype.draw=function(){n.prototype.draw.call(this);var s,e=this.pixelWidth,i=this.pixelHeight;switch(this.direction){case"right":s=Ce({x:0,y:0})+ne({x:e,y:i/2})+ne({x:0,y:i})+" Z";break;case"left":s=Ce({x:e,y:0})+ne({x:0,y:i/2})+ne({x:e,y:i})+" Z";break;case"bottom":s=Ce({x:0,y:0})+ne({x:e,y:0})+ne({x:e/2,y:i})+" Z";break;case"top":s=Ce({x:e/2,y:0})+ne({x:e,y:i})+ne({x:0,y:i})+" Z"}this.path=s},Object.defineProperty(t.prototype,"direction",{get:function(){return this.getPropertyValue("direction")},set:function(e){this.setPropertyValue("direction",e,!0)},enumerable:!0,configurable:!0}),t}(Je);G.registeredClasses.Triangle=YR;var dc=function(){function n(t,e){this._tensionX=t,this._tensionY=e}return n.prototype.smooth=function(t){for(var e=t.length-1;e>0;e--){var i=t[e],s=t[e-1];Math.abs(i.x-s.x)<.1&&Math.abs(i.y-s.y)<.1&&t.splice(e-1,1)}var l=this._tensionX,p=this._tensionY;if(t.length<3||l>=1&&p>=1)return Am(t);var h=t[0],g=t[t.length-1],v=!1;ae(h.x,3)==ae(g.x)&&ae(h.y)==ae(g.y)&&(v=!0);for(var m="",_=(e=0,t.length-1);e<_;e++){i=t[e-1];var b=t[e+1],C=t[e+2];0===e?i=v?t[t.length-2]:t[e]:e==t.length-2&&(C=v?t[1]:t[e+1]),m+=Vf(b,JN(i,s=t[e],b,0,l,p),eL(0,s,b,C,l,p))}return m},n}();function Mm(n,t,e,i,s,l){var p=n.x,h=n.y,g=t.x,v=t.y,m=At(n,t);l&&(e=m/Math.round(m/e));var _=G.getCache(bL(["wavedLine",n.x,t.x,n.y,t.y,e,i]));if(!_){if(m>0){var b=Math.atan2(v-h,g-p),C=Math.cos(b),S=Math.sin(b),E=e*C,x=e*S;if(e<=1||i<=1)_=ne(t);else{var R=Math.round(2*m/e),P=[],k=1;g<p&&(k*=-1),v<h&&(k*=-1);for(var U=0;U<=R;U++)P.push({x:p+U*E/2+(k*=-1)*i/2*S,y:h+U*x/2-k*i/2*C});_=new dc(s,s).smooth(P)}}else _="";G.setCache(bL(["wavedLine",n.x,t.x,n.y,t.y,e,i]),_)}return _}var rV=function(){function n(t,e){this._reversed=t,this._closed=e.closed}return n.prototype._curve=function(t,e,i,s,l,p){var h=(e-t)/3;return this._reversed?Vf({x:s,y:e},{x:i+h*l,y:t+h},{x:s-h*p,y:e-h}):Vf({x:e,y:s},{x:t+h,y:i+h*l},{x:e-h,y:s-h*p})},n.prototype.smooth=function(t){var e=this,i=NaN,s=NaN,l=NaN,p=NaN,h=NaN,g=0,v="";switch(be(t,function(m){var _=m.x,b=m.y;if(e._reversed){var C=_;_=b,b=C}var S=NaN;if(_!==s||b!==p){switch(g){case 0:g=1,v+=ne(e._reversed?{x:b,y:_}:{x:_,y:b});break;case 1:g=2;break;case 2:g=3,v+=e._curve(i,s,l,p,sV(i,s,l,p,S=aV(i,s,l,p,_,b)),S);break;default:v+=e._curve(i,s,l,p,h,S=aV(i,s,l,p,_,b))}i=s,s=_,l=p,p=b,h=S}}),g){case 2:v+=ne(this._reversed?{x:p,y:s}:{x:s,y:p});break;case 3:v+=this._curve(i,s,l,p,h,sV(i,s,l,p,h))}return this._closed&&(v+=" Z"),v},n}();function oV(n){return n<0?-1:1}function sV(n,t,e,i,s){var l=t-n;return l?(3*(i-e)/l-s)/2:s}function aV(n,t,e,i,s,l){var p=t-n,h=s-t,g=(i-e)/(p||h<0&&-0),v=(l-i)/(h||p<0&&-0),m=(g*h+v*p)/(p+h);return(oV(g)+oV(v))*Math.min(Math.abs(g),Math.abs(v),.5*Math.abs(m))||0}var lV=function(n){function t(e){return n.call(this,!1,e)||this}return $(t,n),t}(rV),uV=function(n){function t(e){return n.call(this,!0,e)||this}return $(t,n),t}(rV),q0=function(n){function t(){var e=n.call(this)||this;return e.className="WavedCircle",e.element=e.paper.add("path"),e.waveLength=16,e.waveHeight=4,e.fill=void 0,e.fillOpacity=0,e.tension=.8,e.applyTheme(),e}return $(t,n),t.prototype.draw=function(){var e="",i=this.pixelRadius;i>0&&(e=Ce((s=this.getPoints(i))[0])+new dc(this.tension,this.tension).smooth(s));var s,l=this.pixelInnerRadius;l>0&&((s=this.getPoints(l)).reverse(),e+=Ce(s[0])+new dc(this.tension,this.tension).smooth(s)),this.path=e},t.prototype.getPoints=function(e){for(var i=e*Math.PI*2,s=this.waveHeight/2,l=i/Math.round(i/this.waveLength),p=l/2,h=[],g=i/l,v=0;v<=g;v++){var m=v*l/i*360,_=(v*l+p)/i*360;h.push({x:(e-s)*ve(m),y:(e-s)*ge(m)}),h.push({x:(e+s)*ve(_),y:(e+s)*ge(_)})}return h.pop(),h},Object.defineProperty(t.prototype,"innerRadius",{get:function(){return this.getPropertyValue("innerRadius")},set:function(e){this.setPercentProperty("innerRadius",e,!0,!1,10,!1),this.invalidate()},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"pixelInnerRadius",{get:function(){return fi(this.innerRadius,vt(this.innerWidth/2,this.innerHeight/2))},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"waveLength",{get:function(){return this.getPropertyValue("waveLength")},set:function(e){this.setPropertyValue("waveLength",e),this.invalidate()},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"waveHeight",{get:function(){return this.getPropertyValue("waveHeight")},set:function(e){this.setPropertyValue("waveHeight",e),this.invalidate()},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"tension",{get:function(){return this.getPropertyValue("tension")},set:function(e){this.setPropertyValue("tension",e),this.invalidate()},enumerable:!0,configurable:!0}),t}(Xd);G.registeredClasses.WavedCircle=q0;var Qd=function(n){function t(){var e=n.call(this)||this;return e.className="WavedLine",e.element=e.paper.add("path"),e.waveLength=16,e.waveHeight=4,e.tension=.8,e.pixelPerfect=!1,e.fill=Le(),e.applyTheme(),e}return $(t,n),t.prototype.draw=function(){var e={x:this.x1,y:this.y1},i={x:this.x2,y:this.y2};this.path=Ce(e)+Mm(e,i,this.waveLength,this.waveHeight,this.tension,!0)},Object.defineProperty(t.prototype,"waveLength",{get:function(){return this.getPropertyValue("waveLength")},set:function(e){this.setPropertyValue("waveLength",e),this.invalidate()},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"waveHeight",{get:function(){return this.getPropertyValue("waveHeight")},set:function(e){this.setPropertyValue("waveHeight",e),this.invalidate()},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"tension",{get:function(){return this.getPropertyValue("tension")},set:function(e){this.setPropertyValue("tension",e),this.invalidate()},enumerable:!0,configurable:!0}),t}(ca),cV=function(n){function t(){var e=n.call(this)||this;return e.className="WavedRectangle",e.element=e.paper.add("path"),e.waveLength=16,e.waveHeight=4,e.tension=.8,e.setPropertyValue("wavedLeft",!0),e.setPropertyValue("wavedRight",!0),e.setPropertyValue("wavedTop",!0),e.setPropertyValue("wavedBottom",!0),e.applyTheme(),e}return $(t,n),t.prototype.draw=function(){n.prototype.draw.call(this);var e=this.pixelWidth,i=this.pixelHeight;if(e>0&&i>0){var s={x:0,y:0},l={x:e,y:0},p={x:e,y:i},h={x:0,y:i},g=Math.min(e,this.waveLength),v=Math.min(i,this.waveHeight),m=Math.min(i,this.waveLength),_=Math.min(e,this.waveHeight),b="",C="",S="",E="";this.wavedTop&&(b=Mm(s,l,g,v,this.tension,!0)),this.wavedRight&&(C=Mm(l,p,m,_,this.tension,!0)),this.wavedBottom&&(S=Mm(p,h,g,v,this.tension,!0)),this.wavedLeft&&(E=Mm(h,s,m,_,this.tension,!0)),this.path=Ce(s)+b+ne(l)+C+ne(p)+S+ne(h)+E+"z"}},Object.defineProperty(t.prototype,"waveLength",{get:function(){return this.getPropertyValue("waveLength")},set:function(e){this.setPropertyValue("waveLength",e),this.invalidate()},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"waveHeight",{get:function(){return this.getPropertyValue("waveHeight")},set:function(e){this.setPropertyValue("waveHeight",e),this.invalidate()},enumerable:!0,configurable:!0}),t.prototype.setWavedSides=function(e,i,s,l){this.wavedTop=e,this.wavedRight=i,this.wavedBottom=s,this.wavedLeft=l},Object.defineProperty(t.prototype,"tension",{get:function(){return this.getPropertyValue("tension")},set:function(e){this.setPropertyValue("tension",e),this.invalidate()},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"wavedRight",{get:function(){return this.getPropertyValue("wavedRight")},set:function(e){this.setPropertyValue("wavedRight",e,!0)},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"wavedLeft",{get:function(){return this.getPropertyValue("wavedLeft")},set:function(e){this.setPropertyValue("wavedLeft",e,!0)},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"wavedTop",{get:function(){return this.getPropertyValue("wavedTop")},set:function(e){this.setPropertyValue("wavedTop",e,!0)},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"wavedBottom",{get:function(){return this.getPropertyValue("wavedBottom")},set:function(e){this.setPropertyValue("wavedBottom",e,!0)},enumerable:!0,configurable:!0}),t}($0),dV=function(n){function t(){var e=n.call(this)||this;e.className="ZoomOutButton",e.padding(9,9,9,9),e.showSystemTooltip=!0;var i=new Rt,s=e.background;s.cornerRadius(20,20,20,20),s.fill=i.getFor("primaryButton"),s.stroke=i.getFor("primaryButtonStroke"),s.strokeOpacity=0,s.states.getKey("hover").properties.fill=i.getFor("primaryButtonHover"),s.states.getKey("down").properties.fill=i.getFor("primaryButtonActive");var l=new Je;l.element=e.paper.add("path");var p=Ce({x:0,y:0});return p+=ne({x:11,y:0}),l.path=p,l.pixelPerfect=!0,l.padding(8,3,8,3),l.stroke=i.getFor("primaryButtonText"),e.icon=l,e.applyTheme(),e}return $(t,n),t.prototype.applyInternalDefaults=function(){n.prototype.applyInternalDefaults.call(this),L(this.readerTitle)||(this.readerTitle=this.language.translate("Zoom Out"))},t}(uc);G.registeredClasses.ZoomOutButton=dV;var VY=function(n){function t(){var e=n.call(this)||this;e.className="PlayButton",e.padding(12,12,12,12),e.showSystemTooltip=!0;var i=new Rt,s=e.background;s.cornerRadius(25,25,25,25),s.fill=i.getFor("primaryButton"),s.stroke=i.getFor("primaryButtonStroke"),s.strokeOpacity=0,s.states.getKey("hover").properties.fill=i.getFor("primaryButtonHover"),s.states.getKey("down").properties.fill=i.getFor("primaryButtonActive");var l=new YR;l.direction="right",l.width=9,l.height=11,l.marginLeft=1,l.marginRight=1,l.horizontalCenter="middle",l.verticalCenter="middle",l.stroke=i.getFor("primaryButtonText"),l.fill=l.stroke,e.icon=l;var p=new rl;p.width=11,p.height=11,p.horizontalCenter="middle",p.verticalCenter="middle",p.cornerRadius(0,0,0,0),p.stroke=i.getFor("primaryButtonText"),p.fill=l.stroke,e.togglable=!0;var h=e.states.create("active");return h.transitionDuration=0,h.properties.icon=p,e.defaultState.transitionDuration=0,e.applyTheme(),e}return $(t,n),t.prototype.applyInternalDefaults=function(){n.prototype.applyInternalDefaults.call(this),L(this.readerTitle)||(this.readerTitle=this.language.translate("Play"))},t}(uc);G.registeredClasses.PlayButton=VY;var pV=function(n){function t(){var e=n.call(this)||this;return e.className="ColorModifier",e.applyTheme(),e}return $(t,n),t.prototype.modify=function(e){return e},t}(Ar);G.registeredClasses.ColorModifier=pV;var KR=function(n){function t(){var e=n.call(this)||this;return e.lightnesses=[],e.brightnesses=[],e.opacities=[],e.offsets=[],e.className="GradientModifier",e.applyTheme(),e}return $(t,n),Object.defineProperty(t.prototype,"lightnesses",{get:function(){return this._lightnesses},set:function(e){this._lightnesses=e,this._brightnesses=[]},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"brightnesses",{get:function(){return this._brightnesses},set:function(e){this._brightnesses=e,this._lightnesses=[]},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"opacities",{get:function(){return this._opacities},set:function(e){this._opacities=e},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"offsets",{get:function(){return this._offsets},set:function(e){this._offsets=e},enumerable:!0,configurable:!0}),t.prototype.modify=function(e){this.gradient.clear();var i=0;this.opacities&&(i=Qe(i,this.opacities.length)),this.lightnesses&&(i=Qe(i,this.lightnesses.length)),this.brightnesses&&(i=Qe(i,this.brightnesses.length));for(var l,p,s=1,h=0;h<i;h++){var g=e;this.opacities&&M(this.opacities[h])&&(s=this.opacities[h]),this.lightnesses&&M(this.lightnesses[h])&&(l=this.lightnesses[h],p=void 0),this.brightnesses&&M(this.brightnesses[h])&&(p=this.brightnesses[h],l=void 0),M(p)?g=e.brighten(this.brightnesses[h]):M(l)&&(g=e.lighten(this.lightnesses[h])),this.gradient.addColor(g,s,this.offsets[h])}return this.gradient},t.prototype.copyFrom=function(e){n.prototype.copyFrom.call(this,e),this._offsets=e.offsets,this._brightnesses=e.brightnesses,this._lightnesses=e.lightnesses,this._opacities=e.opacities},t}(pV);G.registeredClasses.GradientModifier=KR;var Z0=function(n){function t(){var e=n.call(this)||this;return e.className="LinearGradientModifier",e.gradient=new Ms,e.applyTheme(),e}return $(t,n),t.prototype.copyFrom=function(e){n.prototype.copyFrom.call(this,e),this.gradient=e.gradient.clone()},t}(KR);G.registeredClasses.LinearGradientModifier=Z0;var kY=function(n){function t(){var e=n.call(this)||this;return e.className="Cone",e.angle=30,e.radius=ue(100),e.topRadius=ue(100),e.top=e.createChild(WR),e.top.shouldClone=!1,e.bottom=e.createChild(WR),e.bottom.shouldClone=!1,e.body=e.createChild(Je),e.body.shouldClone=!1,e.body.setElement(e.paper.add("path")),e.layout="none",e.bodyFillModifier=new Z0,e.bodyFillModifier.lightnesses=[0,-.25,0],e.body.fillModifier=e.bodyFillModifier,e.applyTheme(),e}return $(t,n),t.prototype.draw=function(){n.prototype.draw.call(this),Xi(this,this.top,Ni),Xi(this,this.bottom,Ni),Xi(this,this.body,Ni);var h,g,v,e=this.innerWidth,i=this.innerHeight,s=this.bottom,l=this.top,p=this.angle;"horizontal"==this.orientation?(h=i/2,s.y=i/2,l.y=i/2,l.x=e,g=(90-p)/90,v=0,this.bodyFillModifier.gradient.rotation=90):(g=0,v=(90-p)/90,h=e/2,s.y=i,s.x=e/2,l.x=e/2,this.bodyFillModifier.gradient.rotation=0);var b,m=this.radius.value*h,_=this.topRadius.value*h;s.radius=m-m*g,s.radiusY=m-m*v,l.radius=_-_*g,l.radiusY=_-_*v,b="horizontal"==this.orientation?Ce({x:0,y:i/2-s.radiusY})+Rn(-90,-180,s.radius,s.radiusY)+ne({x:e,y:i/2+l.radiusY})+Rn(90,180,l.radius,l.radiusY)+" Z":Ce({x:e/2-l.radius,y:0})+Rn(180,-180,l.radius,l.radiusY)+ne({x:e/2+s.radius,y:i})+Rn(0,180,s.radius,s.radiusY)+" Z",this.body.path=b},Object.defineProperty(t.prototype,"angle",{get:function(){return this.getPropertyValue("angle")},set:function(e){this.setPropertyValue("angle",e,!0)},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"radius",{get:function(){return this.getPropertyValue("radius")},set:function(e){this.setPropertyValue("radius",e,!0)},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"topRadius",{get:function(){return this.getPropertyValue("topRadius")},set:function(e){this.setPropertyValue("topRadius",e,!0)},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"orientation",{get:function(){return this.getPropertyValue("orientation")},set:function(e){this.setPropertyValue("orientation",e,!0)},enumerable:!0,configurable:!0}),t}(Ve),XR=function(n){function t(){var e=n.call(this)||this;return e.className="LightenFilter",e.feColorMatrix=e.paper.add("feColorMatrix"),e.feColorMatrix.attr({type:"matrix"}),e.filterPrimitives.push(e.feColorMatrix),e.lightness=0,e.applyTheme(),e}return $(t,n),Object.defineProperty(t.prototype,"lightness",{get:function(){return this.properties.lightness},set:function(e){this.properties.lightness=e;var i=e+1;this.feColorMatrix.attr({values:i+" 0 0 0 0 0 "+i+" 0 0 0 0 0 "+i+" 0 0 0 0 0 1 0"})},enumerable:!0,configurable:!0}),t}(Gf);G.registeredClasses.LightenFilter=XR;var GY=function(n){function t(){var e=n.call(this)||this;e.angle=30,e.depth=30,e.className="Rectangle3D",e.layout="none";var i=e.createChild(Je);i.shouldClone=!1,i.setElement(e.paper.add("path")),i.isMeasured=!1,e.sideBack=i,e._disposers.push(e.sideBack);var s=e.createChild(Je);s.shouldClone=!1,s.setElement(e.paper.add("path")),s.isMeasured=!1,e.sideBottom=s,e._disposers.push(e.sideBottom);var l=e.createChild(Je);l.shouldClone=!1,l.setElement(e.paper.add("path")),l.isMeasured=!1,e.sideLeft=l,e._disposers.push(e.sideLeft);var p=e.createChild(Je);p.shouldClone=!1,p.setElement(e.paper.add("path")),p.isMeasured=!1,e.sideRight=p,e._disposers.push(e.sideRight);var h=e.createChild(Je);h.shouldClone=!1,h.setElement(e.paper.add("path")),h.isMeasured=!1,e.sideTop=h,e._disposers.push(e.sideTop);var g=e.createChild(Je);return g.shouldClone=!1,g.setElement(e.paper.add("path")),g.isMeasured=!1,e.sideFront=g,e._disposers.push(e.sideFront),e.applyTheme(),e}return $(t,n),t.prototype.draw=function(){n.prototype.draw.call(this);var e=this.innerWidth,i=this.innerHeight,s=this.depth,l=this.angle,p=ge(l),h=ve(l),g={x:0,y:0},v={x:e,y:0},m={x:e,y:i},_={x:0,y:i},b={x:s*h,y:-s*p},C={x:s*h+e,y:-s*p},S={x:s*h+e,y:-s*p+i},E={x:s*h,y:-s*p+i};this.sideFront.path=Ce(g)+ne(v)+ne(m)+ne(_)+" Z",this.sideBack.path=Ce(b)+ne(C)+ne(S)+ne(E)+" Z",this.sideLeft.path=Ce(g)+ne(b)+ne(E)+ne(_)+" Z",this.sideRight.path=Ce(v)+ne(C)+ne(S)+ne(m)+" Z",this.sideBottom.path=Ce(_)+ne(E)+ne(S)+ne(m)+" Z",this.sideTop.path=Ce(g)+ne(b)+ne(C)+ne(v)+" Z"},Object.defineProperty(t.prototype,"depth",{get:function(){return this.getPropertyValue("depth")},set:function(e){this.setPropertyValue("depth",e,!0)},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"angle",{get:function(){return this.getPropertyValue("angle")},set:function(e){this.setPropertyValue("angle",e,!0)},enumerable:!0,configurable:!0}),t.prototype.setFill=function(e){var i;if(n.prototype.setFill.call(this,e),(!li(e)||"r"in e)&&(e=As(e)),e instanceof St)i=e.hex;else if(e instanceof Ms||e instanceof ac)i=e.stops.getIndex(0).color.hex;else{var s=new XR;s.lightness=-.2,this.sideBack.filters.push(s);var l=s.clone();l.lightness=-.4,this.sideLeft.filters.push(l);var p=s.clone();p.lightness=-.2,this.sideRight.filters.push(p);var h=s.clone();h.lightness=-.1,this.sideTop.filters.push(h);var g=s.clone();g.lightness=-.5,this.sideBottom.filters.push(g)}i&&(this.sideBack.fill=Le(i).lighten(-.2),this.sideLeft.fill=Le(i).lighten(-.4),this.sideRight.fill=Le(i).lighten(-.2),this.sideTop.fill=Le(i).lighten(-.1),this.sideBottom.fill=Le(i).lighten(-.5))},t.prototype.copyFrom=function(e){n.prototype.copyFrom.call(this,e),this.sideBack.copyFrom(e.sideBack),this.sideLeft.copyFrom(e.sideLeft),this.sideRight.copyFrom(e.sideRight),this.sideTop.copyFrom(e.sideTop),this.sideBottom.copyFrom(e.sideBottom)},t}(Ve),HY=function(n){function t(){var e=n.call(this)||this;e.className="Slice3D",e.layout="none";var i=e.createChild(Je);e.edge=i,i.shouldClone=!1,i.isMeasured=!1,i.toBack(),e.angle=30,e.depth=20;var s=e.createChild(Je);e.sideA=s,s.shouldClone=!1,s.isMeasured=!1;var l=e.createChild(Je);return e.sideB=l,l.shouldClone=!1,l.isMeasured=!1,e.applyTheme(),e}return $(t,n),t.prototype.setFill=function(e){var i;if(n.prototype.setFill.call(this,e),e instanceof St)i=e.hex;else if(e instanceof Ms||e instanceof ac)i=e.stops.getIndex(0).color.hex;else{var s=new XR;s.lightness=-.25,this.edge.filters.push(s),this.sideA.filters.push(s.clone()),this.sideB.filters.push(s.clone())}if(i){var l=Le(i).lighten(-.25);this.edge.fill=l,this.sideA.fill=l,this.sideB.fill=l,this.edge.stroke=l,this.sideA.stroke=l,this.sideB.stroke=l}},t.prototype.draw=function(){if(this.cornerRadius=0,this.innerCornerRadius=0,n.prototype.draw.call(this),0!==this.arc&&this.radius>0&&this.depth>0){this.sideB.show(0),this.sideA.show(0),this.edge.show(0);for(var e=this.startAngle,i=this.arc,s=this.pixelInnerRadius||0,l=this.radiusY||0,p=this.radius,h=e+i,g=l/p*s,v={x:ve(e)*s,y:ge(e)*g},m={x:ve(e)*p,y:ge(e)*l},_={x:ve(h)*p,y:ge(h)*l},b={x:ve(h)*s,y:ge(h)*g},C=this.depth,S={x:v.x,y:v.y-C},E={x:m.x,y:m.y-C},x={x:_.x,y:_.y-C},R={x:b.x,y:b.y-C},P="",k=Math.ceil(i/5),U=i/k,W=e,Y=E,K=0;K<k;K++)if((W+=U)>0&&W<180){P+=Ce(Y);var X={x:ve(W)*p,y:ge(W)*l-C};P+=ne({x:Y.x,y:Y.y+C}),P+=Ko({x:X.x,y:X.y+C},p,l,!0),P+=ne(X),P+=Ko(Y,p,l),P+="z",Y=X}else P+=Ce(Y),P+=Ko(X={x:ve(W)*p,y:ge(W)*l-C},p,l,!0),P+=ne({x:X.x,y:X.y+C}),P+=Ko({x:Y.x,y:Y.y+C},p,l),P+=ne(Y),P+="z",Y=X;for(Y=S,W=e,K=0;K<k;K++)(W+=U)>0&&W<180?(P+=Ce(Y),X={x:ve(W)*s,y:ge(W)*g-C},P+=ne({x:Y.x,y:Y.y+C}),P+=Ko({x:X.x,y:X.y+C},s,g,!0),P+=ne(X),P+=Ko(Y,s,g),P+="z",Y=X):(P+=Ce(Y),P+=Ko(X={x:ve(W)*s,y:ge(W)*g-C},s,g,!0),P+=ne({x:X.x,y:X.y+C}),P+=Ko({x:Y.x,y:Y.y+C},s,g),P+=ne(Y),P+="z",Y=X);this.edge.path=P,this.sideA.path=Ce(v)+ne(m)+ne(E)+ne(S)+" Z",this.sideB.path=Ce(_)+ne(b)+ne(R)+ne(x)+" Z",this.startAngle<90?this.sideA.toBack():this.sideA.toFront(),this.startAngle+this.arc>90?this.sideB.toBack():this.sideB.toFront(),this.slice.dy=-C}else this.sideA.hide(0),this.sideB.hide(0),this.edge.hide(0)},Object.defineProperty(t.prototype,"depth",{get:function(){return this.getPropertyValue("depth")},set:function(e){this.setPropertyValue("depth",e,!0)},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"angle",{get:function(){var e=this.getPropertyValue("angle");return M(e)||(e=0),e},set:function(e){this.setPropertyValue("angle",e,!0)},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"radiusY",{get:function(){var e=this.getPropertyValue("radiusY");return M(e)||(e=this.radius-this.radius*this.angle/90),e},set:function(e){this.setPropertyValue("radiusY",e,!0)},enumerable:!0,configurable:!0}),t.prototype.copyFrom=function(e){n.prototype.copyFrom.call(this,e),this.edge.copyFrom(e.edge),this.sideA.copyFrom(e.sideA),this.sideB.copyFrom(e.sideB)},t}(Zd),BY=function(n){function t(){var e=n.call(this)||this;return e.className="RadialGradientModifier",e.gradient=new ac,e.applyTheme(),e}return $(t,n),t.prototype.copyFrom=function(e){n.prototype.copyFrom.call(this,e),this.gradient=e.gradient.clone()},t}(KR);G.registeredClasses.RadialGradientModifier=BY;var hV=function(n){function t(){var e=n.call(this)||this;return e.properties.gap=0,e._line=e.paper.add("path"),e.addElement(e._line),e}return $(t,n),t.prototype.draw=function(){if(n.prototype.draw.call(this),Math.round(this.rotation/90)!=this.rotation/90&&(this.properties.shapeRendering="auto"),this._line){var e=this.width,i=this.height,s="";if(this.gap)for(var l=this.gap+this.strokeWidth,p=this.height/l,h=-p/2;h<1.5*p;h++)Math.round(this.rotation/90)!=this.rotation/90?(s+=Ce({x:-e,y:(h+.5)*l})+ne({x:2*e,y:(h+.5)*l}),this.properties.rotationX=this.width/2,this.properties.rotationY=this.height/2):s+=Ce({x:-e,y:h*l})+ne({x:2*e,y:h*l});else Math.round(this.rotation/90)!=this.rotation/90?(s=Ce({x:-e,y:i/2})+ne({x:2*e,y:i/2}),this.properties.rotationX=this.width/2,this.properties.rotationY=this.height/2):s=Ce({x:0,y:0})+ne({x:e,y:0});this._line.attr({d:s})}},Object.defineProperty(t.prototype,"gap",{get:function(){return this.properties.gap},set:function(e){this.properties.gap=e,this.draw()},enumerable:!0,configurable:!0}),t}(Lf);G.registeredClasses.LinePattern=hV;var fV=function(n){function t(){var e=n.call(this)||this;return e.properties.radius=2,e._circle=e.paper.add("circle"),e.addElement(e._circle),e.shapeRendering="auto",e}return $(t,n),t.prototype.draw=function(){n.prototype.draw.call(this),this._circle&&this._circle.attr({r:this.radius,cx:this.width/2,cy:this.height/2})},Object.defineProperty(t.prototype,"radius",{get:function(){return this.properties.radius},set:function(e){this.properties.radius=e,this.draw()},enumerable:!0,configurable:!0}),t}(Lf);G.registeredClasses.CirclePattern=fV;var gV=function(n){function t(){var e=n.call(this)||this;return e.rectHeight=1,e.rectWidth=1,e._rect=e.paper.add("rect"),e.addElement(e._rect),e}return $(t,n),t.prototype.draw=function(){n.prototype.draw.call(this),this.properties.rotationX=this.width/2,this.properties.rotationY=this.height/2,this._rect&&this._rect.attr({width:this.rectWidth,height:this.rectHeight,x:(this.width-this.rectWidth)/2,y:(this.height-this.rectHeight)/2})},Object.defineProperty(t.prototype,"rectWidth",{get:function(){return this.properties.rectWidth},set:function(e){this.properties.rectWidth=e,this.draw()},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"rectHeight",{get:function(){return this.properties.rectHeight},set:function(e){this.properties.rectHeight=e,this.draw()},enumerable:!0,configurable:!0}),t}(Lf);G.registeredClasses.RectPattern=gV;var jY=function(n){function t(){var e=n.call(this)||this;return e.className="ColorizeFilter",e.feColorMatrix=e.paper.add("feColorMatrix"),e.feColorMatrix.attr({type:"matrix"}),e.filterPrimitives.push(e.feColorMatrix),e.intensity=1,e.applyTheme(),e}return $(t,n),t.prototype.applyFilter=function(){var s,l,p,e=this.intensity,i=1-e,h=this.color;h&&h.rgb?(s=h.rgb.r/255*e,l=h.rgb.g/255*e,p=h.rgb.b/255*e):(s=0,l=0,p=0),this.feColorMatrix.attr({values:i+" 0 0 0 "+s+" 0 "+i+" 0 0 "+l+" 0 0 "+i+" 0 "+p+" 0 0 0 1 0"})},Object.defineProperty(t.prototype,"color",{get:function(){return this.properties.color},set:function(e){this.properties.color=e,this.applyFilter()},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"intensity",{get:function(){return this.properties.intensity},set:function(e){this.properties.intensity=e,this.applyFilter()},enumerable:!0,configurable:!0}),t}(Gf);G.registeredClasses.ColorizeFilter=jY;var Q0=function(n){function t(){var e=n.call(this)||this;return e.className="DesaturateFilter",e.feColorMatrix=e.paper.add("feColorMatrix"),e.feColorMatrix.attr({type:"saturate"}),e.filterPrimitives.push(e.feColorMatrix),e.width=120,e.height=120,e.saturation=0,e.applyTheme(),e}return $(t,n),Object.defineProperty(t.prototype,"saturation",{get:function(){return this.properties.saturation},set:function(e){this.properties.saturation=e,this.feColorMatrix.attr({values:e.toString()})},enumerable:!0,configurable:!0}),t}(Gf);G.registeredClasses.DesaturateFilter=Q0;var WY=function(n){function t(){var e=n.call(this)||this;return e.className="BlurFilter",e.feGaussianBlur=e.paper.add("feGaussianBlur"),e.feGaussianBlur.attr({result:"blurOut",in:"SourceGraphic"}),e.filterPrimitives.push(e.feGaussianBlur),e.width=200,e.height=200,e.blur=1.5,e.applyTheme(),e}return $(t,n),Object.defineProperty(t.prototype,"blur",{get:function(){return this.properties.blur},set:function(e){this.properties.blur=e,this.feGaussianBlur.attr({stdDeviation:e/this.scale})},enumerable:!0,configurable:!0}),t}(Gf);G.registeredClasses.BlurFilter=WY;var UY=function(n){function t(){var e=n.call(this)||this;return e.className="FocusFilter",e.feFlood=e.paper.add("feFlood"),e.feFlood.attr({"flood-color":(new Rt).getFor("primaryButtonHover"),result:"base"}),e.filterPrimitives.push(e.feFlood),e.feMorphology=e.paper.add("feMorphology"),e.feMorphology.attr({result:"bigger",in:"SourceGraphic",operator:"dilate",radius:"2"}),e.filterPrimitives.push(e.feMorphology),e.feColorMatrix=e.paper.add("feColorMatrix"),e.feColorMatrix.attr({result:"mask",in:"bigger",type:"matrix",values:"0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 1 0"}),e.filterPrimitives.push(e.feColorMatrix),e.feComposite=e.paper.add("feComposite"),e.feComposite.attr({result:"drop",in:"base",in2:"mask",operator:"in"}),e.filterPrimitives.push(e.feComposite),e.feBlend=e.paper.add("feBlend"),e.feBlend.attr({in:"SourceGraphic",in2:"drop",mode:"normal"}),e.filterPrimitives.push(e.feBlend),e.width=130,e.height=130,e.applyTheme(),e}return $(t,n),Object.defineProperty(t.prototype,"stroke",{get:function(){return this.properties.stroke},set:function(e){this.properties.stroke=e,this.feFlood.attr({"flood-color":e})},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"strokeWidth",{get:function(){return this.properties.strokeWidth},set:function(e){this.properties.strokeWidth=e,this.feMorphology.attr({radius:e})},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"opacity",{get:function(){return this.properties.opacity},set:function(e){this.properties.opacity=e,this.feColorMatrix.attr({values:"0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 "+e+" 0"})},enumerable:!0,configurable:!0}),t.prototype.setSprite=function(e){this._sprite&&this._sprite!=e&&this._sprite.group.removeStyle("outline"),e.group.addStyle({outline:"none"}),n.prototype.setSprite.call(this,e)},t}(Gf),Fm=function(n){function t(){var e=n.call(this)||this;return e._list=[],e._currentStep=0,e._startIndex=0,e._currentPass=0,e.baseColor=new St({r:103,g:183,b:220}),e.stepOptions={},e.passOptions={brighten:-.2},e.step=1,e.minColors=20,e.minLightness=.2,e.maxLightness=.9,e.shuffle=!1,e.wrap=!0,e.reuse=!1,e.saturation=1,e.className="ColorSet",e.applyTheme(),e}return $(t,n),Object.defineProperty(t.prototype,"list",{get:function(){return this._list||this.generate(this.minColors),this._list},set:function(e){this._list=e,this.reset()},enumerable:!0,configurable:!0}),t.prototype.getReusableColor=function(e){if(0==this._list.length)return this.generate(1),this.list[0];var i=e-Math.floor(e/this._list.length)*this.list.length;return this.list[i]},t.prototype.next=function(){var e;return this.list.length<=this._currentStep?this.reuse?e=this.getReusableColor(this._currentStep):(this.generate(Qe(this.minColors,this._currentStep+1)),e=this.list[this._currentStep]):e=this.list[this._currentStep],this._currentStep+=this.step,e.saturate(this.saturation)},t.prototype.getIndex=function(e){var i;return this.list.length<=e?this.reuse?i=this.getReusableColor(e):(this.generate(this.minColors),i=this.getIndex(e)):i=this.list[e],i.saturate(this.saturation)},t.prototype.reset=function(){this._currentStep=this._startIndex},Object.defineProperty(t.prototype,"currentStep",{get:function(){return this._currentStep},set:function(e){this._currentStep=e},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"startIndex",{get:function(){return this._startIndex},set:function(e){this._startIndex=e,this.reset()},enumerable:!0,configurable:!0}),t.prototype.generate=function(e){var s=O0(hi(this.currentColor.rgb)),l=L(this.stepOptions.hue)?this.stepOptions.hue:1/e,p={brighten:0,lighten:0,hue:s.h,lightness:s.l,saturation:s.s},h=[],g=0==this.list.length?0:1;if(this.reuse)for(var v=g;v<=e;v++)h.push(O0(hi(this._list[v].rgb)).h);else for(v=g;v<=e;v++){var m=s.h+l*v;this.wrap&&m>1&&(m-=1),h.push(m)}for(this.shuffle&&h.sort(function(S,E){return Math.random()-.5}),v=0;v<e;v++){this.reuse?s=O0(hi(this._list[v].rgb)):s.h=h.shift(),this.applyStepOptions(s,p,v,this._currentPass);var _=Le(yL(s)),b=(this.stepOptions.brighten||0)*v+(this.passOptions.brighten||0)*this._currentPass;0!=b&&(b=this.wrap?bR(b,this.minLightness,this.maxLightness):_R(b,this.minLightness,this.maxLightness),_=_.brighten(b));var C=(this.stepOptions.lighten||0)*v+(this.passOptions.lighten||0)*this._currentPass;0!=C&&(C=this.wrap?bR(C,this.minLightness,this.maxLightness):_R(C,this.minLightness,this.maxLightness),_=_.lighten(C)),this._list.push(_)}this._currentPass++},Object.defineProperty(t.prototype,"currentColor",{get:function(){return 0==this._list.length?this.baseColor.saturate(this.saturation):this._list[this._list.length-1].saturate(this.saturation)},enumerable:!0,configurable:!0}),t.prototype.applyStepOptions=function(e,i,s,l){e.l=i.lightness+(this.stepOptions.lightness||0)*s+(this.passOptions.lightness||0)*l,this.wrap?(e.l>1?e.l=e.l-Math.floor(e.l):e.l<0&&(e.l=-(e.l-Math.floor(e.l))),e.l=bR(e.l,this.minLightness,this.maxLightness)):(e.l>1?e.l=1:e.l<0&&(e.l=0),e.l=_R(e.l,this.minLightness,this.maxLightness))},t.prototype.processConfig=function(e){if(e){if(L(e.list)&&hn(e.list))for(var i=0,s=e.list.length;i<s;i++)e.list[i]instanceof St||(e.list[i]=Le(e.list[i]));L(e.baseColor)&&!(e.baseColor instanceof St)&&(e.baseColor=Le(e.baseColor))}n.prototype.processConfig.call(this,e)},t}(Ar);G.registeredClasses.ColorSet=Fm;var zY=function(n){function t(){var e=n.call(this)||this;e._list=[],e._currentStep=0,e._startIndex=0,e._currentPass=0,e.baseColor=new St({r:103,g:183,b:220}),e.className="PatternSet";var i=new Rt;return e.list=[e.getLinePattern(1e3,45,1,6),e.getRectPattern(10,0,4),e.getLinePattern(1e3,-45,1,6),e.getCirclePattern(11,2,!0),e.getLinePattern(6,90,1),e.getRectPattern(12,45,6,!0),e.getLinePattern(6,0,1),e.getRectPattern(7,0,4),e.getLinePattern(1e3,45,2,3,"4,2"),e.getCirclePattern(9,3,!1),e.getLinePattern(1e3,-45,2,3,"4,2"),e.getRectPattern(10,45,Math.sqrt(50)),e.getLinePattern(1e3,-45,2,1),e.getRectPattern(10,0,9),e.getLinePattern(1e3,45,2,1),e.getLinePattern(1e3,0,3,1),e.getRectPattern(10,45,10),e.getLinePattern(1e3,90,3,1)],e.baseColor=i.getFor("stroke"),e.applyTheme(),e}return $(t,n),t.prototype.getLinePattern=function(e,i,s,l,p){var h=new hV;return h.width=e,h.height=e,h.stroke=this.baseColor,h.gap=l,h.strokeDasharray=p,h.strokeWidth=s,h.rotation=i,h},t.prototype.getRectPattern=function(e,i,s,l){var p=new gV;return p.width=e,p.height=e,p.rectWidth=s,p.rectHeight=s,l?(p.stroke=this.baseColor,p.strokeWidth=1,p.fillOpacity=0):(p.fill=this.baseColor,p.strokeWidth=0),0!=i&&(p.shapeRendering="auto"),p.rotation=i,p},t.prototype.getCirclePattern=function(e,i,s){var l=new fV;return l.width=e,l.height=e,l.shapeRendering="auto",l.radius=i,s?(l.stroke=this.baseColor,l.strokeWidth=1,l.fillOpacity=0):(l.fill=this.baseColor,l.strokeWidth=0),l},Object.defineProperty(t.prototype,"list",{get:function(){return this._list},set:function(e){this._list=e,this.reset()},enumerable:!0,configurable:!0}),t.prototype.next=function(){var e=this.getIndex(this.currentStep);return this._currentStep++,e},t.prototype.getIndex=function(e){for(;this.list.length<=e;)this.generatePatterns();return this.list[e].clone()},t.prototype.generatePatterns=function(){var e=this.list.length/(this._currentPass+1);this._currentPass++;for(var i=0;i<e;i++)this.list.push(this.list[i].clone())},t.prototype.reset=function(){this._currentStep=this._startIndex},Object.defineProperty(t.prototype,"currentStep",{get:function(){return this._currentStep},set:function(e){this._currentStep=e},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"startIndex",{get:function(){return this._startIndex},set:function(e){this._startIndex=e,this.reset()},enumerable:!0,configurable:!0}),t.prototype.processConfig=function(e){n.prototype.processConfig.call(this,e)},t}(Ar);G.registeredClasses.PatternSet=zY,function(){function n(){this._disposed=!1,this._disposers=[]}n.prototype.init=function(){},n.prototype.isDisposed=function(){return this._disposed},n.prototype.dispose=function(){if(!this._disposed){this._disposed=!0;var t=this._disposers;for(this._disposers=null;0!==t.length;)t.shift().dispose()}}}();var $Y=function(n){function t(){var e=n.call(this)||this;e.className="AmChartsLogo",e.valign="bottom";e.opacity=.3,e.defaultState.properties.opacity=.4,e.url="https://www.amcharts.com/",e.urlTarget="_blank",e.showSystemTooltip=!0,e.readerTitle="Chart created using amCharts library",e.width=66,e.height=21,e.background.opacity=0;var s=Le("#474758");"#ffffff"==(new Rt).getFor("background").alternative.hex&&(s=Le("#ffffff"));var l=new Ms;l.addColor(s),l.addColor(s,1,.75),l.addColor(Le("#3cabff"),1,.755),l.rotation=-10;var p=l,h=e.createChild(K0);h.shouldClone=!1,h.isMeasured=!1,h.segments=[[{x:15,y:15},{x:27,y:15},{x:36,y:6},{x:40.5,y:10.5},{x:45,y:6},{x:54,y:15},{x:60,y:15}]],h.strokeWidth=6*.3,h.tensionX=.8,h.tensionY=1,h.stroke=Le("#3cabff");var g=e.createChild(K0);g.shouldClone=!1,g.isMeasured=!1,g.segments=[[{x:6,y:15},{x:15,y:15},{x:27,y:12*.3},{x:39.9,y:15},{x:51,y:15},{x:60,y:15}]],g.strokeWidth=6*.3,g.tensionX=.75,g.tensionY=1,g.stroke=p,e._disposers.push(g);var v=new Q0;e.filters.push(v);var m=new Q0;m.saturation=1;var _=e.states.create("hover");return _.properties.opacity=1,_.filters.push(m),e.applyTheme(),e}return $(t,n),t}(Ve);function qR(n){-1==G.queue.indexOf(n)&&(n.__disabled=!0,n.tooltipContainer.__disabled=!0,n.events.disableType("appeared"),0==G.queue.length&&(G.events.once("exitframe",function(){yV(n)}),lt.requestFrame()),n.addDisposer(new Bt(function(){J0(n)})),G.queue.push(n))}function J0(n){var t=G.queue.indexOf(n);if(t>=0){G.queue.splice(G.queue.indexOf(n),1);var e=G.queue[t];e&&yV(e)}}function Bf(n){n.__disabled&&IR(n.htmlContainer,nt.viewportTarget)&&(n.vpDisposer&&n.vpDisposer.dispose(),qR(n))}function yV(n){n&&n.tooltipContainer&&(n.__disabled=!1,n.tooltipContainer.__disabled=!1,n.events.enableType("appeared"),n.dispatch("removedfromqueue"),n.showOnInit&&n.events.on("appeared",function(){J0(n)}),n.vpDisposer&&n.vpDisposer.dispose(),n instanceof Ve&&n.invalidateLabels(),n.tooltipContainer&&n.tooltipContainer.invalidateLayout(),n instanceof Kd?(n.invalidateData(),n.reinit(),n.events.once("datavalidated",function(){n.showOnInit?n.appear():J0(n)})):(n.reinit(),n.events.once("inited",function(){J0(n)}),n.showOnInit&&n.appear()))}function mV(n,t){var e;gt(t)&&(L(G.registeredClasses[t])?t=G.registeredClasses[t]:(t=G.registeredClasses.Container,e=new Error("Class ["+t+"] is not loaded.")));var i=function(n,t){var e=VL(n),i=!1;if(e||((e=document.createElement("div")).style.width="200px",e.style.height="200px",e.style.top="0",e.style.left="0",e.style.visibility="hidden",e.style.position="absolute",document.body.appendChild(e),i=!0),e){e.innerHTML="";var s=new zL(e),l=new $L(s.SVGContainer,"svg-"+(LR.length-1)),p=new Ve;p.htmlContainer=e,p.svgContainer=s,p.width=ue(100),p.height=ue(100),p.background.fillOpacity=0,p.paper=l,l.append(p.group),i&&function(n){if("loading"!==document.readyState)n();else{var t=function(){"loading"!==document.readyState&&(document.removeEventListener("readystatechange",t),n())};document.addEventListener("readystatechange",t)}}(function(){p.moveHtmlContainer(n)}),p.relativeWidth=1,p.relativeHeight=1,s.container=p;var h=p.createChild(t);h.topParent=p;var g=h.uid;G.invalidSprites[g]=[],G.invalidDatas[g]=[],G.invalidPositions[g]=[],G.invalidLayouts[g]=[],p.baseId=g,h.isBaseSprite=!0,h.focusFilter=new UY,G.baseSprites.push(h),G.baseSpritesByUid[g]=h,h.maskRectangle={x:0,y:0,width:Math.max(s.width||0,0),height:Math.max(s.height||0,0)},p.events.on("maxsizechanged",function(k){(0==k.previousWidth||0==k.previousHeight)&&p.deepInvalidate(),h.maskRectangle&&(h.maskRectangle={x:0,y:0,width:Math.max(s.width||0,0),height:Math.max(s.height||0,0)})});var v=null,m=function(){h.isDisposed()?v=null:null==HL(h.dom)?(nt.autoDispose?(p.htmlContainer=void 0,s.htmlElement=void 0,h.dispose()):NR("Chart was not disposed",h.uid),v=null):v=window.setTimeout(m,1e3)};m(),h.addDisposer(new Bt(function(){null!==v&&clearTimeout(v),Ue(G.baseSprites,h),G.baseSpritesByUid[h.uid]=void 0})),h.addDisposer(p);var _=p.createChild(Ve);_.topParent=p,_.width=ue(100),_.height=ue(100),_.isMeasured=!1,p.tooltipContainer=_,h.tooltip=new Hf,h.tooltip.hide(0),h.tooltip.setBounds({x:0,y:0,width:_.maxWidth,height:_.maxHeight}),_.events.on("maxsizechanged",function(){hi(h.tooltip).setBounds({x:0,y:0,width:_.maxWidth,height:_.maxHeight})},void 0,!1);var b=new tV;if(b.events.on("inited",function(){b.__disabled=!0},void 0,!1),p.preloader=b,h instanceof Ve&&!h.hasLicense()){var C=_.createChild($Y);_.events.on("maxsizechanged",function(k){_.maxWidth<=100||_.maxHeight<=50?C.hide():(C.isHidden||C.isHiding)&&C.show()},void 0,!1),h.logo=C,C.align="left",C.valign="bottom"}if(p.isStandaloneInstance=!0,nt.onlyShowOnViewport)if(IR(e,nt.viewportTarget))nt.queue&&qR(h);else{h.__disabled=!0,h.tooltipContainer.__disabled=!0;var S=[_i(window,"DOMContentLoaded",function(){Bf(h)}),_i(window,"load",function(){Bf(h)}),_i(window,"resize",function(){Bf(h)}),_i(window,"scroll",function(){Bf(h)})];if(nt.viewportTarget)for(var E=hn(nt.viewportTarget)?nt.viewportTarget:nt.viewportTarget?[nt.viewportTarget]:[],x=0;x<E.length;x++){var R=E[x];S.push(_i(R,"resize",function(){Bf(h)})),S.push(_i(R,"scroll",function(){Bf(h)}))}var P=new mi(S);h.addDisposer(P),h.vpDisposer=P}else nt.queue&&qR(h);return h}throw lt.log("html container not found"),new Error("html container not found")}(n,t);return e&&i.raiseCriticalError(e),i}function _V(n){-1===G.themes.indexOf(n)&&G.themes.push(n)}var bV=function(n){function t(){var e=n.call(this)||this;e.className="Grip";var i=new Rt;e.layout="absolute",e.padding(10,10,10,10),e.margin(3,3,3,3),e.background.fillOpacity=.3,e.background.cornerRadius(10,10,10,10);var s=new Je;s.element=e.paper.add("path");var l=Ce({x:-6,y:0});return l+=ne({x:6,y:0}),l+=Ce({x:-8,y:-6}),l+=ne({x:0,y:-12}),l+=ne({x:8,y:-6}),l+=Ce({x:-8,y:6}),l+=ne({x:0,y:12}),l+=ne({x:8,y:6}),s.path=l,s.strokeWidth=2,s.fillOpacity=0,s.pixelPerfect=!0,s.padding(0,4,0,4),s.stroke=i.getFor("text"),s.strokeOpacity=.7,s.align="center",s.valign="middle",e.icon=s,e.label.dispose(),e.label=void 0,e.position="right",e.autoHideDelay=3e3,e.events.on("shown",function(p){e._autoHideTimeout&&e._autoHideTimeout.dispose(),e.autoHideDelay&&(e._autoHideTimeout=e.setTimeout(function(){e.hide()},e.autoHideDelay))}),e.events.on("down",function(p){e._autoHideTimeout&&e._autoHideTimeout.dispose()}),e.events.on("out",function(p){e.autoHideDelay&&(e._autoHideTimeout=e.setTimeout(function(){e.hide()},e.autoHideDelay))}),e.applyTheme(),e}return $(t,n),Object.defineProperty(t.prototype,"position",{get:function(){return this.getPropertyValue("position")},set:function(e){if(this.setPropertyValue("position",e))switch(e){case"left":this.align="left",this.valign="middle",this.horizontalCenter="left",this.verticalCenter="middle",this.icon.rotation=0,this.width=void 0,this.height=ue(30);break;case"right":this.align="right",this.valign="middle",this.horizontalCenter="right",this.verticalCenter="middle",this.icon.rotation=0,this.width=void 0,this.height=ue(30);break;case"top":this.align="center",this.valign="top",this.horizontalCenter="middle",this.verticalCenter="top",this.icon.rotation=90,this.width=ue(30),this.height=void 0;break;case"bottom":this.align="center",this.valign="bottom",this.horizontalCenter="middle",this.verticalCenter="bottom",this.icon.rotation=90,this.width=ue(30),this.height=void 0;break;default:this.align="center",this.valign="middle",this.horizontalCenter="middle",this.verticalCenter="middle",this.icon.rotation=90,this.width=ue(30),this.height=void 0}},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"autoHideDelay",{get:function(){return this.getPropertyValue("autoHideDelay")},set:function(e){this.setPropertyValue("autoHideDelay",e)},enumerable:!0,configurable:!0}),t}(uc);G.registeredClasses.Grip=bV;var CV=function(n){function t(){var e=n.call(this)||this;return e.className="ChartDataItem",e.applyTheme(),e}return $(t,n),t}(Yd),Jd=function(n){function t(){var e=n.call(this)||this;if(e._legend=new Pn,e.constructor===t)throw new Error("'Chart' cannot be instantiated directly. Please use a specific chart type.");e.className="Chart";var i=new Yr;e.titles=new Ii(i),e._disposers.push(new Qt(e.titles)),e._disposers.push(i),e.width=ue(100),e.height=ue(100),e.layout="vertical";var s=e.createChild(Ve);s.shouldClone=!1,s.layout="vertical",s.width=ue(100),s.height=ue(100),e.chartAndLegendContainer=s;var l=s.createChild(Ve);return l.shouldClone=!1,l.width=ue(100),l.height=ue(100),e.chartContainer=l,e.showOnInit=!0,e._disposers.push(e._legend),e.titles.events.on("inserted",function(p){e.processTitle(p),e.updateReaderTitleReferences()},e,!1),e.titles.events.on("removed",function(p){e.updateReaderTitleReferences()},e,!1),e.role="region",e.defaultState.transitionDuration=1,e.applyTheme(),e}return $(t,n),t.prototype.applyInternalDefaults=function(){n.prototype.applyInternalDefaults.call(this),L(this.readerTitle)||(this.readerTitle=this.language.translate("Chart"))},t.prototype.draw=function(){this.fixLayout(),n.prototype.draw.call(this)},t.prototype.fixLayout=function(){var e=this.legend;if(e){var i=this.chartAndLegendContainer,s=this.chartContainer;switch(s.x=void 0,s.y=void 0,"absolute"!=e.position&&(e.x=void 0,e.y=void 0),e.position){case"left":i.layout="horizontal",e.toBack();break;case"right":i.layout="horizontal",e.toFront();break;case"top":i.layout="vertical",e.toBack();break;case"bottom":i.layout="vertical",e.toFront();break;case"absolute":e.isMeasured=!1}}},t.prototype.feedLegend=function(){},t.prototype.processTitle=function(e){var i=e.newValue;return i.parent=this,i.toBack(),i.shouldClone=!1,i.align="center",i.uidAttr(),i},t.prototype.updateReaderTitleReferences=function(){if(this.titles.length){var e=[];oe(this.titles.iterator(),function(i){e.push(i.uid)}),this.setSVGAttribute({"aria-labelledby":e.join(" ")})}else this.removeSVGAttribute("aria-labelledby")},Object.defineProperty(t.prototype,"legend",{get:function(){return this._legend.get()},set:function(e){this.setLegend(e)},enumerable:!0,configurable:!0}),t.prototype.setLegend=function(e){var i=this;this._legend.get()!==e&&(e?(e.parent=this.chartAndLegendContainer,this._legend.set(e,e.events.on("propertychanged",function(s){"position"==s.property&&i.fixLayout()},void 0,!1)),e.addDisposer(new Bt(function(){i.legend=void 0}))):this._legend.reset(),this.feedLegend())},t.prototype.dispose=function(){this.legend&&this.legend.dispose(),n.prototype.dispose.call(this)},t.prototype.processConfig=function(e){e&&L(e.legend)&&!L(e.legend.type)&&(e.legend.type="Legend"),n.prototype.processConfig.call(this,e)},t.prototype.copyFrom=function(e){this.titles.copyFrom(e.titles),this.chartContainer.copyFrom(e.chartContainer),e.legend&&(this.legend=e.legend.clone(),this.legend.removeChildren()),n.prototype.copyFrom.call(this,e)},Object.defineProperty(t.prototype,"dragGrip",{get:function(){var e=this;if(!this._dragGrip){var i=this.tooltipContainer.createChild(bV);i.align="right",i.valign="middle",i.hide(0),i.events.on("down",function(s){s.touch&&(e.interactionsEnabled=!1)}),i.events.on("up",function(s){e.interactionsEnabled=!0}),this.events.on("down",function(s){s.touch&&i.show()}),this._dragGrip=i}return this._dragGrip},set:function(e){this._dragGrip=e},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"focusable",{get:function(){return this.parent.focusable},set:function(e){this.parent.focusable=e},enumerable:!0,configurable:!0}),t}(Kd);G.registeredClasses.Chart=Jd,Wn.push({relevant:mr.widthXS,state:function(n,t){if(n instanceof Jd){var e=n.states.create(t);return n.pixelPaddingLeft>10&&(e.properties.paddingLeft=10),n.pixelPaddingRight>10&&(e.properties.paddingRight=10),e}return null}}),Wn.push({relevant:mr.heightXS,state:function(n,t){if(n instanceof Jd){var e=n.states.create(t);return n.pixelPaddingTop>10&&(e.properties.paddingTop=10),n.pixelPaddingBottom>10&&(e.properties.paddingBottom=10),e}return null}}),Wn.push({relevant:mr.widthXXS,state:function(n,t){if(n instanceof Jd){var e=n.states.create(t);return e.properties.paddingLeft=0,e.properties.paddingRight=0,e}return null}}),Wn.push({relevant:mr.heightXXS,state:function(n,t){if(n instanceof Jd){var e=n.states.create(t);return e.properties.paddingTop=0,e.properties.paddingBottom=0,e}return null}});var ol=function(n){function t(){var e=n.call(this)||this;return e.className="Bullet",e.isMeasured=!1,e.tooltipX=0,e.tooltipY=0,e.layout="none",e.applyOnClones=!0,e.copyToLegendMarker=!0,e.applyTheme(),e}return $(t,n),Object.defineProperty(t.prototype,"locationX",{get:function(){return this.getPropertyValue("locationX")},set:function(e){if(this.setPropertyValue("locationX",e)){var i=this.dataItem;i&&i.component&&i.component.invalidate()}},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"locationY",{get:function(){return this.getPropertyValue("locationY")},set:function(e){if(this.setPropertyValue("locationY",e)){var i=this.dataItem;i&&i.component&&i.component.invalidate()}},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"xField",{get:function(){return this.getPropertyValue("xField")},set:function(e){this.setPropertyValue("xField",e,!0)},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"yField",{get:function(){return this.getPropertyValue("yField")},set:function(e){this.setPropertyValue("yField",e,!0)},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"isDynamic",{get:function(){return this.getPropertyValue("isDynamic")},set:function(e){this.setPropertyValue("isDynamic",e,!0)},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"copyToLegendMarker",{get:function(){return this.getPropertyValue("copyToLegendMarker")},set:function(e){this.setPropertyValue("copyToLegendMarker",e)},enumerable:!0,configurable:!0}),t}(Ve);G.registeredClasses.Bullet=ol,Wn.push({relevant:mr.isXS,state:function(n,t){if(n instanceof ol){var e=n.states.create(t);return e.properties.disabled=!0,e}return null}});var YY=function(n){function t(){var e=n.call(this)||this;return e.childrenCreated=!1,e.className="LegendDataItem",e.applyTheme(),e}return $(t,n),Object.defineProperty(t.prototype,"label",{get:function(){var e=this;if(!this._label){var i=this.component.labels.create();this._label=i,this.addSprite(i),this._disposers.push(i),i.parent=this.itemContainer,this._disposers.push(new Bt(function(){L(e.component)&&e.component.labels.removeValue(i)}))}return this._label},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"color",{get:function(){return this.properties.color},set:function(e){this.setProperty("color",e)},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"valueLabel",{get:function(){var e=this;if(!this._valueLabel){var i=this.component.valueLabels.create();this._valueLabel=i,this.addSprite(i),this._disposers.push(i),i.parent=this.itemContainer,this._disposers.push(new Bt(function(){L(e.component)&&e.component.valueLabels.removeValue(i)}))}return this._valueLabel},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"itemContainer",{get:function(){var e=this;if(!this._itemContainer){var i=this.component,s=i.itemContainers.create();s.parent=i,this._itemContainer=s,this.addSprite(s),this._disposers.push(s),s.togglable&&s.events.on("toggled",function(h){i.toggleDataItem(h.target.dataItem)},void 0,!1),s.focusable&&(s.events.on("hit",function(h){i.focusedItem=void 0},void 0,!1),s.events.on("focus",function(h){i.focusedItem=h.target.dataItem},void 0,!1),s.events.on("blur",function(h){i.focusedItem=void 0},void 0,!1)),this._disposers.push(new Bt(function(){L(e.component)&&e.component.itemContainers.removeValue(s)})),this.dataContext.uidAttr&&(s.readerControls=this.dataContext.uidAttr(),s.readerLabelledBy=this.dataContext.uidAttr());var l=this.dataContext;if((l instanceof Yd||l instanceof Je)&&!l.isDisposed()){var p=function(h){s.readerChecked=h.visible,s.events.disableType("toggled"),s.isActive=!h.visible,s.events.enableType("toggled")};l.addDisposer(new Bt(function(){e.component&&e.component.dataItems.remove(e)})),l instanceof Je?(s.addDisposer(l.events.on("visibilitychanged",p,void 0,!1)),s.addDisposer(l.events.on("hidden",function(h){s.readerChecked=!1,s.events.disableType("toggled"),s.isActive=!0,s.events.enableType("toggled")},void 0,!1)),s.addDisposer(l.events.on("shown",function(h){s.readerChecked=!0,s.events.disableType("toggled"),s.isActive=!1,s.events.enableType("toggled")},void 0,!1))):s.addDisposer(l.events.on("visibilitychanged",p,void 0,!1))}}return this._itemContainer},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"marker",{get:function(){var e=this;if(!this._marker){var i=this.component.markers.create();this._marker=i,i.parent=this.itemContainer,this.addSprite(i),this._disposers.push(i),this._disposers.push(new Bt(function(){L(e.component)&&e.component.markers.removeValue(i)}))}return this._marker},enumerable:!0,configurable:!0}),t}(Yd),wV=function(){this.createMarker=!0},eD=function(n){function t(){var e=n.call(this)||this;e.className="Legend",e.layout="grid",e.setPropertyValue("useDefaultMarker",!1),e.setPropertyValue("scrollable",!1),e.setPropertyValue("contentAlign","center");var i=new Ve;i.applyOnClones=!0,i.padding(8,0,8,0),i.margin(0,10,0,10),i.layout="horizontal",i.clickable=!0,i.focusable=!0,i.role="switch",i.togglable=!0,i.cursorOverStyle=jn.pointer,i.background.fillOpacity=0,e.itemContainers=new Ii(i),e._disposers.push(new Qt(e.itemContainers)),e._disposers.push(e.itemContainers.template),e._disposers.push($e().body.events.on("keyup",function(m){if(il.isKey(m.event,"enter")&&e.focusedItem){var _=e.focusedItem,b=_.itemContainer;b.togglable?e.toggleDataItem(_):b.clickable&&b.events.isEnabled("hit")&&(b.dispatchImmediately("hit",{event:m}),e.focusedItem=_)}},e));var s=new Rt,l=new Ve;l.width=23,l.height=23,l.interactionsEnabled=!1,l.applyOnClones=!0,l.setStateOnChildren=!0,l.background.fillOpacity=0,l.background.strokeOpacity=0,l.propertyFields.fill="fill",l.valign="middle";var p=s.getFor("disabledBackground");l.events.on("childadded",function(m){var b=m.newValue.states.create("active");b.properties.stroke=p,b.properties.fill=p}),e.markers=new Ii(l),e._disposers.push(new Qt(e.markers)),e._disposers.push(e.markers.template);var h=l.createChild(rl);h.width=ue(100),h.height=ue(100),h.applyOnClones=!0,h.propertyFields.fill="fill",h.strokeOpacity=0;var g=new Yr;g.text="{name}",g.margin(0,5,0,5),g.valign="middle",g.applyOnClones=!0,g.states.create("active").properties.fill=s.getFor("disabledBackground"),e.labels=new Ii(g),e._disposers.push(new Qt(e.labels)),e._disposers.push(e.labels.template),g.interactionsEnabled=!1,g.truncate=!0,g.fullWords=!1;var v=new Yr;return v.margin(0,5,0,0),v.valign="middle",v.width=50,v.align="right",v.textAlign="end",v.applyOnClones=!0,v.states.create("active").properties.fill=s.getFor("disabledBackground"),v.interactionsEnabled=!1,e.valueLabels=new Ii(v),e._disposers.push(new Qt(e.valueLabels)),e._disposers.push(e.valueLabels.template),e.position="bottom",i.states.create("active"),i.setStateOnChildren=!0,e.role="group",e.events.on("layoutvalidated",e.handleScrollbar,e,!1),e.applyTheme(),e}return $(t,n),t.prototype.applyInternalDefaults=function(){n.prototype.applyInternalDefaults.call(this),L(this.readerTitle)||(this.readerTitle=this.language.translate("Legend"))},t.prototype.createDataItem=function(){return new YY},t.prototype.validateDataElements=function(){this.scrollbar&&(this.scrollbar.start=0,this.scrollbar.end=1),n.prototype.validateDataElements.call(this)},t.prototype.validateDataElement=function(e){n.prototype.validateDataElement.call(this,e);var i=e.itemContainer,s=e.marker,l=e.valueLabel;i.readerChecked=e.dataContext.visible,e.dataContext.legendDataItem=e;var p=e.label.maxWidth;e.label.width instanceof ft||(e.label.width=void 0),p>0&&(e.label.maxWidth=p),"right"==l.align&&(l.width=void 0);var h=e.dataContext.legendSettings,g=e.dataContext;!g.createLegendMarker||this.useDefaultMarker&&g instanceof Je?this.markers.template.propertyFields.fill=void 0:e.childrenCreated||(g.createLegendMarker(s),e.childrenCreated=!0),g.updateLegendValue&&g.updateLegendValue(),g.component&&g.component.updateLegendValue&&g.component.updateLegendValue(g),l.invalid&&l.validate(),l.__disabled=""==l.text||null==l.text,h&&(null!=h.itemValueText||null!=h.valueText)&&(l.__disabled=!1);var v=e.dataContext.visible;void 0===v&&(v=!0),v=pi(v),e.dataContext.visible=v,i.events.disableType("toggled"),i.isActive=!v,i.setState(i.isActive?"active":"default",0),i.events.enableType("toggled")},t.prototype.afterDraw=function(){var e=this,i=this.getPropertyValue("maxWidth"),s=0;this.labels.each(function(_){_.invalid&&(_.maxWidth=void 0,_.validate()),_.measuredWidth+_.pixelMarginLeft+_.pixelMarginRight>s&&(s=_.measuredWidth+_.pixelMarginLeft+_.pixelMarginRight)});var l=0;this.valueLabels.each(function(_){_.invalid&&_.validate(),_.measuredWidth+_.pixelMarginLeft+_.pixelMarginRight>l&&(l=_.measuredWidth+_.pixelMarginLeft+_.pixelMarginRight)});var p=0;this.markers.each(function(_){_.invalid&&_.validate(),_.measuredWidth+_.pixelMarginLeft+_.pixelMarginRight>p&&(p=_.measuredWidth+_.pixelMarginLeft+_.pixelMarginRight)});var v,h=this.itemContainers.template,g=h.pixelMarginRight+h.pixelMarginLeft,m=s+l+p;M(i)?((i-=g)>m&&(i=m),v=i-p-l):v=s,this.labels.each(function(_){("right"==e.valueLabels.template.align||_.measuredWidth>v)&&(_.width instanceof ft||(_.width=Math.min(_.maxWidth,v-_.pixelMarginLeft-_.pixelMarginRight),_.maxWidth=_.width))}),"right"==this.valueLabels.template.align&&this.valueLabels.each(function(_){_.width=l-_.pixelMarginRight-_.pixelMarginLeft}),n.prototype.afterDraw.call(this)},t.prototype.handleScrollbar=function(){var e=this.scrollbar;this.scrollable&&e&&(e.height=this.measuredHeight,e.x=this.measuredWidth-e.pixelWidth-e.pixelMarginLeft,this.contentHeight>this.measuredHeight?(e.visible=!0,e.thumb.height=e.height*this.measuredHeight/this.contentHeight,this.paddingRight=e.pixelWidth+e.pixelMarginLeft+ +e.pixelMarginRight):e.visible=!1,this.updateMasks())},Object.defineProperty(t.prototype,"position",{get:function(){return this.getPropertyValue("position")},set:function(e){this.setPropertyValue("position",e)&&("left"==e||"right"==e?(this.margin(10,5,10,10),this.valign="middle",this.contentAlign="none",this.valueLabels.template.align="right",M(this.maxColumns)||(this.maxColumns=1),this.width=void 0,this.maxWidth=220):(this.maxColumns=void 0,this.width=ue(100),this.valueLabels.template.align="left"),this.invalidate())},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"useDefaultMarker",{get:function(){return this.getPropertyValue("useDefaultMarker")},set:function(e){this.setPropertyValue("useDefaultMarker",e,!0)},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"scrollable",{get:function(){return this.getPropertyValue("scrollable")},set:function(e){if(this.setPropertyValue("scrollable",e,!0))if(e){var i=this.createChild(X0);this.scrollbar=i,i.isMeasured=!1,i.orientation="vertical",i.endGrip.__disabled=!0,i.startGrip.__disabled=!0,i.visible=!1,i.marginLeft=5,this._mouseWheelDisposer=this.events.on("wheel",this.handleWheel,this,!1),this._disposers.push(this._mouseWheelDisposer),this._disposers.push(i.events.on("rangechanged",this.updateMasks,this,!1))}else this._mouseWheelDisposer&&(this._mouseWheelDisposer.dispose(),this.scrollbar&&(this.scrollbar.dispose(),this.scrollbar=void 0))},enumerable:!0,configurable:!0}),t.prototype.handleWheel=function(e){var i=e.shift.y,s=this.scrollbar;if(s){var l=i/1e3*this.measuredHeight/this.contentHeight,p=s.end-s.start;i>0?(s.start=Qe(0,s.start-l),s.end=s.start+p):(s.end=vt(1,s.end-l),s.start=s.end-p)}},t.prototype.updateMasks=function(){var e=this;this.scrollbar&&this.itemContainers.each(function(i){i.dy=-e.scrollbar.thumb.pixelY*e.contentHeight/e.measuredHeight,i.maskRectangle={x:0,y:-i.dy,width:e.measuredWidth,height:e.measuredHeight}})},t.prototype.toggleDataItem=function(e){var i=e.dataContext;!i.visible||i.isHiding||i instanceof Je&&i.isHidden?(e.color=e.colorOrig,i.appeared=!0,e.itemContainer.isActive=!1,!0===i.hidden&&(i.hidden=!1),i.show?i.show():i.visible=!0,this.svgContainer.readerAlert(this.language.translate("%1 shown",this.language.locale,e.label.readerTitle))):(e.itemContainer.isActive=!0,i.appeared=!0,i.hide?i.hide():i.visible=!1,this.svgContainer.readerAlert(this.language.translate("%1 hidden",this.language.locale,e.label.readerTitle)),e.color=(new Rt).getFor("disabledBackground"))},Object.defineProperty(t.prototype,"preloader",{get:function(){},enumerable:!0,configurable:!0}),t.prototype.handleDataItemPropertyChange=function(e,i){e.valueLabel.invalidate(),e.label.invalidate()},t}(Kd);G.registeredClasses.Legend=eD,Wn.push({relevant:mr.widthXS,state:function(n,t){if(n instanceof eD&&("left"==n.position||"right"==n.position)){var e=n.states.create(t);return e.properties.position="bottom",e}return null}}),Wn.push({relevant:mr.heightXS,state:function(n,t){if(n instanceof eD&&("top"==n.position||"bottom"==n.position)){var e=n.states.create(t);return e.properties.position="right",e}return null}}),Wn.push({relevant:mr.isXS,state:function(n,t){if(n instanceof eD){var e=n.states.create(t);return e.properties.disabled=!0,e}return null}});var tD=function(n){function t(){var e=n.call(this)||this;return e.className="SeriesDataItem",e.values.value={},e.values.value={},e.applyTheme(),e}return $(t,n),Object.defineProperty(t.prototype,"bullets",{get:function(){return this._bullets||(this._bullets=new ii,this._disposers.push(new zd(this._bullets))),this._bullets},enumerable:!0,configurable:!0}),t.prototype.dispose=function(){this.bullets.clear(),n.prototype.dispose.call(this)},Object.defineProperty(t.prototype,"value",{get:function(){return this.values.value.value},set:function(e){this.setValue("value",e)},enumerable:!0,configurable:!0}),t}(Yd),iD=function(n){function t(){var e=n.call(this)||this;if(e._ignoreMinMax=!1,e._showBullets=!0,e.legendSettings=new wV,e._tmin=new ii,e._tmax=new ii,e._smin=new ii,e._smax=new ii,e.dataItemsByAxis=new ii,e.skipFocusThreshold=20,e._itemReaderTextChanged=!1,e.calculatePercent=!1,e.usePercentHack=!0,e.autoDispose=!0,e.simplifiedProcessing=!1,e.constructor===t)throw new Error("'Series' cannot be instantiated directly. Please use a specific series type.");e.className="Series",e.isMeasured=!1,e.layout="none",e.shouldClone=!1,e.setPropertyValue("hidden",!1),e.axisRanges=new Dt,e.axisRanges.events.on("inserted",e.processAxisRange,e,!1),e.minBulletDistance=0,e.mainContainer=e.createChild(Ve),e.mainContainer.shouldClone=!1,e.mainContainer.mask=e.createChild(Je),e._disposers.push(e.mainContainer);var i=e.mainContainer.createChild(Ve);return e._shouldBeReady.push(i),i.shouldClone=!1,i.layout="none",i.virtualParent=e,e._disposers.push(i),e.bulletsContainer=i,e.tooltip=new Hf,e.tooltip.virtualParent=e,e._disposers.push(e.tooltip),e.hiddenState.transitionEasing=ML,e.dataItem=e.createDataItem(),e._disposers.push(e.dataItem),e.dataItem.component=e,e.role="group",e.applyTheme(),e}return $(t,n),t.prototype.applyTheme=function(){n.prototype.applyTheme.call(this),nt.autoSetClassName&&this.bulletsContainer&&(this.bulletsContainer.className=this.className+"-bullets",this.bulletsContainer.setClassName())},t.prototype.applyInternalDefaults=function(){n.prototype.applyInternalDefaults.call(this),L(this.readerTitle)||(this.readerTitle=this.language.translate("Series"))},t.prototype.createDataItem=function(){return new tD},Object.defineProperty(t.prototype,"chart",{get:function(){return this._chart},set:function(e){this._chart=e},enumerable:!0,configurable:!0}),t.prototype.positionBullet=function(e){},t.prototype.processBullet=function(e){var i=this,s=e.newValue;s.isTemplate=!0,this.events.once("datavalidated",function(l){i.itemsFocusable()&&(s.focusable=!0)}),this.invalidate()},t.prototype.removeBullet=function(e){var i=e.oldValue;this.dataItems.each(function(s){var l=s.bullets.getKey(i.uid);l&&l.dispose()}),this.invalidate()},t.prototype.validateDataItems=function(){n.prototype.validateDataItems.call(this),this.processValues(!1)},t.prototype.getFirstValue=function(e,i){for(var s=i;s>=0;s--){var p=this.dataItems.getIndex(s).getActualWorkingValue(e);if(M(p))return p}return null},t.prototype.getAbsoluteFirstValue=function(e){for(var i=0;i<this.dataItems.length;i++){var l=this.dataItems.getIndex(i).values[e].value;if(M(l))return l}return null},t.prototype.rangeChangeUpdate=function(){n.prototype.rangeChangeUpdate.call(this),this.processValues(!0)},t.prototype.processValues=function(e){var i=this;if(!this.simplifiedProcessing){var s=this.dataItems,l={},p={},h={},g={},v={},m={},_={},b={},C={},S={},E=Qe(0,this.startIndex);E=vt(E,this.dataItems.length);var x=vt(this.endIndex,this.dataItems.length);if(M(E)||(E=0),M(x)||(x=this.dataItems.length),E>0){var R=s.getIndex(E-1);We(R.values,function(K,X){var J=R.getActualWorkingValue(K);M(J)&&(b[K]=J)})}for(var P=function(K){var X=s.getIndex(K);We(X.values,function(J,je){var we=X.getActualWorkingValue(J);if(M(we)){M(l[J])||(l[J]=0),l[J]++,M(p[J])||(p[J]=0),p[J]+=we,M(h[J])||(h[J]=0),h[J]+=Math.abs(we),M(m[J])||(m[J]=we),_[J]=we,M(g[J])?g[J]>we&&(g[J]=we):g[J]=we,M(v[J])?v[J]<we&&(v[J]=we):v[J]=we,M(C[J])||(C[J]=i.getFirstValue(J,E)),M(S[J])||(S[J]=i.getAbsoluteFirstValue(J)),X.setCalculatedValue(J,we-C[J],"change"),X.setCalculatedValue(J,(we-C[J])/C[J]*100,"changePercent"),X.setCalculatedValue(J,we-S[J],"startChange"),X.setCalculatedValue(J,(we-S[J])/S[J]*100,"startChangePercent");var Oe=b[J];M(Oe)||(Oe=we),X.setCalculatedValue(J,we-Oe,"previousChange"),X.setCalculatedValue(J,(we-Oe)/Oe*100,"previousChangePercent"),b[J]=we}})},k=E;k<x;k++)P(k);if(this.calculatePercent){var U=function(K){var X=s.getIndex(K);We(X.values,function(J){var je=h[J],we=X.getActualWorkingValue(J);M(we)&&(je>0?(i.usePercentHack&&we==je&&(je=X.values[J].value),X.setCalculatedValue(J,we/je*100,"percent")):X.setCalculatedValue(J,0,"percent"))})};for(k=E;k<x;k++)U(k)}if(E>0){var W=s.getIndex(E-1);We(W.values,function(K){var X=W.values[K].value;W.setCalculatedValue(K,X-m[K],"change"),W.setCalculatedValue(K,(X-m[K])/m[K]*100,"changePercent")})}var Y=this.dataItem;We(Y.values,function(K){Y.setCalculatedValue(K,p[K],"sum"),Y.setCalculatedValue(K,h[K],"absoluteSum"),Y.setCalculatedValue(K,p[K]/l[K],"average"),Y.setCalculatedValue(K,m[K],"open"),Y.setCalculatedValue(K,_[K],"close"),Y.setCalculatedValue(K,g[K],"low"),Y.setCalculatedValue(K,v[K],"high"),Y.setCalculatedValue(K,l[K],"count")})}},t.prototype.validate=function(){Em()&&this.filters.clear(),oe(this.axisRanges.iterator(),function(l){l.validate()}),n.prototype.validate.call(this);var e=this.bulletsContainer;if(e.fill=this.fill,e.stroke=this.stroke,e.x=this.pixelX,e.y=this.pixelY,this.bulletsContainer.children.length>0)if(this._showBullets){for(var i=0;i<this.startIndex;i++)(s=this.dataItems.getIndex(i))&&s.bullets.each(function(l,p){p.__disabled=!0});for(i=this.dataItems.length-1;i>this.endIndex;i--){var s;(s=this.dataItems.getIndex(i))&&s.bullets.each(function(h,g){g.__disabled=!0})}}else this.bulletsContainer.children.each(function(l){l.__disabled=!0});this.updateTooltipBounds()},t.prototype.updateTooltipBounds=function(){this.topParent&&this.tooltip.setBounds({x:0,y:0,width:this.topParent.maxWidth,height:this.topParent.maxHeight})},t.prototype.shouldCreateBullet=function(e,i){return!0},t.prototype.validateDataElement=function(e){var i=this;n.prototype.validateDataElement.call(this,e),this._showBullets?(this.isHidden||(this.bulletsContainer.visible=!0),this.bullets.each(function(s){var l=e.bullets.getKey(s.uid);if(i.shouldCreateBullet(e,s)){if(!l){var p=s.propertyFields.disabled,h=e.dataContext;p&&h&&!1===h[p]?(s.applyOnClones=!1,s.disabled=!1,l=s.clone(),s.disabled=!0,s.applyOnClones=!0):l=s.clone(),l.shouldClone=!1,e.addSprite(l),(!i.visible||i.isHiding)&&l.hide(0)}var g=l.dataItem;if(g!=e){g&&g.bullets.setKey(s.uid,void 0);var v=i.itemReaderText;l instanceof ol&&(v||(v="{"+l.xField+"}: {"+l.yField+"}"),l.isDynamic&&(e.events.on("workingvaluechanged",l.deepInvalidate,l,!1),i.dataItem.events.on("workingvaluechanged",l.deepInvalidate,l,!1)),l.deepInvalidate()),l.focusable&&(l.events.on("focus",function(m){l.readerTitle=i.populateString(v,l.dataItem)},void 0,!1),l.events.on("blur",function(m){l.readerTitle=""},void 0,!1)),l.hoverable&&(l.events.on("over",function(m){l.readerTitle=i.populateString(v,l.dataItem)},void 0,!1),l.events.on("out",function(m){l.readerTitle=""},void 0,!1))}l.parent=i.bulletsContainer,e.bullets.setKey(s.uid,l),l.maxWidth=e.itemWidth,l.maxHeight=e.itemHeight,l.__disabled=!1,i.positionBullet(l)}else l&&(l.__disabled=!0)})):this.bulletsContainer.visible=!1},t.prototype.handleDataItemWorkingValueChange=function(e,i){this.dataRangeInvalid||this.invalidateProcessedData()},Object.defineProperty(t.prototype,"ignoreMinMax",{get:function(){return this._ignoreMinMax},set:function(e){this._ignoreMinMax=e,this.invalidateDataItems()},enumerable:!0,configurable:!0}),t.prototype.createMask=function(){},t.prototype.processAxisRange=function(e){this.rangesContainer||(this.rangesContainer=this.createChild(Ve),this.rangesContainer.shouldClone=!1,this.rangesContainer.isMeasured=!1);var i=e.newValue;i&&(i.contents.parent=this.rangesContainer,i.isRange=!0,i.events.on("valuechanged",this.invalidateDataItems,this,!1))},t.prototype.getAxisField=function(e){},t.prototype.showTooltipAtPosition=function(e,i){},Object.defineProperty(t.prototype,"minBulletDistance",{get:function(){return this.getPropertyValue("minBulletDistance")},set:function(e){this.setPropertyValue("minBulletDistance",e,!0)},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"bullets",{get:function(){return this._bullets||(this._bullets=new Ii(new ol),this._bullets.template.virtualParent=this,this._bullets.events.on("inserted",this.processBullet,this,!1),this._bullets.events.on("removed",this.removeBullet,this,!1),this._disposers.push(new Qt(this._bullets)),this._disposers.push(this._bullets.template)),this._bullets},enumerable:!0,configurable:!0}),t.prototype.createLegendMarker=function(e){},Object.defineProperty(t.prototype,"hiddenInLegend",{get:function(){return this.getPropertyValue("hiddenInLegend")},set:function(e){this.setPropertyValue("hiddenInLegend",e)&&this.chart&&this.chart.feedLegend()},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"name",{get:function(){return this.getPropertyValue("name")},set:function(e){this.setPropertyValue("name",e);var i=this.legendDataItem;i&&(i.component.invalidate(),i.component.invalidateRawData()),this.readerTitle=e},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"itemReaderText",{get:function(){var e=this._itemReaderText;return e||(this.tooltipText?e=vR(this.tooltipText):this.tooltipHTML&&(e=vR(this.tooltipHTML))),this._adapterO?this._adapterO.apply("itemReaderText",e):e},set:function(e){this._itemReaderText=e,this._itemReaderTextChanged=!0},enumerable:!0,configurable:!0}),t.prototype.itemsFocusable=function(){return!(this.dataItems.length>=this.skipFocusThreshold)},Object.defineProperty(t.prototype,"legendDataItem",{get:function(){return this._legendDataItem},set:function(e){this._legendDataItem=e,this._legendDataItem.itemContainer.deepInvalidate()},enumerable:!0,configurable:!0}),t.prototype.updateLegendValue=function(e,i){if(this.legendDataItem){var s=this.legendSettings,l=this.legendDataItem,p=l.label,h=l.valueLabel;e&&!e.isDisposed()||i?(h&&(s.itemValueText&&(h.text=s.itemValueText),h.dataItem=e),p&&(s.itemLabelText&&(p.text=s.itemLabelText),p.dataItem=e)):(p&&((s.labelText||null!=s.itemLabelText)&&(p.text=s.labelText),p.dataItem=this.dataItem),h&&((s.valueText||null!=s.itemValueText)&&(h.text=s.valueText),h.dataItem=this.dataItem))}},t.prototype.copyFrom=function(e){this.bullets.copyFrom(e.bullets),this.bulletsContainer.copyFrom(e.bulletsContainer),this.calculatePercent=e.calculatePercent,this.usePercentHack=e.usePercentHack,this.simplifiedProcessing=e.simplifiedProcessing,n.prototype.copyFrom.call(this,e)},t.prototype.raiseCriticalError=function(e){this._chart&&this._chart.modal&&(this._chart.modal.content=this._chart.adapter.apply("criticalError",e).message,this._chart.modal.closable=!1,nt.suppressErrors||this._chart.modal.open(),this._chart.disabled=!0),nt.verbose&&console.log(e)},t.prototype.applyFilters=function(){var e=this;n.prototype.applyFilters.call(this),this.bulletsContainer.filters.clear(),oe(this.filters.iterator(),function(i){e.bulletsContainer.filters.push(i.clone())})},Object.defineProperty(t.prototype,"heatRules",{get:function(){var e=this;return this._heatRules||(this._heatRules=new Dt,this._heatRules.events.on("inserted",function(i){var s=i.newValue,l=s.target;if(l){var p=s.dataField;L(p)||(p="value");var h=e.dataItem,g=s.property,v=Zt(s.minValue),m=Zt(s.maxValue);!M(v)&&!M(m)&&e.dataItem.events.on("calculatedvaluechanged",function(_){_.property==p&&oe(e.dataItems.iterator(),function(b){var C=!1;be(b.sprites,function(S){S.clonedFrom==l&&(S[g]=S[g],C=!0)}),C||be(b.sprites,function(S){S instanceof Ve&&oe(S.children.iterator(),function(E){E.className==l.className?E[g]=E[g]:E instanceof Ve&&E.deepInvalidate()})})})}),e.dataItems.template.events.on("workingvaluechanged",function(_){if(_.property==p){var b=_.target,C=!1;be(b.sprites,function(S){S.clonedFrom==l&&(S[g]=S[g],C=!0)}),C||be(b.sprites,function(S){S instanceof Ve&&oe(S.children.iterator(),function(E){E.className==l.className?E[g]=E[g]:E instanceof Ve&&E.deepInvalidate()})})}}),l.adapter.add(g,function(_,b,C){var S=Zt(s.minValue),E=Zt(s.maxValue),x=s.min,R=s.max;if(b instanceof Je){var k=b.propertyFields[C];if(k&&b.dataItem){var U=b.dataItem.dataContext;if(U&&L(U[k]))return _}}var W=b.dataItem;if(M(S)||(S=h.values[p].low),M(E)||(E=h.values[p].high),W&&W.values[p]){var K=W.getActualWorkingValue(p);if(L(x)&&L(R)&&M(S)&&M(E)&&M(K)){var X=void 0;if(X=s.logarithmic?(Math.log(K)*Math.LOG10E-Math.log(S)*Math.LOG10E)/(Math.log(E)*Math.LOG10E-Math.log(S)*Math.LOG10E):(K-S)/(E-S),M(K)&&(!M(X)||Math.abs(X)==1/0)&&(X=.5),M(x))return x+(R-x)*X;if(x instanceof St)return new St(E0(x.rgb,R.rgb,X))}}return _})}})),this._heatRules},enumerable:!0,configurable:!0}),t.prototype.processConfig=function(e){var i;if(e){if(L(e.bullets)&&hn(e.bullets))for(var s=0,l=e.bullets.length;s<l;s++){var p=e.bullets[s];L(p.type)||(p.type="Bullet")}L(e.heatRules)&&hn(e.heatRules)&&(i=e.heatRules,delete e.heatRules)}if(n.prototype.processConfig.call(this,e),i){for(s=0,l=i.length;s<l;s++){var h=i[s],g=this;if(L(h.target)&&gt(h.target))if(this.map.hasKey(h.target))g=this.map.getKey(h.target);else for(var v=h.target.split("."),m=0;m<v.length;m++)if(g instanceof Dt){var _=g.getIndex(Zt(v[m]));g=_||g[v[m]]}else{var b=v[m].match(/^(.*)\[([0-9]+)\]/);g=b?g[b[1]]instanceof Dt?g[b[1]].getIndex(Zt(b[2])):g[b[1]][Zt(b[2])]:g[v[m]]}h.target=g,L(h.min)&&(h.min=this.maybeColorOrPercent(h.min)),L(h.max)&&(h.max=this.maybeColorOrPercent(h.max))}n.prototype.processConfig.call(this,{heatRules:i})}},t.prototype.configOrder=function(e,i){return e==i?0:"heatRules"==e?1:"heatRules"==i?-1:n.prototype.configOrder.call(this,e,i)},t.prototype.setVisibility=function(e){n.prototype.setVisibility.call(this,e),this.bulletsContainer.visible=e},t}(Kd);G.registeredClasses.Series=iD,G.registeredClasses.SeriesDataItem=tD;var DV=function(n){function t(){var e=n.call(this)||this;return e.className="SerialChartDataItem",e.applyTheme(),e}return $(t,n),t}(CV),QR=function(n){function t(){var e=n.call(this)||this;e.className="SerialChart",e.colors=new Fm,e._usesData=!1;var i=e.chartContainer.createChild(Ve);i.shouldClone=!1,i.width=ue(100),i.height=ue(100),i.isMeasured=!1,i.layout="none",i.zIndex=2,e.seriesContainer=i;var s=e.chartContainer.createChild(Ve);return s.shouldClone=!1,s.width=ue(100),s.height=ue(100),s.isMeasured=!1,s.zIndex=3,s.layout="none",e.bulletsContainer=s,e.applyTheme(),e}return $(t,n),t.prototype.dispose=function(){n.prototype.dispose.call(this),this.colors&&this.colors.dispose(),this.patterns&&this.patterns.dispose()},t.prototype.applyInternalDefaults=function(){n.prototype.applyInternalDefaults.call(this),L(this.readerTitle)||(this.readerTitle=this.language.translate("Serial chart"))},Object.defineProperty(t.prototype,"series",{get:function(){return this._series||(this._series=new Ii(this.createSeries()),this._series.events.on("inserted",this.handleSeriesAdded,this,!1),this._series.events.on("removed",this.handleSeriesRemoved,this,!1),this._disposers.push(new Qt(this._series,!1)),this._disposers.push(this._series.template)),this._series},enumerable:!0,configurable:!0}),t.prototype.handleSeriesRemoved=function(e){var i=e.oldValue;this.dataUsers.removeValue(i),this.dataUsers.each(function(v){v.invalidateDataItems()}),i.autoDispose?i.dispose():(i.parent=void 0,i.bulletsContainer.parent=void 0);var s=this.legend;if(s){for(var l=this.legend.dataItems,p=l.length-1;p>=0;p--){var h=l.getIndex(p);h&&h.dataContext==i&&s.dataItems.remove(h)}for(p=s.data.length-1;p>=0;p--){var g=s.data[p];g&&g==i&&Ue(s.data,g)}}},t.prototype.handleSeriesAdded=function(e){var i=this,s=e.newValue;s.isDisposed()||(s.chart=this,s.parent=this.seriesContainer,s.bulletsContainer.parent=this.bulletsContainer,this._dataUsers.moveValue(s),s.addDisposer(new Bt(function(){i.dataUsers.removeValue(s)})),this.handleSeriesAdded2(s),this.handleLegendSeriesAdded(s))},t.prototype.handleLegendSeriesAdded=function(e){e.hiddenInLegend||this.legend&&this.legend.addData(e)},t.prototype.handleSeriesAdded2=function(e){var i=this;this.dataInvalid||this._disposers.push(G.events.once("exitframe",function(){(!e.data||0==e.data.length)&&(e.data=i.data,e.showOnInit&&(e.reinit(),e.setPropertyValue("showOnInit",!1),e.showOnInit=!0),e.isDisposed()||e.events.once("datavalidated",function(){e.data==i.data&&(e._data=[])}))}))},t.prototype.feedLegend=function(){var e=this.legend;if(e){var i=[];oe(this.series.iterator(),function(s){s.hiddenInLegend||i.push(s)}),e.dataFields.name="name",e.data=i}},t.prototype.createSeries=function(){return new iD},Object.defineProperty(t.prototype,"colors",{get:function(){return this.getPropertyValue("colors")},set:function(e){this.setPropertyValue("colors",e,!0)},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"patterns",{get:function(){return this.getPropertyValue("patterns")},set:function(e){this.setPropertyValue("patterns",e,!0)},enumerable:!0,configurable:!0}),t.prototype.copyFrom=function(e){n.prototype.copyFrom.call(this,e),this.series.copyFrom(e.series)},t.prototype.appear=function(){n.prototype.appear.call(this),this.series.each(function(e){e.showOnInit&&e.inited&&e.appear()})},t}(Jd);G.registeredClasses.SerialChart=QR;var nD=function(n){function t(){var e=n.call(this)||this;e._axis=new Pn,e.dataItems=new Dt,e.className="AxisBreak",e.breakSize=.01,e.marginLeft=-5,e.marginRight=-5,e.marginTop=-5,e.marginBottom=-5;var i=new Rt,s=new Qd;s.fill=i.getFor("background"),s.stroke=Le(),s.fillOpacity=.9,s.zIndex=0,e._fillShape=s;var l=new Qd;l.fill=Le(),l.stroke=i.getFor("grid"),l.strokeOpacity=.3,l.zIndex=1,e._startLine=l;var p=new Qd;return p.fill=Le(),p.stroke=Le("#000000"),p.strokeOpacity=.3,p.zIndex=2,e._endLine=p,e._disposers.push(e._axis),e.applyTheme(),e}return $(t,n),t.prototype.dispose=function(){n.prototype.dispose.call(this),this._fillShape&&this._fillShape.dispose(),this._startLine&&this._startLine.dispose(),this._endLine&&this._endLine.dispose()},Object.defineProperty(t.prototype,"startLine",{get:function(){return this._startLine},set:function(e){this._startLine&&this._startLine.dispose(),this._startLine=e,this.addBreakSprite(e)},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"endLine",{get:function(){return this._endLine},set:function(e){this._endLine&&this._endLine.dispose(),this._endLine=e,this.addBreakSprite(e)},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"fillShape",{get:function(){return this._fillShape},set:function(e){this._fillShape&&this._fillShape.dispose(),this._fillShape=e,this.addBreakSprite(e)},enumerable:!0,configurable:!0}),t.prototype.addBreakSprite=function(e){e.parent=this,e.isMeasured=!1,this._disposers.push(e)},Object.defineProperty(t.prototype,"axis",{get:function(){return this._axis.get()},set:function(e){if(this._axis.get()!==e){this._axis.set(e,e.renderer.gridContainer.events.on("transformed",this.invalidate,this,!1)),e.renderer.createBreakSprites(this);var i=e.axisBreaks.template;this.startLine.copyFrom(i.startLine),this.endLine.copyFrom(i.endLine),this.fillShape.copyFrom(i.fillShape)}},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"breakSize",{get:function(){return this.getPropertyValue("breakSize")},set:function(e){this.setPropertyValue("breakSize",e)&&this.axis&&(this.axis.invalidate(),this.axis.invalidateSeries())},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"startPoint",{get:function(){var e=this.axis.renderer;if(e)return e.positionToPoint(this.startPosition)},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"endPoint",{get:function(){var e=this.axis.renderer;if(e)return e.positionToPoint(this.endPosition)},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"startPosition",{get:function(){},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"endPosition",{get:function(){},enumerable:!0,configurable:!0}),t.prototype.draw=function(){n.prototype.draw.call(this),this.axis&&this.axis.renderer.updateBreakElement(this)},Object.defineProperty(t.prototype,"startValue",{get:function(){return this.getPropertyValue("startValue")},set:function(e){this.setPropertyValue("startValue",e)&&this.axis&&(this.axis.invalidate(),this.axis.invalidateSeries())},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"endValue",{get:function(){return this.getPropertyValue("endValue")},set:function(e){this.setPropertyValue("endValue",e)&&this.axis&&(this.axis.invalidate(),this.axis.invalidateSeries())},enumerable:!0,configurable:!0}),t}(Ve);G.registeredClasses.AxisBreak=nD;var Nm=function(n){function t(){var e=n.call(this)||this;return e.className="AxisDataItem",e.applyTheme(),e}return $(t,n),Object.defineProperty(t.prototype,"grid",{get:function(){if(!this._grid){var e=this.component;if(e){var s,i=void 0;if(this.isRange){if((i=e.axisRanges.template.grid).disabled)return;s=i.clone()}else{if((i=e.renderer.grid.template).disabled)return;s=e.renderer.grid.create(),this._disposers.push(new Bt(function(){e.renderer.grid.removeValue(s)}))}this.grid=s,s.shouldClone=!1,this._disposers.push(s),s.axis=this.component}}return this._grid},set:function(e){this._grid&&this._grid!=e&&(Ue(this.sprites,this._grid),this._grid.dataItem=void 0),e&&(e.dataItem&&e.dataItem!=this&&(Ue(e.dataItem.sprites,e),e.dataItem.grid=void 0),this.addSprite(e)),this._grid=e},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"tick",{get:function(){if(!this._tick){var e=this.component;if(e){var s,i=void 0;if(this.isRange){if((i=e.axisRanges.template.tick).disabled)return;s=i.clone()}else{if((i=e.renderer.ticks.template).disabled)return;s=e.renderer.ticks.create(),this._disposers.push(new Bt(function(){e.renderer.ticks.removeValue(s)}))}this.tick=s,s.axis=this.component,s.shouldClone=!1,this._disposers.push(s)}}return this._tick},set:function(e){this._tick&&this._tick!=e&&(Ue(this.sprites,this._tick),this._tick.dataItem=void 0),e&&(e.dataItem&&e.dataItem!=this&&(Ue(e.dataItem.sprites,e),e.dataItem.tick=void 0),this.addSprite(e)),this._tick=e},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"label",{get:function(){if(!this._label){var e=this.component;if(e){var s,i=void 0;if(this.isRange){if((i=e.axisRanges.template.label).disabled)return;s=i.clone()}else{if((i=e.renderer.labels.template).disabled)return;s=e.renderer.labels.create(),this._disposers.push(new Bt(function(){e.renderer.labels.removeValue(s)}))}this._disposers.push(s),this.label=s,s.shouldClone=!1,s.axis=this.component,s.virtualParent=e}}return this._label},set:function(e){this._label&&this._label!=e&&(Ue(this.sprites,this._label),this._label.dataItem=void 0),e&&(e.dataItem&&e.dataItem!=this&&(Ue(e.dataItem.sprites,e),e.dataItem.label=void 0),this.addSprite(e)),this._label=e},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"axisFill",{get:function(){if(!this._axisFill){var e=this.component;if(e){var s,i=void 0;if(this.isRange){if(i=e.axisRanges.template.axisFill,!this.isTemplate&&i.disabled)return;s=i.clone()}else{if((i=e.renderer.axisFills.template).disabled)return;s=e.renderer.axisFills.create(),this._disposers.push(new Bt(function(){e.renderer.axisFills.removeValue(s)}))}this.axisFill=s,s.shouldClone=!1,this._disposers.push(s)}}return this._axisFill},set:function(e){this._axisFill&&this._axisFill!=e&&(Ue(this.sprites,this._axisFill),this._axisFill.dataItem=void 0),e&&(e.dataItem&&e.dataItem!=this&&(Ue(e.dataItem.sprites,e),e.dataItem.axisFill=void 0),e.axis=this.component,this.addSprite(e)),this._axisFill=e},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"text",{get:function(){return this._text},set:function(e){this._text=e,this._label&&(this._label.text=e)},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"mask",{get:function(){return this._mask},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"contents",{get:function(){if(!this._contents){var e=new Ve;this.addSprite(e),e.isMeasured=!1,this._contents=e;var i=this.component;if(i){var s=i.renderer.createFill(this.component);s.disabled=!1,s.axis=i,this.addSprite(s),this._mask=s,e.mask=s}}return this._contents},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"axisBreak",{get:function(){return this._axisBreak},set:function(e){this._axisBreak&&this._axisBreak.dataItems.removeValue(this),e&&e.dataItems.push(this),this._axisBreak=e},enumerable:!0,configurable:!0}),t.prototype.validate=function(){this.component&&this.component.validateDataElement(this)},t.prototype.appendChildren=function(){this.component&&this.component.appendDataItem(this)},t.prototype.hasProperty=function(e){return"component"==e||n.prototype.hasProperty.call(this,e)},t.prototype.copyFrom=function(e){n.prototype.copyFrom.call(this,e),this.text=e.text,e.bullet&&(this.bullet=e.bullet.clone()),this.minPosition=e.minPosition,this.maxPosition=e.maxPosition},t.prototype.setVisibility=function(e,i){n.prototype.setVisibility.call(this,e,i),this._contents&&(this._contents.visible=e)},Object.defineProperty(t.prototype,"bullet",{get:function(){return this._bullet},set:function(e){this._bullet&&this._bullet!=e&&(Ue(this.sprites,this._bullet),this._bullet.dataItem=void 0),this._bullet=e,e&&this.addSprite(e)},enumerable:!0,configurable:!0}),t}(Yd),rD=function(n){function t(){var e=n.call(this)||this;if(e._gridCount=10,e._series=new Dt,e.autoDispose=!0,e._axisItemCount=0,e.constructor===t)throw new Error("'Axis' cannot be instantiated directly. Please use a specific axis type.");e.hideTooltipWhileZooming=!0,e.minWidth=1e-4,e.minHeight=1e-4,e.className="Axis",e.shouldClone=!1,e.setPropertyValue("cursorTooltipEnabled",!0),e.toggleZoomOutButton=!0,e.zoomable=!0;var i=new Rt;e.title=new Yr,e.title.shouldClone=!1,e._disposers.push(e.title),e.setPropertyValue("startLocation",0),e.setPropertyValue("endLocation",1),e._dataItemsIterator=new oR(e.dataItems,function(){return e.dataItems.create()}),e._dataItemsIterator.createNewItems=!0;var s=new Hf;e._disposers.push(s),s.label.padding(5,10,5,10),s.background.pointerLength=5,s.fitPointerToBounds=!0,s.background.filters.clear(),s.virtualParent=e;var l=s.background;return l.cornerRadius=0,l.fill=i.getFor("alternativeBackground"),l.stroke=l.fill,l.strokeWidth=1,l.fillOpacity=1,s.label.fill=i.getFor("alternativeText"),e.tooltip=s,e.readerHidden=!0,e.events.on("rangechangestarted",function(){e.series.each(function(p){p.hideTooltipWhileZooming&&(p.tooltip.hide(),p.tooltip.preventShow=!0)}),e.hideTooltipWhileZooming&&(e.tooltip.hide(),e.tooltip.preventShow=!0)},void 0,!1),e.events.on("rangechangeended",function(){e.series.each(function(p){p.hideTooltipWhileZooming&&(p.tooltip.hide(),p.tooltip.preventShow=!1)}),e.hideTooltipWhileZooming&&(e.tooltip.hide(),e.tooltip.preventShow=!1)},void 0,!1),e.applyTheme(),e}return $(t,n),t.prototype.fillRule=function(e,i){M(i)||(i=e.index),i/2==Math.round(i/2)?(e.axisFill.__disabled=!0,e.axisFill.opacity=0):(e.axisFill.opacity=1,e.axisFill.__disabled=!1)},t.prototype.createDataItem=function(){return new Nm},t.prototype.invalidateLayout=function(){n.prototype.invalidateLayout.call(this),oe(this.series.iterator(),function(e){e.invalidateLayout()})},t.prototype.invalidateSeries=function(){oe(this.series.iterator(),function(e){e.invalidate()})},t.prototype.validateDataElements=function(){this._axisItemCount=0,this.ghostLabel&&(this.renderer.updateLabelElement(this.ghostLabel,this.start,this.end),this.ghostLabel.validate())},t.prototype.updateGridCount=function(){if(this.renderer){var e=this.axisLength/this.renderer.minGridDistance;e!=this._gridCount&&(this._gridCount=e,this.clearCache())}},t.prototype.validateLayout=function(){this.axisFullLength=this.axisLength/(this.end-this.start),n.prototype.validateLayout.call(this),this.updateGridCount();var e=this.renderer;e&&(e.updateAxisLine(),e.updateTooltip(),e.updateBaseGridElement()),this._prevLength!=this.axisLength&&(this.dispatchImmediately("lengthchanged"),this._prevLength=this.axisLength)},t.prototype.initRenderer=function(){},t.prototype.appendDataItem=function(e){var i=this.renderer,s=e.tick;s&&(s.parent=s.above?i.bulletsContainer:i.gridContainer),e.label&&(e.label.parent=i);var l=e.axisFill;l&&(l.parent=l.above?i.bulletsContainer:i.gridContainer);var p=e.grid;p&&(p.parent=p.above?i.bulletsContainer:i.gridContainer),e.bullet&&(e.bullet.parent=i.bulletsContainer)},t.prototype.validate=function(){n.prototype.validate.call(this),this.validateLayout(),this.renderer.updateGridContainer()},t.prototype.validateAxisRanges=function(){var e=this;oe(this.axisRanges.iterator(),function(i){e.appendDataItem(i),e.validateDataElement(i),i.grid&&i.grid.validate(),i.tick&&i.tick.validate(),i.axisFill&&i.axisFill.validate(),i.label&&i.label.validate()})},t.prototype.validateBreaks=function(){this._axisBreaks&&oe(this._axisBreaks.iterator(),function(e){e.invalidate()})},t.prototype.processBreak=function(e){var i=e.newValue;i.parent=this.renderer.breakContainer,i.axis=this},t.prototype.registerSeries=function(e){var i=this;return this.series.moveValue(e),new mi([new Bt(function(){i.series.removeValue(e)}),this.events.on("lengthchanged",e.invalidate,e,!1),this.events.on("lengthchanged",e.createMask,e,!1),this.events.on("startchanged",e.invalidate,e,!1),this.events.on("endchanged",e.invalidate,e,!1)])},Object.defineProperty(t.prototype,"renderer",{get:function(){return this._renderer},set:function(e){if(e!=this._renderer){this._renderer=e,e.chart=this.chart,e.axis=this,e.parent=this,this.title.parent=this,this.initRenderer(),this._disposers.push(e.gridContainer.events.on("maxsizechanged",this.invalidate,this,!1));var i=this.renderer.labels.create();this._disposers.push(i),i.dataItem=this.dataItems.template.clone(),i.text="L",i.parent=this.renderer,i.shouldClone=!1,i.fillOpacity=0,i.opacity=0,i.strokeOpacity=0,i.interactionsEnabled=!1,i.validate(),this.ghostLabel=i,this.events.on("beforedatavalidated",function(){i.text="L"},void 0,!1)}},enumerable:!0,configurable:!0}),t.prototype.positionToAngle=function(e){return this.renderer.positionToAngle(e)},t.prototype.pointToPosition=function(e){return this.renderer.pointToPosition(e)},t.prototype.positionToCoordinate=function(e){return this.renderer.positionToCoordinate(e)},t.prototype.getAnyRangePath=function(e,i){return this.renderer.getPositionRangePath(e,i)},t.prototype.anyToPosition=function(e){return 0},t.prototype.anyToPoint=function(e){return{x:0,y:0,angle:0}},t.prototype.getPositionRangePath=function(e,i){return this.renderer?this.renderer.getPositionRangePath(e,i):""},Object.defineProperty(t.prototype,"axisLength",{get:function(){return this.renderer?this.renderer.axisLength:0},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"cursorTooltipEnabled",{get:function(){return this.getPropertyValue("cursorTooltipEnabled")},set:function(e){this.setPropertyValue("cursorTooltipEnabled",e)&&(e&&this.renderer?this.renderer.updateTooltip():this.tooltip&&this.tooltip.hide(0))},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"toggleZoomOutButton",{get:function(){return this.getPropertyValue("toggleZoomOutButton")},set:function(e){this.setPropertyValue("toggleZoomOutButton",e)},enumerable:!0,configurable:!0}),t.prototype.hideTooltip=function(e){n.prototype.hideTooltip.call(this,e),this._tooltipPosition=void 0},t.prototype.showTooltipAtPosition=function(e,i){var s=this._tooltip;if(!s||this.dataItems.length<=0)this._tooltipPosition=void 0;else{if(i||(e=this.toAxisPosition(e)),!M(e)||e<this.start||e>this.end)return s.hide(0),void(this._tooltipPosition=void 0);var l=this.renderer;s.parent||(s.parent=this.tooltipContainer);var p=l.tooltipLocation,h=this.getCellStartPosition(e),g=this.getCellEndPosition(e);if("fixed"==this.tooltipPosition&&(e=h+(g-h)*p),e=xe(e,this.start,this.end),this._tooltipPosition!=e){this._tooltipPosition=e;var v=l.tooltipLocation2,m=l.positionToPoint(h,v),_=l.positionToPoint(g,v);this.currentItemStartPoint=m,this.currentItemEndPoint=_,l.fullWidthTooltip&&(s.width=_.x-m.x,s.height=_.y-m.y);var C=Is(l.positionToPoint(e,v),this.renderer.line);s.text=this.getTooltipText(e),s.text&&(s.delayedPointTo(C),s.show())}(!this.cursorTooltipEnabled||this.tooltip.disabled)&&s.hide(0)}},t.prototype.toAxisPosition=function(e){if(null!=(e=this.renderer.toAxisPosition(e)))return e*=this.end-this.start,this.renderer.inversed?this.end-e:this.start+e},t.prototype.toGlobalPosition=function(e){return this.renderer.inversed?e=this.end-e:e-=this.start,e/(this.end-this.start)},t.prototype.getTooltipText=function(e){},t.prototype.updateTooltip=function(e,i){var s=this._tooltip;s&&(s.fixDoc=!1,s.pointerOrientation=e,s.setBounds(CR(i,this.renderer.line)))},t.prototype.roundPosition=function(e,i,s){return e},t.prototype.getCellStartPosition=function(e){return e},t.prototype.getCellEndPosition=function(e){return e},Object.defineProperty(t.prototype,"axisRanges",{get:function(){if(!this._axisRanges){var e=this.createDataItem();e.isRange=!0,e.axisFill=this.renderer.axisFills.template.clone(),e.grid=this.renderer.grid.template.clone(),e.tick=this.renderer.ticks.template.clone(),e.label=this.renderer.labels.template.clone(),e.isTemplate=!0,e.component=this,e.axisFill.disabled=!1,e.tick.disabled=!1,e.grid.disabled=!1,e.label.disabled=!1,this._axisRanges=new Ii(e),this._axisRanges.events.on("inserted",this.processAxisRange,this,!1),this._disposers.push(new Qt(this._axisRanges)),this._disposers.push(this._axisRanges.template)}return this._axisRanges},enumerable:!0,configurable:!0}),t.prototype.processAxisRange=function(e){var i=e.newValue;i.component=this,i.isRange=!0},Object.defineProperty(t.prototype,"axisBreaks",{get:function(){return this._axisBreaks||(this._axisBreaks=new fL(this.createAxisBreak(),function(e,i){return el(e.adjustedStartValue,i.adjustedStartValue)}),this._axisBreaks.events.on("inserted",this.processBreak,this,!1),this._disposers.push(new Qt(this._axisBreaks)),this._disposers.push(this._axisBreaks.template)),this._axisBreaks},enumerable:!0,configurable:!0}),t.prototype.createAxisBreak=function(){return new nD},Object.defineProperty(t.prototype,"series",{get:function(){return this._series||(this._series=new Dt),this._series},enumerable:!0,configurable:!0}),t.prototype.processSeriesDataItems=function(){},t.prototype.processSeriesDataItem=function(e,i){},t.prototype.postProcessSeriesDataItems=function(e){},t.prototype.postProcessSeriesDataItem=function(e){},t.prototype.updateAxisBySeries=function(){},t.prototype.hideUnusedDataItems=function(){var e=this,i=this._dataItemsIterator;i.createNewItems=!1,oe(i.iterator(),function(s){e.validateDataElement(s),s.__disabled=!0}),i.clear(),i.createNewItems=!0},t.prototype.getSeriesDataItem=function(e,i,s){},t.prototype.getAngle=function(e,i,s,l,p){},t.prototype.getX=function(e,i,s,l,p){},t.prototype.getPositionX=function(e,i,s,l,p){},t.prototype.getY=function(e,i,s,l,p){},t.prototype.getPositionY=function(e,i,s,l,p){},Object.defineProperty(t.prototype,"basePoint",{get:function(){return{x:0,y:0}},enumerable:!0,configurable:!0}),t.prototype.dataChangeUpdate=function(){},t.prototype.seriesDataChangeUpdate=function(e){},t.prototype.adjustDifference=function(e,i){var s=i-e;if(M(s))return this._axisBreaks&&zo(this._axisBreaks.iterator(),function(l){var p=l.adjustedStartValue,h=l.adjustedEndValue;if(M(p)&&M(h)){if(p>i)return!1;if(h>=e&&M(p)&&M(h)){var g=l.breakSize,v=function(n,t){var e=hi(n.start),i=hi(t.start),s=hi(n.end),l=hi(t.end),p=Math.max(e,i),h=Math.min(s,l);if(!(h<p))return{start:p,end:h}}({start:p,end:h},{start:e,end:i});v&&(s-=(v.end-v.start)*(1-g))}return!0}}),s},t.prototype.isInBreak=function(e){if(this._axisBreaks)return function(n,t){var e;return n(function(i){return!t(i)||(e=i,!1)}),e}(this._axisBreaks.iterator(),function(i){return e>=i.adjustedStartValue&&e<=i.adjustedEndValue})},t.prototype.fixAxisBreaks=function(){var e=this;if(this._axisBreaks){var i=this._axisBreaks;if(i.length>0){be(_m(i.iterator()),function(p){var h=vt(p.startValue,p.endValue),g=Qe(p.startValue,p.endValue);p.adjustedStartValue=h,p.adjustedEndValue=g,e._axisBreaks.update(p)});var s=i.first,l=Math.min(s.startValue,s.endValue);oe(i.iterator(),function(p){var h=p.adjustedStartValue,g=p.adjustedEndValue;h<l&&(h=l,g<l&&(g=l)),p.adjustedStartValue=h,p.adjustedEndValue=g})}}},Object.defineProperty(t.prototype,"startIndex",{get:function(){return 0},set:function(e){},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"endIndex",{get:function(){return this.dataItems.length},set:function(e){},enumerable:!0,configurable:!0}),t.prototype.getPositionLabel=function(e){return Math.round(100*e)+"%x"},Object.defineProperty(t.prototype,"chart",{get:function(){return this._chart},set:function(e){this._chart=e},enumerable:!0,configurable:!0}),t.prototype.createSeriesRange=function(e){var i=this.axisRanges.create();return i.component=this,i.axisFill=this.renderer.axisFills.template.clone(),i.axisFill.disabled=!1,i.axisFill.fillOpacity=0,i.grid=this.renderer.grid.template.clone(),i.grid.disabled=!0,i.tick=this.renderer.ticks.template.clone(),i.tick.disabled=!0,i.label=this.renderer.labels.template.clone(),i.label.disabled=!0,i.addDisposer(new Bt(function(){e.axisRanges.removeValue(i)})),e.axisRanges.push(i),i},t.prototype.copyFrom=function(e){n.prototype.copyFrom.call(this,e),this.renderer?this.renderer.copyFrom(e.renderer):e.renderer&&(this.renderer=e.renderer.clone(),this._disposers.push(this.renderer)),e.title&&(this.title?this.title.copyFrom(e.title):(this.title=e.title.clone(),this.title.parent=this),this._disposers.push(this.title))},t.prototype.resetIterators=function(){this._dataItemsIterator.reset()},t.prototype.processConfig=function(e){if(e&&L(e.axisRanges)&&hn(e.axisRanges))for(var i=0,s=e.axisRanges.length;i<s;i++){var l=e.axisRanges[i];L(l.series)&&gt(l.series)&&this.map.hasKey(l.series)&&(e.axisRanges[i]=this.createSeriesRange(this.map.getKey(l.series)),delete l.series,e.axisRanges[i].config=l)}n.prototype.processConfig.call(this,e)},t.prototype.configOrder=function(e,i){return e==i?0:"title"==e?1:"title"==i||"component"==e?-1:"component"==i?1:n.prototype.configOrder.call(this,e,i)},Object.defineProperty(t.prototype,"startLocation",{get:function(){return this.getPropertyValue("startLocation")},set:function(e){this.setPropertyValue("startLocation",e,!0)},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"endLocation",{get:function(){return this.getPropertyValue("endLocation")},set:function(e){this.setPropertyValue("endLocation",e,!0)},enumerable:!0,configurable:!0}),t.prototype.setDisabled=function(e){var i=n.prototype.setDisabled.call(this,e);return this.renderer&&(this.renderer.gridContainer.disabled=e),i},Object.defineProperty(t.prototype,"title",{get:function(){return this._title},set:function(e){this._title&&this._title!=e&&this._title.dispose(),e&&(this._title=e,e.parent=this,e.shouldClone=!1)},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"hideTooltipWhileZooming",{get:function(){return this.getPropertyValue("hideTooltipWhileZooming")},set:function(e){this.setPropertyValue("hideTooltipWhileZooming",e)},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"zoomable",{get:function(){return this.getPropertyValue("zoomable")},set:function(e){this.setPropertyValue("zoomable",e)},enumerable:!0,configurable:!0}),t}(Kd);G.registeredClasses.Axis=rD,G.registeredClasses.AxisDataItem=Nm,Wn.push({relevant:mr.maybeXS,state:function(n,t){if(n instanceof rD&&n.tooltip){var e=n.states.create(t);return e.properties.cursorTooltipEnabled=!1,e}return null}});var SV=function(n){function t(){var e=n.call(this)||this;e.className="AxisLine",e.element=e.paper.add("path");var i=new Rt;return e.stroke=i.getFor("grid"),e.strokeOpacity=.15,e.pixelPerfect=!0,e.fill=Le(),e.applyTheme(),e.interactionsEnabled=!1,e}return $(t,n),t}(Je);G.registeredClasses.AxisLine=SV;var JR=function(n){function t(e){var i=n.call(this)||this;i.axis=e,i.element=i.paper.add("path"),i.className="AxisFill",i.isMeasured=!1,i.location=0,i.above=!1;var s=new Rt;return i.fill=s.getFor("alternativeBackground"),i.fillOpacity=0,i.applyTheme(),i}return $(t,n),t.prototype.setDisabled=function(e){var i=n.prototype.setDisabled.call(this,e);return this.axis&&this.axis.invalidateDataItems(),i},t.prototype.draw=function(){n.prototype.draw.call(this),!this.__disabled&&!this.disabled&&this.axis&&M(this.startPosition)&&M(this.endPosition)&&(this.fillPath=this.axis.getPositionRangePath(this.startPosition,this.endPosition),this.path=this.fillPath,this.isMeasured&&this.measure())},Object.defineProperty(t.prototype,"startPosition",{get:function(){return this.getPropertyValue("startPosition")},set:function(e){this.setPropertyValue("startPosition",e),this.invalidate()},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"endPosition",{get:function(){return this.getPropertyValue("endPosition")},set:function(e){this.setPropertyValue("endPosition",e),this.invalidate()},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"location",{get:function(){return this.getPropertyValue("location")},set:function(e){this.setPropertyValue("location",e,!0)},enumerable:!0,configurable:!0}),t.prototype.setPath=function(e){return!!this.setPropertyValue("path",e)&&(this.element.attr({d:e}),!0)},Object.defineProperty(t.prototype,"above",{get:function(){return this.getPropertyValue("above")},set:function(e){this.setPropertyValue("above",e,!0)},enumerable:!0,configurable:!0}),t}(Je);G.registeredClasses.AxisFill=JR;var Lm=function(n){function t(){var e=n.call(this)||this;e.className="Grid",e.element=e.paper.add("path"),e.location=.5,e.isMeasured=!1,e.above=!1;var i=new Rt;return e.stroke=i.getFor("grid"),e.pixelPerfect=!0,e.strokeOpacity=.15,e.fill=Le(),e.applyTheme(),e}return $(t,n),Object.defineProperty(t.prototype,"location",{get:function(){return this.getPropertyValue("location")},set:function(e){this.setPropertyValue("location",e,!0)},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"above",{get:function(){return this.getPropertyValue("above")},set:function(e){this.setPropertyValue("above",e,!0)},enumerable:!0,configurable:!0}),t.prototype.setDisabled=function(e){var i=n.prototype.setDisabled.call(this,e);return this.axis&&this.axis.invalidateDataItems(),i},t}(Je);G.registeredClasses.Grid=Lm,Wn.push({relevant:mr.maybeXS,state:function(n,t){if(n instanceof Lm){var e=n.states.create(t);return e.properties.disabled=!0,e}return null}});var eT=function(n){function t(){var e=n.call(this)||this;return e.className="AxisLabel",e.isMeasured=!1,e.padding(10,10,10,10),e.location=.5,e.applyTheme(),e}return $(t,n),Object.defineProperty(t.prototype,"location",{get:function(){return this.getPropertyValue("location")},set:function(e){this.setPropertyValue("location",e,!0)},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"inside",{get:function(){return this.getPropertyValue("inside")},set:function(e){this.setPropertyValue("inside",e,!0)},enumerable:!0,configurable:!0}),t.prototype.setDisabled=function(e){var i=n.prototype.setDisabled.call(this,e);return this.axis&&this.axis.invalidateDataItems(),i},t}(Yr);G.registeredClasses.AxisLabel=eT;var Vm=function(n){function t(){var e=n.call(this)||this;e.className="Tick";var i=new Rt;return e.fillOpacity=0,e.length=6,e.strokeOpacity=.2,e.stroke=i.getFor("grid"),e.isMeasured=!1,e.nonScalingStroke=!0,e.applyTheme(),e}return $(t,n),Object.defineProperty(t.prototype,"length",{get:function(){return this.disabled?0:this.getPropertyValue("length")},set:function(e){this.setPropertyValue("length",e,!0)},enumerable:!0,configurable:!0}),t}(Je);G.registeredClasses.Tick=Vm;var EV=function(n){function t(){var e=n.call(this)||this;return e.className="AxisTick",e.element=e.paper.add("path"),e.location=.5,e.above=!1,e.isMeasured=!1,e.pixelPerfect=!0,e.strokeOpacity=0,e.length=5,e.applyTheme(),e}return $(t,n),Object.defineProperty(t.prototype,"location",{get:function(){return this.getPropertyValue("location")},set:function(e){this.setPropertyValue("location",e,!0)},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"inside",{get:function(){return this.getPropertyValue("inside")},set:function(e){this.setPropertyValue("inside",e,!0)},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"above",{get:function(){return this.getPropertyValue("above")},set:function(e){this.setPropertyValue("above",e,!0)},enumerable:!0,configurable:!0}),t.prototype.setDisabled=function(e){var i=n.prototype.setDisabled.call(this,e);return this.axis&&this.axis.invalidateDataItems(),i},t}(Vm);G.registeredClasses.AxisTick=EV;var oD=function(n){function t(){var e=n.call(this)||this;e._chart=new Pn,e.className="AxisRenderer",e.minGridDistance=50,e.inside=!1,e.inversed=!1,e.tooltipLocation=.5,e.fullWidthTooltip=!1,e.cellStartLocation=0,e.cellEndLocation=1,e.minLabelPosition=0,e.maxLabelPosition=1,e.shouldClone=!1;var i=e.createChild(Ve);i.shouldClone=!1,i.layout="none",i.virtualParent=e,i.width=ue(100),i.height=ue(100),e.gridContainer=i,i.events.on("maxsizechanged",function(){e.inited&&e.invalidateAxisItems()},e,!1);var s=e.createChild(Ve);s.shouldClone=!1,s.isMeasured=!1,s.layout="none",s.width=ue(100),s.height=ue(100),e.breakContainer=s;var l=e.createChild(Ve);l.shouldClone=!1,l.isMeasured=!1,l.layout="none",l.width=ue(100),l.height=ue(100),e.bulletsContainer=l,e.line=e.createChild(SV),e.line.shouldClone=!1,e.line.strokeOpacity=0;var p=e.createChild(Lm);p.shouldClone=!1,e.baseGrid=p;var h=e._disposers;return h.push(p),h.push(e.line),h.push(i),h.push(s),h.push(l),h.push(e._chart),e.ticks.template.disabled=!0,e.axisFills.template.disabled=!0,e.axisFills.template.interactionsEnabled=!1,e.applyTheme(),e}return $(t,n),Object.defineProperty(t.prototype,"axis",{get:function(){return this._axis},set:function(e){this.setAxis(e)},enumerable:!0,configurable:!0}),t.prototype.setAxis=function(e){this._axis=e,this.baseGrid.parent=e,this.line.parent=e,this.gridContainer.bind("opacity",e)},t.prototype.processRenderer=function(){this.events.on("sizechanged",this.updateTooltip,this,!1),this.events.on("positionchanged",this.updateTooltip,this,!1),this.labels.template.inside=this.inside,this.ticks.template.inside=this.inside},t.prototype.updateTooltip=function(){},Object.defineProperty(t.prototype,"axisLength",{get:function(){return 0},enumerable:!0,configurable:!0}),t.prototype.positionItem=function(e,i){e&&e.moveTo(i)},t.prototype.positionToPoint=function(e,i){return{x:0,y:0}},t.prototype.positionToAngle=function(e){return 0},t.prototype.positionToCoordinate=function(e){var s=this.axis,l=s.axisFullLength;return s.renderer.inversed?(s.end-e)*l:(e-s.start)*l},t.prototype.updateGridContainer=function(){},t.prototype.getHeight=function(){var e=this.gridContainer;return e.parent?e.parent.pixelHeight:this.gridContainer.pixelHeight||0},t.prototype.getWidth=function(){var e=this.gridContainer;return e.parent?e.parent.pixelWidth:this.gridContainer.pixelWidth||0},t.prototype.coordinateToPosition=function(e,i){var l=this.axis,p=l.axisFullLength;return ae(l.renderer.inversed?l.end-e/p:e/p+l.start,5)},t.prototype.pointToPosition=function(e){return 0},t.prototype.getPositionRangePath=function(e,i){return""},t.prototype.invalidateAxisItems=function(){var e=this.axis;e&&e.invalidateDataItems()},t.prototype.updateGridElement=function(e,i,s){},t.prototype.updateTickElement=function(e,i,s){},t.prototype.updateBullet=function(e,i,s){},t.prototype.updateLabelElement=function(e,i,s,l){},t.prototype.updateFillElement=function(e,i,s){e.startPosition=i,e.endPosition=s},t.prototype.updateAxisLine=function(){},t.prototype.updateBaseGridElement=function(){},t.prototype.updateBreakElement=function(e){this.positionItem(e.startLine,e.startPoint),this.toggleVisibility(e.startLine,e.startPosition,0,1),this.positionItem(e.endLine,e.endPoint),this.toggleVisibility(e.endLine,e.endPosition,0,1)},Object.defineProperty(t.prototype,"minGridDistance",{get:function(){return this.getPropertyValue("minGridDistance")},set:function(e){this.setPropertyValue("minGridDistance",e)&&this.axis&&this.axis.invalidateDataItems()},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"chart",{get:function(){return this._chart.get()},set:function(e){this._chart.set(e,null)},enumerable:!0,configurable:!0}),t.prototype.toggleVisibility=function(e,i,s,l){var p=this.axis,h=e.dataItem;h&&h instanceof Nm&&(M(h.minPosition)&&(s=h.minPosition),M(h.maxPosition)&&(l=h.maxPosition)),e.disabled||(e.__disabled=i<p.start+(p.end-p.start)*(s-1e-4)||i>p.start+(p.end-p.start)*(l+1e-4))},t.prototype.createBreakSprites=function(e){},Object.defineProperty(t.prototype,"axisFills",{get:function(){if(!this._axisFills){var e=this.createFill(this.axis);this._axisFills=new Ii(e),e.applyOnClones=!0,e.events.on("enabled",this.invalidateAxisItems,this,!1),this._disposers.push(new Qt(this._axisFills)),this._disposers.push(this._axisFills.template)}return this._axisFills},enumerable:!0,configurable:!0}),t.prototype.createFill=function(e){return new JR(e)},Object.defineProperty(t.prototype,"grid",{get:function(){if(!this._grid){var e=this.createGrid();this._grid=new Ii(e),e.applyOnClones=!0,e.events.on("enabled",this.invalidateAxisItems,this,!1),this._disposers.push(new Qt(this._grid)),this._disposers.push(this._grid.template)}return this._grid},enumerable:!0,configurable:!0}),t.prototype.createGrid=function(){return new Lm},Object.defineProperty(t.prototype,"ticks",{get:function(){if(!this._ticks){var e=this.createTick();e.applyOnClones=!0,e.isMeasured=!1,e.events.on("enabled",this.invalidateAxisItems,this,!1),this._ticks=new Ii(e),this._disposers.push(new Qt(this._ticks)),this._disposers.push(this._ticks.template)}return this._ticks},enumerable:!0,configurable:!0}),t.prototype.createTick=function(){return new EV},Object.defineProperty(t.prototype,"labels",{get:function(){if(!this._labels){var e=this.createLabel();this._labels=new Ii(e),e.applyOnClones=!0,e.events.on("enabled",this.invalidateAxisItems,this,!1),this._disposers.push(new Qt(this._labels)),this._disposers.push(this._labels.template)}return this._labels},enumerable:!0,configurable:!0}),t.prototype.createLabel=function(){return new eT},Object.defineProperty(t.prototype,"inside",{get:function(){return this.getPropertyValue("inside")},set:function(e){this.setPropertyValue("inside",e)&&this.axis&&this.axis.invalidate(),e?(this.width=0,this.height=0):(this.width=void 0,this.height=void 0)},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"opposite",{get:function(){return this.getPropertyValue("opposite")},set:function(e){this.setPropertyValue("opposite",e)},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"fullWidthTooltip",{get:function(){return this.getPropertyValue("fullWidthTooltip")},set:function(e){this.setPropertyValue("fullWidthTooltip",e)},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"tooltipLocation",{get:function(){return this.getPropertyValue("tooltipLocation")},set:function(e){this.setPropertyValue("tooltipLocation",e)},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"tooltipLocation2",{get:function(){return this.getPropertyValue("tooltipLocation2")},set:function(e){this.setPropertyValue("tooltipLocation2",e)},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"cellStartLocation",{get:function(){return this.getPropertyValue("cellStartLocation")},set:function(e){this.setPropertyValue("cellStartLocation",e)&&this.axis&&this.axis.invalidateSeries()},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"cellEndLocation",{get:function(){return this.getPropertyValue("cellEndLocation")},set:function(e){this.setPropertyValue("cellEndLocation",e)&&this.axis&&this.axis.invalidateSeries()},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"inversed",{get:function(){return this.getPropertyValue("inversed")},set:function(e){this.setPropertyValue("inversed",e)},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"minLabelPosition",{get:function(){return this.getPropertyValue("minLabelPosition")},set:function(e){this.setPropertyValue("minLabelPosition",e,!0)},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"maxLabelPosition",{get:function(){return this.getPropertyValue("maxLabelPosition")},set:function(e){this.setPropertyValue("maxLabelPosition",e,!0)},enumerable:!0,configurable:!0}),t.prototype.copyFrom=function(e){n.prototype.copyFrom.call(this,e),this.grid.template.copyFrom(e.grid.template),this.ticks.template.copyFrom(e.ticks.template),this.labels.template.copyFrom(e.labels.template),this.axisFills.template.copyFrom(e.axisFills.template),this.line.copyFrom(e.line),this.baseGrid.copyFrom(e.baseGrid)},t.prototype.toAxisPosition=function(e){return e},t.prototype.setVisibility=function(e){n.prototype.setVisibility.call(this,e),this.bulletsContainer.visible=e},t}(Ve);G.registeredClasses.AxisRenderer=oD;var km=function(n){function t(){var e=n.call(this)||this;return e.className="AxisBullet",e.location=.5,e.isMeasured=!1,e.applyTheme(),e}return $(t,n),Object.defineProperty(t.prototype,"location",{get:function(){return this.getPropertyValue("location")},set:function(e){this.setPropertyValue("location",e,!0)},enumerable:!0,configurable:!0}),t.prototype.setDisabled=function(e){var i=n.prototype.setDisabled.call(this,e);return this.axis&&this.axis.invalidateDataItems(),i},t}(Ve);G.registeredClasses.AxisBullet=km;var da=function(n){function t(){var e=n.call(this)||this;return e.className="AxisRendererY",e.minGridDistance=40,e.opposite=!1,e.height=ue(100),e.labels.template.verticalCenter="middle",e.applyTheme(),e}return $(t,n),t.prototype.setAxis=function(e){n.prototype.setAxis.call(this,e),e.layout="horizontal"},t.prototype.updateGridContainer=function(){var e=this.axis;if(e){var i=this.gridContainer;i.y=e.pixelY,i.height=e.axisLength}},t.prototype.toAxisPosition=function(e){var i=this.axis;if(i){var s=1-e,l=i.relativePositionSprite,p=i.pixelY;if(l?p=ho({x:0,y:this.pixelY},this.parent,l).y:l=i.parent,l)return 1-(s-p/l.innerHeight)/(i.axisLength/l.innerHeight)}return e},t.prototype.processRenderer=function(){n.prototype.processRenderer.call(this);var e=this.axis;if(e){var i=e.title;i.valign="middle",e.height instanceof ft||(e.height=ue(100)),this.opposite?(i.rotation=90,this.line.toBack(),i.toFront()):(i.rotation=-90,i.toBack(),this.line.toFront())}},t.prototype.updateTooltip=function(){if(this.axis){var i=2e3,s=0,p=i;this.opposite?this.inside&&(s=-i,p=i):this.inside||(s=-i,p=i),this.axis.updateTooltip("horizontal",{x:s,y:0,width:p,height:this.axisLength})}},Object.defineProperty(t.prototype,"axisLength",{get:function(){var e=this.axis;return e.measuredHeight-e.pixelPaddingTop-e.pixelPaddingBottom||0},enumerable:!0,configurable:!0}),t.prototype.positionToPoint=function(e,i){return{x:0,y:this.positionToCoordinate(e)}},t.prototype.pointToPosition=function(e){return this.coordinateToPosition(e.y,e.x)},t.prototype.coordinateToPosition=function(e,i){var l=this.axis,p=l.axisFullLength;return ae(l.renderer.inversed?1-l.start-e/p:e/p+(1-l.end),5)},t.prototype.getPositionRangePath=function(e,i){var s=xe(this.positionToCoordinate(e),0,this.axisLength),l=xe(this.positionToCoordinate(i),0,this.axisLength),p=Math.abs(l-s),h=this.getWidth();return cc({x:0,y:Math.min(s,l),width:h,height:p},!0)},t.prototype.updateGridElement=function(e,i,s){var l=this.positionToPoint(i+=(s-i)*e.location);e.path=Ce({x:0,y:0})+ne({x:this.getWidth(),y:0}),this.positionItem(e,l),this.toggleVisibility(e,i,0,1)},t.prototype.updateTickElement=function(e,i,s){var l=this.positionToPoint(i+=(s-i)*e.location),p=e.length;l.x=ho({x:this.line.pixelX,y:0},this.line.parent,this.gridContainer).x,p*=this.opposite?e.inside?-1:1:e.inside?1:-1,e.path=Ce({x:0,y:0})+ne({x:p,y:0}),this.positionItem(e,l),this.toggleVisibility(e,i,0,1)},t.prototype.updateAxisLine=function(){this.line.path=Ce({x:0,y:0})+ne({x:0,y:this.axisLength})},t.prototype.updateBaseGridElement=function(){n.prototype.updateBaseGridElement.call(this);var e=this.axis,i=this.getWidth(),l=e.basePoint.y,p=this.baseGrid;if(l<-.2||l>this.axisLength+.2)p.hide(0);else{var h=ho({x:0,y:0},this.gridContainer,p.parent).x;p.path=Ce({x:0,y:0})+ne({x:i,y:0}),p.moveTo({x:h,y:l}),p.show(0)}},t.prototype.updateLabelElement=function(e,i,s,l){L(l)||(l=e.location),i+=(s-i)*l,e.isMeasured=!e.inside;var h,p=this.positionToPoint(i),g=0,v=this.gridContainer.maxWidth;this.opposite?(e.inside?(h="right","left"==e.align&&(g=-v,h="left"),"center"==e.align&&(g=-v/2,h="middle")):h="left",p.x=0+g):(e.inside?(h="left","right"==e.align&&(g=v,h="right"),"center"==e.align&&(g=v/2,h="middle")):h="right",p.x=this.measuredWidth+g),0==e.rotation&&(e.horizontalCenter=h),this.positionItem(e,p),this.toggleVisibility(e,i,this.minLabelPosition,this.maxLabelPosition)},t.prototype.updateBreakElement=function(e){n.prototype.updateBreakElement.call(this,e);var i=e.startLine,s=e.endLine,l=e.fillShape,p=e.startPoint,h=e.endPoint,g=e.pixelMarginLeft,v=this.getWidth()-e.pixelMarginLeft-e.pixelMarginRight;p.y=xe(p.y,-1,this.axisLength+1),h.y=xe(h.y,-1,this.axisLength+1),e.fillShape.__disabled=p.y==h.y&&(p.y<0||p.y>this.axisLength);var m=Math.abs(v-g);i.x=g,i.height=0,i.width=m,s.x=g,s.height=0,s.width=m,l.width=m,l.height=Math.abs(h.y-p.y),l.x=g,l.y=h.y},t.prototype.createBreakSprites=function(e){e.startLine=new Qd,e.endLine=new Qd;var i=new cV;i.setWavedSides(!0,!1,!0,!1),e.fillShape=i},t.prototype.positionToCoordinate=function(e){var s=this.axis,l=s.axisFullLength;return s.renderer.inversed?(e-s.start)*l:(s.end-e)*l},t.prototype.updateBullet=function(e,i,s){var l=.5;e instanceof km&&(l=e.location);var p=this.positionToPoint(i+=(s-i)*l);p.x=ho({x:this.line.pixelX,y:0},this.line.parent,this.gridContainer).x,this.positionItem(e,p),this.toggleVisibility(e,i,0,1)},t}(oD);G.registeredClasses.AxisRendererY=da,Wn.push({relevant:mr.widthS,state:function(n,t){if(n instanceof da){var e=n.states.create(t);return e.properties.inside=!0,e.properties.maxLabelPosition=.9,e.properties.minLabelPosition=.1,e}return null}}),Wn.push({relevant:mr.widthXS,state:function(n,t){if(n instanceof da){var e=n.states.create(t);return e.properties.disabled=!0,e}return null}});var tT=function(n){function t(){var e=n.call(this)||this;return e.className="ValueAxisBreak",e.applyTheme(),e}return $(t,n),Object.defineProperty(t.prototype,"startPosition",{get:function(){if(this.axis)return this.axis.valueToPosition(this.adjustedStartValue)},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"endPosition",{get:function(){if(this.axis)return this.axis.valueToPosition(this.adjustedEndValue)},enumerable:!0,configurable:!0}),t}(nD);G.registeredClasses.ValueAxisBreak=tT;var sD=function(n){function t(){var e=n.call(this)||this;return e.className="ValueAxisDataItem",e.values.value={},e.values.endValue={},e.applyTheme(),e}return $(t,n),Object.defineProperty(t.prototype,"value",{get:function(){return this.values.value.value},set:function(e){this.setValue("value",e)},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"endValue",{get:function(){return this.values.endValue.value},set:function(e){this.setValue("endValue",e)},enumerable:!0,configurable:!0}),t}(Nm),rt=function(n){function t(){var e=n.call(this)||this;return e._stepDecimalPlaces=0,e._prevStepDecimalPlaces=0,e._adjustLabelPrecision=!0,e._baseValue=0,e._adjustedStart=0,e._adjustedEnd=1,e._extremesChanged=!1,e._deltaMinMax=1,e._dsc=!1,e.calculateTotals=!1,e.className="ValueAxis",e.axisFieldName="value",e.setPropertyValue("maxZoomFactor",1e3),e.setPropertyValue("extraMin",0),e.setPropertyValue("extraMax",0),e.setPropertyValue("strictMinMax",!1),e.setPropertyValue("maxPrecision",Number.MAX_VALUE),e.setPropertyValue("adjustLabelPrecision",!0),e.setPropertyValue("extraTooltipPrecision",0),e.keepSelection=!1,e.includeRangesInMinMax=!1,e.applyTheme(),e}return $(t,n),t.prototype.fillRule=function(e){var i=e.value,s=e.component;e.axisFill.disabled||(e.axisFill.__disabled=ae(i/s.step/2,5)==Math.round(i/s.step/2))},t.prototype.createDataItem=function(){return new sD},t.prototype.createAxisBreak=function(){return new tT},t.prototype.dataChangeUpdate=function(){this.clearCache(),this.keepSelection?(0!=this._start&&this.dispatchImmediately("startchanged"),1!=this._end&&this.dispatchImmediately("endchanged"),(0!=this._start||1!=this._end)&&this.dispatchImmediately("startendchanged")):(0!=this._start||1!=this._end)&&(this._start=0,this._end=1,this.dispatchImmediately("startendchanged")),this._maxZoomed=this._maxDefined,this._minZoomed=this._minDefined,this._maxAdjusted=this._maxDefined,this._minAdjusted=this._minDefined},t.prototype.processSeriesDataItems=function(){if(this.calculateTotals){var e=this.series.getIndex(0),i=e.startIndex;if(e.dataItems.length>0){i>0&&i--;var s=e.endIndex;s<e.dataItems.length&&s++;for(var l=function(g){var v={},m={};p.series.each(function(_){if(!_.excludeFromTotal){var b=_.dataItems.getIndex(g);b&&We(b.values,function(C){var S=b.values[C].workingValue;M(S)&&(M(v[C])?v[C]+=Math.abs(S):v[C]=Math.abs(S),M(m[C])?m[C]+=S:m[C]=S)})}}),p.series.each(function(_){if(!_.excludeFromTotal){var b=_.dataItems.getIndex(g);b&&We(b.values,function(C){var S=b.values[C].workingValue;M(S)&&(b.setCalculatedValue(C,v[C],"total"),b.setCalculatedValue(C,100*S/v[C],"totalPercent"),b.setCalculatedValue(C,m[C],"sum"))})}})},p=this,h=i;h<s;++h)l(h)}}},t.prototype.validate=function(){this.axisLength<=0||(n.prototype.validate.call(this),this.getMinMax(),M(this._minAdjusted)||this.dataItems.each(function(e){e.value=null}),this.fixAxisBreaks(),this.calculateZoom(),this.validateAxisElements(),this.validateAxisRanges(),this.validateBreaks(),this.hideUnusedDataItems(),this.renderer.invalidateLayout())},t.prototype.calculateZoom=function(){if(M(this.min)&&M(this.max)){var e=this.positionToValue(this.start),i=this.positionToValue(this.end),s=this.adjustDifference(e,i),l=this.adjustMinMax(e,i,s,this._gridCount,!0),p=function(n){var t=(""+n).match(/(?:\.(\d+))?(?:[eE]([+-]?\d+))?$/);return t?Math.max(0,(t[1]?t[1].length:0)-(t[2]?+t[2]:0)):0}(l.step);this._stepDecimalPlaces=p,e=ae(e,p),i=ae(i,p);var h=(l=this.adjustMinMax(e,i,s,this._gridCount,!0)).step;if(this.syncWithAxis){var g=this.getCache(e+"-"+i);M(g)&&(h=g)}else e=l.min,i=l.max;(this._minZoomed!=e||this._maxZoomed!=i||this._step!=h||this._dsc)&&(this._dsc=!1,this._minZoomed=e,this._maxZoomed=i,this._step=h,this.dispatchImmediately("selectionextremeschanged"))}},t.prototype.fixSmallStep=function(e){return 1+e==1?this.fixSmallStep(e*=2):e},t.prototype.validateAxisElements=function(){var e=this;if(M(this.max)&&M(this.min)){var i=this.minZoomed-2*this._step;this.logarithmic?Math.log(this.max)*Math.LOG10E-Math.log(this.min)*Math.LOG10E>1?i=Math.pow(10,Math.log(this.min)*Math.LOG10E):0==(i=Math.floor(this.minZoomed/this._step)*this._step)&&(i=this.minZoomed):i=Math.floor(i/this._step)*this._step;var l=this._maxZoomed+this._step;this.resetIterators();var p=this._dataItemsIterator;if(0==this._step)return;this._step=this.fixSmallStep(this._step);var h=0,g=this._prevStepDecimalPlaces!=this._stepDecimalPlaces;for(this._prevStepDecimalPlaces=this._stepDecimalPlaces;i<=l;){if(!this.isInBreak(i)){var m=p.find(function(x){return x.value===i});m.__disabled&&(m.__disabled=!1),this.appendDataItem(m),m.axisBreak=void 0,(m.value!=i||g)&&(m.value=i,m.text=this.formatLabel(i),m.label&&m.label.invalid&&m.label.validate(),m.value>=this.min&&m.value<=this.max&&m.label&&("Y"==this.axisLetter&&m.label.measuredWidth>this.ghostLabel.measuredWidth||"X"==this.axisLetter&&m.label.measuredHeight>this.ghostLabel.measuredHeight)&&(this.ghostLabel.text=m.label.currentText,this.ghostLabel.validate())),this.validateDataElement(m)}h++;var _=i;this.logarithmic&&Math.log(this.max)*Math.LOG10E-Math.log(this.min)*Math.LOG10E>1?i=Math.pow(10,Math.log(this.min)*Math.LOG10E+h):i+=this._step;var b=Math.pow(10,Math.floor(Math.log(Math.abs(this._step))*Math.LOG10E));if(b<1){var C=Math.round(Math.abs(Math.log(Math.abs(b))*Math.LOG10E))+2;if(C=Math.min(13,C),_==(i=ae(i,C))){i=l;break}}}var S=this._axisBreaks;if(S){var E=this.renderer;oe(S.iterator(),function(x){if(x.breakSize>0&&At(x.startPoint,x.endPoint)>E.minGridDistance)for(var R=x.adjustedMin;R<=x.adjustedMax;){if(R>=x.adjustedStartValue&&R<=x.adjustedEndValue){var P=p.find(function(k){return k.value===R});P.__disabled&&(P.__disabled=!1),e.appendDataItem(P),P.axisBreak=x,P.value!=R&&(P.value=R,P.text=e.formatLabel(R),P.label&&P.label.invalid&&P.label.validate()),e.validateDataElement(P)}R+=x.adjustedStep}})}}},t.prototype.validateDataElement=function(e){n.prototype.validateDataElement.call(this,e),e.itemIndex=this._axisItemCount,this._axisItemCount++;var i=this.renderer,s=e.value,l=e.endValue,p=this.valueToPosition(s);e.position=p;var h=p,g=this.valueToPosition(s+this._step);M(l)&&(g=h=this.valueToPosition(l)),e.point=i.positionToPoint(p);var v=e.tick;v&&!v.disabled&&i.updateTickElement(v,p,h);var m=e.grid;m&&!m.disabled&&i.updateGridElement(m,p,h);var _=e.label;_&&!_.disabled&&i.updateLabelElement(_,p,h);var b=e.axisFill;b&&!b.disabled&&(i.updateFillElement(b,p,g),e.isRange||this.fillRule(e)),e.bullet&&i.updateBullet(e.bullet,p,h);var C=e.mask;C&&i.updateFillElement(C,p,g)},t.prototype.formatLabel=function(e){return this.adjustLabelPrecision&&0!=e?this.numberFormatter.format(e,void 0,this._stepDecimalPlaces):this.numberFormatter.format(e)},Object.defineProperty(t.prototype,"basePoint",{get:function(){var i=this.valueToPosition(this.baseValue);return this.renderer.positionToPoint(i)},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"baseValue",{get:function(){var e=this._baseValue;return this.logarithmic&&(e=this.min),this._adapterO?this._adapterO.apply("baseValue",e):e},set:function(e){this._baseValue=e,this.invalidateLayout(),this.invalidateSeries()},enumerable:!0,configurable:!0}),t.prototype.anyToPosition=function(e){return this.valueToPosition(e)},t.prototype.valueToPoint=function(e){var i=this.valueToPosition(e),s=this.renderer.positionToPoint(i),l=this.renderer.positionToAngle(i);return{x:s.x,y:s.y,angle:l}},t.prototype.anyToPoint=function(e){return this.valueToPoint(e)},t.prototype.valueToPosition=function(e){if(M(e)){var i=this.min,s=this.max;if(M(i)&&M(s)){var l=this._difference,p=this._axisBreaks;p&&p.length>0&&zo(p.iterator(),function(v){var m=v.adjustedStartValue,_=v.adjustedEndValue;if(M(m)&&M(_)){if(e<m)return!1;if(m0({start:m,end:_},{start:i,end:s})){m=Math.max(m,i),_=Math.min(_,s);var b=v.breakSize;e>_?i+=(_-m)*(1-b):e<m||(e=m+(e-m)*b)}}return!0});var h=void 0;if(this.logarithmic){var g=this.treatZeroAs;M(g)&&e<=g&&(e=g),h=(Math.log(e)*Math.LOG10E-Math.log(this.min)*Math.LOG10E)/(Math.log(this.max)*Math.LOG10E-Math.log(this.min)*Math.LOG10E)}else h=(e-i)/l;return h}}return 0},t.prototype.invalidateLabels=function(){n.prototype.invalidateLabels.call(this),this.dataItems&&(this.dataItems.each(function(e){e.value=void 0}),this.invalidate())},t.prototype.positionToValue=function(e){var i=this.min,s=this.max;if(M(i)&&M(s)){var l=s-i,p=null,h=this._axisBreaks;return h&&h.length>0&&zo(h.iterator(),function(g){var v=g.startPosition,m=g.endPosition,_=g.adjustedStartValue,b=g.adjustedEndValue;if(M(_)&&M(b)){if(_>s)return!1;if(m0({start:_,end:b},{start:i,end:s})){_=Qe(_,i),b=vt(b,s);var C=g.breakSize;if(l-=(b-_)*(1-C),e>m)i+=(b-_)*(1-C);else if(!(e<v))return p=_+(e-v)/(m-v)*(b-_),!1}return!0}}),M(p)||(p=this.logarithmic?Math.pow(Math.E,(e*(Math.log(this.max)*Math.LOG10E-Math.log(this.min)*Math.LOG10E)+Math.log(this.min)*Math.LOG10E)/Math.LOG10E):e*l+i),p}},t.prototype.xToValue=function(e){return this.positionToValue(this.pointToPosition({x:e,y:0}))},t.prototype.yToValue=function(e){return this.positionToValue(this.pointToPosition({x:0,y:e}))},t.prototype.pointToPosition=function(e){return this.renderer instanceof da?1-this.renderer.pointToPosition(e):this.renderer.pointToPosition(e)},t.prototype.animateMinMax=function(e,i){return this.animate([{property:"_minAdjusted",from:this._minAdjusted,to:e},{property:"_maxAdjusted",from:this._maxAdjusted,to:i}],this.rangeChangeDuration,this.rangeChangeEasing)},t.prototype.getMinMax=function(){var e=this;this.updateGridCount();var i=Number.POSITIVE_INFINITY,s=Number.NEGATIVE_INFINITY;if((!M(this._minDefined)||!M(this._maxDefined))&&(this.series.each(function(b){if(!b.ignoreMinMax){var C=b.min(e);M(C)&&C<i&&(i=C);var S=b.max(e);M(S)&&S>s&&(s=S)}}),this.includeRangesInMinMax&&this.axisRanges.each(function(b){if(!b.ignoreMinMax){var C=vt(b.value,b.endValue),S=Qe(b.value,b.endValue);(C<i||!M(i))&&(i=C),(S>s||!M(s))&&(s=S)}})),this.logarithmic){var l=this.treatZeroAs;M(l)&&i<=0&&(i=l),i<=0&&this.raiseCriticalError(new Error("Logarithmic value axis can not have values <= 0."),!0)}if(0==i&&0==s&&(s=.9,i=-.9),M(this._minDefined)&&(i=this._minDefined),M(this._maxDefined)&&(s=this._maxDefined),this._adapterO&&(i=this._adapterO.apply("min",i)),this._adapterO&&(s=this._adapterO.apply("max",s)),M(i)&&M(s)){this._minReal=i,this._maxReal=s,i==Number.POSITIVE_INFINITY&&(i=void 0),s==Number.NEGATIVE_INFINITY&&(s=void 0);var p=this.adjustDifference(i,s);if(i=this.fixMin(i),(s=this.fixMax(s))-i<=1/Math.pow(10,15)){if(s-i!=0)this._deltaMinMax=(s-i)/2;else{var h=Math.log(Math.abs(s))*Math.LOG10E,g=Math.pow(10,Math.floor(h));this._deltaMinMax=g/=10}i-=this._deltaMinMax,s+=this._deltaMinMax}s+=(s-(i-=(s-i)*this.extraMin))*this.extraMax;var v=this.strictMinMax;M(this._maxDefined)&&(v=!0);var m=this.adjustMinMax(i,s,p,this._gridCount,v);if(p=(s=m.max)-(i=m.min),m=this.adjustMinMax(i,s,s-i,this._gridCount,!0),i=m.min,s=m.max,this.strictMinMax&&(i=M(this._minDefined)?this._minDefined:this._minReal,(s=M(this._maxDefined)?this._maxDefined:this._maxReal)-i<=1e-8&&(i-=this._deltaMinMax,s+=this._deltaMinMax),s+=(s-(i-=(s-i)*this.extraMin))*this.extraMax),this._adapterO&&(i=this._adapterO.apply("min",i)),this._adapterO&&(s=this._adapterO.apply("max",s)),this._step=m.step,!M(i)&&!M(s)&&(this.start=0,this.end=1,this.renderer.labels.each(function(b){b.dataItem.text=""})),(this._minAdjusted!=i||this._maxAdjusted!=s)&&M(i)&&M(s)){var _=this._minMaxAnimation;if(this._extremesChanged&&M(this._minAdjusted)&&M(this._maxAdjusted)&&this.inited){if(_&&!_.isFinished()&&this._finalMax==s&&this._finalMin==i)return;this._finalMin=i,this._finalMax=s,(_=this.animateMinMax(i,s))&&!_.isFinished()?(_.events.on("animationprogress",this.validateDataItems,this),_.events.on("animationended",function(){e.series.each(function(b){b.validate()}),e.validateDataItems(),e.handleSelectionExtremesChange()}),this._minMaxAnimation=_):this.series.each(function(b){b.invalidate()}),this.validateDataItems(),this.dispatchImmediately("extremeschanged"),this.handleSelectionExtremesChange()}else{if(_&&!_.isFinished()&&this._finalMax==s&&this._finalMin==i)return;this._minAdjusted=i,this._maxAdjusted=s,this._finalMin=i,this._finalMax=s,this.invalidateDataItems(),this.dispatchImmediately("extremeschanged")}}this._extremesChanged=!1,this._difference=this.adjustDifference(i,s)}},t.prototype.fixMin=function(e){return e},t.prototype.fixMax=function(e){return e},t.prototype.adjustMinMax=function(e,i,s,l,p){l<=1&&(l=1),l=Math.round(l);var h=e,g=i;0===s&&(s=Math.abs(i));var v=Math.log(Math.abs(s))*Math.LOG10E,m=Math.pow(10,Math.floor(v)),_=m/=10;p&&(_=0),this.logarithmic?(e<=0&&(e=this.baseValue),e==1/0&&(e=1),i==-1/0&&(i=10),this.strictMinMax?(e=this._minDefined>0?this._minDefined:e,this._maxDefined>0&&(i=i)):(e=Math.pow(10,Math.floor(Math.log(Math.abs(e))*Math.LOG10E)),i=Math.pow(10,Math.ceil(Math.log(Math.abs(i))*Math.LOG10E)))):(p?(e=Math.floor(e/m)*m,i=Math.ceil(i/m)*m):(e=Math.ceil(e/m)*m-_,i=Math.floor(i/m)*m+_),e<0&&h>=0&&(e=0),i>0&&g<=0&&(i=0)),v=Math.log(Math.abs(s))*Math.LOG10E,m=Math.pow(10,Math.floor(v)),m/=10;var b=Math.ceil(s/l/m)*m,C=Math.pow(10,Math.floor(Math.log(Math.abs(b))*Math.LOG10E)),S=Math.ceil(b/C);S>5?S=10:S<=5&&S>2&&(S=5),b=Math.ceil(b/(C*S))*C*S,this.maxPrecision<Number.MAX_VALUE&&b!=qN(b,this.maxPrecision)&&(b=qN(b,this.maxPrecision));var E=0;if(C<1&&(b=ae(b,E=Math.round(Math.abs(Math.log(Math.abs(C))*Math.LOG10E))+1)),!this.logarithmic){var x=Math.floor(e/b);e=ae(b*x,E);var R=void 0;(R=p?Math.floor(i/b):Math.ceil(i/b))==x&&R++,(i=ae(b*R,E))<g&&(i+=b),e>h&&(e-=b)}return{min:e,max:i,step:b}},Object.defineProperty(t.prototype,"min",{get:function(){var e=this._minAdjusted;return M(e)||(e=this._minDefined),e},set:function(e){this._minDefined!=e&&(this._minDefined=e,this.invalidate())},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"minDefined",{get:function(){return this._minDefined},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"maxDefined",{get:function(){return this._maxDefined},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"extraMin",{get:function(){return this.getPropertyValue("extraMin")},set:function(e){this.setPropertyValue("extraMin",e)&&this.invalidateDataItems()},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"extraMax",{get:function(){return this.getPropertyValue("extraMax")},set:function(e){this.setPropertyValue("extraMax",e)&&this.invalidateDataItems()},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"step",{get:function(){return this._step},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"max",{get:function(){var e=this._maxAdjusted;return M(e)||(e=this._maxDefined),e},set:function(e){this._maxDefined!=e&&(this._maxDefined=e,this.invalidate())},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"adjustLabelPrecision",{get:function(){return this.getPropertyValue("adjustLabelPrecision")},set:function(e){this.setPropertyValue("adjustLabelPrecision",e)&&this.invalidate()},enumerable:!0,configurable:!0}),t.prototype.registerSeries=function(e){return new mi([n.prototype.registerSeries.call(this,e),e.events.on("extremeschanged",this.handleExtremesChange,this,!1),e.events.on("selectionextremeschanged",this.handleSelectionExtremesChange,this,!1),this.events.on("extremeschanged",e.invalidate,e,!1)])},t.prototype.handleSelectionExtremesChange=function(){var i,s,e=this,l=!0;if(oe(this.series.iterator(),function(C){if(!C.ignoreMinMax&&!C.isHidden&&!C.outOfRange){C.visible&&!C.isHiding&&(l=!1);var S=C.selectionMin(e),E=C.selectionMax(e);M(S)&&(!M(i)||S<i)&&(i=S),M(E)&&(!M(s)||E>s)&&(s=E)}}),this.includeRangesInMinMax&&this.axisRanges.each(function(C){if(!C.ignoreMinMax){var S=vt(C.value,C.endValue),E=Qe(C.value,C.endValue);S<i&&(i=S),E>s&&(s=E)}}),M(this._minDefined)?i=this.strictMinMax?this._minDefined:this.min:this.strictMinMax&&(i=this._minReal),M(this._maxDefined)?s=this.strictMinMax?this._maxDefined:this.max:this.strictMinMax&&(s=this._maxReal),i==s){var p=this.adjustMinMax(i-=this._deltaMinMax,s+=this._deltaMinMax,0,this._gridCount,this.strictMinMax);i=p.min,s=p.max}var h=this.adjustDifference(i,s),g=this.adjustMinMax(i,s,h,this._gridCount);i=g.min,s=g.max,s+=(s-(i-=(s-i)*this.extraMin))*this.extraMax,i=xe(i,this.min,this.max),s=xe(s,this.min,this.max),h=this.adjustDifference(i,s),g=this.adjustMinMax(i,s,h,this._gridCount,!0),i=g.min,s=g.max,this.strictMinMax&&(i=Qe(i,this._minDefined),s=vt(s,this._maxDefined));var v=g.step;this.syncWithAxis&&(g=this.syncAxes(i,s,v),i=g.min,s=g.max,this.invalidate()),v=g.step,this._difference=this.adjustDifference(this.min,this.max);var m=this.valueToPosition(i),_=this.valueToPosition(s);l&&!this.syncWithAxis&&(m=0,_=1);var b=0;this.syncWithAxis?(b=5,this.setCache(i+"-"+s,v)):((this._step!=v||this._minZoomed!=i||this._maxZoomed!=s)&&(this._dsc=!0),this._step=v,this._minZoomed=i,this._maxZoomed=s),this.keepSelection||this.zoom({start:m,end:_},!1,!1,b)},Object.defineProperty(t.prototype,"strictMinMax",{get:function(){return this.getPropertyValue("strictMinMax")},set:function(e){this.setPropertyValue("strictMinMax",e)&&this.invalidate()},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"logarithmic",{get:function(){return this.getPropertyValue("logarithmic")},set:function(e){this.setPropertyValue("logarithmic",e)&&(this.invalidate(),this.series.each(function(i){i.invalidateDataItems()}))},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"keepSelection",{get:function(){return this.getPropertyValue("keepSelection")},set:function(e){this.setPropertyValue("keepSelection",e)},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"includeRangesInMinMax",{get:function(){return this.getPropertyValue("includeRangesInMinMax")},set:function(e){this.setPropertyValue("includeRangesInMinMax",e)},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"maxPrecision",{get:function(){return this.getPropertyValue("maxPrecision")},set:function(e){this.setPropertyValue("maxPrecision",e)&&this.invalidate()},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"extraTooltipPrecision",{get:function(){return this.getPropertyValue("extraTooltipPrecision")},set:function(e){this.setPropertyValue("extraTooltipPrecision",e)&&this.invalidate()},enumerable:!0,configurable:!0}),t.prototype.handleExtremesChange=function(){var e=this;this._extremesChanged=!0,this.getMinMax(),this.ghostLabel&&this.dataItems.each(function(s){s.label&&s.label.pixelWidth>0&&(e.ghostLabel.text=s.label.currentText)})},t.prototype.getX=function(e,i,s,l,p){return this.renderer.positionToPoint(this.getPositionX(e,i,s,l,p)).x},t.prototype.getPositionX=function(e,i,s,l,p){var h=e.getWorkingValue(i);L(l)||(l="valueX");var g=e.getValue(l,"stack");M(h)||(h=this.baseValue,this.logarithmic&&g>0&&(h=0));var v=this.valueToPosition(h+g);return p&&(v=xe(v,p.start,p.end)),v},t.prototype.getY=function(e,i,s,l,p){return this.renderer.positionToPoint(this.getPositionY(e,i,s,l,p)).y},t.prototype.getPositionY=function(e,i,s,l,p){var h=e.getWorkingValue(i);L(l)||(l="valueY");var g=e.getValue(l,"stack");M(h)||(h=this.baseValue,this.logarithmic&&g>0&&(h=0));var v=this.valueToPosition(h+g);return p&&(v=xe(v,p.start,p.end)),v},t.prototype.getAngle=function(e,i,s,l,p){var h=e.getWorkingValue(i),g=e.getValue(l,"stack");M(h)||(h=this.baseValue);var v=this.valueToPosition(h+g);return p&&(v=xe(v,p.start,p.end)),this.positionToAngle(v)},t.prototype.getAnyRangePath=function(e,i,s){var l=this.valueToPosition(e),p=this.valueToPosition(i);return this.getPositionRangePath(l,p)},t.prototype.getTooltipText=function(e){var i=ae(this.positionToValue(e),this._stepDecimalPlaces+this.extraTooltipPrecision),s=this.tooltip.numberFormatter.format(i);return this._adapterO?this._adapterO.apply("getTooltipText",s):s},t.prototype.zoomToValues=function(e,i,s,l){this.zoom({start:(e-this.min)/(this.max-this.min),end:(i-this.min)/(this.max-this.min)},s,l)},Object.defineProperty(t.prototype,"minZoomed",{get:function(){return this.syncWithAxis?this._minZoomed:Qe(this.min,this._minZoomed)},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"maxZoomed",{get:function(){return this.syncWithAxis?this._maxZoomed:vt(this.max,this._maxZoomed)},enumerable:!0,configurable:!0}),t.prototype.fixAxisBreaks=function(){var e=this;n.prototype.fixAxisBreaks.call(this);var i=this._axisBreaks;i&&i.length>0&&i.each(function(s){var l=s.adjustedStartValue,p=s.adjustedEndValue,h=p-l,g=Math.ceil(h*s.breakSize)*e._gridCount/(e.max-e.min),v=e.adjustMinMax(l,p,h,g,!0);s.adjustedStep=v.step,s.adjustedMin=v.min,s.adjustedMax=v.max}),this._difference=this.adjustDifference(this.min,this.max)},t.prototype.getPositionLabel=function(e){var i=this.positionToValue(e);return this.numberFormatter.format(i)},t.prototype.showTooltipAt=function(e){this.showTooltipAtPosition(this.valueToPosition(e))},t.prototype.copyFrom=function(e){n.prototype.copyFrom.call(this,e),this.min=e.min,this.max=e.max,this.calculateTotals=e.calculateTotals,this._baseValue=e.baseValue},Object.defineProperty(t.prototype,"syncWithAxis",{get:function(){return this.getPropertyValue("syncWithAxis")},set:function(e){var i=this;this.setPropertyValue("syncWithAxis",e,!0)&&e&&(this._disposers.push(e.events.on("extremeschanged",this.handleSelectionExtremesChange,this,!1)),this._disposers.push(e.events.on("selectionextremeschanged",this.handleSelectionExtremesChange,this,!1)),this._disposers.push(e.events.on("startendchanged",this.handleSelectionExtremesChange,this,!1)),this.events.on("shown",this.handleSelectionExtremesChange,this,!1),this.events.on("maxsizechanged",function(){i.clearCache(),i._disposers.push(G.events.once("exitframe",function(){i.handleSelectionExtremesChange()}))},this,!1))},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"treatZeroAs",{get:function(){return this.getPropertyValue("treatZeroAs")},set:function(e){this.setPropertyValue("treatZeroAs",e,!0)},enumerable:!0,configurable:!0}),t.prototype.syncAxes=function(e,i,s){var l=this.syncWithAxis;if(l){M(e)||(e=this.min),M(i)||(i=this.max),M(s)||(s=this._step);var p=Math.round((l.maxZoomed-l.minZoomed)/l.step),h=Math.round((i-e)/s);if(M(p)&&M(h))for(var g=!1,v=0,m=.01*(i-e),_=e,b=i,C=s;1!=g;)if(g=this.checkSync(_,b,C,p),++v>1e3&&(g=!0),g)e=_,i=b,s=C;else{v/3==Math.round(v/3)?(_=e-m*v,e>=0&&_<0&&(_=0)):(b=i+m*v)<=0&&b>0&&(b=0);var S=this.adjustMinMax(_,b,b-_,this._gridCount,!0);_=S.min,b=S.max,C=S.step}}return{min:e,max:i,step:s}},t.prototype.checkSync=function(e,i,s,l){for(var p=(i-e)/s,h=1;h<l;h++)if(ae(p/h,1)==l||p*h==l)return!0;return!1},t.prototype.processConfig=function(e){e&&L(e.syncWithAxis)&&gt(e.syncWithAxis)&&(this.map.hasKey(e.syncWithAxis)?e.syncWithAxis=this.map.getKey(e.syncWithAxis):(this.processingErrors.push('[ValueAxis] No axis with id "'+e.syncWithAxis+'" found for `syncWithAxis`'),delete e.xAxis)),n.prototype.processConfig.call(this,e)},t}(rD);G.registeredClasses.ValueAxis=rt,G.registeredClasses.ValueAxisDataItem=sD;var xV=function(n){function t(){var e=n.call(this)||this;return e.className="DateAxisBreak",e.applyTheme(),e}return $(t,n),Object.defineProperty(t.prototype,"startDate",{get:function(){return this.getPropertyValue("startDate")},set:function(e){this.setPropertyValue("startDate",e)&&(this.startValue=e.getTime(),this.axis&&(this.axis.invalidate(),this.axis.invalidateSeries()))},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"endDate",{get:function(){return this.getPropertyValue("endDate")},set:function(e){this.setPropertyValue("endDate",e)&&(this.endValue=e.getTime(),this.axis&&(this.axis.invalidate(),this.axis.invalidateSeries()))},enumerable:!0,configurable:!0}),t}(tT);G.registeredClasses.DateAxisBreak=xV;var OV=function(n){function t(){var e=n.call(this)||this;return e.className="DateAxisDataItem",e.applyTheme(),e.values.date={},e.values.endDate={},e}return $(t,n),Object.defineProperty(t.prototype,"date",{get:function(){return this.dates.date},set:function(e){this.setDate("date",e),this.value=e.getTime()},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"endDate",{get:function(){return this.dates.endDate},set:function(e){this.setDate("endDate",e),this.endValue=e.getTime()},enumerable:!0,configurable:!0}),t}(sD),bi=function(n){function t(){var e=n.call(this)||this;return e._gapBreaks=!1,e.gridIntervals=new Dt,e.groupIntervals=new Dt,e.dateFormats=new ii,e.periodChangeDateFormats=new ii,e._baseIntervalReal={timeUnit:"day",count:1},e._prevSeriesTime={},e._minDifference={},e._firstWeekDay=1,e.groupMin={},e.groupMax={},e.className="DateAxis",e.setPropertyValue("markUnitChange",!0),e.snapTooltip=!0,e.tooltipPosition="pointer",e.setPropertyValue("groupData",!1),e.groupCount=200,e.events.on("parentset",e.getDFFormatter,e,!1),e.gridIntervals.pushAll([{timeUnit:"millisecond",count:1},{timeUnit:"millisecond",count:5},{timeUnit:"millisecond",count:10},{timeUnit:"millisecond",count:50},{timeUnit:"millisecond",count:100},{timeUnit:"millisecond",count:500},{timeUnit:"second",count:1},{timeUnit:"second",count:5},{timeUnit:"second",count:10},{timeUnit:"second",count:30},{timeUnit:"minute",count:1},{timeUnit:"minute",count:5},{timeUnit:"minute",count:10},{timeUnit:"minute",count:15},{timeUnit:"minute",count:30},{timeUnit:"hour",count:1},{timeUnit:"hour",count:3},{timeUnit:"hour",count:6},{timeUnit:"hour",count:12},{timeUnit:"day",count:1},{timeUnit:"day",count:2},{timeUnit:"day",count:3},{timeUnit:"day",count:4},{timeUnit:"day",count:5},{timeUnit:"week",count:1},{timeUnit:"month",count:1},{timeUnit:"month",count:2},{timeUnit:"month",count:3},{timeUnit:"month",count:6},{timeUnit:"year",count:1},{timeUnit:"year",count:2},{timeUnit:"year",count:5},{timeUnit:"year",count:10},{timeUnit:"year",count:50},{timeUnit:"year",count:100},{timeUnit:"year",count:200},{timeUnit:"year",count:500},{timeUnit:"year",count:1e3},{timeUnit:"year",count:2e3},{timeUnit:"year",count:5e3},{timeUnit:"year",count:1e4},{timeUnit:"year",count:1e5}]),e.groupIntervals.pushAll([{timeUnit:"millisecond",count:1},{timeUnit:"millisecond",count:10},{timeUnit:"millisecond",count:100},{timeUnit:"second",count:1},{timeUnit:"second",count:10},{timeUnit:"minute",count:1},{timeUnit:"minute",count:10},{timeUnit:"hour",count:1},{timeUnit:"day",count:1},{timeUnit:"week",count:1},{timeUnit:"month",count:1},{timeUnit:"year",count:1}]),e.axisFieldName="date",e.applyTheme(),e}return $(t,n),t.prototype.fillRule=function(e){var i=e.value,s=e.component,l=s._gridInterval,p=Fi(l.timeUnit,l.count);e.axisFill.__disabled=Math.round((i-s.min)/p)/2==Math.round(Math.round((i-s.min)/p)/2)},t.prototype.applyInternalDefaults=function(){n.prototype.applyInternalDefaults.call(this),this.dateFormats.hasKey("millisecond")||this.dateFormats.setKey("millisecond",this.language.translate("_date_millisecond")),this.dateFormats.hasKey("second")||this.dateFormats.setKey("second",this.language.translate("_date_second")),this.dateFormats.hasKey("minute")||this.dateFormats.setKey("minute",this.language.translate("_date_minute")),this.dateFormats.hasKey("hour")||this.dateFormats.setKey("hour",this.language.translate("_date_hour")),this.dateFormats.hasKey("day")||this.dateFormats.setKey("day",this.language.translate("_date_day")),this.dateFormats.hasKey("week")||this.dateFormats.setKey("week",this.language.translate("_date_day")),this.dateFormats.hasKey("month")||this.dateFormats.setKey("month",this.language.translate("_date_month")),this.dateFormats.hasKey("year")||this.dateFormats.setKey("year",this.language.translate("_date_year")),this.periodChangeDateFormats.hasKey("millisecond")||this.periodChangeDateFormats.setKey("millisecond",this.language.translate("_date_millisecond")),this.periodChangeDateFormats.hasKey("second")||this.periodChangeDateFormats.setKey("second",this.language.translate("_date_second")),this.periodChangeDateFormats.hasKey("minute")||this.periodChangeDateFormats.setKey("minute",this.language.translate("_date_minute")),this.periodChangeDateFormats.hasKey("hour")||this.periodChangeDateFormats.setKey("hour",this.language.translate("_date_day")),this.periodChangeDateFormats.hasKey("day")||this.periodChangeDateFormats.setKey("day",this.language.translate("_date_day")),this.periodChangeDateFormats.hasKey("week")||this.periodChangeDateFormats.setKey("week",this.language.translate("_date_day")),this.periodChangeDateFormats.hasKey("month")||this.periodChangeDateFormats.setKey("month",this.language.translate("_date_month")+" "+this.language.translate("_date_year"))},t.prototype.createDataItem=function(){return new OV},t.prototype.createAxisBreak=function(){return new xV},t.prototype.validateDataItems=function(){var e=this.start,i=this.end,s=this.baseDuration,l=(this.max-this.min)/s;this._firstWeekDay=this.getFirstWeekDay(),this.getDFFormatter(),n.prototype.validateDataItems.call(this);var p=Fi(this.mainBaseInterval.timeUnit,this.mainBaseInterval.count);this.maxZoomFactor=Math.max(1,(this.max-this.min)/p),this._deltaMinMax=this.baseDuration/2,this.zoom({start:e+=(i-e)*(1-l/((this.max-this.min)/s)),end:i},!1,!0)},t.prototype.handleSelectionExtremesChange=function(){},t.prototype.calculateZoom=function(){var e=this;n.prototype.calculateZoom.call(this);var i=this.adjustDifference(this._minZoomed,this._maxZoomed),s=!1;if(this.groupData&&L(i)){var l=this.mainBaseInterval,p=i+(this.startLocation+(1-this.endLocation))*this.baseDuration,h=void 0;this.groupInterval?h=Ps({},this.groupInterval):Fi((h=this.chooseInterval(0,p,this.groupCount,this.groupIntervals)).timeUnit,h.count)<Fi(l.timeUnit,l.count)&&(h=Ps({},l)),this._groupInterval=h;var g=h.timeUnit+h.count;this._currentDataSetId!=g&&(this._currentDataSetId=g,this.dispatch("groupperiodchanged")),this.series.each(function(m){m.baseAxis==e&&m.setDataSet(e._currentDataSetId)&&(s=!0)})}var v=this.chooseInterval(0,i,this._gridCount);Fi(v.timeUnit,v.count)<this.baseDuration&&(v=Ps({},this.baseInterval)),this._gridInterval=v,this._nextGridUnit=jL(v.timeUnit),this._intervalDuration=Fi(v.timeUnit,v.count),this._gridDate=Ln(new Date(this.minZoomed-Fi(v.timeUnit,v.count)),v.timeUnit,v.count,this._firstWeekDay,this._df.utc,new Date(this.min),this._df.timezoneMinutes,this._df.timezone),oe(this.series.iterator(),function(m){if(m.baseAxis==e){var _=m.getAxisField(e),b=Ln(new Date(e._minZoomed+.05*e.baseDuration),e.baseInterval.timeUnit,e.baseInterval.count,e._firstWeekDay,e._df.utc,void 0,e._df.timezoneMinutes,e._df.timezone).getTime(),C=b.toString(),S=m.dataItemsByAxis.getKey(e.uid).getKey(C+m.currentDataSetId),E=0;0!=e.start&&(E=S?(S=e.findFirst(S,b,_)).index:m.dataItems.findClosestIndex(e._minZoomed,function(W){return W[_]},"left"));var x=e.baseInterval,R=Ir(Ln(new Date(e._maxZoomed),x.timeUnit,x.count,e._firstWeekDay,e._df.utc,void 0,e._df.timezoneMinutes,e._df.timezone),x.timeUnit,x.count,e._df.utc).getTime(),P=R.toString(),k=m.dataItemsByAxis.getKey(e.uid).getKey(P+m.currentDataSetId),U=m.dataItems.length;1!=e.end&&(k?U=k.index:(U=m.dataItems.findClosestIndex(R-=1,function(W){return W[_]},"right"),U++)),m.max(e)<b?(m.startIndex=m.dataItems.length,m.endIndex=m.dataItems.length,m.outOfRange=!0):m.min(e)>R?(m.startIndex=0,m.endIndex=0,m.outOfRange=!0):(m.outOfRange=!1,m.startIndex=E,m.endIndex=U),!s&&m.dataRangeInvalid&&m.validateDataRange()}})},t.prototype.findFirst=function(e,i,s){var l=e.index;if(l>0){var h=e.component.dataItems.getIndex(l-1),g=h[s];return!g||g.getTime()<i?e:this.findFirst(h,i,s)}return e},t.prototype.validateData=function(){n.prototype.validateData.call(this),M(this.baseInterval.count)||(this.baseInterval.count=1)},Object.defineProperty(t.prototype,"minDifference",{get:function(){var e=this,i=Number.MAX_VALUE;return this.series.each(function(s){i>e._minDifference[s.uid]&&(i=e._minDifference[s.uid])}),(i==Number.MAX_VALUE||0==i)&&(i=Fi("day")),i},enumerable:!0,configurable:!0}),t.prototype.seriesDataChangeUpdate=function(e){this._minDifference[e.uid]=Number.MAX_VALUE},t.prototype.postProcessSeriesDataItems=function(e){var i=this;this._firstWeekDay=this.getFirstWeekDay(),e?this.seriesGroupUpdate(e):this.series.each(function(s){i.seriesGroupUpdate(s)}),this.addEmptyUnitsBreaks()},t.prototype.seriesGroupUpdate=function(e){var i=this;JSON.stringify(e._baseInterval[this.uid])!=JSON.stringify(this.mainBaseInterval)&&(e._baseInterval[this.uid]=this.mainBaseInterval,e.mainDataSet.each(function(s){i.postProcessSeriesDataItem(s)}),this.groupData&&this.groupSeriesData(e))},t.prototype.groupSeriesData=function(e){var i=this;if(e.baseAxis==this&&e.dataItems.length>0&&!e.dataGrouped){e.bulletsContainer.removeChildren();var s=[],l=this.mainBaseInterval,p=Fi(l.timeUnit,l.count);this.groupIntervals.each(function(h){var g=Fi(h.timeUnit,h.count);(g>p&&g<i.max-i.min||i.groupInterval)&&s.push(h)}),e._dataSets&&(e._dataSets.each(function(h,g){g.each(function(v){v.dispose()}),g.clear()}),e._dataSets.clear()),e.dataGrouped=!0,be(s,function(h){var g="date"+i.axisLetter,v=h.timeUnit+h.count,m=new S0(e.mainDataSet.template.clone());e.dataSets.setKey(v,m);var S,x,_=e.mainDataSet,b=Number.NEGATIVE_INFINITY,C=0,E=[];We(e.dataFields,function(R,P){var k=R;k!=g&&-1==k.indexOf("Show")&&E.push(k)}),_.each(function(R){var P=R.getDate(g);if(P){var k=P.getTime(),U=(x=Ln(new Date(k),h.timeUnit,h.count,i._df.firstDayOfWeek,i._df.utc,void 0,i._df.timezoneMinutes,i._df.timezone)).getTime();b<U?(S&&e._adapterO&&be(E,function(W){S.values[W].value=e._adapterO.apply("groupDataItem",{dataItem:S,interval:h,dataField:W,date:x,value:S.values[W].value}).value,S.values[W].workingValue=S.values[W].value}),(S=m.create()).dataContext={},S.setWorkingLocation("dateX",e.dataItems.template.locations.dateX,0),S.setWorkingLocation("openDateX",e.dataItems.template.locations.openDateX,0),S.setWorkingLocation("dateY",e.dataItems.template.locations.dateY,0),S.setWorkingLocation("openDateY",e.dataItems.template.locations.openDateY,0),S.component=e,S.setDate(g,x),S._index=C,C++,be(E,function(W){var Y=R.values[W];if(Y){var K=Y.value;e._adapterO&&(K=e._adapterO.apply("groupValue",{dataItem:R,interval:h,dataField:W,date:x,value:K}).value);var X=S.values[W];M(K)?(X.value=K,X.workingValue=K,X.open=K,X.close=K,X.low=K,X.high=K,X.sum=K,X.average=K,X.count=1):X.count=0}}),i.postProcessSeriesDataItem(S,h),We(e.propertyFields,function(W,Y){var K=W,X=R.properties[W];L(X)&&(S.hasProperties=!0,S.setProperty(K,X))}),S.groupDataItems=[R],b=U):S&&(be(E,function(W){var Y=e.groupFields[W],K=R.values[W];if(K){var X=K.value;if(e._adapterO&&(X=e._adapterO.apply("groupValue",{dataItem:R,interval:h,dataField:W,date:x,value:X}).value),M(X)){var J=S.values[W];M(J.open)||(J.open=X),J.close=X,(J.low>X||!M(J.low))&&(J.low=X),(J.high<X||!M(J.high))&&(J.high=X),M(J.sum)?J.sum+=X:J.sum=X,J.count++,J.average=J.sum/J.count,M(J[Y])&&(J.value=J[Y],J.workingValue=J.value)}}}),Bl(R.properties,S.properties),We(e.propertyFields,function(W,Y){var K=W,X=R.properties[W];L(X)&&(S.hasProperties=!0,S.setProperty(K,X))}),S.groupDataItems.push(R))}S&&Bl(R.dataContext,S.dataContext)}),S&&e._adapterO&&be(E,function(R){S.values[R].value=e._adapterO.apply("groupDataItem",{dataItem:S,interval:h,dataField:R,date:x,value:S.values[R].value}).value,S.values[R].workingValue=S.values[R].value})}),this.calculateZoom()}},t.prototype.getDFFormatter=function(){this._df=this.dateFormatter},t.prototype.postProcessSeriesDataItem=function(e,i){var s=this,l="";i?l=i.timeUnit+i.count:i=this.mainBaseInterval;var h=e.component.dataItemsByAxis.getKey(this.uid);We(e.dates,function(g){var m=e.getDate(g).getTime(),b=Ln(new Date(m),i.timeUnit,i.count,s._firstWeekDay,s._df.utc,void 0,s._df.timezoneMinutes,s._df.timezone).getTime(),C=Ir(new Date(b),i.timeUnit,i.count,s._df.utc);e.setCalculatedValue(g,b,"open"),e.setCalculatedValue(g,C.getTime(),"close"),h.setKey(b+l,e)})},t.prototype.addEmptyUnitsBreaks=function(){var e=this;if(this.skipEmptyPeriods&&M(this.min)&&M(this.max)){var i=this.baseInterval.timeUnit,s=this.baseInterval.count;this._axisBreaks&&this._axisBreaks.clear();for(var l=Ln(new Date(this.min),i,s,this._firstWeekDay,this._df.utc,void 0,this._df.timezoneMinutes,this._df.timezone),p=void 0,h=function(){Ir(l,i,s,g._df.utc);var v=l.getTime(),m=v.toString();rR(g.series.iterator(),function(b){return!!b.dataItemsByAxis.getKey(e.uid).getKey(m+b.currentDataSetId)})?p&&(p.endDate=new Date(v-1),p=void 0):p||((p=g.axisBreaks.create()).startDate=new Date(v),g._gapBreaks=!0)},g=this;l.getTime()<this.max-this.baseDuration;)h()}},t.prototype.fixAxisBreaks=function(){var e=this;n.prototype.fixAxisBreaks.call(this);var i=this._axisBreaks;i&&i.length>0&&i.each(function(s){var l=Math.ceil(e._gridCount*(Math.min(e.end,s.endPosition)-Math.max(e.start,s.startPosition))/(e.end-e.start));s.gridInterval=e.chooseInterval(0,s.adjustedEndValue-s.adjustedStartValue,l);var p=Ln(new Date(s.adjustedStartValue),s.gridInterval.timeUnit,s.gridInterval.count,e._firstWeekDay,e._df.utc,void 0,e._df.timezoneMinutes,e._df.timezone);p.getTime()>s.startDate.getTime()&&Ir(p,s.gridInterval.timeUnit,s.gridInterval.count,e._df.utc),s.gridDate=p})},t.prototype.getFirstWeekDay=function(){return this._df?this._df.firstDayOfWeek:1},t.prototype.getGridDate=function(e,i){var s=this._gridInterval.timeUnit,l=this._gridInterval.count;Ln(e,s,1,this._firstWeekDay,this._df.utc,void 0,this._df.timezoneMinutes,this._df.timezone);var p=e.getTime(),h=Nf(e),g=Ir(h,s,i,this._df.utc).getTime(),v=this.isInBreak(g);v&&v.endDate&&(Ln(h=new Date(v.endDate.getTime()),s,l,this._firstWeekDay,this._df.utc,void 0,this._df.timezoneMinutes,this._df.timezone),h.getTime()<v.endDate.getTime()&&Ir(h,s,l,this._df.utc),g=h.getTime());var m=this.adjustDifference(p,g);return Math.round(m/Fi(s))<l?this.getGridDate(e,i+l):h},t.prototype.getBreaklessDate=function(e,i,s){var l=new Date(e.endValue);Ln(l,i,s,this._firstWeekDay,this._df.utc,void 0,this._df.timezoneMinutes,this._df.timezone),Ir(l,i,s,this._df.utc);var p=l.getTime();return(e=this.isInBreak(p))?this.getBreaklessDate(e,i,s):l},t.prototype.validateAxisElements=function(){var e=this;if(M(this.max)&&M(this.min)){this.calculateZoom();var i=this._gridDate.getTime(),s=this._gridInterval.timeUnit,l=this._gridInterval.count,p=Nf(this._gridDate),h=this._dataItemsIterator;this.resetIterators();for(var g=function(){var _=v.getGridDate(Nf(p),l);i=_.getTime();var b=Nf(_);b=Ir(b,s,l,v._df.utc);var C=v.dateFormats.getKey(s);v.markUnitChange&&p&&MR(_,p,v._nextGridUnit,v._df.utc)&&"year"!==s&&(C=v.periodChangeDateFormats.getKey(s));var S=v._df.format(_,C),E=h.find(function(x){return x.text===S});E.__disabled&&(E.__disabled=!1),v.appendDataItem(E),E.axisBreak=void 0,E.date=_,E.endDate=b,E.text=S,v.validateDataElement(E),p=_},v=this;i<=this._maxZoomed;)g();var m=this.renderer;this._axisBreaks&&oe(this._axisBreaks.iterator(),function(_){if(_.breakSize>0){var b=_.gridInterval.timeUnit,C=_.gridInterval.count;if(At(_.startPoint,_.endPoint)>4*m.minGridDistance)for(var E,S=_.gridDate.getTime(),x=0,R=function(){var P=Nf(_.gridDate);if(S=Ir(P,b,C*x,e._df.utc).getTime(),x++,S>_.adjustedStartValue&&S<_.adjustedEndValue){var k=Nf(P);k=Ir(k,b,C,e._df.utc);var U=e.dateFormats.getKey(b);e.markUnitChange&&E&&MR(P,E,e._nextGridUnit,e._df.utc)&&"year"!==b&&(U=e.periodChangeDateFormats.getKey(b));var W=e._df.format(P,U),Y=h.find(function(K){return K.text===W});Y.__disabled&&(Y.__disabled=!1),e.appendDataItem(Y),Y.axisBreak=_,_.dataItems.moveValue(Y),Y.date=P,Y.endDate=k,Y.text=W,E=P,e.validateDataElement(Y)}};S<=_.adjustedMax;)R()}})}},t.prototype.validateDataElement=function(e){if(e.itemIndex=this._axisItemCount,this._axisItemCount++,M(this.max)&&M(this.min)){var i=this.renderer,s=e.value,l=e.endValue;M(l)||(l=s);var p=this.valueToPosition(s),h=this.valueToPosition(l),g=h;!e.isRange&&this._gridInterval.count>this.baseInterval.count&&(h=p+(h-p)/(this._gridInterval.count/this.baseInterval.count)),e.position=p;var v=e.tick;v&&!v.disabled&&i.updateTickElement(v,p,h);var m=e.grid;m&&!m.disabled&&i.updateGridElement(m,p,h);var _=e.axisFill;_&&!_.disabled&&(i.updateFillElement(_,p,g),e.isRange||this.fillRule(e));var b=e.mask;b&&i.updateFillElement(b,p,h),e.bullet&&i.updateBullet(e.bullet,p,h);var C=e.label;if(C&&!C.disabled){var S=C.location;0==S&&(S=1!=this._gridInterval.count||"week"==this._gridInterval.timeUnit||e.isRange?0:.5),i.updateLabelElement(C,p,h,S)}}},Object.defineProperty(t.prototype,"baseDuration",{get:function(){return Fi(this.baseInterval.timeUnit,this.baseInterval.count)},enumerable:!0,configurable:!0}),t.prototype.adjustMinMax=function(e,i){return{min:e,max:i,step:this.baseDuration}},t.prototype.fixMin=function(e){var i=this.baseInterval,s=Ln(new Date(e),i.timeUnit,i.count,this._firstWeekDay,this._df.utc,void 0,this._df.timezoneMinutes,this._df.timezone).getTime();return s+(Ir(new Date(s),i.timeUnit,i.count,this._df.utc).getTime()-s)*this.startLocation},t.prototype.fixMax=function(e){var i=this.baseInterval,s=Ln(new Date(e),i.timeUnit,i.count,this._firstWeekDay,this._df.utc,void 0,this._df.timezoneMinutes,this._df.timezone).getTime();return s+(Ir(new Date(s),i.timeUnit,i.count,this._df.utc).getTime()-s)*this.endLocation},t.prototype.chooseInterval=function(e,i,s,l){l||(l=this.gridIntervals);var p=l.getIndex(e),h=Fi(p.timeUnit,p.count),g=l.length-1;if(e>=g)return Ps({},l.getIndex(g));var v=Math.ceil(i/h);return i<h&&e>0?Ps({},l.getIndex(e-1)):v<=s?Ps({},l.getIndex(e)):e+1<l.length?this.chooseInterval(e+1,i,s,l):Ps({},l.getIndex(e))},t.prototype.formatLabel=function(e){return this._df.format(e)},t.prototype.dateToPosition=function(e){return this.valueToPosition(e.getTime())},t.prototype.anyToPosition=function(e){return e instanceof Date?this.dateToPosition(e):this.valueToPosition(e)},t.prototype.dateToPoint=function(e){var i=this.dateToPosition(e),s=this.renderer.positionToPoint(i),l=this.renderer.positionToAngle(i);return{x:s.x,y:s.y,angle:l}},t.prototype.anyToPoint=function(e){return e instanceof Date?this.dateToPoint(e):this.valueToPoint(e)},t.prototype.positionToDate=function(e){return new Date(this.positionToValue(e))},t.prototype.getPositionX=function(e,i,s,l,p){var h=this.getTimeByLocation(e,i,s);M(h)||(h=this.baseValue);var g=this.valueToPosition(h);return p&&(g=xe(g,p.start,p.end)),g},t.prototype.getPositionY=function(e,i,s,l,p){var h=this.getTimeByLocation(e,i,s),g=e.getValue("valueX","stack");M(h)||(h=this.baseValue);var v=this.valueToPosition(h+g);return p&&(v=xe(v,p.start,p.end)),v},t.prototype.getAngle=function(e,i,s,l,p){var h=this.getTimeByLocation(e,i,s),g=e.getValue(l,"stack");M(h)||(h=this.baseValue);var v=this.valueToPosition(h+g);return p&&(v=xe(v,p.start,p.end)),this.positionToAngle(v)},t.prototype.getTimeByLocation=function(e,i,s){if(L(i)){M(s)||M(s=e.workingLocations[i])||(s=0);var l=e.values[i].open,p=e.values[i].close,v=e.values[i].value-e.values[i].workingValue;if(p-=v,M(l-=v)&&M(p))return l+(p-l)*s}},t.prototype.processSeriesDataItem=function(e,i){var l,s=e.component,p=e["date"+i];if(M(this.timezoneOffset)?(p.setTime(p.getTime()+6e4*(p.getTimezoneOffset()-this.timezoneOffset)),e.setValue("date"+i,p.getTime(),0)):L(this.timezone)&&(p=W0(p,this.timezone),e.setValue("date"+i,p.getTime(),0),e["date"+i]=p),p){l=p.getTime();var v,h=e["openDate"+i],g=this._prevSeriesTime[s.uid];if(h&&(v=h.getTime()),M(v)){var m=Math.abs(l-v);this._minDifference[s.uid]>m&&(this._minDifference[s.uid]=m)}var _=l-g;_>0&&this._minDifference[s.uid]>_&&(this._minDifference[s.uid]=_),this._prevSeriesTime[s.uid]=l,s._baseInterval[this.uid]&&this.postProcessSeriesDataItem(e)}},t.prototype.updateAxisBySeries=function(){n.prototype.updateAxisBySeries.call(this);var e=this.chooseInterval(0,this.minDifference,1);this.minDifference>=Fi("day",27)&&"week"==e.timeUnit&&(e.timeUnit="month",e.count=1),"month"==e.timeUnit&&(this.minDifference>=Fi("day",58)&&1==e.count&&(e.count=2),this.minDifference>=Fi("day",87)&&2==e.count&&(e.count=3),this.minDifference>=Fi("day",174)&&5==e.count&&(e.count=6)),this.minDifference>=Fi("hour",23)&&"hour"==e.timeUnit&&(e.timeUnit="day",e.count=1),this.minDifference>=Fi("week",1)-Fi("hour",1)&&"day"==e.timeUnit&&(e.timeUnit="week",e.count=1),this.minDifference>=Fi("year",1)-Fi("day",1.01)&&"month"==e.timeUnit&&(e.timeUnit="year",e.count=1),this._baseIntervalReal=e,this._mainBaseInterval=e},Object.defineProperty(t.prototype,"baseInterval",{get:function(){return this._groupInterval?this._groupInterval:this._baseInterval?this._baseInterval:this._baseIntervalReal},set:function(e){JSON.stringify(this._baseInterval)!=JSON.stringify(e)&&(this._baseInterval=e,this._mainBaseInterval=e,M(e.count)||(e.count=1),this.invalidate(),this.postProcessSeriesDataItems())},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"mainBaseInterval",{get:function(){return this._baseInterval?this._baseInterval:this._mainBaseInterval?this._mainBaseInterval:this._baseIntervalReal},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"skipEmptyPeriods",{get:function(){return this.getPropertyValue("skipEmptyPeriods")},set:function(e){if(e){var i=this.axisBreaks.template;i.startLine.disabled=!0,i.endLine.disabled=!0,i.fillShape.disabled=!0,i.breakSize=0}else this._gapBreaks&&(this.axisBreaks.clear(),this._gapBreaks=!1);this.setPropertyValue("skipEmptyPeriods",e)&&(this.invalidate(),this.postProcessSeriesDataItems(),this.invalidateSeries())},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"tooltipDateFormat",{get:function(){return this.getPropertyValue("tooltipDateFormat")},set:function(e){this.setPropertyValue("tooltipDateFormat",e)},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"markUnitChange",{get:function(){return this.getPropertyValue("markUnitChange")},set:function(e){this.setPropertyValue("markUnitChange",e)&&this.invalidateData()},enumerable:!0,configurable:!0}),t.prototype.getTooltipText=function(e){var i,s=this.positionToDate(e);if(s=Ln(s,this.baseInterval.timeUnit,this.baseInterval.count,this._firstWeekDay,this._df.utc,new Date(this.min),this._df.timezoneMinutes,this._df.timezone),this.tooltipDate=s,L(this.tooltipDateFormat))i=this._df.format(s,this.tooltipDateFormat,-1==["day","month","week","year"].indexOf(this.baseInterval.timeUnit));else{var l=this.dateFormats.getKey(this.baseInterval.timeUnit);i=l?this._df.format(s,l):this.getPositionLabel(e)}return this._adapterO?this._adapterO.apply("getTooltipText",i):i},t.prototype.roundPosition=function(e,i,s){var l=this.baseInterval,p=l.timeUnit,h=l.count,g=this.positionToDate(e);if(Ln(g,p,h,this._firstWeekDay,this._df.utc,void 0,this._df.timezoneMinutes,this._df.timezone),i>0&&Ir(g,p,i*h,this._df.utc),s>0&&s<1&&g.setTime(g.getTime()+this.baseDuration*s),this.isInBreak(g.getTime()))for(;g.getTime()<this.max&&(Ir(g,p,h,this._df.utc),this.isInBreak(g.getTime())););return this.dateToPosition(g)},t.prototype.getCellStartPosition=function(e){return this.roundPosition(e,0)},t.prototype.getCellEndPosition=function(e){return this.roundPosition(e,1)},t.prototype.getSeriesDataItem=function(e,i,s){var l=this.positionToValue(i),h=l-("Y"==this.axisLetter?e.dataItems.template.locations.dateY:e.dataItems.template.locations.dateX)*this.baseDuration,g=Ln(new Date(l),this.baseInterval.timeUnit,this.baseInterval.count,this._firstWeekDay,this._df.utc,void 0,this._df.timezoneMinutes,this._df.timezone),v=Ln(new Date(l+this.baseDuration),this.baseInterval.timeUnit,this.baseInterval.count,this._firstWeekDay,this._df.utc,void 0,this._df.timezoneMinutes,this._df.timezone);v.getTime()>g.getTime()&&Math.abs(v.getTime()-h)<Math.abs(h-g.getTime())&&(g=v);var b,_=e.dataItemsByAxis.getKey(this.uid).getKey(g.getTime()+e.currentDataSetId);return!_&&s&&(b="Y"==this.axisLetter?"dateY":"dateX",_=e.dataItems.getIndex(e.dataItems.findClosestIndex(g.getTime(),function(C){return C[b]?C[b].getTime():-1/0},"any"))),_},t.prototype.getPositionLabel=function(e){var i=this.positionToDate(e);return this._df.format(i,this.getCurrentLabelFormat())},t.prototype.getCurrentLabelFormat=function(){return this.dateFormats.getKey(this._gridInterval?this._gridInterval.timeUnit:"day")},t.prototype.initRenderer=function(){n.prototype.initRenderer.call(this);var e=this.renderer;e&&(e.ticks.template.location=0,e.grid.template.location=0,e.labels.template.location=0,e.baseGrid.disabled=!0)},Object.defineProperty(t.prototype,"basePoint",{get:function(){return{x:0,y:0}},enumerable:!0,configurable:!0}),t.prototype.animateMinMax=function(e,i){var s=this,l=this.animate([{property:"_minAdjusted",from:this._minAdjusted,to:e},{property:"_maxAdjusted",from:this._maxAdjusted,to:i}],this.rangeChangeDuration,this.rangeChangeEasing);return l.events.on("animationprogress",function(){s.dispatch("extremeschanged")}),l},t.prototype.handleExtremesChange=function(){if(n.prototype.handleExtremesChange.call(this),this.groupData){var e=this.baseInterval.timeUnit+this.baseInterval.count;this.groupMin[e]=this._finalMin,this.groupMax[e]=this._finalMax}},t.prototype.zoomToDates=function(e,i,s,l,p){e=this._df.parse(e),i=this._df.parse(i),this.zoomToValues(e.getTime(),i.getTime(),s,l,p)},t.prototype.zoomToValues=function(e,i,s,l,p){var h=this;if(this.groupData){var m=this.adjustDifference(e,i),_=!1;i==this.max&&(_=!0);var b=!1;if(e==this.min&&(b=!0),L(m)){var C=this.mainBaseInterval,S=this.chooseInterval(0,m,this.groupCount,this.groupIntervals);(S.timeUnit==C.timeUnit&&S.count<C.count||Fi(S.timeUnit,1)<Fi(C.timeUnit,1))&&(S=Ps({},C));var E=S.timeUnit+S.count,x=this.groupMin[E],R=this.groupMax[E];(!M(x)||!M(R))&&(x=Number.POSITIVE_INFINITY,R=Number.NEGATIVE_INFINITY,this.series.each(function(U){var W=U.min(h),Y=U.max(h);if(U._dataSets){var K=U._dataSets.getKey(S.timeUnit+S.count);if(K){var X=K.getIndex(0),J=K.getIndex(K.length-1);X&&(U.xAxis==h?W=X.dateX.getTime():U.yAxis==h&&(W=X.dateY.getTime())),J&&(U.xAxis==h?Y=J.dateX.getTime():U.yAxis==h&&(Y=J.dateY.getTime()))}}Y=Ln(Ir(new Date(Y),S.timeUnit,1,h._df.utc),S.timeUnit,1,h._df.firstDayOfWeek,h._df.utc,void 0,h._df.timezoneMinutes,h._df.timezone).getTime(),W<x&&(x=W),Y>R&&(R=Y)}),this.groupMin[E]=x,this.groupMax[E]=R),e=xe(e,x,R),i=xe(i,x,R),p&&(_&&(e=xe(e=i-m,x,R)),b&&(i=xe(i=e+m,x,R))),this.zoom({start:g=(e-x)/(R-x),end:v=(i-x)/(R-x)},s,l)}}else{var g=this.valueToPosition(e),v=this.valueToPosition(i);this.zoom({start:g,end:v},s,l)}},t.prototype.asIs=function(e){return"baseInterval"==e||n.prototype.asIs.call(this,e)},t.prototype.copyFrom=function(e){var i=this;n.prototype.copyFrom.call(this,e),this.dateFormats=e.dateFormats,this.periodChangeDateFormats=e.periodChangeDateFormats,this.groupIntervals.clear(),e.groupIntervals.each(function(s){i.groupIntervals.push(Ps({},s))}),this.gridIntervals.clear(),e.gridIntervals.each(function(s){i.gridIntervals.push(Ps({},s))}),e._baseInterval&&(this.baseInterval=e._baseInterval)},t.prototype.showTooltipAtPosition=function(e,i){var s=this;if(i||(e=this.toAxisPosition(e)),this.snapTooltip){var h,p=this.positionToDate(e).getTime();if(this.series.each(function(m){if(m.baseAxis==s){var _=s.getSeriesDataItem(m,e,!0);if(_){var b=void 0;m.xAxis==s&&(b=_.dateX),m.yAxis==s&&(b=_.dateY),h?Math.abs(h.getTime()-p)>Math.abs(b.getTime()-p)&&(h=b):h=b}}}),h){var g=h.getTime();h=Ln(new Date(g),this.baseInterval.timeUnit,this.baseInterval.count,this._firstWeekDay,this._df.utc,void 0,this._df.timezoneMinutes,this._df.timezone),g=h.getTime();var v=this.renderer.tooltipLocation;0==v&&(v=1e-4),h=new Date(h.getTime()+this.baseDuration*v),e=this.dateToPosition(h),this.chart.cursor&&this.chart.cursor.snapToSeries||this.series.each(function(m){var _=m.dataItemsByAxis.getKey(s.uid).getKey(g+m.currentDataSetId),b=m.showTooltipAtDataItem(_);b?s.chart._seriesPoints.push({series:m,point:b}):(m.tooltipText||m.tooltipHTML)&&m.hideTooltip()})}}n.prototype.showTooltipAtPosition.call(this,e,!0)},Object.defineProperty(t.prototype,"snapTooltip",{get:function(){return this.getPropertyValue("snapTooltip")},set:function(e){this.setPropertyValue("snapTooltip",e)},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"groupData",{get:function(){return this.getPropertyValue("groupData")},set:function(e){var i=this;this.setPropertyValue("groupData",e)&&(this.series.each(function(s){s.setDataSet(""),e&&!s.dataGrouped&&s.inited&&(s._baseInterval[i.uid]=i.mainBaseInterval,i.groupSeriesData(s))}),this._currentDataSetId="",this._groupInterval=void 0,this.invalidate(),this.invalidateSeries())},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"groupInterval",{get:function(){return this.getPropertyValue("groupInterval")},set:function(e){this.setPropertyValue("groupInterval",e)&&(this.invalidate(),this.invalidateSeries())},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"groupCount",{get:function(){return this.getPropertyValue("groupCount")},set:function(e){this.setPropertyValue("groupCount",e)},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"timezoneOffset",{get:function(){return this.getPropertyValue("timezoneOffset")},set:function(e){this.setPropertyValue("timezoneOffset",e)},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"timezone",{get:function(){return this.getPropertyValue("timezone")},set:function(e){this.setPropertyValue("timezone",e)},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"gridInterval",{get:function(){return this._gridInterval},enumerable:!0,configurable:!0}),t.prototype.makeGap=function(e,i){var s=e.component;if(e&&i&&!s.connect&&M(s.autoGapCount)&&s.baseAxis==this){var l=e.dates["date"+this.axisLetter],p=i.dates["date"+this.axisLetter];if(l&&p&&l.getTime()-p.getTime()>s.autoGapCount*this.baseDuration)return!0}return!1},Object.defineProperty(t.prototype,"baseValue",{get:function(){return this.min},enumerable:!0,configurable:!0}),t}(rt);G.registeredClasses.DateAxis=bi,G.registeredClasses.DateAxisDataItem=OV;var Wl=function(n){function t(){var e=n.call(this)||this;return e.className="AxisRendererX",e.minGridDistance=120,e.opposite=!1,e.rotation=0,e.width=ue(100),e.labels.template.horizontalCenter="middle",e.applyTheme(),e}return $(t,n),t.prototype.setAxis=function(e){n.prototype.setAxis.call(this,e),e.layout="vertical"},t.prototype.updateGridContainer=function(){var e=this.axis;if(e){var i=this.gridContainer;i.x=e.pixelX,i.width=e.axisLength}},t.prototype.processRenderer=function(){n.prototype.processRenderer.call(this);var e=this.axis;if(e){e.width instanceof ft||(e.width=ue(100));var i=e.title;i.rotation=0,i.align="center",this.opposite?(this.line.toFront(),i.toBack()):(i.toFront(),this.toBack(),this.line.toBack())}},t.prototype.updateTooltip=function(){if(this.axis){var i=1e3,l=this.line.pixelY,h=i;this.opposite?this.inside||(l=-i,h=i):this.inside&&(l=-i,h=i),this.axis.updateTooltip("vertical",{x:this.line.pixelX,y:l,width:this.axisLength,height:h})}},t.prototype.updateLabelElement=function(e,i,s,l){L(l)||(l=e.location);var p=this.positionToPoint(i+=(s-i)*l);e.isMeasured=!e.inside;var g,h=0,v=this.gridContainer.maxHeight;this.opposite?(e.inside?(g="top","bottom"==e.valign&&(h=v,g="bottom"),"middle"==e.valign&&(h=v/2,g="middle")):g="bottom",p.y=h):(e.inside?(g="bottom","top"==e.valign&&(h=-v,g="top"),"middle"==e.valign&&(h=-v/2,g="middle")):g="top",p.y+=h),0==e.rotation&&(e.verticalCenter=g),this.positionItem(e,p),this.toggleVisibility(e,i,this.minLabelPosition,this.maxLabelPosition)},Object.defineProperty(t.prototype,"axisLength",{get:function(){var e=this.axis;return e.measuredWidth-e.pixelPaddingRight-e.pixelPaddingLeft||0},enumerable:!0,configurable:!0}),t.prototype.positionToPoint=function(e,i){return{x:this.positionToCoordinate(e),y:0}},t.prototype.pointToPosition=function(e){return this.coordinateToPosition(e.x,e.y)},t.prototype.getPositionRangePath=function(e,i){var s=xe(this.positionToCoordinate(e),0,this.axisLength),l=xe(this.positionToCoordinate(i),0,this.axisLength),p=Math.abs(l-s),h=this.getHeight();return cc({x:Math.min(s,l),y:0,width:p,height:h},!0)},t.prototype.updateBreakElement=function(e){n.prototype.updateBreakElement.call(this,e);var i=e.startLine,s=e.endLine,l=e.fillShape,p=e.startPoint,h=e.endPoint,g=e.pixelMarginLeft,v=this.getHeight()-e.pixelMarginTop-e.pixelMarginBottom;p.x=xe(p.x,-1,this.axisLength+1),h.x=xe(h.x,-1,this.axisLength+1),e.fillShape.__disabled=p.x==h.x&&(p.x<0||p.x>this.axisLength),i.y=g,i.width=0,i.height=v,s.y=g,s.width=0,s.height=v,l.height=v,l.width=Math.abs(h.x-p.x),l.y=g,l.x=p.x},t.prototype.updateGridElement=function(e,i,s){var l=this.positionToPoint(i+=(s-i)*e.location);e.path=Ce({x:0,y:0})+ne({x:0,y:this.getHeight()}),this.positionItem(e,l),this.toggleVisibility(e,i,0,1)},t.prototype.updateTickElement=function(e,i,s){var l=this.positionToPoint(i+=(s-i)*e.location),p=e.length;l.y=ho({x:0,y:this.line.pixelY},this.line.parent,this.gridContainer).y,p*=this.opposite?e.inside?1:-1:e.inside?-1:1,e.path=Ce({x:0,y:0})+ne({x:0,y:p}),this.positionItem(e,l),this.toggleVisibility(e,i,0,1)},t.prototype.updateAxisLine=function(){this.line.path=Ce({x:0,y:0})+ne({x:this.axisLength,y:0})},t.prototype.updateBaseGridElement=function(){n.prototype.updateBaseGridElement.call(this);var e=this.axis,i=this.getHeight(),l=this.baseGrid,p=e.basePoint.x;if(p<-.2||p>this.axisLength+.2)l.hide(0);else{var h=ho({x:0,y:0},this.gridContainer,l.parent).y;l.path=Ce({x:0,y:0})+ne({x:0,y:i}),l.moveTo({x:p,y:h}),l.show(0)}},t.prototype.createBreakSprites=function(e){e.startLine=new Qd,e.endLine=new Qd;var i=new cV;i.setWavedSides(!1,!0,!1,!0),e.fillShape=i},t.prototype.toAxisPosition=function(e){var i=e,s=this.axis;if(s){var l=s.relativePositionSprite,p=s.pixelX;if(l?p=ho({x:this.pixelX,y:0},this.parent,l).x:l=s.parent,l)return(i-p/l.innerWidth)/(s.axisLength/l.innerWidth)}return e},t.prototype.updateBullet=function(e,i,s){var l=.5;e instanceof km&&(l=e.location);var p=this.positionToPoint(i+=(s-i)*l);p.y=ho({x:0,y:this.line.pixelY},this.line.parent,this.gridContainer).y,this.positionItem(e,p),this.toggleVisibility(e,i,0,1)},t}(oD);G.registeredClasses.AxisRendererX=Wl,Wn.push({relevant:mr.heightXS,state:function(n,t){if(n instanceof Wl){var e=n.states.create(t);return e.properties.inside=!0,e.properties.maxLabelPosition=.9,e.properties.minLabelPosition=.1,e}return null}}),Wn.push({relevant:mr.heightXXS,state:function(n,t){if(n instanceof Wl){var e=n.states.create(t);return e.properties.disabled=!0,e}return null}});var PV=function(n){function t(){var e=n.call(this)||this;return e.className="CategoryAxisBreak",e.properties.startLocation=.5,e.properties.endLocation=.5,e.applyTheme(),e}return $(t,n),Object.defineProperty(t.prototype,"startPosition",{get:function(){if(this.axis)return this.axis.indexToPosition(this.adjustedStartValue,this.startLocation)},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"endPosition",{get:function(){if(this.axis)return this.axis.indexToPosition(this.adjustedEndValue,this.endLocation)},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"startCategory",{get:function(){return this.getPropertyValue("startCategory")},set:function(e){this.setPropertyValue("startCategory",e)&&this.axis&&(this.axis.invalidateDataItems(),this.axis.invalidateSeries())},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"endCategory",{get:function(){return this.getPropertyValue("endCategory")},set:function(e){this.setPropertyValue("endCategory",e)&&this.axis&&(this.axis.invalidateDataItems(),this.axis.invalidateSeries())},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"startValue",{get:function(){var e=this.getPropertyValue("startCategory");return e?this.axis.categoryToIndex(e):this.getPropertyValue("startValue")},set:function(e){this.setPropertyValue("startValue",e)&&this.axis&&(this.axis.invalidateDataItems(),this.axis.invalidateSeries())},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"endValue",{get:function(){var e=this.getPropertyValue("endCategory");return e?this.axis.categoryToIndex(e):this.getPropertyValue("endValue")},set:function(e){this.setPropertyValue("endValue",e)&&this.axis&&(this.axis.invalidateDataItems(),this.axis.invalidateSeries())},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"startLocation",{get:function(){return this.getPropertyValue("startLocation")},set:function(e){this.setPropertyValue("startLocation",e)&&this.axis&&(this.axis.invalidateDataItems(),this.axis.invalidateSeries())},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"endLocation",{get:function(){return this.getPropertyValue("endLocation")},set:function(e){this.setPropertyValue("endLocation",e)&&this.axis&&(this.axis.invalidateDataItems(),this.axis.invalidateSeries())},enumerable:!0,configurable:!0}),t}(nD);G.registeredClasses.CategoryAxisBreak=PV;var RV=function(n){function t(){var e=n.call(this)||this;return e.seriesDataItems={},e.className="CategoryAxisDataItem",e.text="{category}",e.locations.category=0,e.locations.endCategory=1,e.deltaPosition=0,e.applyTheme(),e}return $(t,n),Object.defineProperty(t.prototype,"category",{get:function(){return this._adapterO&&this._adapterO.isEnabled("category")?this._adapterO.apply("category",this.properties.category):this.properties.category},set:function(e){var i=this.properties.category;this.setProperty("category",e),L(i)&&i!=e&&this.component&&this.component.validateDataElement(this)},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"endCategory",{get:function(){return this.properties.endCategory},set:function(e){this.setProperty("endCategory",e)},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"deltaPosition",{get:function(){return this.properties.deltaCoordinate},set:function(e){e!=this.properties.deltaCoordinate&&(this.setProperty("deltaCoordinate",e),this.component&&(this.component.invalidateDataItems(),this.component.invalidateSeries()))},enumerable:!0,configurable:!0}),t}(Nm),Bi=function(n){function t(){var e=n.call(this)||this;e.dataItemsByCategory=new ii,e.className="CategoryAxis",e.axisFieldName="category",e._lastDataItem=e.createDataItem(),e._lastDataItem.component=e,e._disposers.push(e._lastDataItem),e.applyTheme();var i=e.dataItemsByCategory;return e.addDisposer(e.mainDataSet.events.on("removed",function(s){i.removeKey(s.oldValue.category)})),e}return $(t,n),t.prototype.createDataItem=function(){return new RV},t.prototype.createAxisBreak=function(){return new PV},t.prototype.processSeriesDataItem=function(e,i){n.prototype.processSeriesDataItem.call(this,e,i);var s=e["category"+this.axisLetter];if(L(s)){var l=this.dataItemsByCategory.getKey(s);if(l){var p=e.component.uid,h=l.seriesDataItems[p];h||(l.seriesDataItems[p]=h=[]),h.push(e)}}else e.component.dataItems.remove(e)},t.prototype.validateDataRange=function(){var e=this;n.prototype.validateDataRange.call(this),oe(this._series.iterator(),function(i){if(i.xAxis instanceof t&&i.yAxis instanceof t)i.invalidateDataRange();else{var s=e.positionToIndex(e.start),l=e.positionToIndex(e.end);l>=e.dataItems.length&&l--;for(var p=i.uid,h=void 0,g=void 0,v=s;v<=l;v++){var m=e.dataItems.getIndex(v);if(m){var _=m.seriesDataItems[p];if(_)for(var b=0;b<_.length;b++){var C=_[b];if(C){var S=C.index;(!M(h)||S<h)&&(h=S),(!M(g)||S>g)&&(g=S)}}}}M(h)?i.startIndex=h:i.start=e.start,M(g)?i.endIndex=g+1:i.end=e.end,e._axisBreaks&&e._axisBreaks.length>0&&i.invalidateDataRange()}})},t.prototype.validate=function(){var e=this;n.prototype.validate.call(this);var i=this.dataItems.length,s=xe(Math.floor(this.start*i-1),0,i),l=xe(Math.ceil(this.end*i),0,i);this.renderer.invalid&&this.renderer.validate();var p=this.renderer.axisLength/Math.max(this.renderer.minGridDistance,1/Number.MAX_SAFE_INTEGER),h=Math.min(this.dataItems.length,Math.ceil((l-s)/p));if(this._startIndex=Math.floor(s/h)*h,this._endIndex=Math.ceil(this.end*i),this.fixAxisBreaks(),this._startIndex==this._endIndex&&this._endIndex++,this._frequency=h,!(this.axisLength<=0)){this.maxZoomFactor=this.dataItems.length,this.dataItems.length<=0&&(this.maxZoomFactor=1),this.resetIterators(),s=Qe(0,this._startIndex-this._frequency),l=vt(this.dataItems.length,this._endIndex+this._frequency);for(var g=0,v=0;v<s;v++)(m=this.dataItems.getIndex(v)).__disabled=!0;v=l;for(var _=this.dataItems.length;v<_;v++)(m=this.dataItems.getIndex(v)).__disabled=!0;for(v=s;v<l;v++)if(v<this.dataItems.length){var m=this.dataItems.getIndex(v);v/this._frequency==Math.round(v/this._frequency)?(this.isInBreak(v)||(this.appendDataItem(m),this.validateDataElement(m,g)),g++):m.__disabled=!0}this.appendDataItem(this._lastDataItem),this.validateDataElement(this._lastDataItem,g+1,this.dataItems.length),this._axisBreaks&&this._axisBreaks.each(function(S){var E=S.adjustedStartValue,x=S.adjustedEndValue;if(m0({start:E,end:x},{start:e._startIndex,end:e._endIndex})){for(var R=E;R<=x;R++)(P=e.dataItems.getIndex(R)).__disabled=!0;var k=xe(Math.ceil(e._frequency/S.breakSize),1,x-E),U=0;if(S.breakSize>0)for(R=E;R<=x;R+=k){var P;(P=e.dataItems.getIndex(R)).__disabled=!1,e.appendDataItem(P),e.validateDataElement(P,U),U++}}}),this.validateBreaks(),this.validateAxisRanges(),this.ghostLabel.invalidate(),this.renderer.invalidateLayout()}},t.prototype.validateDataElement=function(e,i,s){n.prototype.validateDataElement.call(this,e),e.itemIndex=this._axisItemCount,this._axisItemCount++;var l=this.renderer;M(s)||(s=this.categoryToIndex(e.category));var p=this.categoryToIndex(e.endCategory);M(p)||(p=s);var v,m,_,h=this.indexToPosition(s,e.locations.category),g=this.indexToPosition(p,e.locations.endCategory);e.position=h,e.isRange&&(v=p,m=this.indexToPosition(s,e.locations.category),_=this.indexToPosition(v,e.locations.endCategory)),e.point=l.positionToPoint(h);var b=e.tick;b&&!b.disabled&&l.updateTickElement(b,h,g);var C=e.grid;C&&!C.disabled&&l.updateGridElement(C,h,g);var S=e.label;S&&!S.disabled&&((!e.isRange||null==S.text)&&(e.text=e.text),l.updateLabelElement(S,h,g),(l instanceof da&&e.label.measuredWidth>this.ghostLabel.measuredWidth||l instanceof Wl&&e.label.measuredHeight>this.ghostLabel.measuredHeight)&&(e.label.html?this.ghostLabel.html=e.label.currentText:this.ghostLabel.text=e.label.currentText));var E=e.axisFill;E&&!E.disabled&&(e.isRange||(v=s+this._frequency,m=this.indexToPosition(s,E.location),_=this.indexToPosition(v,E.location)),l.updateFillElement(E,m,_),e.isRange||this.fillRule(e,i)),e.bullet&&l.updateBullet(e.bullet,h,g);var x=e.mask;x&&l.updateFillElement(x,m,_)},t.prototype.disposeData=function(){this.dataItemsByCategory.clear(),n.prototype.disposeData.call(this)},t.prototype.processDataItem=function(e,i){e&&(n.prototype.processDataItem.call(this,e,i),L(e.category)&&this.dataItemsByCategory.setKey(e.category,e))},t.prototype.getDataItem=function(e){var i=e[this.dataFields.category];if(L(i))return this.dataItemsByCategory.getKey(i)||this.dataItems.create()},t.prototype.indexToPosition=function(e,i){M(i)||(i=.5);var s=this.startIndex,l=this.endIndex,p=this.adjustDifference(s,l),h=this.startLocation;p-=h,p-=1-this.endLocation,this._axisBreaks&&zo(this._axisBreaks.iterator(),function(b){var C=b.adjustedStartValue,S=b.adjustedEndValue;if(e<s||!M(C)||!M(S))return!1;if(m0({start:C,end:S},{start:s,end:l})){C=Math.max(s,C),S=Math.min(l,S);var E=b.breakSize;e>S?s+=(S-C)*(1-E):e<C||(e=C+(e-C)*E)}return!0});var m=0,_=this.dataItems.getIndex(e);return _&&(m=_.deltaPosition),ae(m+(e+i-h-s)/p,5)},t.prototype.categoryToPosition=function(e,i){var s=this.categoryToIndex(e);return this.indexToPosition(s,i)},t.prototype.categoryToPoint=function(e,i){var s=this.categoryToPosition(e,i),l=this.renderer.positionToPoint(s),p=this.renderer.positionToAngle(s);return{x:l.x,y:l.y,angle:p}},t.prototype.anyToPoint=function(e,i){return this.categoryToPoint(e,i)},t.prototype.anyToPosition=function(e,i){return this.categoryToPosition(e,i)},t.prototype.categoryToIndex=function(e){if(L(e)){var i=this.dataItemsByCategory.getKey(e);if(i)return i.index}},t.prototype.zoomToCategories=function(e,i){this.zoomToIndexes(this.categoryToIndex(e),this.categoryToIndex(i)+1)},t.prototype.getAnyRangePath=function(e,i,s,l){var p=this.categoryToPosition(e,s),h=this.categoryToPosition(i,l);return this.getPositionRangePath(p,h)},t.prototype.roundPosition=function(e,i){var s=this.positionToIndex(e);return this.indexToPosition(s,i)},t.prototype.getFirstSeriesDataItem=function(e,i){for(var s=0;s<e.dataItems.length;s++){var l=e.dataItems.getIndex(s);if(e.xAxis==this&&l.categoryX==i||e.yAxis==this&&l.categoryY==i)return l}},t.prototype.getLastSeriesDataItem=function(e,i){for(var s=e.dataItems.length-1;s>=0;s--){var l=e.dataItems.getIndex(s);if(e.xAxis==this&&l.categoryX==i||e.yAxis==this&&l.categoryY==i)return l}},t.prototype.getSeriesDataItemByCategory=function(e,i){var l,s=this;return i.dataItems.each(function(p){i.xAxis==s?p.categoryX==e&&(l=p):i.yAxis==s&&p.categoryY==e&&(l=p)}),l},t.prototype.getSeriesDataItem=function(e,i,s){var l=this;if(M(i)){var p=this.positionToIndex(i);p>=this.dataItems.length&&p--;var h=this.dataItems.getIndex(p);if(h){var v,g=h.category,m=e.dataItems.getIndex(p);return m&&(e.xAxis==this&&m.categoryX==g||e.yAxis==this&&m.categoryY==g)?m:(e.dataItems.each(function(_){e.xAxis==l&&_.categoryX==g&&(v||(v=_),Math.abs(p-v.index)>Math.abs(p-_.index)&&(v=_)),e.yAxis==l&&_.categoryY==g&&(v||(v=_),Math.abs(p-v.index)>Math.abs(p-_.index)&&(v=_))}),v)}}},t.prototype.getX=function(e,i,s,l,p){var h=this.getPositionX(e,i,s,l,p);return Mn(h)?this.basePoint.x:this.renderer.positionToPoint(h).x},t.prototype.getPositionX=function(e,i,s,l,p){var h;return L(i)&&(h=this.categoryToPosition(e.categories[i],s)),p&&(h=xe(h,p.start,p.end)),h},t.prototype.getY=function(e,i,s,l,p){var h=this.getPositionY(e,i,s,l,p);return Mn(h)?this.basePoint.y:this.renderer.positionToPoint(h).y},t.prototype.getPositionY=function(e,i,s,l,p){var h;return L(i)&&(h=this.categoryToPosition(e.categories[i],s)),p&&(h=xe(h,p.start,p.end)),h},t.prototype.getAngle=function(e,i,s,l,p){var h=this.categoryToPosition(e.categories[i],s);return p&&(h=xe(h,p.start,p.end)),this.positionToAngle(h)},t.prototype.getCellStartPosition=function(e){return this.roundPosition(e,0)},t.prototype.getCellEndPosition=function(e){return this.roundPosition(e,1)},t.prototype.getTooltipText=function(e){var i=this.dataItems.getIndex(this.positionToIndex(e));if(i)return this.tooltipDataItem=i,this.tooltip.dataItem=i,this.tooltipText?this.tooltipText:this._adapterO?this._adapterO.apply("getTooltipText",i.category):i.category},t.prototype.positionToIndex=function(e){(e=ae(e,10))<0&&(e=0),e>1&&(e=1);var i=this.startIndex,s=this.endIndex,l=s-i-this.startLocation-(1-this.endLocation);e+=1/l*this.startLocation;var p=null;return this._axisBreaks&&zo(this._axisBreaks.iterator(),function(g){var v=g.startPosition,m=g.endPosition,_=g.adjustedStartValue,b=g.adjustedEndValue;_=Qe(_,i),b=vt(b,s);var C=g.breakSize;if(l-=(b-_)*(1-C),e>m)i+=(b-_)*(1-C);else if(!(e<v))return p=_+Math.round((e-v)/(m-v)*(b-_)),!1;return!0}),M(p)||(p=Math.floor(e*l+i)),p>=this.dataItems.length&&(p=this.dataItems.length-1),p},t.prototype.positionToCategory=function(e){return this.getPositionLabel(e)},t.prototype.getPositionLabel=function(e){var i=this.dataItems.getIndex(this.positionToIndex(e));if(i)return i.category},Object.defineProperty(t.prototype,"basePoint",{get:function(){return this.renderer.positionToPoint(1)},enumerable:!0,configurable:!0}),t.prototype.initRenderer=function(){n.prototype.initRenderer.call(this),this.renderer.baseGrid.disabled=!0},Object.defineProperty(t.prototype,"frequency",{get:function(){return this._frequency},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"sortBySeries",{get:function(){return this.getPropertyValue("sortBySeries")},set:function(e){this.setPropertyValue("sortBySeries",e,!0)},enumerable:!0,configurable:!0}),t.prototype.processConfig=function(e){e&&L(e.sortBySeries)&&gt(e.sortBySeries)&&(this.map.hasKey(e.sortBySeries)?e.sortBySeries=this.map.getKey(e.sortBySeries):(this.addDelayedMap("sortBySeries",e.sortBySeries),delete e.sortBySeries)),n.prototype.processConfig.call(this,e)},t}(rD);G.registeredClasses.CategoryAxis=Bi,G.registeredClasses.CategoryAxisDataItem=RV;var aD=function(n){function t(){var e=n.call(this)||this;return e.className="XYSeriesDataItem",e.values.customValue={},e.values.valueX={stack:0},e.values.valueY={stack:0},e.values.openValueX={},e.values.openValueY={},e.values.dateX={},e.values.dateY={},e.values.openDateX={},e.values.openDateY={},e.setLocation("dateX",.5,0),e.setLocation("dateY",.5,0),e.setLocation("categoryX",.5,0),e.setLocation("categoryY",.5,0),e.applyTheme(),e}return $(t,n),Object.defineProperty(t.prototype,"valueX",{get:function(){return this.values.valueX.value},set:function(e){this.setValue("valueX",e)},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"customValue",{get:function(){return this.values.customValue.value},set:function(e){this.setValue("customValue",e)},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"valueY",{get:function(){return this.values.valueY.value},set:function(e){this.setValue("valueY",e)},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"dateX",{get:function(){return this.getDate("dateX")},set:function(e){this.setDate("dateX",e)},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"dateY",{get:function(){return this.getDate("dateY")},set:function(e){this.setDate("dateY",e)},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"categoryX",{get:function(){return this.categories.categoryX},set:function(e){this.setCategory("categoryX",e)},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"categoryY",{get:function(){return this.categories.categoryY},set:function(e){this.setCategory("categoryY",e)},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"openValueX",{get:function(){return this.values.openValueX.value},set:function(e){this.setValue("openValueX",e)},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"openValueY",{get:function(){return this.values.openValueY.value},set:function(e){this.setValue("openValueY",e)},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"openDateX",{get:function(){return this.getDate("openDateX")},set:function(e){this.setDate("openDateX",e)},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"openDateY",{get:function(){return this.getDate("openDateY")},set:function(e){this.setDate("openDateY",e)},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"openCategoryX",{get:function(){return this.categories.openCategoryX},set:function(e){this.setCategory("openCategoryX",e)},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"openCategoryY",{get:function(){return this.categories.openCategoryY},set:function(e){this.setCategory("openCategoryY",e)},enumerable:!0,configurable:!0}),t.prototype.getMin=function(e,i,s){var p,l=this;return M(s)||(s=0),be(e,function(h){var g;g=i?l.getWorkingValue(h):l.getValue(h),((g+=s)<p||!M(p))&&(p=g)}),p},t.prototype.getMax=function(e,i,s){var p,l=this;return M(s)||(s=0),be(e,function(h){var g;g=i?l.getWorkingValue(h):l.getValue(h),((g+=s)>p||!M(p))&&(p=g)}),p},t}(tD),ep=function(n){function t(){var e=n.call(this)||this;return e.groupFields={},e._xAxis=new Pn,e._yAxis=new Pn,e._xValueFields=[],e._yValueFields=[],e._baseInterval={},e.dataGrouped=!1,e.usesShowFields=!1,e._dataSetChanged=!1,e._maxxX=1e5,e._maxxY=1e5,e._propertiesChanged=!1,e.outOfRange=!1,e.className="XYSeries",e.isMeasured=!1,e.groupFields.valueX="close",e.groupFields.valueY="close",e.groupFields.customValue="close",e.groupFields.openValueX="open",e.groupFields.openValueY="open",e.cursorTooltipEnabled=!0,e.cursorHoverEnabled=!0,e.excludeFromTotal=!1,e.mainContainer.mask=new Je,e.mainContainer.mask.setElement(e.paper.add("path")),e.stacked=!1,e.snapTooltip=!1,e._showBullets=!1,e.tooltip.pointerOrientation="horizontal",e.properties.stackToNegative=!0,e.hideTooltipWhileZooming=!0,e.setPropertyValue("maskBullets",!0),e.tooltip.events.on("hidden",function(){e.returnBulletDefaultState()},void 0,!1),e._disposers.push(e._xAxis),e._disposers.push(e._yAxis),e.observe(Ni,function(){e.inited&&(e._propertiesChanged=!0,e.legendDataItem&&(e.legendDataItem.childrenCreated=!1),e.chart&&e.chart.legend&&e.chart.legend.invalidateDataItems(),e.invalidate())},void 0,!1),e.applyTheme(),e}return $(t,n),t.prototype.applyInternalDefaults=function(){n.prototype.applyInternalDefaults.call(this),L(this.readerTitle)||(this.readerTitle=this.language.translate("X/Y Series"))},t.prototype.createDataItem=function(){return new aD},t.prototype.resetExtremes=function(){this._tmin.clear(),this._tmax.clear(),this._smin.clear(),this._smax.clear()},t.prototype.dataChangeUpdate=function(){this.dataGrouped=!1,this._baseInterval={},this._currentDataSetId="",this.resetExtremes(),this.xAxis&&this.xAxis.seriesDataChangeUpdate(this),this.yAxis&&this.yAxis.seriesDataChangeUpdate(this)},t.prototype.validateData=function(){this._baseInterval={};var e=this.dataFields;if(this.usesShowFields=!!(e.valueYShow||e.openValueXShow||e.openValueXShow||e.openValueYShow),this.defineFields(),this.data.length>0&&this.dataChangeUpdate(),n.prototype.validateData.call(this),this.updateItemReaderText(),this.chart&&(!L(this.dataFields[this._xField])||!L(this.dataFields[this._yField])))throw Error('Data fields for series "'+(this.name?this.name:this.uid)+'" are not properly defined.');this.inited&&this.isHidden&&this.hide(0),this.dataGrouped=!1},t.prototype.processDataItem=function(e,i){try{n.prototype.processDataItem.call(this,e,i),this.xAxis.processSeriesDataItem(e,"X"),this.yAxis.processSeriesDataItem(e,"Y"),this.setInitialWorkingValues(e)}catch(s){this._chart&&this._chart.raiseCriticalError(s)}},t.prototype.updateDataItem=function(e){n.prototype.updateDataItem.call(this,e),this.xAxis.processSeriesDataItem(e,"X"),this.yAxis.processSeriesDataItem(e,"Y")},t.prototype.setInitialWorkingValues=function(e){},t.prototype.disposeData=function(){n.prototype.disposeData.call(this);var e=this.xAxis,i=this.yAxis;if(e){var s=this.dataItemsByAxis.getKey(e.uid);s&&s.clear(),e instanceof Bi&&this.clearCatAxis(e)}if(i){var l=this.dataItemsByAxis.getKey(i.uid);l&&l.clear(),i instanceof Bi&&this.clearCatAxis(i)}},t.prototype.clearCatAxis=function(e){var i=this.uid;e.dataItems.each(function(s){s.seriesDataItems[i]&&(s.seriesDataItems[i]=[])})},t.prototype.defineFields=function(){var e=this.xAxis,i=this.yAxis;if(e&&i){var s=e.axisFieldName,l=s+"X",p="open"+A0(s)+"X",h=i.axisFieldName,g=h+"Y",v="open"+A0(h)+"Y";this._xField=l,this._yField=g,this.dataFields[p]&&(this._xOpenField=p),this.dataFields[v]&&(this._yOpenField=v),!this.dataFields[v]&&this.baseAxis==i&&(this._yOpenField=g),!this.dataFields[p]&&this.baseAxis==e&&(this._xOpenField=l),this.stacked&&this.baseAxis==e&&(this._xOpenField=l),this.stacked&&this.baseAxis==i&&(this._yOpenField=g),e instanceof Bi&&i instanceof Bi&&(this._yOpenField||(this._yOpenField=g)),this._xValueFields=[],this._yValueFields=[],this.addValueField(e,this._xValueFields,this._xField),this.addValueField(e,this._xValueFields,this._xOpenField),this.addValueField(i,this._yValueFields,this._yField),this.addValueField(i,this._yValueFields,this._yOpenField)}},t.prototype.addValueField=function(e,i,s){e instanceof rt&&L(this.dataFields[s])&&-1==i.indexOf(s)&&i.push(s)},t.prototype.setCategoryAxisField=function(e,i){L(this.dataFields[e])||(this.dataFields[e]=i.dataFields.category)},t.prototype.setDateAxisField=function(e,i){L(this.dataFields[e])||(this.dataFields[e]=i.dataFields.date)},t.prototype.afterDraw=function(){n.prototype.afterDraw.call(this),this.createMask()},t.prototype.createMask=function(){if(this.mainContainer.mask){var e=this.getMaskPath();oe(this.axisRanges.iterator(),function(i){i.axisFill.fillPath&&(i.axisFill.validate(),e+=i.axisFill.fillPath)}),this.mainContainer.mask.path=e}},t.prototype.getMaskPath=function(){return this.xAxis&&this.yAxis?cc({x:0,y:0,width:this.xAxis.axisLength,height:this.yAxis.axisLength}):""},t.prototype.getAxisField=function(e){return e==this.xAxis?this.xField:e==this.yAxis?this.yField:void 0},t.prototype.validateDataItems=function(){var e=this.chart;e&&(this._maxxX=Qe(1e5,2*e.plotContainer.maxWidth),this._maxxY=Qe(1e5,2*e.plotContainer.maxHeight));var i=this.xAxis,s=this.yAxis;i&&s&&(i.updateAxisBySeries(),s.updateAxisBySeries()),n.prototype.validateDataItems.call(this),i&&s&&(i.postProcessSeriesDataItems(this),s.postProcessSeriesDataItems(this))},t.prototype.validateDataRange=function(){var e=this.xAxis,i=this.yAxis;e&&i&&(e.dataRangeInvalid&&e.validateDataRange(),i.dataRangeInvalid&&i.validateDataRange()),n.prototype.validateDataRange.call(this)},t.prototype.validate=function(){var e=this.xAxis,i=this.yAxis;if(e&&i){e.invalid&&e.validate(),i.invalid&&i.validate(),this.y=i.pixelY,this.x=e.pixelX,this._showBullets=!0;var s=this.minBulletDistance;M(s)&&this.baseAxis.axisLength/(this.endIndex-this.startIndex)<s&&(this._showBullets=!1)}if(this.updateTooltip(),!(e instanceof bi&&e.groupData&&!this.dataGrouped||i instanceof bi&&i.groupData&&!this.dataGrouped)){n.prototype.validate.call(this);var l=this.chart;l&&this.maskBullets&&"XYChart"==l.className&&(("vertical"==l.leftAxesContainer.layout||"vertical"==l.rightAxesContainer.layout)&&(this.bulletsContainer.mask=this.yAxis?this.yAxis.renderer.gridContainer:void 0),("horizontal"==l.topAxesContainer.layout||"horizontal"==l.bottomAxesContainer.layout)&&(this.bulletsContainer.mask=this.xAxis?this.xAxis.renderer.gridContainer:void 0))}},Object.defineProperty(t.prototype,"xAxis",{get:function(){if(this.chart){if(!this._xAxis.get()){var e=this.chart.xAxes.getIndex(0);if(!e)throw Error("There are no X axes on chart.");this.xAxis=e}return this._xAxis.get()}},set:function(e){this.setXAxis(e)},enumerable:!0,configurable:!0}),t.prototype.setXAxis=function(e){var i=this._xAxis.get();i!=e&&(i&&(this.dataItemsByAxis.removeKey(i.uid),this._xAxis.dispose(),i.series.removeValue(this)),this._xAxis.set(e,e.registerSeries(this)),this.dataItemsByAxis.setKey(e.uid,new ii),this.invalidateData())},Object.defineProperty(t.prototype,"yAxis",{get:function(){if(this.chart){if(!this._yAxis.get()){var e=this.chart.yAxes.getIndex(0);if(!e)throw Error("There are no Y axes on chart.");this.yAxis=e}return this._yAxis.get()}},set:function(e){this.setYAxis(e)},enumerable:!0,configurable:!0}),t.prototype.setYAxis=function(e){var i=this._yAxis.get();i!=e&&(i&&(this.dataItemsByAxis.removeKey(i.uid),this._yAxis.dispose(),i.series.removeValue(this)),this._yAxis.set(e,e.registerSeries(this)),e.chart instanceof pc&&e.chart.handleYAxisSet(this),this.dataItemsByAxis.setKey(e.uid,new ii),this.invalidateData())},Object.defineProperty(t.prototype,"baseAxis",{get:function(){var e=this.xAxis,i=this.yAxis;return!this._baseAxis&&e&&i&&(i instanceof bi&&(this._baseAxis=i),e instanceof bi&&(this._baseAxis=e),i instanceof Bi&&(this._baseAxis=i),e instanceof Bi&&(this._baseAxis=e),this._baseAxis||(this._baseAxis=e)),this._baseAxis},set:function(e){this._baseAxis!=e&&(this._baseAxis=e,this.invalidate())},enumerable:!0,configurable:!0}),t.prototype.addData=function(e,i,s){n.prototype.addData.call(this,e,i,s),this.scrollbarSeries&&(this.scrollbarSeries.addData(e,i,!0),this.scrollbarSeries._parseDataFrom=this._parseDataFrom)},t.prototype.setData=function(e){n.prototype.setData.call(this,e),this.scrollbarSeries&&this.scrollbarSeries.setData(e)},t.prototype.setDataSet=function(e){var i=n.prototype.setDataSet.call(this,e);if(i){this._dataSetChanged=!0;var s=this.dataItems;if(this.resetExtremes(),s&&s.length>0){var l=this.xAxis,p=this.yAxis;this._prevStartIndex=void 0,this._prevEndIndex=void 0,this._startIndex=void 0,this._endIndex=void 0,this.appeared||this.processValues(!1),l instanceof bi&&l==this.baseAxis&&(this._tmin.setKey(l.uid,s.getIndex(0).dateX.getTime()),this._tmax.setKey(l.uid,s.getIndex(s.length-1).dateX.getTime()),this.dispatch("extremeschanged")),p instanceof bi&&p==this.baseAxis&&(this._tmin.setKey(p.uid,s.getIndex(0).dateY.getTime()),this._tmax.setKey(p.uid,s.getIndex(s.length-1).dateY.getTime()),this.dispatch("extremeschanged"))}}return i},t.prototype.processValues=function(e){n.prototype.processValues.call(this,e);var i=this.xAxis,s=this.yAxis;if(i&&s){var l=this.dataItems,p=1/0,h=-1/0,g=1/0,v=-1/0,m=this.startIndex,_=this.endIndex,b=m,C=_;e||(m=0,_=this.dataItems.length);for(var S=m;S<_;S++){var E=l.getIndex(S);this.getStackValue(E,e);var x=E.getValue("valueX","stack"),R=E.getValue("valueY","stack");p=vt(E.getMin(this._xValueFields,e,x),p),g=vt(E.getMin(this._yValueFields,e,R),g),h=Qe(E.getMax(this._xValueFields,e,x),h),v=Qe(E.getMax(this._yValueFields,e,R),v),this.stacked&&(this.baseAxis==i&&(R<g&&(g=R),R>v&&(v=R)),this.baseAxis==s&&(x<p&&(p=x),x>h&&(h=x)))}i.processSeriesDataItems(),s.processSeriesDataItems();var P=i.uid,k=s.uid;if(this.xAxis instanceof rt&&(p==1/0||h==-1/0))return this._smin.setKey(P,void 0),this._smax.setKey(P,void 0),void this.dispatchImmediately("selectionextremeschanged");if(this.yAxis instanceof rt&&(g==1/0||v==-1/0))return this._smin.setKey(k,void 0),this._smax.setKey(k,void 0),void this.dispatchImmediately("selectionextremeschanged");if(!e&&(this._tmin.getKey(P)!=p||this._tmax.getKey(P)!=h||this._tmin.getKey(k)!=g||this._tmax.getKey(k)!=v)){this._tmin.setKey(P,p),this._tmax.setKey(P,h),this._tmin.setKey(k,g),this._tmax.setKey(k,v);var U=this.stackedSeries;U&&(U.isDisposed()?this.stackedSeries=void 0:U.processValues(!1)),this.dispatchImmediately("extremeschanged")}if(m!=b||_!=C)for(p=1/0,h=-1/0,g=1/0,v=-1/0,S=b;S<C;S++)E=l.getIndex(S),this.getStackValue(E,e),x=E.getValue("valueX","stack"),R=E.getValue("valueY","stack"),p=vt(E.getMin(this._xValueFields,e,x),p),g=vt(E.getMin(this._yValueFields,e,R),g),h=Qe(E.getMax(this._xValueFields,e,x),h),v=Qe(E.getMax(this._yValueFields,e,R),v),this.stacked&&(this.baseAxis==i&&(R<g&&(g=R),R>v&&(v=R)),this.baseAxis==s&&(x<p&&(p=x),x>h&&(h=x)));if(this.xAxis instanceof rt&&(p==1/0||h==-1/0))return this._smin.setKey(P,void 0),this._smax.setKey(P,void 0),void this.dispatchImmediately("selectionextremeschanged");if(this.yAxis instanceof rt&&(g==1/0||v==-1/0))return this._smin.setKey(k,void 0),this._smax.setKey(k,void 0),void this.dispatchImmediately("selectionextremeschanged");if((this._smin.getKey(P)!=p||this._smax.getKey(P)!=h||this._smin.getKey(k)!=g||this._smax.getKey(k)!=v)&&(this._smin.setKey(P,p),this._smax.setKey(P,h),this._smin.setKey(k,g),this._smax.setKey(k,v),this.appeared||0!=this.start||1!=this.end||this.dataItems!=this.mainDataSet)){var Y,K,W=!1;s instanceof rt&&!(s instanceof bi)&&((!M(Y=this._tmin.getKey(k))||(this.usesShowFields||this._dataSetChanged||i instanceof bi&&i.groupData&&this.isShowing)&&g<Y||this.stackedSeries&&!this.isHidden)&&(this._tmin.setKey(k,g),W=!0),(!M(K=this._tmax.getKey(k))||(this.usesShowFields||this._dataSetChanged||i instanceof bi&&i.groupData&&this.isShowing)&&v>K||this.stackedSeries&&!this.isHidden)&&(this._tmax.setKey(k,v),W=!0)),i instanceof rt&&!(i instanceof bi)&&((!M(Y=this._tmin.getKey(P))||(this.usesShowFields||this._dataSetChanged||s instanceof bi&&s.groupData&&this.isShowing)&&p<Y||this.stackedSeries&&!this.isHidden)&&(this._tmin.setKey(P,p),W=!0),(!M(K=this._tmax.getKey(P))||(this.usesShowFields||this._dataSetChanged||s instanceof bi&&s.groupData&&this.isShowing)&&h>K||this.stackedSeries&&!this.isHidden)&&(this._tmax.setKey(P,h),W=!0)),W&&this.dispatchImmediately("extremeschanged"),0==this.start&&1==this.end&&(this._dataSetChanged=!1),this.dispatchImmediately("selectionextremeschanged")}!e&&this.stacked&&this.processValues(!0)}},t.prototype.hideTooltip=function(e){n.prototype.hideTooltip.call(this,e),this.returnBulletDefaultState(),this._prevTooltipDataItem=void 0},t.prototype.showTooltipAtPosition=function(e,i){var s;if(this.visible&&!this.isHiding&&!this.isShowing){var l=this._xAxis.get(),p=this._yAxis.get();l==this.baseAxis&&(s=l.getSeriesDataItem(this,l.toAxisPosition(e),this.snapTooltip)),p==this.baseAxis&&(s=p.getSeriesDataItem(this,p.toAxisPosition(i),this.snapTooltip));var h=this.showTooltipAtDataItem(s);if(h)return h;if(!this.tooltipText&&!this.tooltipHTML)return}this.hideTooltip()},t.prototype.getAdjustedXLocation=function(e,i,s){return e.locations[i]},t.prototype.getAdjustedYLocation=function(e,i,s){return e.locations[i]},t.prototype.showTooltipAtDataItem=function(e){var i,s,l=this.chart.cursor;if(l&&l.hideSeriesTooltipsOnSelection&&l.selection.visible&&l.downPoint)this.hideTooltip();else if(this.returnBulletDefaultState(e),e&&e.visible){if(this.updateLegendValue(e),this.cursorTooltipEnabled){this.tooltipDataItem=e;var p=this.tooltipXField,h=this.tooltipYField;if(L(e[p])&&L(e[h])){var g=this.getPoint(e,p,h,this.getAdjustedXLocation(e,p),this.getAdjustedYLocation(e,h));if(g&&("XYChart"!=this.chart.className||!(g.y<-1||g.y>this.yAxis.pixelHeight+1||g.x<-1||g.x>this.xAxis.pixelWidth+1))){if(this.tooltipX=g.x,this.tooltipY=g.y,this._prevTooltipDataItem!=e&&(this.dispatchImmediately("tooltipshownat",{type:"tooltipshownat",target:this,dataItem:e}),this._prevTooltipDataItem=e),this.cursorHoverEnabled)try{for(var v=Sf(e.sprites),m=v.next();!m.done;m=v.next()){var _=m.value;!_.parent.visible||_.isHidden||_.__disabled||_.disabled||_.isHiding||(_.interactions.isRealHover||(_.dispatchImmediately("over"),_.interactions.isRealHover=!0),_.isHover=!0)}}catch(b){i={error:b}}finally{try{m&&!m.done&&(s=v.return)&&s.call(v)}finally{if(i)throw i.error}}return this.showTooltip()?Is({x:g.x,y:g.y},this):void 0}}}}else this.updateLegendValue(e,!0)},t.prototype.returnBulletDefaultState=function(e){var i,s;if(this._prevTooltipDataItem&&this._prevTooltipDataItem!=e)try{for(var l=Sf(this._prevTooltipDataItem.sprites),p=l.next();!p.done;p=l.next()){var h=p.value;if(h.isDisposed())this._prevTooltipDataItem=void 0;else{var g=h.interactions.isRealHover;h.isHover=!1,g&&h.dispatchImmediately("out")}}}catch(v){i={error:v}}finally{try{p&&!p.done&&(s=l.return)&&s.call(l)}finally{if(i)throw i.error}}},t.prototype.shouldCreateBullet=function(e,i){var s=i.xField;L(s)||(s=this.xField);var l=i.yField;if(L(l)||(l=this.yField),this.xAxis instanceof rt&&!e.hasValue([s])||this.yAxis instanceof rt&&!e.hasValue([l]))return!1;if(i.disabled){var h=e.dataContext;return!(!h||!1!==h[i.propertyFields.disabled])}return!0},t.prototype.updateTooltip=function(){!this.hideTooltipWhileZooming&&this.tooltip&&!this.tooltip.isHidden&&!this.isHiding&&!this.isHidden&&this.tooltipDataItem&&this.showTooltipAtDataItem(this.tooltipDataItem)},t.prototype.positionBullet=function(e){n.prototype.positionBullet.call(this,e);var i=e.dataItem,s=e.xField;L(s)||(s=this.xField);var l=e.yField;L(l)||(l=this.yField);var p=this.xAxis,h=this.yAxis;if(p instanceof rt&&!i.hasValue([s])||h instanceof rt&&!i.hasValue([l]))e.visible=!1;else{var g=this.getBulletLocationX(e,s),v=this.getBulletLocationY(e,l);if(this.getPoint(i,s,l,g,v)){var _=this.xOpenField,b=this.yOpenField,C=void 0,S=void 0;if(p instanceof bi){M(g)||(g=0);var E=void 0,x=i.getWorkingValue(s);if(_?E=i.getWorkingValue(_):p==this.baseAxis&&(E=p.baseValue),M(E)||(E=x),(E+=R=i.getValue("valueX","stack"))==(x+=R)){var P=p.baseInterval,k=p.dateFormatter;E=Ln(new Date(E),P.timeUnit,P.count,k.firstDayOfWeek,k.utc,void 0,k.timezoneMinutes,k.timezone).getTime(),x=Ir(new Date(E),P.timeUnit,P.count,k.utc).getTime()}C=p.valueToPosition(p==this.baseAxis?E+(x-E)*g:E+(x-E)*(1-g))}else if(p instanceof rt)M(g)||(g=0),E=void 0,x=i.getWorkingValue(s),E=_?i.getWorkingValue(_):p.baseValue,E+=R=i.getValue("valueX","stack"),C=p.valueToPosition(E+((x+=R)-E)*(1-g));else if(p instanceof Bi){var W=this.getAdjustedXLocation(i,s,e.locationX),Y=this.getAdjustedXLocation(i,_,e.locationX);C=p.categoryToPosition(i[s],W);var K=void 0;_&&(K=p.categoryToPosition(i[_],Y)),M(K)||(K=1),C=K+(C-K)*g}if(h instanceof bi)M(v)||(v=0),E=void 0,x=i.getWorkingValue(l),b?E=i.getWorkingValue(b):h==this.baseAxis&&(E=h.baseValue),M(E)||(E=x),(E+=R=i.getValue("valueY","stack"))==(x+=R)&&(P=h.baseInterval,k=h.dateFormatter,E=Ln(new Date(E),P.timeUnit,P.count,k.firstDayOfWeek,k.utc,void 0,k.timezoneMinutes,k.timezone).getTime(),x=Ir(new Date(E),P.timeUnit,P.count,k.utc).getTime()),S=h.valueToPosition(h==this.baseAxis?E+(x-E)*v:E+(x-E)*(1-v));else if(h instanceof rt){var R;M(v)||(v=0),E=void 0,x=i.getWorkingValue(l),E=b?i.getWorkingValue(b):h.baseValue,E+=R=i.getValue("valueY","stack"),S=h.valueToPosition(E+((x+=R)-E)*(1-v))}else if(h instanceof Bi){S=h.categoryToPosition(i[l],v);var X=this.getAdjustedYLocation(i,l,e.locationY),J=this.getAdjustedYLocation(i,b,e.locationY);S=h.categoryToPosition(i[l],X);var je=void 0;b&&(je=h.categoryToPosition(i[b],J)),M(je)||(je=1),S=je+(S-je)*v}e.visible=!0,this.positionBulletReal(e,C,S)}else e.visible=!1}},t.prototype.positionBulletReal=function(e,i,s){e.x=this.xAxis.renderer.positionToPoint(i,s).x,e.y=this.yAxis.renderer.positionToPoint(s,i).y},t.prototype.getBulletLocationX=function(e,i){var s=e.locationX,l=e.dataItem;return M(s)||(s=l.workingLocations[i]),s},t.prototype.getBulletLocationY=function(e,i){var s=e.locationY,l=e.dataItem;return M(s)||(s=l.workingLocations[i]),s},t.prototype.updateStacking=function(){var e=this;this.invalidateDataItems(),this.chart&&this.chart.series.each(function(i){i.baseAxis==e.baseAxis&&(i.stackedSeries=void 0,i.invalidateDataItems(),i.invalidateProcessedData())})},Object.defineProperty(t.prototype,"stacked",{get:function(){return this.getPropertyValue("stacked")},set:function(e){if(this.setPropertyValue("stacked",e,!0)){this.updateStacking();var l,i=this.xAxis,s=this.yAxis;e||(i!=this.baseAxis&&i instanceof rt&&(l=this.xField),s!=this.baseAxis&&s instanceof rt&&(l=this.yField),l&&this.dataItems.each(function(p){p.setCalculatedValue(l,0,"stack")}))}},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"snapTooltip",{get:function(){return this.getPropertyValue("snapTooltip")},set:function(e){this.setPropertyValue("snapTooltip",e)},enumerable:!0,configurable:!0}),t.prototype.show=function(e){var s,i=this;this.isHidden&&(this.appeared&&this.xAxis instanceof bi&&this.xAxis.groupData&&(this._tmin.setKey(this.yAxis.uid,void 0),this._tmax.setKey(this.yAxis.uid,void 0)),this.appeared&&this.yAxis instanceof bi&&this.yAxis.groupData&&(this._tmin.setKey(this.xAxis.uid,void 0),this._tmax.setKey(this.xAxis.uid,void 0))),this.xAxis instanceof rt&&this.xAxis!=this.baseAxis&&(s=this._xValueFields),this.yAxis instanceof rt&&this.yAxis!=this.baseAxis&&(s=this._yValueFields);var v,l=this.startIndex,p=this.endIndex,h=0,g=this.defaultState.transitionDuration;M(e)&&(g=e),nt.animationsEnabled||(g=0),oe(Ud(this.dataItems.iterator()),function(_){var b=_[0],S=g;(b<i.startIndex-10||b>i.endIndex+10)&&(S=0,h=0),i.sequencedInterpolation&&S>0&&(h=i.sequencedInterpolationDelay*b+g*(b-l)/(p-l)),v=_[1].show(S,h,s)}),this.dataSets.each(function(_,b){b!=i.dataItems&&b.each(function(C){C.events.disable(),C.show(0,0,s),C.events.enable()})}),this.mainDataSet!=this.dataItems&&this.mainDataSet.each(function(_){_.events.disable(),_.show(0,0,s),_.events.enable()});var m=n.prototype.show.call(this,e);return v&&!v.isFinished()&&(m=v),this.hidden&&(this.dispatchImmediately("selectionextremeschanged"),this.hidden=!1),m},t.prototype.hide=function(e){var s,l,i=this,p=this.xAxis;p instanceof rt&&p!=this.baseAxis&&(s=this._xValueFields,l=this.stacked||p.minZoomed<p.baseValue&&p.maxZoomed>p.baseValue||this.stackedSeries?p.baseValue:p.min);var h=this.yAxis;h instanceof rt&&h!=this.baseAxis&&(s=this._yValueFields,l=this.stacked||h.minZoomed<h.baseValue&&h.maxZoomed>h.baseValue||this.stackedSeries?h.baseValue:h.min);var g=this.startIndex,v=this.endIndex,m=this.hiddenState.transitionDuration;M(e)&&(m=e),nt.animationsEnabled||(m=0);var b,_=0;oe(Ud(this.dataItems.iterator()),function(S){var E=S[0],x=S[1],R=m;(E<i.startIndex-10||E>i.endIndex+10)&&(R=0),0==R?x.hide(0,0,l,s):(i.sequencedInterpolation&&R>0&&(_=i.sequencedInterpolationDelay*E+m*(E-g)/(v-g)),b=x.hide(R,_,l,s))}),this.dataSets.each(function(S,E){E!=i.dataItems&&E.each(function(x){x.events.disable(),x.hide(0,0,l,s),x.events.enable()})}),this.mainDataSet!=this.dataItems&&this.mainDataSet.each(function(S){S.events.disable(),S.hide(0,0,l,s),S.events.enable()});var C=n.prototype.hide.call(this,m);return C&&!C.isFinished()&&C.delay(_),b&&!b.isFinished()&&(C=b),this.validateDataElements(),C},t.prototype.handleDataItemWorkingValueChange=function(e,i){n.prototype.handleDataItemWorkingValueChange.call(this,e,i),oe(this.baseAxis.series.iterator(),function(l){(l.stacked||l.stackedSeries)&&l.invalidateProcessedData()})},t.prototype.getStackValue=function(e,i){var s=this,l=this.xAxis,p=this.yAxis;if(this.stacked&&l&&p){var v,h=this.chart,g=h.series.indexOf(this);if(l!=this.baseAxis&&l instanceof rt&&(v=this.xField),p!=this.baseAxis&&p instanceof rt&&(v=this.yField),!v)return;e.setCalculatedValue(v,0,"stack"),zo(h.series.range(0,g).backwards().iterator(),function(m){if(m.xAxis==l&&m.yAxis==p&&m.className==s.className){m.stackedSeries=s;var _=m.dataItems.getIndex(e.index);if(_&&_.hasValue(s._xValueFields)&&_.hasValue(s._yValueFields)){var C,b=e.getValue(v),S=_.getValue(v)+_.getValue(v,"stack");if(C=i?_.getWorkingValue(v)+_.getValue(v,"stack"):_.getValue(v)+_.getValue(v,"stack"),!s.stackToNegative)return e.setCalculatedValue(v,C,"stack"),!1;if(b>=0&&S>=0||b<0&&S<0)return e.setCalculatedValue(v,C,"stack"),!1;if(!m.stacked)return!1}else if(!m.stacked)return!1}return!0})}},Object.defineProperty(t.prototype,"stackToNegative",{get:function(){return this.getPropertyValue("stackToNegative")},set:function(e){this.setPropertyValue("stackToNegative",e,!0)},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"xField",{get:function(){return this._xField},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"yField",{get:function(){return this._yField},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"xOpenField",{get:function(){return this._xOpenField},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"yOpenField",{get:function(){return this._yOpenField},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"tooltipXField",{get:function(){return this._tooltipXField?this._tooltipXField:this._xField},set:function(e){this._tooltipXField=e},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"tooltipYField",{get:function(){return this._tooltipYField?this._tooltipYField:this._yField},set:function(e){this._tooltipYField=e},enumerable:!0,configurable:!0}),t.prototype.min=function(e){return this._tmin.getKey(e.uid)},t.prototype.max=function(e){return this._tmax.getKey(e.uid)},t.prototype.selectionMin=function(e){return this._smin.getKey(e.uid)},t.prototype.selectionMax=function(e){return this._smax.getKey(e.uid)},t.prototype.processConfig=function(e){if(e){if(L(e.baseAxis)&&gt(e.baseAxis)&&(this.map.hasKey(e.baseAxis)?e.baseAxis=this.map.getKey(e.baseAxis):(this.processingErrors.push("[XYSeries ("+(this.name||"unnamed")+')] No axis with id "'+e.baseAxis+'" found for `baseAxis`.'),delete e.baseAxis)),L(e.xAxis)&&gt(e.xAxis)&&(this.map.hasKey(e.xAxis)?e.xAxis=this.map.getKey(e.xAxis):(this.processingErrors.push("[XYSeries ("+(this.name||"unnamed")+')] No axis with id "'+e.xAxis+'" found for `xAxis`.'),delete e.xAxis)),L(e.yAxis)&&gt(e.yAxis)&&(this.map.hasKey(e.yAxis)?e.yAxis=this.map.getKey(e.yAxis):(this.processingErrors.push("[XYSeries ("+(this.name||"unnamed")+')] No axis with id "'+e.yAxis+'" found for `yAxis`.'),delete e.yAxis)),L(e.axisRanges)&&hn(e.axisRanges))for(var i=0,s=e.axisRanges.length;i<s;i++){var l=e.axisRanges[i];L(l.type)||(l.type="AxisDataItem"),L(l.axis)&&gt(l.axis)&&this.map.hasKey(l.axis)?l.component=this.map.getKey(l.axis):L(l.component)&&gt(l.component)&&this.map.hasKey(l.component)&&(l.component=this.map.getKey(l.component))}(!L(e.dataFields)||!li(e.dataFields))&&this.processingErrors.push("`dataFields` is not set for series ["+(this.name||"unnamed")+"]")}n.prototype.processConfig.call(this,e)},t.prototype.getPoint=function(e,i,s,l,p,h,g){if(this.xAxis&&this.yAxis){var v=this.xAxis.getX(e,i,l),m=this.yAxis.getY(e,s,p);return{x:v=xe(v,-this._maxxX,this._maxxX),y:m=xe(m,-this._maxxY,this._maxxY)}}},t.prototype.updateItemReaderText=function(){if(!this._itemReaderTextChanged){var e="";We(this.dataFields,function(i,s){e+="{"+i+"} "}),this.itemReaderText=e,this._itemReaderTextChanged=!1}},Object.defineProperty(t.prototype,"cursorTooltipEnabled",{get:function(){return this.getPropertyValue("cursorTooltipEnabled")},set:function(e){this.setPropertyValue("cursorTooltipEnabled",e)},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"cursorHoverEnabled",{get:function(){return this.getPropertyValue("cursorHoverEnabled")},set:function(e){this.setPropertyValue("cursorHoverEnabled",e)},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"excludeFromTotal",{get:function(){return this.getPropertyValue("excludeFromTotal")},set:function(e){this.setPropertyValue("excludeFromTotal",e)},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"hideTooltipWhileZooming",{get:function(){return this.getPropertyValue("hideTooltipWhileZooming")},set:function(e){this.setPropertyValue("hideTooltipWhileZooming",e)},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"maskBullets",{get:function(){return this.getPropertyValue("maskBullets")},set:function(e){this.setPropertyValue("maskBullets",e);var i=this.chart;i&&(this.bulletsContainer.parent=e?i.bulletsContainer:i.axisBulletsContainer)},enumerable:!0,configurable:!0}),t.prototype.copyFrom=function(e){this.groupFields=Bl(e.groupFields,{}),n.prototype.copyFrom.call(this,e)},t.prototype.dispose=function(){this.scrollbarSeries&&this.scrollbarSeries.dispose(),n.prototype.dispose.call(this)},t}(iD);G.registeredClasses.XYSeries=ep,G.registeredClasses.XYSeriesDataItem=aD;var tp=function(n){function t(){var e=n.call(this)||this;e._chart=new Pn,e.className="XYChartScrollbar";var i=new Rt;e.padding(0,0,0,0);var s=e.createChild(pc);if(s.shouldClone=!1,s.margin(0,0,0,0),s.padding(0,0,0,0),s.interactionsEnabled=!1,e._scrollbarChart=s,!Em()){var l=new Q0;l.filterUnits="userSpaceOnUse",s.plotContainer.filters.push(l)}e._disposers.push(e._scrollbarChart),e.minHeight=60,e.minWidth=60;var p=e.createChild(Je);p.shouldClone=!1,p.setElement(e.paper.add("path")),p.fill=i.getFor("background"),p.fillOpacity=.8,p.interactionsEnabled=!1,p.isMeasured=!1,p.toBack(),e._unselectedOverlay=p,e._disposers.push(e._unselectedOverlay),s.toBack(),e.background.cornerRadius(0,0,0,0);var h=e.thumb.background;h.cornerRadius(0,0,0,0),h.fillOpacity=0,h.fill=i.getFor("background");var g=h.states.getKey("hover");g&&(g.properties.fillOpacity=.2);var v=h.states.getKey("down");return v&&(v.properties.fillOpacity=.4),e._disposers.push(e._chart),e.applyTheme(),e}return $(t,n),Object.defineProperty(t.prototype,"series",{get:function(){return this._series||(this._series=new Dt,this._disposers.push(this._series.events.on("inserted",this.handleSeriesAdded,this,!1)),this._disposers.push(this._series.events.on("removed",this.handleSeriesRemoved,this,!1))),this._series},enumerable:!0,configurable:!0}),t.prototype.handleSeriesAdded=function(e){var i=this,s=e.newValue;if(s.xAxis&&s.yAxis){var l=this.scrollbarChart;l.zoomOutButton.disabled=!0,this.chart=s.chart,l.dateFormatter.inputDateFormat=this.chart.dateFormatter.inputDateFormat,l.language.locale=this.chart.language.locale;var p=!0,h=!0;oe(this.series.iterator(),function(k){k!=s&&(k.xAxis==s.xAxis&&i.scrollbarChart.xAxes.length>0&&(p=!1),k.yAxis==s.yAxis&&i.scrollbarChart.yAxes.length>0&&(h=!1))}),s.events.on("beforedisposed",function(){i.series.removeValue(s)});var g=new Rt,v=s.clone();if((nt.onlyShowOnViewport||nt.queue)&&this.addDisposer(this.chart.events.on("removedfromqueue",function(){l.invalidateData()})),Em()&&(v.stroke=Le("#aaaaaa"),v.fill=v.stroke,v.propertyFields.fill=void 0,v.propertyFields.stroke=void 0),s.scrollbarSeries=v,p){var m=s.xAxis.clone();if(l.xAxes.moveValue(m),m.title.disabled=!0,m.rangeChangeDuration=0,(_=m.renderer).ticks.template.disabled=!0,_.inside=!0,_.labels.template.inside=!0,_.line.strokeOpacity=0,_.minLabelPosition=.02,_.maxLabelPosition=.98,_.line.disabled=!0,_.axisFills.template.disabled=!0,_.baseGrid.disabled=!0,_.grid.template.strokeOpacity=.05,_.minWidth=void 0,_.minHeight=void 0,_.padding(0,0,0,0),_.chart=l,_.margin(0,0,0,0),m.width=ue(100),_.labels.template.fillOpacity=.5,m.maxZoomCount=void 0,m.minZoomCount=void 0,m instanceof bi){var C=m;C.groupCount=5*s.xAxis.groupCount,C.min=void 0,C.max=void 0,this._disposers.push(C.clonedFrom.events.on("extremeschanged",function(){M(C.clonedFrom.minDefined)&&(C.min=C.clonedFrom.minDefined),M(C.clonedFrom.maxDefined)&&(C.max=C.clonedFrom.maxDefined)},void 0,!1))}else if(m instanceof rt){var E=m;E.min=void 0,E.max=void 0,M(E.clonedFrom.minDefined)||(E.min=void 0),M(E.clonedFrom.maxDefined)||(E.max=void 0),this._disposers.push(E.clonedFrom.events.on("extremeschanged",function(){M(E.clonedFrom.minDefined)&&(E.min=E.clonedFrom.min),M(E.clonedFrom.maxDefined)&&(E.max=E.clonedFrom.max)},void 0,!1))}v.xAxis=m}else this.scrollbarChart.xAxes.each(function(k){k.clonedFrom==s.xAxis&&(v.xAxis=k)});if(h){var _,x=s.yAxis.clone();if(l.yAxes.moveValue(x),x.title.disabled=!0,x.rangeChangeDuration=0,(_=x.renderer).ticks.template.disabled=!0,_.inside=!0,_.labels.template.inside=!0,_.line.strokeOpacity=0,_.minLabelPosition=.02,_.maxLabelPosition=.98,_.line.disabled=!0,_.axisFills.template.disabled=!0,_.grid.template.stroke=g.getFor("background"),_.baseGrid.disabled=!0,_.grid.template.strokeOpacity=.05,_.minWidth=void 0,_.minHeight=void 0,_.chart=l,_.padding(0,0,0,0),_.margin(0,0,0,0),x.height=ue(100),_.labels.template.fillOpacity=.5,v.yAxis=x,x.maxZoomCount=void 0,x.minZoomCount=void 0,x instanceof bi){var R=x;R.min=void 0,R.max=void 0,x.groupCount=5*s.yAxis.groupCount,this._disposers.push(R.clonedFrom.events.on("extremeschanged",function(){M(R.clonedFrom.minDefined)&&(R.min=R.clonedFrom.minDefined),M(R.clonedFrom.maxDefined)&&(R.max=R.clonedFrom.maxDefined)}))}else if(x instanceof rt){var P=x;P.min=void 0,P.max=void 0,M(P.clonedFrom.minDefined)||(P.min=void 0),M(P.clonedFrom.maxDefined)||(P.max=void 0),this._disposers.push(P.clonedFrom.events.on("extremeschanged",function(){M(P.clonedFrom.minDefined)&&(P.min=P.clonedFrom.minDefined),M(P.clonedFrom.maxDefined)&&(P.max=P.clonedFrom.maxDefined)}))}}else this.scrollbarChart.yAxes.each(function(k){k.clonedFrom==s.yAxis&&(v.yAxis=k)});v.rangeChangeDuration=0,v.interpolationDuration=0,v.defaultState.transitionDuration=0,v.showOnInit=!1,this._disposers.push(v.events.on("validated",this.zoomOutAxes,this,!1)),this._disposers.push(s.events.on("datavalidated",function(){v.data!=s.data&&(v.data=s.data)},void 0,!1)),v.defaultState.properties.visible=!0,l.series.push(v),this.updateByOrientation()}},t.prototype.updateByOrientation=function(){var e=this;this._scrollbarChart&&(oe(this._scrollbarChart.xAxes.iterator(),function(i){var s=i.renderer;"vertical"==e.orientation?(s.grid.template.disabled=!0,s.labels.template.disabled=!0,s.minGridDistance=10):(s.grid.template.disabled=!1,s.labels.template.disabled=!1,s.minGridDistance=i.clonedFrom.renderer.minGridDistance)}),oe(this._scrollbarChart.yAxes.iterator(),function(i){var s=i.renderer;"horizontal"==e.orientation?(s.grid.template.disabled=!0,s.labels.template.disabled=!0,s.minGridDistance=10):(s.grid.template.disabled=!1,s.labels.template.disabled=!1,s.minGridDistance=i.clonedFrom.renderer.minGridDistance)}))},t.prototype.handleSeriesRemoved=function(e){var i=e.oldValue,s=this.scrollbarChart;s.series.each(function(l){l&&l.clonedFrom==i&&s.series.removeValue(l)}),0==s.series.length&&(s.xAxes.clear(),s.yAxes.clear());try{i.events.off("validated",this.zoomOutAxes,this)}catch(l){}},Object.defineProperty(t.prototype,"scrollbarChart",{get:function(){return this._scrollbarChart},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"chart",{get:function(){return this._chart.get()},set:function(e){this._chart.get()!==e&&(this._chart.set(e,e.events.on("datavalidated",this.handleDataChanged,this,!1)),this.handleDataChanged(),this._scrollbarChart.dataProvider=e)},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"unselectedOverlay",{get:function(){return this._unselectedOverlay},enumerable:!0,configurable:!0}),t.prototype.handleDataChanged=function(){this.chart.data!=this.scrollbarChart.data?this.scrollbarChart.data=this.chart.data:this.scrollbarChart.invalidateRawData()},t.prototype.zoomOutAxes=function(){var e=this.scrollbarChart;oe(e.xAxes.iterator(),function(i){i.zoom({start:0,end:1},!0,!0)}),oe(e.yAxes.iterator(),function(i){i.zoom({start:0,end:1},!0,!0)})},t.prototype.updateThumb=function(e){if(void 0===e&&(e=!0),n.prototype.updateThumb.call(this,e),this._unselectedOverlay){var i=this.thumb,s=i.pixelX||0,l=i.pixelY||0,p=i.pixelWidth||0,h=i.pixelHeight||0,g="";"horizontal"==this.orientation?(g=cc({x:-1,y:0,width:s,height:h}),g+=cc({x:s+p,y:0,width:(this.pixelWidth||0)-s-p,height:h})):(g=cc({x:0,y:0,width:p,height:l}),g+=cc({x:0,y:l+h,width:p,height:(this.pixelHeight||0)-l-h})),this._unselectedOverlay.path=g}},t.prototype.processConfig=function(e){if(e&&L(e.series)&&hn(e.series))for(var i=0,s=e.series.length;i<s;i++){var l=e.series[i];if(L(l)&&gt(l)){if(!this.map.hasKey(l))throw Error("XYChartScrollbar error: Series with id `"+l+"` does not exist.");e.series[i]=this.map.getKey(l)}}n.prototype.processConfig.call(this,e)},t}(X0);G.registeredClasses.XYChartScrollbar=tp;var iT=function(n){function t(){var e=n.call(this)||this;return e.className="XYChartDataItem",e.applyTheme(),e}return $(t,n),t}(DV),pc=function(n){function t(){var e=n.call(this)||this;e._axisRendererX=Wl,e._axisRendererY=da,e._seriesPoints=[],e.className="XYChart",e.maskBullets=!0,e.arrangeTooltips=!0;var i=e.chartContainer;i.layout="vertical",e.padding(15,15,15,15);var s=i.createChild(Ve);s.shouldClone=!1,s.layout="vertical",s.width=ue(100),s.zIndex=1,e.topAxesContainer=s;var l=i.createChild(Ve);l.shouldClone=!1,l.layout="horizontal",l.width=ue(100),l.height=ue(100),l.zIndex=0,e.yAxesAndPlotContainer=l;var p=i.createChild(Ve);p.shouldClone=!1,p.width=ue(100),p.layout="vertical",p.zIndex=1,e.bottomAxesContainer=p;var h=l.createChild(Ve);h.shouldClone=!1,h.layout="horizontal",h.height=ue(100),h.contentAlign="right",h.events.on("transformed",e.updateXAxesMargins,e,!1),h.zIndex=1,e.leftAxesContainer=h;var g=l.createChild(Ve);g.shouldClone=!1,g.height=ue(100),g.width=ue(100),g.background.fillOpacity=0,e.plotContainer=g,e.mouseWheelBehavior="none",e._cursorContainer=g;var v=l.createChild(Ve);v.shouldClone=!1,v.layout="horizontal",v.height=ue(100),v.zIndex=1,v.events.on("transformed",e.updateXAxesMargins,e,!1),e.rightAxesContainer=v,e.seriesContainer.parent=g,e.bulletsContainer.parent=g;var m=g.createChild(dV);m.shouldClone=!1,m.align="right",m.valign="top",m.zIndex=Number.MAX_SAFE_INTEGER,m.marginTop=5,m.marginRight=5,m.hide(0),e.zoomOutButton=m;var _=e.plotContainer.createChild(Ve);return _.shouldClone=!1,_.width=ue(100),_.height=ue(100),_.isMeasured=!1,_.zIndex=4,_.layout="none",e.axisBulletsContainer=_,e._bulletMask=e.plotContainer,e.events.on("beforedatavalidated",function(){e.series.each(function(b){b.dataGrouped=!1,b._baseInterval={}})},e,!1),e.applyTheme(),e}return $(t,n),t.prototype.applyInternalDefaults=function(){n.prototype.applyInternalDefaults.call(this),this.zoomOutButton.exportable=!1,L(this.readerTitle)||(this.readerTitle=this.language.translate("X/Y chart"))},t.prototype.draw=function(){n.prototype.draw.call(this),this.seriesContainer.toFront(),this.bulletsContainer.toFront(),this.maskBullets&&(this.bulletsContainer.mask=this._bulletMask),this.updateSeriesLegend()},t.prototype.updatePlotElements=function(){oe(this.series.iterator(),function(e){e.invalidate()})},t.prototype.validateData=function(){0==this._parseDataFrom&&(oe(this.xAxes.iterator(),function(e){e.dataChangeUpdate()}),oe(this.yAxes.iterator(),function(e){e.dataChangeUpdate()}),oe(this.series.iterator(),function(e){e.dataChangeUpdate()})),n.prototype.validateData.call(this)},t.prototype.updateXAxesMargins=function(){var e=this.leftAxesContainer.measuredWidth,i=this.rightAxesContainer.measuredWidth,s=this.bottomAxesContainer;(s.paddingLeft!=e||s.paddingRight!=i)&&(s.paddingLeft=e,s.paddingRight=i);var l=this.topAxesContainer;(l.paddingLeft!=e||l.paddingRight!=i)&&(l.paddingLeft=e,l.paddingRight=i)},t.prototype.reinit=function(){n.prototype.reinit.call(this),this.series.each(function(e){e.appeared=!1})},t.prototype.handleXAxisChange=function(e){this.updateXAxis(e.target)},t.prototype.handleYAxisChange=function(e){this.updateYAxis(e.target)},t.prototype.processXAxis=function(e){var i=e.newValue;i.chart=this,i.renderer||(i.renderer=new this._axisRendererX,i.renderer.observe(["opposite","inside","inversed","minGridDistance"],this.handleXAxisChange,this,!1)),i.axisLetter="X",i.events.on("startendchanged",this.handleXAxisRangeChange,this,!1),i.dataProvider=this,this.updateXAxis(i.renderer),this.processAxis(i)},t.prototype.processYAxis=function(e){var i=e.newValue;i.chart=this,i.renderer||(i.renderer=new this._axisRendererY,i.renderer.observe(["opposite","inside","inversed","minGridDistance"],this.handleYAxisChange,this,!1)),i.axisLetter="Y",i.events.on("startendchanged",this.handleYAxisRangeChange,this,!1),i.dataProvider=this,this.updateYAxis(i.renderer),this.processAxis(i)},t.prototype.handleXAxisRangeChange=function(){var e=this.getCommonAxisRange(this.xAxes);this.scrollbarX&&this.zoomAxes(this.xAxes,e,!0),this.toggleZoomOutButton(),this.updateScrollbar(this.scrollbarX,e)},t.prototype.toggleZoomOutButton=function(){if(this.zoomOutButton){var e=!1;zo(this.xAxes.iterator(),function(i){if(i.toggleZoomOutButton)if(i.maxZoomCount>0){var s=i.maxZoomFactor/i.maxZoomCount;if(ae(i.end-i.start,3)<1/s)return e=!0,!1}else if(ae(i.start,3)>0||ae(i.end,3)<1)return e=!0,!1;return!0}),zo(this.yAxes.iterator(),function(i){if(i.toggleZoomOutButton){if(i.maxZoomCount>0){var s=i.maxZoomFactor/i.maxZoomCount;if(ae(i.end-i.start,3)<1/s)return e=!0,!1}else if(ae(i.start,3)>0||ae(i.end,3)<1)return e=!0,!1;return!0}}),this.seriesAppeared||(e=!1),e?this.zoomOutButton.show():this.zoomOutButton.hide()}},t.prototype.seriesAppeared=function(){var e=!1;return oe(this.series.iterator(),function(i){if(!i.appeared)return e=!1,!1}),e},t.prototype.handleYAxisRangeChange=function(){var e=this.getCommonAxisRange(this.yAxes);this.scrollbarY&&this.zoomAxes(this.yAxes,e,!0),this.toggleZoomOutButton(),this.updateScrollbar(this.scrollbarY,e)},t.prototype.updateScrollbar=function(e,i){e&&(e.skipRangeEvents(),e.start=i.start,e.end=i.end)},t.prototype.getCommonAxisRange=function(e){var i,s;return e.each(function(l){if(l.zoomable&&!(l instanceof rt&&l.syncWithAxis)){var p=l.start,h=l.end;l.renderer.inversed&&(p=1-l.end,h=1-l.start),(!M(i)||p<i)&&(i=p),(!M(s)||h>s)&&(s=h)}}),{start:i,end:s}},t.prototype.updateXAxis=function(e){var i=e.axis;e.opposite?(i.parent=this.topAxesContainer,i.toFront()):(i.parent=this.bottomAxesContainer,i.toBack()),i.renderer&&i.renderer.processRenderer()},t.prototype.updateYAxis=function(e){var i=e.axis;e.opposite?(i.parent=this.rightAxesContainer,i.toBack()):(i.parent=this.leftAxesContainer,i.toFront()),i.renderer&&i.renderer.processRenderer()},t.prototype.processAxis=function(e){var i=this;e instanceof Bi&&this._dataUsers.moveValue(e);var s=e.renderer;s.gridContainer.parent=this.plotContainer,s.gridContainer.toBack(),s.breakContainer.parent=this.plotContainer,s.breakContainer.toFront(),s.breakContainer.zIndex=10,e.addDisposer(new Bt(function(){i.dataUsers.removeValue(e)})),s.bulletsContainer.parent=this.axisBulletsContainer,this._disposers.push(e.events.on("positionchanged",function(){var l=ho({x:0,y:0},e,i.axisBulletsContainer);e.renderer instanceof da&&(s.bulletsContainer.y=l.y),e.renderer instanceof Wl&&(s.bulletsContainer.x=l.x)},void 0,!1)),this.plotContainer.events.on("maxsizechanged",function(){i.inited&&(e.invalidateDataItems(),i.updateSeriesMasks())},e,!1)},t.prototype.updateSeriesMasks=function(){Em()&&this.series.each(function(e){var i=e.mainContainer.mask;e.mainContainer.mask=void 0,e.mainContainer.mask=i})},t.prototype.handleSeriesRemoved=function(e){var i=e.oldValue;i&&(i.xAxis&&(i.xAxis.series.removeValue(i),i.xAxis.invalidateProcessedData()),i.yAxis&&(i.yAxis.series.removeValue(i),i.yAxis.invalidateProcessedData()),this.series.each(function(s){s.resetExtremes()})),n.prototype.handleSeriesRemoved.call(this,e)},Object.defineProperty(t.prototype,"xAxes",{get:function(){return this._xAxes||(this._xAxes=new Dt,this._xAxes.events.on("inserted",this.processXAxis,this,!1),this._xAxes.events.on("removed",this.handleAxisRemoval,this,!1),this._disposers.push(new Qt(this._xAxes,!1))),this._xAxes},enumerable:!0,configurable:!0}),t.prototype.handleAxisRemoval=function(e){var i=e.oldValue;this.dataUsers.removeValue(i),i.autoDispose&&i.dispose()},Object.defineProperty(t.prototype,"yAxes",{get:function(){return this._yAxes||(this._yAxes=new Dt,this._yAxes.events.on("inserted",this.processYAxis,this,!1),this._yAxes.events.on("removed",this.handleAxisRemoval,this,!1),this._disposers.push(new Qt(this._yAxes,!1))),this._yAxes},enumerable:!0,configurable:!0}),t.prototype.handleSeriesAdded=function(e){try{n.prototype.handleSeriesAdded.call(this,e);var i=e.newValue;(0==this.xAxes.length||0==this.yAxes.length)&&(G.removeFromInvalidComponents(i),i.dataInvalid=!1),i.maskBullets=i.maskBullets,null==i.fill&&(this.patterns?(L(i.stroke)||(i.stroke=this.colors.next()),i.fill=this.patterns.next(),L(i.fillOpacity)&&(i.fill.backgroundOpacity=i.fillOpacity),i.stroke instanceof St&&(i.fill.stroke=i.stroke,i.fill.fill=i.stroke)):i.fill=this.colors.next()),L(i.stroke)||(i.stroke=i.fill)}catch(s){this.raiseCriticalError(s)}},Object.defineProperty(t.prototype,"cursor",{get:function(){return this._cursor},set:function(e){this._cursor!=e&&(this._cursor&&this.removeDispose(this._cursor),this._cursor=e,e&&(this._disposers.push(e),e.chart=this,e.shouldClone=!1,e.parent=this._cursorContainer,e.events.on("cursorpositionchanged",this.handleCursorPositionChange,this,!1),e.events.on("zoomstarted",this.handleCursorZoomStart,this,!1),e.events.on("zoomended",this.handleCursorZoomEnd,this,!1),e.events.on("panstarted",this.handleCursorPanStart,this,!1),e.events.on("panning",this.handleCursorPanning,this,!1),e.events.on("panended",this.handleCursorPanEnd,this,!1),e.events.on("behaviorcanceled",this.handleCursorCanceled,this,!1),e.events.on("hidden",this.handleHideCursor,this,!1),e.zIndex=Number.MAX_SAFE_INTEGER-1,this.tapToActivate&&this.setTapToActivate(this.tapToActivate)))},enumerable:!0,configurable:!0}),t.prototype.handleCursorPositionChange=function(){var e=this.cursor;if(e.visible&&!e.isHiding){var i=this.cursor.xPosition,s=this.cursor.yPosition;this.showSeriesTooltip({x:i,y:s});var l=[],p=e.snapToSeries;if(p&&!e.downPoint){p instanceof ep&&(p=[p]);var h=[];be(p,function(v){if(!v.isHidden&&!v.isHiding){var m=v.xAxis,_=v.yAxis;m instanceof rt&&!(m instanceof bi)&&_ instanceof rt&&!(_ instanceof bi)?(v.dataItems.each(function(b){h.push(b)}),Ts(l,v.yAxis),Ts(l,v.xAxis)):(v.baseAxis==v.xAxis&&(Ts(l,v.yAxis),h.push(m.getSeriesDataItem(v,m.toAxisPosition(i),!0))),v.baseAxis==v.yAxis&&(Ts(l,v.xAxis),h.push(_.getSeriesDataItem(v,_.toAxisPosition(s),!0))))}});var g=this.getClosest(h,i,s);g&&(this.series.each(function(v){var m=g.component;v!=m&&(v.hideTooltip(),v.xAxis!=m.xAxis&&(v.xAxis.hideTooltip(),l.push(v.xAxis)),v.yAxis!=m.yAxis&&(v.yAxis.hideTooltip(),l.push(v.yAxis)))}),g.component.showTooltipAtDataItem(g),e.handleSnap(g.component))}this._seriesPoints=[],this._cursorXPosition!=i&&this.showAxisTooltip(this.xAxes,i,l),this._cursorYPosition!=s&&this.showAxisTooltip(this.yAxes,s,l),this.arrangeTooltips&&this.sortSeriesTooltips(this._seriesPoints),this.legend&&this.legend.afterDraw()}},t.prototype.getClosest=function(e,i,s){var p,l=1/0;return ZP(e,function(h){if(h){var g=h.component.xAxis,v=h.component.yAxis,m=g.positionToCoordinate(g.toGlobalPosition(g.toAxisPosition(i))),_=v.positionToCoordinate(v.toGlobalPosition(v.toAxisPosition(s))),b=h.component.xField,C=h.component.yField;if(g instanceof rt&&!M(h.getValue(b))||v instanceof rt&&!M(h.getValue(C)))return!0;var S=g.positionToCoordinate(g.toGlobalPosition(g.getPositionX(h,b,h.locations[b],"valueX"))),E=v.positionToCoordinate(v.toGlobalPosition(v.getPositionY(h,C,h.locations[C],"valueY"))),x=Math.sqrt(Math.pow(m-S,2)+Math.pow(_-E,2));return x<l&&(l=x,p=h),!0}}),p},t.prototype.handleHideCursor=function(){this.hideObjectTooltip(this.xAxes),this.hideObjectTooltip(this.yAxes),this.hideObjectTooltip(this.series),this._cursorXPosition=void 0,this._cursorYPosition=void 0,this.updateSeriesLegend()},t.prototype.updateSeriesLegend=function(){oe(this.series.iterator(),function(e){e.updateLegendValue()})},t.prototype.hideObjectTooltip=function(e){oe(e.iterator(),function(i){i.cursorTooltipEnabled&&i.hideTooltip(0)})},t.prototype.showSeriesTooltip=function(e){var i=this;if(e){var s=[];this.series.each(function(l){if(!(l.xAxis instanceof bi&&l.xAxis.snapTooltip||l.yAxis instanceof bi&&l.yAxis.snapTooltip)){var p=l.showTooltipAtPosition(e.x,e.y);p&&(l.tooltip.setBounds(CR({x:0,y:0,width:i.pixelWidth,height:i.pixelHeight},i)),s.push({series:l,point:p}))}}),this.arrangeTooltips&&this.sortSeriesTooltips(s)}else this.series.each(function(l){l.hideTooltip()})},t.prototype.sortSeriesTooltips=function(e){if(e.length>0){var i=this.cursor;if(i&&M(i.maxTooltipDistance)){var l,p,s=Is({x:i.point.x,y:i.point.y},i),h=1/0;be(e,function(we){var Oe=we.series,Tt=we.point;if(Tt){var Vi={x:Tt.x,y:Tt.y},fn=Math.abs(At(Vi,s));fn<h&&(p=Vi,h=fn,l=Oe)}});var g=[];l&&(be(e,function(we){if(Math.abs(At(we.point,p))<=Math.abs(i.maxTooltipDistance))g.push({series:we.series,point:we.point});else{var Oe=we.series.tooltipDataItem;Oe&&be(Oe.sprites,function(Tt){Tt.isHover=!1,Tt.handleOutReal()}),we.series.hideTooltip(0)}}),i.maxTooltipDistance<0&&(g.length>0&&be(g,function(we){l!=we.series&&we.series.hideTooltip(0)}),g=[{series:l,point:p}])),e=g}var v=Is({x:-.5,y:-.5},this.plotContainer),m=Is({x:this.plotContainer.pixelWidth+.5,y:this.plotContainer.pixelHeight+.5},this.plotContainer),_=0,b=[];be(e,function(we){var Oe=we.point;Oe&&tL(Oe,{x:v.x,y:v.y,width:m.x-v.x,height:m.y-v.y})&&(b.push({point:Oe,series:we.series}),_+=Oe.y)}),e=b;var C=this.series.getIndex(0),S=!1;C&&C.yAxis&&C.yAxis.renderer.inversed&&(S=!0),S?e.sort(function(we,Oe){return el(we.point.y,Oe.point.y)}):(e.sort(function(we,Oe){return el(Oe.point.y,we.point.y)}),e.reverse());var E=_/e.length,x=SL({x:0,y:0},this.svgContainer.SVGContainer).y;if(e.length>0){var R=v.y,P=m.y;wR({x:0,y:R},this);var k=!1;if(E>R+(P-R)/2)for(var U=P,W=e.length-1;W>=0;W--){var X=e[W].point.y;if((K=e[W].series.tooltip).setBounds({x:0,y:-x,width:this.pixelWidth,height:U+x}),K.invalid&&K.validate(),K.toBack(),(U=Is({x:0,y:K.label.pixelY-K.pixelY+X-K.pixelMarginTop},K).y)<-x){k=!0;break}}if(E<=R+(P-R)/2||k)for(var J=R,je=(W=0,e.length);W<je;W++){var K;X=e[W].point.y,(K=e[W].series.tooltip).setBounds({x:0,y:J,width:this.pixelWidth,height:P}),K.invalid&&K.validate(),K.toBack(),J=Is({x:0,y:K.label.pixelY+K.label.measuredHeight-K.pixelY+X+K.pixelMarginBottom},K).y}}}},t.prototype.showAxisTooltip=function(e,i,s){var l=this;oe(e.iterator(),function(p){(!s||-1==s.indexOf(p))&&(l.dataItems.length>0||p.dataItems.length>0)&&p.showTooltipAtPosition(i)})},t.prototype.getUpdatedRange=function(e,i){if(e){var s,l;e.renderer.inversed?(dm(i),s=1-e.end,l=1-e.start):(s=e.start,l=e.end);var h=l-s;return{start:s+i.start*h,end:s+i.end*h}}},t.prototype.handleCursorZoomEnd=function(e){var i=this.cursor,s=i.behavior;if("zoomX"==s||"zoomXY"==s){var l=i.xRange;l&&this.xAxes.length>0&&((l=this.getUpdatedRange(this.xAxes.getIndex(0),l)).priority="start",this.zoomAxes(this.xAxes,l))}if("zoomY"==s||"zoomXY"==s){var p=i.yRange;p&&this.yAxes.length>0&&((p=this.getUpdatedRange(this.yAxes.getIndex(0),p)).priority="start",this.zoomAxes(this.yAxes,p))}this.handleHideCursor()},t.prototype.handleCursorPanStart=function(e){var i=this.xAxes.getIndex(0);i&&(this._panStartXRange={start:i.start,end:i.end},i.renderer.inversed&&(this._panStartXRange=dm(this._panStartXRange)));var s=this.yAxes.getIndex(0);s&&(this._panStartYRange={start:s.start,end:s.end},s.renderer.inversed&&(this._panStartYRange=dm(this._panStartYRange)))},t.prototype.handleCursorPanEnd=function(e){var l,i=this.cursor,s=i.behavior;if(this._panEndXRange&&("panX"==s||"panXY"==s)){var p=this._panStartXRange,h=0;(l=this._panEndXRange).start<0&&(h=l.start),p.end>1?l.end>p.end&&(h=l.end-p.end):l.end>1&&(h=l.end-1),this.zoomAxes(this.xAxes,{start:l.start-h,end:l.end-h},!1,i.snapOnPan),this._panEndXRange=void 0,this._panStartXRange=void 0}!this._panEndYRange||"panY"!=s&&"panXY"!=s||(h=0,(l=this._panEndYRange).start<0&&(h=l.start),l.end>1&&(h=l.end-1),this.zoomAxes(this.yAxes,{start:l.start-h,end:l.end-h},!1,i.snapOnPan),this._panEndYRange=void 0,this._panStartYRange=void 0)},t.prototype.handleCursorCanceled=function(){this._panEndXRange=void 0,this._panStartXRange=void 0},t.prototype.handleCursorPanning=function(e){var C,i=this.cursor,s=i.behavior,l=i.maxPanOut;if(this._panStartXRange&&("panX"==s||"panXY"==s)){var p=this._panStartXRange,h=i.xRange,g=this.getCommonAxisRange(this.xAxes),v=p.end-p.start,m=h.start*(g.end-g.start),_=Math.max(-l,m+p.start),b=Math.min(m+p.end,1+l);_<=0&&(b=_+v),b>=1&&(_=b-v),this._panEndXRange=C={start:_,end:b},this.zoomAxes(this.xAxes,C,!1,!1,i.maxPanOut)}!this._panStartYRange||"panY"!=s&&"panXY"!=s||(p=this._panStartYRange,h=i.yRange,g=this.getCommonAxisRange(this.yAxes),v=p.end-p.start,m=h.start*(g.end-g.start),_=Math.max(-l,m+p.start),b=Math.min(m+p.end,1+l),_<=0&&(b=_+v),b>=1&&(_=b-v),this._panEndYRange=C={start:_,end:b},this.zoomAxes(this.yAxes,C,!1,!1,i.maxPanOut));this.handleHideCursor()},t.prototype.handleYAxisSet=function(e){},t.prototype.handleCursorZoomStart=function(e){},Object.defineProperty(t.prototype,"scrollbarX",{get:function(){return this._scrollbarX},set:function(e){var i=this;this._scrollbarX&&this.removeDispose(this._scrollbarX),this._scrollbarX=e,e&&(this._disposers.push(e),e.parent=this.topAxesContainer,e.shouldClone=!1,e.startGrip.exportable=!1,e.endGrip.exportable=!1,e.toBack(),e.orientation="horizontal",e.events.on("rangechanged",this.handleXScrollbarChange,this,!1),this.events.on("datavalidated",function(){return e.updateThumb(!1)},this,!1),e.adapter.add("positionValue",function(s){var l=i.xAxes.getIndex(0);return l&&(s.value=l.getPositionLabel(l.renderer.inversed?1-s.position:s.position)),s}))},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"scrollbarY",{get:function(){return this._scrollbarY},set:function(e){var i=this;this._scrollbarY&&this.removeDispose(this._scrollbarY),this._scrollbarY=e,e&&(this._disposers.push(e),e.parent=this.rightAxesContainer,e.startGrip.exportable=!1,e.shouldClone=!1,e.endGrip.exportable=!1,e.toFront(),e.orientation="vertical",e.events.on("rangechanged",this.handleYScrollbarChange,this,!1),this.events.on("datavalidated",function(){return e.updateThumb(!1)},this,!1),e.adapter.add("positionValue",function(s){var l=i.yAxes.getIndex(0);return l&&(s.value=l.getPositionLabel(s.position)),s}))},enumerable:!0,configurable:!0}),t.prototype.handleXScrollbarChange=function(e){if(this.inited){var i=e.target,s=i.range;0==s.start&&(s.priority="start"),1==s.end&&(s.priority="end"),s=this.zoomAxes(this.xAxes,s),i.fixRange(s)}},t.prototype.handleYScrollbarChange=function(e){if(this.inited){var i=e.target,s=i.range;1==s.end&&(s.priority="end"),0==s.start&&(s.priority="start"),s=this.zoomAxes(this.yAxes,s),i.fixRange(s)}},t.prototype.zoomAxes=function(e,i,s,l,p,h){var g={start:0,end:1};this.showSeriesTooltip();var v=i;return this.dataInvalid||oe(e.iterator(),function(m){var _=m.maxZoomFactor;if(M(m.minZoomCount)&&(_/=m.minZoomCount),!(h&&1/(i.end-i.start)>=_)&&m.zoomable){if(i=m.renderer.inversed?dm(v):v,m.hideTooltip(0),l)if(m instanceof Bi){var b=m.getCellEndPosition(0)-m.getCellStartPosition(0);i.start=m.roundPosition(i.start+b/2-m.startLocation*b,m.startLocation),i.end=m.roundPosition(i.end-b/2+(1-m.endLocation)*b,m.endLocation)}else i.start=m.roundPosition(i.start+1e-4,0,m.startLocation),i.end=m.roundPosition(i.end+1e-4,0,m.endLocation);var C=m.zoom(i,s,s,p);m.renderer.inversed&&(C=dm(C)),g=C}}),g},Object.defineProperty(t.prototype,"maskBullets",{get:function(){return this.getPropertyValue("maskBullets")},set:function(e){this.setPropertyValue("maskBullets",e,!0)&&this.bulletsContainer&&(this.bulletsContainer.mask=e?this._bulletMask:void 0)},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"arrangeTooltips",{get:function(){return this.getPropertyValue("arrangeTooltips")},set:function(e){this.setPropertyValue("arrangeTooltips",e,!0)},enumerable:!0,configurable:!0}),t.prototype.handleWheel=function(e){var i=this.plotContainer,l=Yo(sc(e.point,this.htmlContainer,this.svgContainer.cssScale),i);this.handleWheelReal(e.shift.y,this.mouseWheelBehavior,l)},t.prototype.handleHorizontalWheel=function(e){var i=this.plotContainer,l=Yo(sc(e.point,this.htmlContainer,this.svgContainer.cssScale),i);this.handleWheelReal(e.shift.x,this.horizontalMouseWheelBehavior,l)},t.prototype.handleWheelReal=function(e,i,s){if(0!=e){var l=this.plotContainer,p=this.getCommonAxisRange(this.xAxes),h=this.getCommonAxisRange(this.yAxes),g=.1;if("panX"==i||"panXY"==i){var m=p.end-p.start,_=Math.max(-0,p.start+g*e/100*(p.end-p.start)),b=Math.min(p.end+g*e/100*(p.end-p.start),1);_<=0&&(b=_+m),b>=1&&(_=b-m),this.zoomAxes(this.xAxes,{start:_,end:b})}if("panY"==i||"panXY"==i){e*=-1;var C=h.end-h.start,S=Math.max(-0,h.start+g*e/100*(h.end-h.start)),E=Math.min(h.end+g*e/100*(h.end-h.start),1);S<=0&&(E=S+C),E>=1&&(S=E-C),this.zoomAxes(this.yAxes,{start:S,end:E})}if("zoomX"==i||"zoomXY"==i){var x=s.x/l.maxWidth,R=this.xAxes.getIndex(0).toAxisPosition(x);_=Math.max(-0,p.start-g*(p.end-p.start)*e/100*x),_=Math.min(_,R),b=Math.min(p.end+g*(p.end-p.start)*e/100*(1-x),1),b=Math.max(b,R),this.zoomAxes(this.xAxes,{start:_,end:b},void 0,void 0,void 0,!0)}if("zoomY"==i||"zoomXY"==i){var P=s.y/l.maxHeight,k=this.yAxes.getIndex(0).toAxisPosition(P);S=Math.max(-0,h.start-g*(h.end-h.start)*e/100*(1-P)),S=Math.min(S,k),E=Math.min(h.end+g*e/100*P*(h.end-h.start),1),E=Math.max(E,k),this.zoomAxes(this.yAxes,{start:S,end:E},void 0,void 0,void 0,!0)}}},Object.defineProperty(t.prototype,"mouseWheelBehavior",{get:function(){return this.getPropertyValue("mouseWheelBehavior")},set:function(e){this.setPropertyValue("mouseWheelBehavior",e)&&("none"!=e?(this._mouseWheelDisposer=this.plotContainer.events.on("wheel",this.handleWheel,this,!1),this._disposers.push(this._mouseWheelDisposer)):this._mouseWheelDisposer&&(this.plotContainer.wheelable=!1,this.plotContainer.hoverable=!1,this._mouseWheelDisposer.dispose()))},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"horizontalMouseWheelBehavior",{get:function(){return this.getPropertyValue("horizontalMouseWheelBehavior")},set:function(e){this.setPropertyValue("horizontalMouseWheelBehavior",e)&&("none"!=e?(this._mouseWheelDisposer2=this.plotContainer.events.on("wheel",this.handleHorizontalWheel,this,!1),this._disposers.push(this._mouseWheelDisposer2)):this._mouseWheelDisposer2&&(this.plotContainer.wheelable=!1,this.plotContainer.hoverable=!1,this._mouseWheelDisposer2.dispose()))},enumerable:!0,configurable:!0}),t.prototype.dataSourceDateFields=function(e){var i=this;return e=n.prototype.dataSourceDateFields.call(this,e),oe(this.series.iterator(),function(s){e=i.populateDataSourceFields(e,s.dataFields,["dateX","dateY","openDateX","openDateY"])}),e},t.prototype.dataSourceNumberFields=function(e){var i=this;return e=n.prototype.dataSourceDateFields.call(this,e),oe(this.series.iterator(),function(s){e=i.populateDataSourceFields(e,s.dataFields,["valueX","valueY","openValueX","openValueY"])}),e},t.prototype.processConfig=function(e){if(e){var i=[],s=[];if(L(e.xAxes)&&hn(e.xAxes))for(var l=0,p=e.xAxes.length;l<p;l++){if(!e.xAxes[l].type)throw Error("[XYChart error] No type set for xAxes["+l+"].");if(L(e.xAxes[l].axisRanges)){for(var h=0,g=e.xAxes[l].axisRanges.length;h<g;h++)L((v=e.xAxes[l].axisRanges[h]).date)&&gt(v.date)&&(v.date=this.dateFormatter.parse(v.date)),L(v.endDate)&&gt(v.endDate)&&(v.endDate=this.dateFormatter.parse(v.endDate));i.push({axisRanges:e.xAxes[l].axisRanges,index:l}),delete e.xAxes[l].axisRanges}}if(L(e.yAxes)&&hn(e.yAxes))for(l=0,p=e.yAxes.length;l<p;l++){if(!e.yAxes[l].type)throw Error("[XYChart error] No type set for yAxes["+l+"].");if(L(e.yAxes[l].axisRanges)){h=0;for(var m=e.yAxes[l].axisRanges.length;h<m;h++){var v;L((v=e.yAxes[l].axisRanges[h]).date)&&gt(v.date)&&(v.date=this.dateFormatter.parse(v.date)),L(v.endDate)&&gt(v.endDate)&&(v.endDate=this.dateFormatter.parse(v.endDate))}s.push({axisRanges:e.yAxes[l].axisRanges,index:l}),delete e.yAxes[l].axisRanges}}if(L(e.series)&&hn(e.series))for(l=0,p=e.series.length;l<p;l++)e.series[l].type=e.series[l].type||"LineSeries";if(L(e.cursor)&&!L(e.cursor.type)&&(e.cursor.type="XYCursor"),L(e.scrollbarX)&&!L(e.scrollbarX.type)&&(e.scrollbarX.type="Scrollbar"),L(e.scrollbarY)&&!L(e.scrollbarY.type)&&(e.scrollbarY.type="Scrollbar"),n.prototype.processConfig.call(this,e),s.length)for(l=0,p=s.length;l<p;l++)this.yAxes.getIndex(s[l].index).config={axisRanges:s[l].axisRanges};if(i.length)for(l=0,p=i.length;l<p;l++)this.xAxes.getIndex(i[l].index).config={axisRanges:i[l].axisRanges}}},t.prototype.configOrder=function(e,i){return e==i?0:"scrollbarX"==e?1:"scrollbarX"==i?-1:"scrollbarY"==e?1:"scrollbarY"==i?-1:"cursor"==e?1:"cursor"==i?-1:"series"==e?1:"series"==i?-1:n.prototype.configOrder.call(this,e,i)},t.prototype.createSeries=function(){return new ep},Object.defineProperty(t.prototype,"zoomOutButton",{get:function(){return this._zoomOutButton},set:function(e){var i=this;this._zoomOutButton=e,e&&e.events.on("hit",function(){i.zoomAxes(i.xAxes,{start:0,end:1}),i.zoomAxes(i.yAxes,{start:0,end:1})},void 0,!1)},enumerable:!0,configurable:!0}),t.prototype.copyFrom=function(e){var i=this;e.xAxes.each(function(s){var l=i.xAxes.push(s.clone());l.chart=i,l.renderer.chart=i}),e.yAxes.each(function(s){var l=i.yAxes.push(s.clone());l.renderer.chart=i,l.chart=i}),n.prototype.copyFrom.call(this,e),e.cursor&&(this.cursor=e.cursor.clone()),e.scrollbarX&&(this.scrollbarX=e.scrollbarX.clone()),e.scrollbarY&&(this.scrollbarY=e.scrollbarY.clone())},t.prototype.disposeData=function(){n.prototype.disposeData.call(this);var e=this.scrollbarX;e&&e instanceof tp&&e.scrollbarChart.disposeData();var i=this.scrollbarY;i&&i instanceof tp&&i.scrollbarChart.disposeData(),this.xAxes.each(function(s){s instanceof Bi&&s.disposeData()}),this.yAxes.each(function(s){s instanceof Bi&&s.disposeData()})},t.prototype.addData=function(e,i){this.scrollbarX instanceof tp&&this.addScrollbarData(this.scrollbarX,i),this.scrollbarY instanceof tp&&this.addScrollbarData(this.scrollbarY,i),n.prototype.addData.call(this,e,i)},t.prototype.addScrollbarData=function(e,i){var s=e.scrollbarChart;s._parseDataFrom=s.data.length,s.invalidateData()},t.prototype.removeScrollbarData=function(e,i){var s=e.scrollbarChart;if(M(i)){for(;i>0;){var l=this.dataItems.getIndex(0);l&&s.dataItems.remove(l),s.dataUsers.each(function(p){var h=p.dataItems.getIndex(0);h&&p.dataItems.remove(h)}),s._parseDataFrom--,i--}s.invalidateData()}},t.prototype.removeData=function(e){this.scrollbarX instanceof tp&&this.removeScrollbarData(this.scrollbarX,e),this.scrollbarY instanceof tp&&this.removeScrollbarData(this.scrollbarY,e),n.prototype.removeData.call(this,e)},t.prototype.setTapToActivate=function(e){n.prototype.setTapToActivate.call(this,e),this.cursor&&(this.cursor.interactions.isTouchProtected=e,this.plotContainer.interactions.isTouchProtected=e)},t.prototype.handleTapToActivate=function(){n.prototype.handleTapToActivate.call(this),this.cursor&&(this.cursor.interactions.isTouchProtected=!1,this.plotContainer.interactions.isTouchProtected=!1)},t.prototype.handleTapToActivateDeactivation=function(){n.prototype.handleTapToActivateDeactivation.call(this),this.cursor&&(this.cursor.interactions.isTouchProtected=!0,this.plotContainer.interactions.isTouchProtected=!0)},t}(QR);G.registeredClasses.XYChart=pc,Wn.push({relevant:mr.maybeXS,state:function(n,t){if(n instanceof pc&&n.scrollbarX){var e=n.states.create(t);return n.scrollbarX.states.create(t).properties.disabled=!0,e}return null}}),Wn.push({relevant:mr.maybeXS,state:function(n,t){if(n instanceof pc&&n.scrollbarY){var e=n.states.create(t);return n.scrollbarY.states.create(t).properties.disabled=!0,e}return null}});var nT=function(n){function t(){var e=n.call(this)||this;e.className="LineSeriesSegment",e.isMeasured=!1,e.interactionsEnabled=!1,e.layout="none";var i=e.createChild(Je);e.fillSprite=i,i.shouldClone=!1,i.setElement(e.paper.add("path")),i.isMeasured=!1,e._disposers.push(i);var s=e.createChild(Je);return e.strokeSprite=s,s.shouldClone=!1,s.fill=Le(),s.setElement(e.paper.add("path")),s.isMeasured=!1,e._disposers.push(s),e}return $(t,n),t.prototype.drawSegment=function(e,i,s,l){if(!this.disabled)if(e.length>0&&i.length>0&&M(e[0].x)&&M(e[0].y)){var p=Ce({x:e[0].x-.2,y:e[0].y-.2})+Ce(e[0]),h=this.series;"bezier"==h.smoothing?p+=new dc(s,l).smooth(e):"monotoneX"==h.smoothing?p+=new lV({closed:!1}).smooth(e):"monotoneY"==h.smoothing&&(p+=new uV({closed:!1}).smooth(e)),0==this.strokeOpacity||0==this.strokeSprite.strokeOpacity||(this.strokeSprite.path=p),(this.fillOpacity>0||this.fillSprite.fillOpacity>0)&&M(i[0].x)&&M(i[0].y)&&(p+=ne(i[0]),"bezier"==h.smoothing?p+=new dc(s,l).smooth(i):"monotoneX"==h.smoothing?p+=new lV({closed:!1}).smooth(i):"monotoneY"==h.smoothing&&(p+=new uV({closed:!1}).smooth(i)),p+=ne(e[0]),this.fillSprite.path=p+=" Z")}else this.fillSprite.path="",this.strokeSprite.path=""},t.prototype.copyFrom=function(e){n.prototype.copyFrom.call(this,e);var i=this.strokeSprite;Xi(e,i.properties,Ni),i.events.copyFrom(e.strokeSprite.events),i.fillOpacity=0;var s=this.fillSprite;Xi(e,s.properties,Ni),s.events.copyFrom(e.fillSprite.events),s.strokeOpacity=0},t}(Ve);G.registeredClasses.LineSeriesSegment=nT;var KY=function(n){function t(){var e=n.call(this)||this;return e.className="DurationAxisDataItem",e.applyTheme(),e}return $(t,n),t}(sD),rT=function(n){function t(){var e=n.call(this)||this;return e._baseUnit="second",e.className="DurationAxis",e.setPropertyValue("maxZoomFactor",1e6),e.applyTheme(),e}return $(t,n),t.prototype.formatLabel=function(e,i){return this.durationFormatter.format(e,i||this.axisDurationFormat)},t.prototype.adjustMinMax=function(e,i,s,l,p){var h,g,v,m=this.baseUnit;if(this.setPropertyValue("maxPrecision",0),"millisecond"==m||"second"==m||"minute"==m||"hour"==m){l<=1&&(l=1),l=Math.round(l);var _=e,b=i;0===s&&(s=Math.abs(i));var C,S=[60,30,20,15,10,2,1],E=1;"hour"==m&&(S=[24,12,6,4,2,1]);try{for(var x=Sf(S),R=x.next();!R.done;R=x.next()){var P=R.value;if(s/P>l){E=P;break}}}catch(X){h={error:X}}finally{try{R&&!R.done&&(g=x.return)&&g.call(x)}finally{if(h)throw h.error}}var k=Math.ceil((i-e)/E/l),U=Math.log(Math.abs(k))*Math.LOG10E,W=Math.pow(10,Math.floor(U))/10,K=function(n,t){return n.reduce(function(e,i){return Math.abs(i-t)<Math.abs(e-t)?i:e})}(S,k/W);this.durationFormatter.getValueUnit(C=E*(k=K*W),this.baseUnit),e=Math.floor(e/C)*C,i=Math.ceil(i/C)*C,p&&((e-=C)<0&&_>=0&&(e=0),(i+=C)>0&&b<=0&&(i=0)),v={min:e,max:i,step:C}}else v=n.prototype.adjustMinMax.call(this,e,i,s,l,p);return this.axisDurationFormat=this.durationFormatter.getFormat(v.step,v.max,this.baseUnit),v},Object.defineProperty(t.prototype,"tooltipDurationFormat",{get:function(){return this._tooltipDurationFormat},set:function(e){this._tooltipDurationFormat=e},enumerable:!0,configurable:!0}),t.prototype.getTooltipText=function(e){var i=ae(this.positionToValue(e),this._stepDecimalPlaces),s=this.formatLabel(i,this.tooltipDurationFormat);return this._adapterO?this._adapterO.apply("getTooltipText",s):s},Object.defineProperty(t.prototype,"baseUnit",{get:function(){return this._baseUnit},set:function(e){this._baseUnit!=e&&(this._baseUnit=e,this.durationFormatter.baseUnit=e,this.invalidate())},enumerable:!0,configurable:!0}),t.prototype.copyFrom=function(e){n.prototype.copyFrom.call(this,e),this.baseUnit=e.baseUnit},t}(rt);G.registeredClasses.DurationAxis=rT,G.registeredClasses.DurationAxisDataItem=KY;var lD=function(n){function t(){var e=n.call(this)||this;return e.className="LineSeriesDataItem",e}return $(t,n),t}(aD),oT=function(n){function t(){var e=n.call(this)||this;return e.minDistance=.5,e.segments=new Ii(e.createSegment()),e.segments.template.applyOnClones=!0,e._disposers.push(new Qt(e.segments)),e._disposers.push(e.segments.template),e._segmentsIterator=new oR(e.segments,function(){return e.segments.create()}),e._segmentsIterator.createNewItems=!0,e.className="LineSeries",e.strokeOpacity=1,e.fillOpacity=0,e.connect=!0,e.tensionX=1,e.tensionY=1,e.autoGapCount=1.1,e.smoothing="bezier",e.segmentsContainer=e.mainContainer.createChild(Ve),e.segmentsContainer.isMeasured=!1,e.bulletsContainer.toFront(),e.applyTheme(),e}return $(t,n),t.prototype.applyInternalDefaults=function(){n.prototype.applyInternalDefaults.call(this),L(this.readerTitle)||(this.readerTitle=this.language.translate("Line Series"))},t.prototype.createSegment=function(){return new nT},t.prototype.createDataItem=function(){return new lD},t.prototype.setInitialWorkingValues=function(e){var i=this._yAxis.get(),s=this._xAxis.get();if(this.appeared&&this.visible){var l=this.dataItems.getIndex(e.index-1);if(e.component=this,this.baseAxis==s&&i instanceof rt){var p=i.minZoomed;if(l&&(p=l.values.valueY.workingValue),e.setWorkingValue("valueY",p,0),e.setWorkingValue("valueY",e.values.valueY.value),s instanceof bi)e.setWorkingLocation("dateX",e.locations.dateX-1,0),e.setWorkingLocation("dateX",e.locations.dateX);else if(s instanceof rT&&l){var h=e.valueX;e.setWorkingValue("valueX",l.valueX,0),e.setWorkingValue("valueX",h)}}if(this.baseAxis==i&&s instanceof rt){var g=s.minZoomed;l&&(g=l.values.valueX.workingValue),e.setWorkingValue("valueX",g,0),e.setWorkingValue("valueX",e.values.valueX.value),i instanceof bi?(e.setWorkingLocation("dateY",e.locations.dateX-1,0),e.setWorkingLocation("dateY",e.locations.dateY)):i instanceof rT&&l&&(h=e.valueY,e.setWorkingValue("valueY",l.valueY,0),e.setWorkingValue("valueY",h))}}else this.baseAxis==s&&i instanceof rt&&(s instanceof bi&&e.setWorkingLocation("dateX",e.locations.dateX),s instanceof Bi&&e.setWorkingLocation("categoryX",e.locations.categoryX)),this.baseAxis==i&&s instanceof rt&&(i instanceof bi&&e.setWorkingLocation("dateY",e.locations.dateY),i instanceof Bi&&e.setWorkingLocation("categoryY",e.locations.categoryY))},t.prototype.updateLegendValue=function(e,i){n.prototype.updateLegendValue.call(this,e,i),e&&e.segment&&(this.tooltipColorSource=e.segment)},t.prototype.validate=function(){var e=this;n.prototype.validate.call(this),this.xAxis&&this.yAxis&&(this._segmentsIterator.reset(),this.openSegmentWrapper(this._adjustedStartIndex),oe(this.axisRanges.iterator(),function(i){e.openSegmentWrapper(e._adjustedStartIndex,i)}),oe(this._segmentsIterator.iterator(),function(i){i.__disabled=!0}))},t.prototype.sliceData=function(){for(var e=this.startIndex,i=this.endIndex,s=this.startIndex-1;s>=0;s--)if((l=this.dataItems.getIndex(s))&&l.hasValue(this._xValueFields)&&l.hasValue(this._yValueFields)){e=s;break}this._adjustedStartIndex=this.findAdjustedIndex(e,["stroke","strokeWidth","strokeDasharray","strokeOpacity","fill","fillOpacity","opacity"]),s=this.endIndex;for(var p=this.dataItems.length;s<p;s++){var l;if((l=this.dataItems.getIndex(s))&&l.hasValue(this._xValueFields)&&l.hasValue(this._yValueFields)){i=s+1;break}}this._workingStartIndex=e,this._workingEndIndex=i},t.prototype.findAdjustedIndex=function(e,i){var s=this,l=this.propertyFields,p=e;return be(i,function(h){if(L(l[h]))for(var g=p;g>=0;g--){var v=s.dataItems.getIndex(g);if(v&&L(v.properties[h])){e>g&&(e=g);break}}}),e},t.prototype.openSegmentWrapper=function(e,i){var s={index:e,axisRange:i};do{s=this.openSegment(s.index,s.axisRange)}while(s)},t.prototype.getSegment=function(){var e=this._segmentsIterator.getFirst();return e.series=this,e.isDisposed()?(this.segments.removeValue(e),this.getSegment()):e},t.prototype.openSegment=function(e,i){var s=!1,l=[];e=Math.min(e,this.dataItems.length);var p=Math.min(this._workingEndIndex,this.dataItems.length);this._workingEndIndex=Math.min(this._workingEndIndex,this.dataItems.length);var h,g=!1,v=this.getSegment();v.strokeDasharray=void 0,v.__disabled=!1,i?(v.parent=i.contents,Xi(i.contents,v,Ni)):(Xi(this,v,Ni),v.filters.clear(),v.parent=this.segmentsContainer),this.group.node.removeAttribute("fill");for(var m=this.connect,_=!1,b=e;b<p;b++){var C=this.dataItems.getIndex(b);if(C.segment=v,C.hasProperties&&(b==e?this.updateSegmentProperties(C.properties,v):g=this.updateSegmentProperties(C.properties,v,!0)),C.hasValue(this._xValueFields)&&C.hasValue(this._yValueFields))this.addPoints(l,C,this.xField,this.yField),_=!0;else{if(b==e)continue;if(!m&&_){h=b;break}}if(h=b,this.baseAxis instanceof bi){var S=this.dataItems.getIndex(b+1);if(S&&this.baseAxis.makeGap(S,C)){s=!0;break}}if(g)break}return this.closeSegment(v,l,e,h,i,s)},t.prototype.addPoints=function(e,i,s,l,p){var h=this.getPoint(i,s,l,i.workingLocations[s],i.workingLocations[l]);p||(i.point=h),e.push(h)},t.prototype.closeSegment=function(e,i,s,l,p,h){var g=[];if(this.dataFields[this._xOpenField]||this.dataFields[this._yOpenField]||this.stacked)for(var v=l;v>=s;v--){var m=this.dataItems.getIndex(v);m.hasValue(this._xValueFields)&&m.hasValue(this._yValueFields)&&this.addPoints(g,m,this.xOpenField,this.yOpenField,!0)}else{var b=i.length,C=this.xAxis,S=this.yAxis;b>0&&(this.baseAxis==C?(g.push({x:i[b-1].x,y:S.basePoint.y}),g.push({x:i[0].x,y:S.basePoint.y})):(g.push({x:C.basePoint.x,y:i[b-1].y}),g.push({x:C.basePoint.x,y:i[0].y})))}return this.drawSegment(e,i,g),h&&l++,l<this._workingEndIndex-1?{index:l,axisRange:p}:null},t.prototype.drawSegment=function(e,i,s){e.drawSegment(i,s,this.tensionX,this.tensionY)},t.prototype.updateSegmentProperties=function(e,i,s){var l=!1;return We(e,function(p,h){if(L(h)){var g=i[p],v=void 0;g&&(v=g.toString?g.toString():g);var m=void 0;h&&(m=h.toString?h.toString():h),g==h||null!=v&&null!=m&&v==m||(s||(i[p]=h),l=!0)}}),l},Object.defineProperty(t.prototype,"connect",{get:function(){return this.getPropertyValue("connect")},set:function(e){this.setPropertyValue("connect",e)&&this.invalidate()},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"tensionX",{get:function(){return this.getPropertyValue("tensionX")},set:function(e){this.setPropertyValue("tensionX",e,!0)},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"tensionY",{get:function(){return this.getPropertyValue("tensionY")},set:function(e){this.setPropertyValue("tensionY",e,!0)},enumerable:!0,configurable:!0}),t.prototype.createLegendMarker=function(e){var i=this,s=e.pixelWidth,l=e.pixelHeight;e.disposeChildren();var p=e.createChild(ca);if(p.shouldClone=!1,Xi(this,p,Ni),p.x2=s,p.y=l/2,p.y2=1e-5,p.visible=!0,this.fillOpacity>0){var h=e.createChild($0);Xi(this,h,Ni),h.width=s,h.height=l,h.y=0,h.strokeOpacity=0,h.visible=!0,p.y=0}var g=e.dataItem;g.color=this.stroke,g.colorOrig=this.fill,zo(this.bullets.iterator(),function(v){if(v instanceof ol&&!v.copyToLegendMarker)return!1;var m=!1;if(v instanceof Ve&&oe(v.children.iterator(),function(b){if(b instanceof Yr)return m=!0,!0}),!m){var _=v.clone();return _.parent=e,_.isMeasured=!0,_.tooltipText=void 0,_.x=s/2,_.y=i.fillOpacity>0?0:l/2,_.visible=!0,L(_.fill)||(_.fill=i.fill),L(_.stroke)||(_.stroke=i.stroke),!1}})},t.prototype.disposeData=function(){n.prototype.disposeData.call(this),this.segments.clear()},Object.defineProperty(t.prototype,"autoGapCount",{get:function(){return this.getPropertyValue("autoGapCount")},set:function(e){this.setPropertyValue("autoGapCount",e,!0)},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"smoothing",{get:function(){return this.getPropertyValue("smoothing")},set:function(e){this.setPropertyValue("smoothing",e,!0)},enumerable:!0,configurable:!0}),t}(ep);G.registeredClasses.LineSeries=oT,G.registeredClasses.LineSeriesDataItem=lD;var TV=function(n){function t(){var e=n.call(this)||this;return e.className="RadarSeriesDataItem",e.setLocation("dateX",0,0),e.setLocation("dateY",0,0),e.setLocation("categoryX",0,0),e.setLocation("categoryY",0,0),e.applyTheme(),e}return $(t,n),t}(lD),AV=function(n){function t(){var e=n.call(this)||this;return e.className="RadarSeries",e.connectEnds=!0,e.applyTheme(),e}return $(t,n),t.prototype.validate=function(){this.chart.invalid&&this.chart.validate(),n.prototype.validate.call(this)},t.prototype.createDataItem=function(){return new TV},t.prototype.getPoint=function(e,i,s,l,p,h,g){h||(h="valueX"),g||(g="valueY");var _=At({x:this.yAxis.getX(e,s,p,g),y:this.yAxis.getY(e,s,p,g)});0==_&&(_=1e-5);var b=this.xAxis.getAngle(e,i,l,h);if(!(b<this.chart.startAngle||b>this.chart.endAngle))return{x:_*ve(b),y:_*ge(b)}},t.prototype.addPoints=function(e,i,s,l,p){var h=this.getPoint(i,s,l,i.locations[s],i.locations[l]);h&&e.push(h)},t.prototype.getMaskPath=function(){var e=this.yAxis.renderer;return kf(e.startAngle,e.endAngle-e.startAngle,e.pixelRadius,e.pixelInnerRadius)},t.prototype.drawSegment=function(e,i,s){var p=this.yAxis.renderer;this.connectEnds&&360==Math.abs(p.endAngle-p.startAngle)&&(this.dataFields[this._xOpenField]||this.dataFields[this._yOpenField]||this.stacked)&&(i.push(i[0]),s.length>0&&s.unshift(s[s.length-1])),n.prototype.drawSegment.call(this,e,i,s)},Object.defineProperty(t.prototype,"connectEnds",{get:function(){return this.getPropertyValue("connectEnds")},set:function(e){this.setPropertyValue("connectEnds",e,!0)},enumerable:!0,configurable:!0}),t.prototype.positionBulletReal=function(e,i,s){var l=this.xAxis,p=this.yAxis;(i<l.start||i>l.end||s<p.start||s>p.end)&&(e.visible=!1),e.moveTo(this.xAxis.renderer.positionToPoint(i,s))},t.prototype.setXAxis=function(e){n.prototype.setXAxis.call(this,e),this.updateRendererRefs()},t.prototype.setYAxis=function(e){n.prototype.setYAxis.call(this,e),this.updateRendererRefs()},t.prototype.updateRendererRefs=function(){this.xAxis.renderer.axisRendererY=this.yAxis.renderer},t}(oT);G.registeredClasses.RadarSeries=AV,G.registeredClasses.RadarSeriesDataItem=TV;var IV=function(n){function t(e){var i=n.call(this,e)||this;return i.className="AxisFillCircular",i.element=i.paper.add("path"),i.radius=ue(100),i.applyTheme(),i}return $(t,n),t.prototype.draw=function(){if(n.prototype.draw.call(this),!this.__disabled&&!this.disabled&&this.axis){var e=this.axis.renderer;this.fillPath=e.getPositionRangePath(this.startPosition,this.endPosition,this.radius,L(this.innerRadius)?this.innerRadius:e.innerRadius,this.cornerRadius),this.path=this.fillPath}},Object.defineProperty(t.prototype,"innerRadius",{get:function(){return this.getPropertyValue("innerRadius")},set:function(e){this.setPercentProperty("innerRadius",e,!0,!1,10,!1)},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"radius",{get:function(){return this.getPropertyValue("radius")},set:function(e){this.setPercentProperty("radius",e,!0,!1,10,!1)},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"cornerRadius",{get:function(){return this.getPropertyValue("cornerRadius")},set:function(e){this.setPropertyValue("cornerRadius",e,!0)},enumerable:!0,configurable:!0}),t}(JR);G.registeredClasses.AxisFillCircular=IV;var MV=function(n){function t(){var e=n.call(this)||this;return e.className="GridCircular",e.pixelPerfect=!1,e.applyTheme(),e}return $(t,n),Object.defineProperty(t.prototype,"innerRadius",{get:function(){return this.getPropertyValue("innerRadius")},set:function(e){this.setPercentProperty("innerRadius",e,!0,!1,10,!1)},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"radius",{get:function(){return this.getPropertyValue("radius")},set:function(e){this.setPercentProperty("radius",e,!0,!1,10,!1)},enumerable:!0,configurable:!0}),t}(Lm);G.registeredClasses.GridCircular=MV;var uD=function(n){function t(){var e=n.call(this)||this;return e.fdx=0,e.fdy=0,e.className="AxisLabelCircular",e.padding(0,0,0,0),e.location=.5,e.locationOnPath=.5,e.radius=0,e.isMeasured=!1,e.applyTheme(),e}return $(t,n),Object.defineProperty(t.prototype,"relativeRotation",{get:function(){return this.getPropertyValue("relativeRotation")},set:function(e){if(this.setPropertyValue("relativeRotation",e,!0),!L(e)){this.rotation=void 0;var i=this.dataItem;i&&i.component&&i.component.invalidateDataItems()}},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"radius",{get:function(){return this.getPropertyValue("radius")},set:function(e){this.setPercentProperty("radius",e,!0,!1,10,!1)},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"bent",{get:function(){return this.getPropertyValue("bent")},set:function(e){this.setPropertyValue("bent",e,!0),this.setPropertyValue("wrap",!1),this.setPropertyValue("horizontalCenter","none"),this.setPropertyValue("verticalCenter","none"),e?(this.setPropertyValue("dx",0),this.setPropertyValue("dy",0),this.setPropertyValue("x",0),this.setPropertyValue("y",0),this.setPropertyValue("rotation",0),this.fdx=0,this.fdy=0,this.textAlign="middle"):this.textPathElement&&(this.textPathElement.dispose(),this.textPathElement=void 0)},enumerable:!0,configurable:!0}),t.prototype.pixelRadius=function(e){var i=1;return this.inside&&(i=-1),fi(this.radius,e)*i},t.prototype.pixelRadiusY=function(e,i){var s=1;this.inside&&(s=-1);var l=this.radius;return M(l)?fi(l*=i/e,e)*s:fi(l,i)*s},t.prototype.fixPosition=function(e,i,s,l,p){M(s)||(s=i),M(l)||(l=0),M(p)||(p=0);var h={x:i*ve(e),y:s*ge(e)};this.invalid&&this.validate();var g=!1,v=this.radius;(v instanceof ft&&v.value<0||v<0)&&(g=!0);var m=this.relativeRotation,_=this.pixelRadius(i);if(this.bent){var b={x:(i+_)*ve(e+180),y:(s+_*s/i)*ge(e+180)};return this.path=Ce(b)+Rn(e+180,360,i+_,s+_*s/i),void(this.textPathElement&&this.textPathElement.attr({startOffset:100*this.locationOnPath+"%"}))}if(M(m)){this.horizontalCenter="none",this.verticalCenter="none",e=Za(e,-180,180);var C=this.bbox.width,S=this.bbox.height,E=this.pixelPaddingBottom,x=this.pixelPaddingTop,R=this.pixelPaddingLeft,P=this.pixelPaddingRight;e>90||e<-90?-90==m&&(m=90,C=0):(-90==m&&(S=-S),90==m&&(m=-90,C=-R-P,S=-S-x-E)),this.rotation=m+e+90;var k=ge(m)/2,U=ve(m)/2,W=this.rotation;this.dx=S*k*ge(W)-C*U*ve(W),this.dy=-S*k*ve(W)-C*U*ge(W),this.inside?e>90||e<-90?_-=(E+x)*ve(m)+(R+P)*ge(m):_+=(E+this.bbox.height+x)*ve(m)+(R+P+this.bbox.width)*ge(m):_+=(S+E+x)*ve(m)+(C+R+P)*ge(m),h.x+=ve(e)*_,h.y+=ge(e)*_*s/i}else this.horizontalCenter="middle",this.verticalCenter="middle",g?(this.dx=0,this.dy=0,h.x=(i+_)*ve(e),h.y=(s+_*s/i)*ge(e)):(this.dy=this._measuredHeight/2*ge(e),this.dx=this._measuredWidth/2*ve(e),h.x+=ve(e)*_,h.y+=ge(e)*_*s/i);h.x+=l,h.y+=p,this.fdx=this.dx,this.fdy=this.dy,this.moveTo(h)},t}(eT);G.registeredClasses.AxisLabelCircular=uD;var FV=function(n){function t(){var e=n.call(this)||this;return e.pixelRadiusReal=0,e.layout="none",e.className="AxisRendererCircular",e.isMeasured=!1,e.startAngle=-90,e.endAngle=270,e.useChartAngles=!0,e.radius=ue(100),e.isMeasured=!1,e.grid.template.location=0,e.labels.template.location=0,e.labels.template.radius=15,e.ticks.template.location=0,e.ticks.template.pixelPerfect=!1,e.tooltipLocation=0,e.line.strokeOpacity=0,e.applyTheme(),e}return $(t,n),t.prototype.setAxis=function(e){var i=this;n.prototype.setAxis.call(this,e),e.isMeasured=!1;var s=e.tooltip;s.adapter.add("dx",function(l,p){var h=Yo({x:p.pixelX,y:p.pixelY},i);return i.pixelRadius*Math.cos(Math.atan2(h.y,h.x))-h.x}),s.adapter.add("dy",function(l,p){var h=Yo({x:p.pixelX,y:p.pixelY},i);return i.pixelRadius*Math.sin(Math.atan2(h.y,h.x))-h.y})},t.prototype.validate=function(){this.chart&&this.chart.invalid&&this.chart.validate(),n.prototype.validate.call(this)},Object.defineProperty(t.prototype,"axisLength",{get:function(){return 2*Math.PI*this.pixelRadius},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"radius",{get:function(){return this.getPropertyValue("radius")},set:function(e){this.setPercentProperty("radius",e,!1,!1,10,!1)&&this.axis&&this.axis.invalidate()},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"pixelRadius",{get:function(){return Nn(this.radius,this.pixelRadiusReal)||0},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"innerRadius",{get:function(){var e=this.chart,i=this.getPropertyValue("innerRadius");if(e){if(L(i)){if(i instanceof ft&&e){var s=e.mr,l=i.value;i=ue(100*(l=Math.max(s*l,s-Math.min(e.plotContainer.innerHeight,e.plotContainer.innerWidth))/s))}}else(i=e.innerRadius)instanceof ft&&e&&(i=ue(i.value*e.innerRadiusModifyer*100));return i}},set:function(e){this.setPercentProperty("innerRadius",e,!1,!1,10,!1)&&this.axis&&this.axis.invalidate()},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"useChartAngles",{get:function(){return this.getPropertyValue("useChartAngles")},set:function(e){this.setPropertyValue("useChartAngles",e)},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"pixelInnerRadius",{get:function(){return Nn(this.innerRadius,this.pixelRadiusReal)||0},enumerable:!0,configurable:!0}),t.prototype.positionToPoint=function(e,i){M(i)||(i=1);var s=this.positionToCoordinate(e),l=this.startAngle+(this.endAngle-this.startAngle)*s/this.axisLength,p=this.pixelRadius,h=this.pixelInnerRadius;if(this.axisRendererY){var g=xe(this.axisRendererY.positionToCoordinate(i),0,1/0);return 0==g&&(g=1e-6),{x:g*ve(l),y:g*ge(l)}}return{x:ve(l)*h+(p-h)*ve(l)*i,y:ge(l)*h+(p-h)*ge(l)*i}},t.prototype.positionToAngle=function(e){var i=this.axis,s=(this.endAngle-this.startAngle)/(i.end-i.start);return ae(i.renderer.inversed?this.startAngle+(i.end-e)*s:this.startAngle+(e-i.start)*s,3)},t.prototype.angleToPosition=function(e){var i=this.axis,s=(this.endAngle-this.startAngle)/(i.end-i.start);return ae(i.renderer.inversed?i.end-(e-this.startAngle)/s:(e-this.startAngle)/s+i.start,5)},t.prototype.updateAxisLine=function(){var e=this.pixelRadius,i=this.startAngle,l=vt(360,this.endAngle-i);this.line.path=Ce({x:e*ve(i),y:e*ge(i)})+Rn(i,l,e,e)},t.prototype.updateGridElement=function(e,i,s){var l=this.positionToPoint(i+=(s-i)*e.location);if(M(l.x)&&M(l.y)&&e.element){var p=rc*Math.atan2(l.y,l.x),h=Nn(L(e.radius)?e.radius:ue(100),this.pixelRadius),g=Nn(e.innerRadius,this.pixelRadius);e.zIndex=0;var v=Nn(M(g)?g:this.innerRadius,this.pixelRadiusReal,!0);M(v)||(v=0),e.path=Ce({x:v*ve(p),y:v*ge(p)})+ne({x:h*ve(p),y:h*ge(p)})}this.toggleVisibility(e,i,0,1)},t.prototype.updateTickElement=function(e,i,s){var l=this.positionToPoint(i+=(s-i)*e.location);if(e.element){var p=this.pixelRadius,h=rc*Math.atan2(l.y,l.x),g=e.length;e.inside&&(g=-g),e.zIndex=1,e.path=Ce({x:p*ve(h),y:p*ge(h)})+ne({x:(p+g)*ve(h),y:(p+g)*ge(h)})}this.toggleVisibility(e,i,0,1)},t.prototype.updateBullet=function(e,i,s){var l=.5;e instanceof km&&(l=e.location);var p=this.positionToPoint(i+=(s-i)*l),h=this.pixelRadius,g=rc*Math.atan2(p.y,p.x);p={x:h*ve(g),y:h*ge(g)},this.positionItem(e,p),this.toggleVisibility(e,i,0,1)},t.prototype.updateLabelElement=function(e,i,s,l){L(l)||(l=e.location),e.fixPosition(this.positionToAngle(i+=(s-i)*l),this.pixelRadius),e.zIndex=2,this.toggleVisibility(e,i,this.minLabelPosition,this.maxLabelPosition)},t.prototype.fitsToBounds=function(e){return!0},Object.defineProperty(t.prototype,"startAngle",{get:function(){return this.getPropertyValue("startAngle")},set:function(e){this.setPropertyValue("startAngle",e)&&(this.invalidateAxisItems(),this.axis&&this.axis.invalidateSeries())},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"endAngle",{get:function(){return this.getPropertyValue("endAngle")},set:function(e){this.setPropertyValue("endAngle",e)&&(this.invalidateAxisItems(),this.axis&&this.axis.invalidateSeries())},enumerable:!0,configurable:!0}),t.prototype.getPositionRangePath=function(e,i,s,l,p){var h="";if(M(e)&&M(i)){L(s)||(s=this.radius),e=Qe(e,this.axis.start),(i=vt(i,this.axis.end))<e&&(i=e);var g=Nn(s,this.pixelRadius),v=Nn(l,this.pixelRadius,!0),m=this.positionToAngle(e);h=kf(m,this.positionToAngle(i)-m,g,v,g,p)}return h},t.prototype.createGrid=function(){return new MV},t.prototype.createFill=function(e){return new IV(e)},t.prototype.createLabel=function(){return new uD},t.prototype.pointToPosition=function(e){var i=Za(Fn(e),this.startAngle,this.endAngle);return this.coordinateToPosition((i-this.startAngle)/360*this.axisLength)},t}(oD);G.registeredClasses.AxisRendererCircular=FV;var NV=function(n){function t(){var e=n.call(this)||this;return e._chart=new Pn,e.pixelRadiusReal=0,e.className="AxisRendererRadial",e.isMeasured=!1,e.startAngle=-90,e.endAngle=270,e.minGridDistance=30,e.gridType="circles",e.axisAngle=-90,e.isMeasured=!1,e.layout="none",e.radius=ue(100),e.line.strokeOpacity=0,e.labels.template.horizontalCenter="middle",e._disposers.push(e._chart),e.applyTheme(),e}return $(t,n),t.prototype.validate=function(){this.chart&&this.chart.invalid&&this.chart.validate(),n.prototype.validate.call(this)},Object.defineProperty(t.prototype,"axisLength",{get:function(){return this.pixelRadius-this.pixelInnerRadius},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"radius",{get:function(){return this.getPropertyValue("radius")},set:function(e){this.setPercentProperty("radius",e,!1,!1,10,!1)},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"pixelRadius",{get:function(){return Nn(this.radius,this.pixelRadiusReal)||0},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"innerRadius",{get:function(){var e=this.chart,i=this.getPropertyValue("innerRadius");if(e)if(L(i)){if(i instanceof ft&&e){var s=e.mr,l=i.value;i=ue(100*(l=Math.max(s*l,s-Math.min(e.plotContainer.innerHeight,e.plotContainer.innerWidth))/s))}}else(i=e.innerRadius)instanceof ft&&e&&(i=ue(i.value*e.innerRadiusModifyer*100));return i},set:function(e){this.setPercentProperty("innerRadius",e,!1,!1,10,!1)},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"pixelInnerRadius",{get:function(){return Nn(this.innerRadius,this.pixelRadiusReal)||0},enumerable:!0,configurable:!0}),t.prototype.positionToPoint=function(e,i){var s=xe(this.positionToCoordinate(e),0,1/0);return{x:s*ve(this.axisAngle),y:s*ge(this.axisAngle)}},t.prototype.updateAxisLine=function(){this.line.path=Ce({x:this.pixelInnerRadius*ve(this.axisAngle),y:this.pixelInnerRadius*ge(this.axisAngle)})+ne({x:this.pixelRadius*ve(this.axisAngle),y:this.pixelRadius*ge(this.axisAngle)});var e=this.axis.title;e.valign="none",e.horizontalCenter="middle",e.verticalCenter="bottom",e.y=-this.axisLength/2;var i=90;this.opposite?this.inside||(i=-90):this.inside&&(i=-90),e.rotation=i},t.prototype.updateGridElement=function(e,i,s){var p,h=At(this.positionToPoint(i+=(s-i)*e.location)),g=this.startAngle,v=this.endAngle,m=this.chart;if(M(h)&&e.element&&m){var _=m.xAxes.getIndex(0),b=0,C=m.series.getIndex(0);if(C&&(b=C.dataItems.length),"polygons"==this.gridType&&b>0&&C&&_&&_ instanceof Bi){var S=_.renderer.grid.template.location,E=_.getAngle(C.dataItems.getIndex(0),"categoryX",S);p=Ce({x:h*ve(E),y:h*ge(E)});for(var x=1;x<b;x++)p+=ne({x:h*ve(E=_.getAngle(C.dataItems.getIndex(x),"categoryX",S)),y:h*ge(E)});p+=ne({x:h*ve(E=_.getAngle(C.dataItems.getIndex(b-1),"categoryX",_.renderer.cellEndLocation)),y:h*ge(E)})}else p=Ce({x:h*ve(g),y:h*ge(g)})+Rn(g,v-g,h,h);e.path=p}this.toggleVisibility(e,i,0,1)},t.prototype.updateLabelElement=function(e,i,s,l){L(l)||(l=e.location);var p=this.positionToPoint(i+=(s-i)*l);this.positionItem(e,p),this.toggleVisibility(e,i,this.minLabelPosition,this.maxLabelPosition)},t.prototype.updateBaseGridElement=function(){},t.prototype.fitsToBounds=function(e){return!0},Object.defineProperty(t.prototype,"startAngle",{get:function(){return this.getPropertyValue("startAngle")},set:function(e){this.setPropertyValue("startAngle",e)&&this.invalidateAxisItems()},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"endAngle",{get:function(){return this.getPropertyValue("endAngle")},set:function(e){this.setPropertyValue("endAngle",e)&&this.invalidateAxisItems()},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"axisAngle",{get:function(){return this.getPropertyValue("axisAngle")},set:function(e){this.setPropertyValue("axisAngle",jd(e)),this.invalidateAxisItems()},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"gridType",{get:function(){return this.chart.xAxes.getIndex(0)instanceof Bi?this.getPropertyValue("gridType"):"circles"},set:function(e){this.setPropertyValue("gridType",e,!0)},enumerable:!0,configurable:!0}),t.prototype.getPositionRangePath=function(e,i){var _,s=this.pixelInnerRadius,l=this.axisLength+s,p=xe(this.positionToCoordinate(e),s,l),h=xe(this.positionToCoordinate(i),s,l),g=this.startAngle,m=this.endAngle-g,b=this.chart,C=b.xAxes.getIndex(0),S=b.series.getIndex(0),E=0;if(S&&(E=S.dataItems.length),"polygons"==this.gridType&&E>0&&S&&C&&C instanceof Bi){var x=C.renderer.grid.template.location,R=C.getAngle(S.dataItems.getIndex(0),"categoryX",x);_=Ce({x:h*ve(R),y:h*ge(R)});for(var P=1;P<E;P++)_+=ne({x:h*ve(R=C.getAngle(S.dataItems.getIndex(P),"categoryX",x)),y:h*ge(R)});for(_+=ne({x:h*ve(R=C.getAngle(S.dataItems.getIndex(E-1),"categoryX",C.renderer.cellEndLocation)),y:h*ge(R)}),_+=Ce({x:p*ve(R),y:p*ge(R)}),P=E-1;P>=0;P--)_+=ne({x:p*ve(R=C.getAngle(S.dataItems.getIndex(P),"categoryX",x)),y:p*ge(R)})}else _=kf(g,m,h,p);return _},t.prototype.updateBreakElement=function(e){var s=e.endLine,l=e.fillShape,p=e.startPoint,h=e.endPoint;e.startLine.radius=Math.abs(p.y),s.radius=Math.abs(h.y),l.radius=Math.abs(h.y),l.innerRadius=Math.abs(p.y)},t.prototype.createBreakSprites=function(e){e.startLine=new q0,e.endLine=new q0,e.fillShape=new q0},t.prototype.updateTooltip=function(){if(this.axis){var g=this.axisAngle;g<0&&(g+=360);var v="vertical";(g>45&&g<135||g>225&&g<315)&&(v="horizontal"),this.axis.updateTooltip(v,{x:-4e3,y:-4e3,width:8e3,height:8e3})}},t.prototype.updateTickElement=function(e,i,s){var l=this.positionToPoint(i+=(s-i)*e.location);if(e.element){var p=jd(this.axisAngle+90);e.pixelPerfect=p/90==Math.round(p/90);var h=-e.length;e.inside&&(h*=-1),e.path=Ce({x:0,y:0})+ne({x:h*ve(p),y:h*ge(p)})}this.positionItem(e,l),this.toggleVisibility(e,i,0,1)},t.prototype.updateBullet=function(e,i,s){var l=.5;e instanceof km&&(l=e.location);var p=this.positionToPoint(i+=(s-i)*l);this.positionItem(e,p),this.toggleVisibility(e,i,0,1)},t.prototype.positionToCoordinate=function(e){var s=this.axis,l=s.axisFullLength,p=this.pixelInnerRadius;return ae(s.renderer.inversed?(s.end-e)*l+p:(e-s.start)*l+p,1)},t.prototype.pointToPosition=function(e){var i=At(e)-this.pixelInnerRadius;return this.coordinateToPosition(i)},Object.defineProperty(t.prototype,"chart",{get:function(){return this._chart.get()},set:function(e){this._chart.set(e,null)},enumerable:!0,configurable:!0}),t}(da);G.registeredClasses.AxisRendererRadial=NV;var XY=function(n){function t(){var e=n.call(this)||this;return e.className="RadarChartDataItem",e.applyTheme(),e}return $(t,n),t}(iT),cD=function(n){function t(){var e=n.call(this)||this;e._axisRendererX=FV,e._axisRendererY=NV,e.innerRadiusModifyer=1,e.mr=1,e.className="RadarChart",e.startAngle=-90,e.endAngle=270,e.radius=ue(80),e.innerRadius=0;var i=e.plotContainer.createChild(Ve);return i.shouldClone=!1,i.layout="absolute",i.align="center",i.valign="middle",e.seriesContainer.parent=i,e.radarContainer=i,e.bulletsContainer.parent=i,e.axisBulletsContainer=i,e._cursorContainer=i,e.chartContainer.events.on("maxsizechanged",e.invalidate,e,!1),e._bulletMask=i.createChild(Xd),e._bulletMask.shouldClone=!1,e._bulletMask.element=e.paper.add("path"),e._bulletMask.opacity=0,e.applyTheme(),e}return $(t,n),t.prototype.applyInternalDefaults=function(){n.prototype.applyInternalDefaults.call(this),L(this.readerTitle)||(this.readerTitle=this.language.translate("Radar chart"))},t.prototype.processAxis=function(e){n.prototype.processAxis.call(this,e);var i=e.renderer;i.gridContainer.parent=i,i.breakContainer.parent=i,e.parent=this.radarContainer,i.toBack()},t.prototype.handleXAxisRangeChange=function(){n.prototype.handleXAxisRangeChange.call(this),oe(this.yAxes.iterator(),function(e){e.invalidate()})},t.prototype.handleYAxisRangeChange=function(){n.prototype.handleYAxisRangeChange.call(this),oe(this.xAxes.iterator(),function(e){e.invalidate()})},t.prototype.processConfig=function(e){if(e&&(L(e.cursor)&&!L(e.cursor.type)&&(e.cursor.type="RadarCursor"),L(e.series)&&hn(e.series)))for(var i=0,s=e.series.length;i<s;i++)e.series[i].type=e.series[i].type||"RadarSeries";n.prototype.processConfig.call(this,e)},t.prototype.beforeDraw=function(){n.prototype.beforeDraw.call(this);var e=this.plotContainer,i=Qa(this.startAngle,this.endAngle,1),s={x:0,y:0,width:0,height:0},h=this.innerRadius;if(h instanceof ft){var g=h.value,v=Math.min(e.innerWidth/i.width,e.innerHeight/i.height);this.mr=v,g=Math.max(v*g,v-Math.min(e.innerHeight,e.innerWidth))/v,s=Qa(this.startAngle,this.endAngle,g),this.innerRadiusModifyer=g/h.value,h=ue(100*g)}i=hm([i,s]);var m=Math.min(e.innerWidth/i.width,e.innerHeight/i.height),_=2*Nn(this.radius,m)||0,b=_/2,C=this.startAngle,S=this.endAngle;this._pixelInnerRadius=Nn(h,b),this._bulletMask.path=kf(C,S-C,b,this._pixelInnerRadius),oe(this.xAxes.iterator(),function(x){x.renderer.useChartAngles&&(x.renderer.startAngle=C,x.renderer.endAngle=S),x.width=_,x.height=_,x.renderer.pixelRadiusReal=b}),oe(this.yAxes.iterator(),function(x){x.renderer.startAngle=C,x.renderer.endAngle=S,x.width=_,x.height=_,x.renderer.pixelRadiusReal=b});var E=this.cursor;E&&(E.width=_,E.height=_,E.startAngle=C,E.endAngle=S),this.radarContainer.definedBBox={x:b*i.x,y:b*i.y,width:b*i.width,height:b*i.height},this.radarContainer.validatePosition()},t.prototype.createSeries=function(){return new AV},Object.defineProperty(t.prototype,"startAngle",{get:function(){return this.getPropertyValue("startAngle")},set:function(e){this.setPropertyValue("startAngle",e,!0)},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"endAngle",{get:function(){return this.getPropertyValue("endAngle")},set:function(e){this.setPropertyValue("endAngle",e,!0)},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"radius",{get:function(){return this.getPropertyValue("radius")},set:function(e){this.setPercentProperty("radius",e,!0,!1,10,!1)},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"pixelInnerRadius",{get:function(){return this._pixelInnerRadius},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"innerRadius",{get:function(){return this.getPropertyValue("innerRadius")},set:function(e){this.setPercentProperty("innerRadius",e,!0,!1,10,!1)},enumerable:!0,configurable:!0}),t.prototype.updateXAxis=function(e){e&&e.processRenderer()},t.prototype.updateYAxis=function(e){e&&e.processRenderer()},t}(pc);G.registeredClasses.RadarChart=cD;var LV=function(n){function t(){var e=n.call(this)||this;e._axis=new Pn,e.className="ClockHand";var i=new Rt;e.fill=i.getFor("alternativeBackground"),e.stroke=e.fill;var s=new Xd;s.radius=5,e.pin=s,e.isMeasured=!1,e.startWidth=5,e.endWidth=1,e.width=ue(100),e.height=ue(100),e.radius=ue(100),e.innerRadius=ue(0);var l=new nV;return e.hand=l,e._disposers.push(e._axis),e.applyTheme(),e}return $(t,n),t.prototype.validate=function(){n.prototype.validate.call(this);var e=this.hand;e.width=this.pixelWidth;var i=Math.max(this.startWidth,this.endWidth);if(e.height=i,e.leftSide=ue(this.startWidth/i*100),e.rightSide=ue(this.endWidth/i*100),this.axis){var s=this.axis.renderer,l=Nn(this.innerRadius,s.pixelRadius),p=Nn(this.radius,s.pixelRadius);e.x=l,e.y=-i/2,e.width=p-l}},Object.defineProperty(t.prototype,"pin",{get:function(){return this._pin},set:function(e){this._pin&&this.removeDispose(this._pin),e&&(this._pin=e,e.parent=this,this._disposers.push(e))},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"hand",{get:function(){return this._hand},set:function(e){this._hand&&this.removeDispose(this._hand),e&&(this._hand=e,e.parent=this,this._disposers.push(e))},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"radius",{get:function(){return this.getPropertyValue("radius")},set:function(e){this.setPercentProperty("radius",e,!0,!1,10,!1)},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"innerRadius",{get:function(){return this.getPropertyValue("innerRadius")},set:function(e){this.setPercentProperty("innerRadius",e,!0,!1,10,!1)},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"startWidth",{get:function(){return this.getPropertyValue("startWidth")},set:function(e){this.setPropertyValue("startWidth",e,!0)},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"endWidth",{get:function(){return this.getPropertyValue("endWidth")},set:function(e){this.setPropertyValue("endWidth",e,!0)},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"rotationDirection",{get:function(){return this.getPropertyValue("rotationDirection")},set:function(e){this.setPropertyValue("rotationDirection",e)},enumerable:!0,configurable:!0}),t.prototype.showValue=function(e,i,s){if(this._value=e,null!=e&&(M(i)||(i=0),this.axis)){var p=this.axis.renderer.positionToAngle(this.axis.anyToPosition(e)),h=this.rotation;"clockWise"==this.rotationDirection&&p<h&&(this.rotation=h-360),"counterClockWise"==this.rotationDirection&&p>h&&(this.rotation=h+360),this.animate({property:"rotation",to:p},i,s)}},Object.defineProperty(t.prototype,"currentPosition",{get:function(){if(this.axis)return this.axis.renderer.angleToPosition(this.rotation)},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"value",{get:function(){return this._value},set:function(e){this.showValue(e)},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"axis",{get:function(){return this._axis.get()},set:function(e){if(this.axis!=e&&this._axis.set(e,new mi([e.events.on("datavalidated",this.updateValue,this,!1),e.events.on("datarangechanged",this.updateValue,this,!1),e.events.on("dataitemsvalidated",this.updateValue,this,!1),e.events.on("propertychanged",this.invalidate,this,!1)])),e){var i=e.chart;i&&(this.rotation=i.startAngle)}this.parent=e.renderer,this.zIndex=5},enumerable:!0,configurable:!0}),t.prototype.updateValue=function(){this.value=this.value},t.prototype.processConfig=function(e){e&&L(e.axis)&&gt(e.axis)&&this.map.hasKey(e.axis)&&(e.axis=this.map.getKey(e.axis)),n.prototype.processConfig.call(this,e)},t}(Ve);G.registeredClasses.ClockHand=LV,function(n){$(function(){var e=n.call(this)||this;return e.className="GaugeChartDataItem",e.applyTheme(),e},n)}(XY);var qY=function(n){function t(){var e=n.call(this)||this;return e.className="GaugeChart",e.startAngle=180,e.endAngle=360,e.hands=new Ii(new LV),e.hands.events.on("inserted",e.processHand,e,!1),e._disposers.push(new Qt(e.hands)),e._disposers.push(e.hands.template),e.applyTheme(),e}return $(t,n),t.prototype.applyInternalDefaults=function(){n.prototype.applyInternalDefaults.call(this),L(this.readerTitle)||(this.readerTitle=this.language.translate("Gauge chart"))},t.prototype.processHand=function(e){var i=e.newValue;i.axis||(i.axis=this.xAxes.getIndex(0))},t.prototype.configOrder=function(e,i){return e==i?0:"hands"==e?1:"hands"==i?-1:n.prototype.configOrder.call(this,e,i)},t}(cD);G.registeredClasses.GaugeChart=qY;var dD=function(n){function t(){var e=n.call(this)||this;return e.className="PercentSeriesDataItem",e.applyTheme(),e}return $(t,n),t.prototype.uidAttr=function(){return this.slice.uidAttr()},t.prototype.hide=function(e,i,s,l){return l||(l=["value"]),n.prototype.hide.call(this,e,i,0,l)},t.prototype.setVisibility=function(e,i){i||this.setWorkingValue("value",e?this.values.value.value:0,0,0),n.prototype.setVisibility.call(this,e,i)},t.prototype.show=function(e,i,s){return s||(s=["value"]),n.prototype.show.call(this,e,i,s)},Object.defineProperty(t.prototype,"category",{get:function(){return this.properties.category},set:function(e){this.setProperty("category",e)},enumerable:!0,configurable:!0}),t.prototype.createLegendMarker=function(e){this.component.createLegendMarker(e,this)},Object.defineProperty(t.prototype,"legendDataItem",{get:function(){return this._legendDataItem},set:function(e){this._legendDataItem=e,e.label&&(e.label.dataItem=this),e.valueLabel&&(e.valueLabel.dataItem=this)},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"tick",{get:function(){var e=this;if(!this._tick){var i=this.component.ticks.create();this._tick=i,this.addSprite(i),this._disposers.push(i),i.parent=this.component.ticksContainer,this._disposers.push(new Bt(function(){e.component&&e.component.ticks.removeValue(i)})),i.visible=this.visible}return this._tick},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"label",{get:function(){var e=this;if(!this._label){var i=this.component.labels.create();this.addSprite(i),this._label=i,this._disposers.push(i),i.parent=this.component.labelsContainer,this._disposers.push(new Bt(function(){e.component&&e.component.labels.removeValue(i)})),i.visible=this.visible}return this._label},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"slice",{get:function(){var e=this;if(!this._slice){var i=this.component,s=i.slices.create();this.addSprite(s),this._slice=s,this._disposers.push(s),s.parent=i.slicesContainer,this._disposers.push(new Bt(function(){i.slices.removeValue(s)})),s.visible=this.visible,i.itemsFocusable()?(L(this.component.role)||(this.component.role="menu"),L(s.role)||(s.role="menuitem"),s.focusable=!0):(L(this.component.role)||(this.component.role="list"),L(s.role)||(s.role="listitem"),s.focusable=!1),s.focusable&&(s.events.on("focus",function(l){s.readerTitle=i.populateString(i.itemReaderText,e)},void 0,!1),s.events.on("blur",function(l){s.readerTitle=""},void 0,!1)),s.hoverable&&(s.events.on("over",function(l){s.readerTitle=i.populateString(i.itemReaderText,e)},void 0,!1),s.events.on("out",function(l){s.readerTitle=""},void 0,!1))}return this._slice},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"hiddenInLegend",{get:function(){return this.properties.hiddenInLegend},set:function(e){this.setProperty("hiddenInLegend",e)},enumerable:!0,configurable:!0}),t}(tD),Gm=function(n){function t(){var e=n.call(this)||this;e.className="PercentSeries",e._addAllDataItems=!1,e.colors=new Fm,e.colors.step=1,e.isMeasured=!0,e.calculatePercent=!0;var i=e.createChild(Ve);i.shouldClone=!1,i.isMeasured=!1,e.slicesContainer=i;var s=e.createChild(Ve);s.shouldClone=!1,s.isMeasured=!1,s.layout="none",e.ticksContainer=s;var l=e.createChild(Ve);return l.shouldClone=!1,l.isMeasured=!1,l.layout="none",e.labelsContainer=l,e.alignLabels=!1,e.bulletsContainer.toFront(),e.skipFocusThreshold=50,e.defaultState.transitionEasing=IL,e.itemReaderText="{category}: {value.percent.formatNumber('#.#')}%",e.applyTheme(),e}return $(t,n),t.prototype.createSlice=function(){return new Je},t.prototype.createTick=function(){return new Vm},t.prototype.createLabel=function(){return new Yr},Object.defineProperty(t.prototype,"slices",{get:function(){if(!this._slices){var e=this.createSlice();e.applyOnClones=!0,this._disposers.push(e),this.initSlice(e),this._slices=new Ii(e),this._disposers.push(new Qt(this._slices))}return this._slices},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"ticks",{get:function(){if(!this._ticks){var e=this.createTick();e.applyOnClones=!0,this._disposers.push(e),this.initTick(e),this._ticks=new Ii(e),this._disposers.push(new Qt(this._ticks))}return this._ticks},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"labels",{get:function(){if(!this._labels){var e=this.createLabel();e.applyOnClones=!0,this._disposers.push(e),this.initLabel(e),this._labels=new Ii(e),this._disposers.push(new Qt(this._labels))}return this._labels},enumerable:!0,configurable:!0}),t.prototype.createDataItem=function(){return new dD},t.prototype.initSlice=function(e){},t.prototype.initLabel=function(e){e.text="{category}: {value.percent.formatNumber('#.0')}%",e.isMeasured=!1,e.padding(5,5,5,5)},t.prototype.initTick=function(e){},t.prototype.validateDataItems=function(){this.colors.reset(),this.patterns&&this.patterns.reset(),n.prototype.validateDataItems.call(this)},t.prototype.validateDataElement=function(e){var i=e.slice;i&&(null==i.fill?this.patterns?(L(i.stroke)||(i.stroke=this.colors.next()),i.fill=this.patterns.next(),L(i.fillOpacity)&&(i.fill.backgroundOpacity=i.fillOpacity),i.stroke instanceof St&&(i.fill.stroke=i.stroke,i.fill.fill=i.stroke)):i.fill=this.colors.next():this.colors.currentStep+=this.colors.step,null==i.stroke&&(i.stroke=i.fill)),n.prototype.validateDataElement.call(this,e),i&&e.bullets.each(function(s,l){null==l.fill&&(l.fill=i.fill),null==l.stroke&&(l.stroke=i.stroke)}),this.updateLegendValue(e)},t.prototype.validateData=function(){n.prototype.validateData.call(this),this.chart&&this.chart.feedLegend()},t.prototype.arrangeLabels=function(e){for(var i=0,s=e.length;i<s;i++){var p=e[i].label;if(p){p.invalid&&p.validate();var h=p.measuredHeight;p.visible||(h=0),p.pixelY-h/2<-this.maxHeight/2&&(p.y=-this.maxHeight/2+h/2);var g=this.getNextLabel(i+1,e),v=p.pixelY+h;g&&g.y<v&&(g.y=v)}}},t.prototype.arrangeLabels2=function(e){for(var i=this.maxHeight/2,s=e.length-1;s>=0;s--){var p=e[s].label;if(p){p.invalid&&p.validate();var h=p.measuredHeight;p.visible||(h=0),s==e.length-1&&(i+=h/2),p.pixelY+h>i&&(p.y=i-h,i=p.y)}}},t.prototype.getNextLabel=function(e,i){if(i.length>=e){var s=i[e];if(s)return s.label&&s.visible?s.label:this.getNextLabel(e+1,i)}},Object.defineProperty(t.prototype,"colors",{get:function(){return this.getPropertyValue("colors")},set:function(e){this.setPropertyValue("colors",e,!0)},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"patterns",{get:function(){return this.getPropertyValue("patterns")},set:function(e){this.setPropertyValue("patterns",e,!0)},enumerable:!0,configurable:!0}),t.prototype.createLegendMarker=function(e,i){oe(e.children.iterator(),function(s){var l=i.slice;s.defaultState.properties.fill=l.fill,s.defaultState.properties.stroke=l.stroke,s.defaultState.properties.fillOpacity=l.fillOpacity,s.defaultState.properties.strokeOpacity=l.strokeOpacity,s.fill=l.fill,s.stroke=l.stroke,s.fillOpacity=l.fillOpacity,s.strokeOpacity=l.strokeOpacity,null==s.fill&&(s.__disabled=!0);var p=e.dataItem;p.color=l.fill,p.colorOrig=l.fill,s.addDisposer(l.events.on("propertychanged",function(h){"fill"==h.property&&(s.__disabled=!1,s.isActive||(s.fill=l.fill),s.defaultState.properties.fill=l.fill,p.color=l.fill,p.colorOrig=l.fill),"stroke"==h.property&&(s.isActive||(s.stroke=l.stroke),s.defaultState.properties.stroke=l.stroke)},void 0,!1))})},t.prototype.handleSliceScale=function(e){var i=this,l=e.target.dataItem;l&&l.bullets&&oe(l.bullets.iterator(),function(p){i.positionBullet(p[1])})},t.prototype.handleSliceMove=function(e){},t.prototype.copyFrom=function(e){n.prototype.copyFrom.call(this,e),this.slices.template.copyFrom(e.slices.template),this.labels.template.copyFrom(e.labels.template),this.ticks.template.copyFrom(e.ticks.template),this.colors=e.colors.clone()},Object.defineProperty(t.prototype,"alignLabels",{get:function(){return this.getPropertyValue("alignLabels")},set:function(e){this.setAlignLabels(e)},enumerable:!0,configurable:!0}),t.prototype.setAlignLabels=function(e){this.setPropertyValue("alignLabels",e,!0)},Object.defineProperty(t.prototype,"ignoreZeroValues",{get:function(){return this.getPropertyValue("ignoreZeroValues")},set:function(e){this.setPropertyValue("ignoreZeroValues",e,!0)},enumerable:!0,configurable:!0}),t.prototype.updateLegendValue=function(e){if(e){var i=e.legendDataItem,s=e.legendSettings;i&&s&&s&&(s.labelText&&(i.label.text=s.labelText),s.itemLabelText&&(i.label.text=s.itemLabelText),s.valueText&&(i.valueLabel.text=s.valueText),s.itemValueText&&(i.valueLabel.text=s.itemValueText))}},t}(iD);G.registeredClasses.PercentSeries=Gm,G.registeredClasses.PercentSeriesDataItem=dD,Wn.push({relevant:mr.maybeXS,state:function(n,t){if(n instanceof Gm){var e=n.states.create(t);return n.labels.template.states.create(t).properties.disabled=!0,n.ticks.template.states.create(t).properties.disabled=!0,e}return null}});var sT=function(n){function t(){var e=n.call(this)||this;return e.className="PercentChartDataItem",e.applyTheme(),e}return $(t,n),t}(DV),aT=function(n){function t(){var e=n.call(this)||this;return e.className="PercentChart",e.align="none",e.valign="none",e.chartContainer.minHeight=50,e.chartContainer.minWidth=50,e.applyTheme(),e}return $(t,n),t.prototype.validateData=function(){n.prototype.validateData.call(this),this.feedLegend()},t.prototype.feedLegend=function(){var e=this.legend;if(e){var i=[];oe(this.series.iterator(),function(s){s.hiddenInLegend||oe(s.dataItems.iterator(),function(l){l.hiddenInLegend||(i.push(l),l.legendSettings||(l.legendSettings=s.legendSettings))})}),e.data=i,e.dataFields.name="category"}},t.prototype.createSeries=function(){return new Gm},t.prototype.setLegend=function(e){n.prototype.setLegend.call(this,e),e&&(e.labels.template.text="{category}",e.valueLabels.template.text="{value.percent.formatNumber('#.0')}%",e.itemContainers.template.events.on("over",function(i){var s=i.target.dataItem.dataContext;if(s.visible&&!s.isHiding){var l=s.slice;l.dispatchImmediately("over"),l.isHover=!0,l.interactions.isRealHover=!0}}),e.itemContainers.template.events.on("out",function(i){var l=i.target.dataItem.dataContext.slice;l.dispatchImmediately("out"),l.isHover=!1}))},t}(QR);G.registeredClasses.PercentChart=aT,G.registeredClasses.PercentChartDataItem=sT;var VV=function(n){function t(){var e=n.call(this)||this;return e._label=new Pn,e._slice=new Pn,e.className="PieTick",e.element=e.paper.add("polyline"),e._disposers.push(e._label),e._disposers.push(e._slice),e.applyTheme(),e}return $(t,n),t.prototype.draw=function(){n.prototype.draw.call(this);var e=this.slice,i=this.label;if(e&&e.radius>0&&i&&i.text){var l=e.dx+e.slice.dx+e.pixelX+e.ix*e.radius*e.scale,p=e.dy+e.slice.dy+e.pixelY+e.iy*e.radiusY*e.scale,h=void 0,g=void 0,v=void 0,m=void 0;if(e.dataItem.component.alignLabels)h=i.pixelX-this.length,v=i.pixelX,m=g=i.pixelY,"right"==i.horizontalCenter&&(v=(h+=2*this.length)-this.length);else{var _=i.pixelRadius(e.radius);v=h=l+_*e.ix,m=g=p+_*e.iy}this.element.attr({points:[l,p,h,g,v,m]})}},Object.defineProperty(t.prototype,"slice",{get:function(){return this._slice.get()},set:function(e){this._slice.set(e,new mi([e.events.on("transformed",this.invalidate,this),e.events.on("validated",this.invalidate,this)]))},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"label",{get:function(){return this._label.get()},set:function(e){this._label.set(e,e.events.on("transformed",this.invalidate,this,!1))},enumerable:!0,configurable:!0}),t}(Vm);G.registeredClasses.PieTick=VV;var lT=function(n){function t(){var e=n.call(this)||this;return e.className="PieSeriesDataItem",e.values.radiusValue={},e.applyTheme(),e}return $(t,n),Object.defineProperty(t.prototype,"radiusValue",{get:function(){return this.values.radiusValue.value},set:function(e){this.setValue("radiusValue",e)},enumerable:!0,configurable:!0}),t.prototype.hide=function(e,i,s,l){return n.prototype.hide.call(this,e,i,0,["value","radiusValue"])},t.prototype.show=function(e,i,s){return n.prototype.show.call(this,e,i,["value","radiusValue"])},t}(dD),uT=function(n){function t(){var e=n.call(this)||this;return e.className="PieSeries",e.alignLabels=!0,e.layout="none",e.labels.template.radius=ue(5),e.addDisposer(e.labels.template.events.on("enabled",e.invalidate,e,!1)),e.applyTheme(),e}return $(t,n),t.prototype.createSlice=function(){return new Zd},t.prototype.createTick=function(){return new VV},t.prototype.createLabel=function(){return new uD},t.prototype.applyInternalDefaults=function(){n.prototype.applyInternalDefaults.call(this),L(this.readerTitle)||(this.readerTitle=this.language.translate("Pie Slice Series"))},t.prototype.createDataItem=function(){return new lT},t.prototype.initSlice=function(e){e.isMeasured=!1,e.defaultState.properties.scale=1,e.observe("scale",this.handleSliceScale,this),e.observe(["dx","dy","x","y","shiftRadius"],this.handleSliceMove,this),e.tooltipText="{category}: {value.percent.formatNumber('#.#')}% ({value.value})",e.states.create("hover").properties.scale=1.05,e.defaultState.properties.shiftRadius=0,e.togglable=!0,e.events.on("toggled",function(p){p.target.hideTooltip(),p.target.interactions.lastHitPointer&&p.target.interactions.lastHitPointer.touch&&!p.target.isActive&&(p.target.isHover=!1)}),e.states.create("active").properties.shiftRadius=.1},t.prototype.validate=function(){this._leftItems=[],this._rightItems=[],this._currentStartAngle=this.startAngle,this._arcRect=Qa(this.startAngle,this.endAngle),this._maxRadiusPercent=0;for(var e=this.startIndex;e<this.endIndex;e++){var s=this.dataItems.getIndex(e).values.radiusValue.percent;s>this._maxRadiusPercent&&(this._maxRadiusPercent=s)}n.prototype.validate.call(this),this.alignLabels&&(this.startAngle>this.endAngle?this._rightItems.reverse():this._leftItems.reverse(),this._rightItems.sort(function(l,p){var h=(l.slice.middleAngle+360)%360,g=(p.slice.middleAngle+360)%360;return h>270&&(h-=360),g>270&&(g-=360),h<g?-1:h>g?1:0}),this._leftItems.sort(function(l,p){var h=(l.slice.middleAngle+360)%360,g=(p.slice.middleAngle+360)%360;return h<g?1:h>g?-1:0}),this.arrangeLabels(this._rightItems),this.arrangeLabels2(this._rightItems),this.arrangeLabels(this._leftItems),this.arrangeLabels2(this._leftItems))},t.prototype.validateDataElement=function(e){if(this.pixelRadius>0){e.__disabled=!(!this.ignoreZeroValues||0!=e.value&&null!=e.value);var i=e.slice;if(i.radius=this.pixelRadius,M(e.radiusValue)&&(i.radius=this.pixelInnerRadius+(this.pixelRadius-this.pixelInnerRadius)*e.values.radiusValue.percent/this._maxRadiusPercent),i.innerRadius instanceof ft||(i.innerRadius=this.pixelInnerRadius),i.startAngle=this._currentStartAngle,i.arc=Math.abs(e.values.value.percent)*(this.endAngle-this.startAngle)/100,!this.labels.template.disabled){var s=e.label,l=e.tick;l.slice=i,l.label=s;var p=(i.middleAngle+360)%360;if(this.alignLabels){var g=s.pixelRadius(i.radius),v=l.length+g;s.dx=0,s.dy=0,s.verticalCenter="middle";var m=this._arcRect;p>270||p<=90?(v+=(m.width+m.x)*this.pixelRadius,s.horizontalCenter="left",this._rightItems.push(e)):(v-=m.x*this.pixelRadius,s.horizontalCenter="right",this._leftItems.push(e),v*=-1),s.moveTo({x:v,y:i.iy*(i.radius+l.length+g)})}else{var b=i.depth;M(b)||(b=0),s.fixPosition(i.middleAngle,i.radius,i.radiusY,0,-b)}}this._currentStartAngle+=i.arc,n.prototype.validateDataElement.call(this,e)}},Object.defineProperty(t.prototype,"radius",{get:function(){return this.getPropertyValue("radius")},set:function(e){this.setPercentProperty("radius",e,!0,!1,10,!1)&&this.invalidateDataItems()},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"pixelRadius",{get:function(){return this._pixelRadius},set:function(e){this._pixelRadius!=e&&(this._pixelRadius=e,this.invalidateDataItems())},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"pixelInnerRadius",{get:function(){return this._pixelInnerRadius},set:function(e){this._pixelInnerRadius!=e&&(this._pixelInnerRadius=e,this.invalidateDataItems())},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"innerRadius",{get:function(){return this.getPropertyValue("innerRadius")},set:function(e){this.setPercentProperty("innerRadius",e,!0,!1,10,!1)},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"startAngle",{get:function(){var e=this.getPropertyValue("startAngle");return M(e)?e:this._startAngleInternal},set:function(e){this.setPropertyValue("startAngle",jd(e),!0)},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"endAngle",{get:function(){var e=this.getPropertyValue("endAngle");return M(e)?e:this._endAngleInternal},set:function(e){this.setPropertyValue("endAngle",e,!0)},enumerable:!0,configurable:!0}),t.prototype.positionBullet=function(e){n.prototype.positionBullet.call(this,e);var s=e.dataItem.slice,l=e.locationX;M(l)||(l=.5);var p=e.locationY;M(p)||(p=1);var h=s.startAngle+s.arc*l;e.x=p*s.radius*ve(h),e.y=p*s.radiusY*ge(h)},t.prototype.handleSliceMove=function(e){if(!this.alignLabels){var i=e.target,s=i.dataItem;if(s){var l=s.label;l&&(l.dx=l.fdx+i.dx+i.pixelX,l.dy=l.fdy+i.dy+i.pixelY)}}},Object.defineProperty(t.prototype,"bbox",{get:function(){if(this.definedBBox)return this.definedBBox;var e=this.chart;return e?Qa(e.startAngle,e.endAngle,this.pixelRadius):Qa(this.startAngle,this.endAngle,this.pixelRadius)},enumerable:!0,configurable:!0}),t}(Gm);G.registeredClasses.PieSeries=uT,G.registeredClasses.PieSeriesDataItem=lT;var kV=function(n){function t(){var e=n.call(this)||this;return e.className="PieChartDataItem",e.applyTheme(),e}return $(t,n),t}(sT),GV=function(n){function t(){var e=n.call(this)||this;e.className="PieChart",e.innerRadius=0,e.radius=ue(80),e.align="none",e.valign="none",e.startAngle=-90,e.endAngle=270;var i=e.seriesContainer;return i.isMeasured=!0,i.valign="middle",i.align="center",i.layout="absolute",i.width=void 0,i.height=void 0,e.chartContainer.minHeight=50,e.chartContainer.minWidth=50,e.chartContainer.events.on("maxsizechanged",e.updateRadius,e,!1),e.applyTheme(),e}return $(t,n),t.prototype.applyInternalDefaults=function(){n.prototype.applyInternalDefaults.call(this),L(this.readerTitle)||(this.readerTitle=this.language.translate("Pie chart"))},t.prototype.validateLayout=function(){n.prototype.validateLayout.call(this),this.updateRadius()},t.prototype.handleSeriesAdded=function(e){n.prototype.handleSeriesAdded.call(this,e),this._chartPixelRadius=void 0,this.updateSeriesAngles()},t.prototype.updateSeriesAngles=function(){var e=this;this.series.each(function(i){i._startAngleInternal=e.startAngle,i._endAngleInternal=e.endAngle})},t.prototype.updateRadius=function(){var e=this.chartContainer,i=Qa(this.startAngle,this.endAngle,1),s={x:0,y:0,width:0,height:0},l=this.innerRadius;l instanceof ft&&(s=Qa(this.startAngle,this.endAngle,l.value)),i=hm([i,s]);var p=Math.min(e.innerWidth/i.width,e.innerHeight/i.height);M(p)||(p=0);var h=Nn(this.radius,p),g=Nn(this.innerRadius,p),v=(h-g)/this.series.length;(h!=this._chartPixelRadius||g!=this._chartPixelInnerRadius)&&(this._chartPixelRadius=h,this._chartPixelInnerRadius=g,oe(Ud(this.series.iterator()),function(m){var _=m[0],b=m[1],C=g+Nn(b.radius,h-g),S=g+Nn(b.innerRadius,h-g);M(C)||(C=g+v*(_+1)),M(S)||(S=g+v*_),b.pixelRadius=C,b.pixelInnerRadius=S}),this.seriesContainer.definedBBox={x:h*i.x,y:h*i.y,width:h*i.width,height:h*i.height},this.seriesContainer.invalidateLayout(),this.bulletsContainer.x=this.seriesContainer.x,this.bulletsContainer.y=this.seriesContainer.y)},Object.defineProperty(t.prototype,"radius",{get:function(){return this.getPropertyValue("radius")},set:function(e){this.setPercentProperty("radius",e,!0,!1,10,!1)&&this.invalidateLayout()},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"innerRadius",{get:function(){return this.getPropertyValue("innerRadius")},set:function(e){this.setPercentProperty("innerRadius",e,!0,!1,10,!1)},enumerable:!0,configurable:!0}),t.prototype.createSeries=function(){return new uT},Object.defineProperty(t.prototype,"startAngle",{get:function(){return this.getPropertyValue("startAngle")},set:function(e){this.setPropertyValue("startAngle",e)&&(this.updateRadius(),this.updateSeriesAngles())},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"endAngle",{get:function(){return this.getPropertyValue("endAngle")},set:function(e){this.setPropertyValue("endAngle",e)&&(this.updateRadius(),this.updateSeriesAngles())},enumerable:!0,configurable:!0}),t}(aT);G.registeredClasses.PieChart=GV,G.registeredClasses.PieChartDataItem=kV;var HV=function(n){function t(){var e=n.call(this)||this;return e.className="PieSeries3DDataItem",e.values.depthValue={},e.applyTheme(),e}return $(t,n),Object.defineProperty(t.prototype,"depthValue",{get:function(){return this.values.depthValue.value},set:function(e){this.setValue("depthValue",e)},enumerable:!0,configurable:!0}),t}(lT),BV=function(n){function t(){var e=n.call(this)||this;return e.className="PieSeries3D",e.applyTheme(),e}return $(t,n),t.prototype.createDataItem=function(){return new HV},t.prototype.createSlice=function(){return new HY},t.prototype.validateDataElement=function(e){var i=e.slice,s=this.depth;M(s)||(s=this.chart.depth);var l=e.values.depthValue.percent;M(l)||(l=100),i.depth=l*s/100;var p=this.angle;M(p)||(p=this.chart.angle),i.angle=p,n.prototype.validateDataElement.call(this,e)},t.prototype.validate=function(){n.prototype.validate.call(this);for(var e=this._workingStartIndex;e<this._workingEndIndex;e++){var s=this.dataItems.getIndex(e).slice,l=s.startAngle;l>=-90&&l<90?s.toFront():l>=90&&s.toBack()}},Object.defineProperty(t.prototype,"depth",{get:function(){return this.getPropertyValue("depth")},set:function(e){this.setPropertyValue("depth",e,!0)},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"angle",{get:function(){return this.getPropertyValue("angle")},set:function(e){this.setPropertyValue("angle",e)},enumerable:!0,configurable:!0}),t.prototype.positionBullet=function(e){n.prototype.positionBullet.call(this,e),e.y=e.pixelY-e.dataItem.slice.depth},t}(uT);G.registeredClasses.PieSeries3D=BV,G.registeredClasses.PieSeries3DDataItem=HV,function(n){$(function(){var e=n.call(this)||this;return e.className="PieChart3DDataItem",e.applyTheme(),e},n)}(kV);var ZY=function(n){function t(){var e=n.call(this)||this;return e.className="PieChart3D",e.depth=20,e.angle=10,e.applyTheme(),e}return $(t,n),Object.defineProperty(t.prototype,"depth",{get:function(){return this.getPropertyValue("depth")},set:function(e){this.setPropertyValue("depth",e)&&this.invalidateDataUsers()},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"angle",{get:function(){return this.getPropertyValue("angle")},set:function(e){e=xe(e,0,90),this.setPropertyValue("angle",e)&&this.invalidateDataUsers()},enumerable:!0,configurable:!0}),t.prototype.createSeries=function(){return new BV},t}(GV);G.registeredClasses.PieChart3D=ZY;var QY=function(n){function t(){var e=n.call(this)||this;return e.className="SlicedChartDataItem",e.applyTheme(),e}return $(t,n),t}(sT),JY=function(n){function t(){var e=n.call(this)||this;return e.className="SlicedChart",e.seriesContainer.layout="horizontal",e.padding(15,15,15,15),e.applyTheme(),e}return $(t,n),t.prototype.applyInternalDefaults=function(){n.prototype.applyInternalDefaults.call(this),L(this.readerTitle)||(this.readerTitle=this.language.translate("Sliced chart"))},t.prototype.validate=function(){n.prototype.validate.call(this)},t}(aT);G.registeredClasses.SlicedChart=JY,G.registeredClasses.SlicedChartDataItem=QY;var pD=function(n){function t(){var e=n.call(this)||this;return e.legendSettings=new wV,e.className="FlowDiagramNode",e.isMeasured=!1,new Rt,e.draggable=!0,e.inert=!0,e.setStateOnChildren=!0,e.events.on("positionchanged",e.invalidateLinks,e,!1),e.events.on("sizechanged",e.invalidateLinks,e,!1),e}return $(t,n),t.prototype.handleHit=function(e){this.isHidden||this.isHiding?this.show():this.hide()},t.prototype.show=function(e){var i=n.prototype.show.call(this,e);return this.outgoingDataItems.each(function(s){(!s.toNode||s.toNode&&!s.toNode.isHidden)&&(s.setWorkingValue("value",s.getValue("value"),e),s.link.show())}),this.incomingDataItems.each(function(s){(!s.fromNode||s.fromNode&&!s.fromNode.isHidden)&&(s.setWorkingValue("value",s.getValue("value"),e),s.link.show())}),i},t.prototype.hide=function(e){var i=n.prototype.hide.call(this,e);return this.outgoingDataItems.each(function(s){s.setWorkingValue("value",0,e),s.link.hide()}),this.incomingDataItems.each(function(s){s.setWorkingValue("value",0,e),s.link.hide()}),i},t.prototype.validate=function(){this.isDisposed()||(n.prototype.validate.call(this),this.invalidateLinks())},t.prototype.invalidateLinks=function(){var e=this;this.outgoingDataItems.each(function(i){var s=i.link;if("fromNode"==s.colorMode&&(s.fill=s.dataItem.fromNode.color),"gradient"==s.colorMode){s.fill=s.gradient,s.stroke=s.gradient;var l=s.gradient.stops.getIndex(0);l&&(l.color=e.color,s.gradient.validate())}}),this.incomingDataItems.each(function(i){var s=i.link;if("toNode"==s.colorMode&&(s.fill=s.dataItem.toNode.color),"gradient"==s.colorMode){s.fill=s.gradient,s.stroke=s.gradient;var l=s.gradient.stops.getIndex(1);l&&(l.color=e.color,s.gradient.validate())}})},Object.defineProperty(t.prototype,"incomingDataItems",{get:function(){var e=this;if(!this._incomingDataItems){var i=new Dt;i.events.on("inserted",function(){e._incomingSorted="name"==e.chart.sortBy?Tf(e._incomingDataItems.iterator(),function(s,l){return sR(s.fromName,l.fromName)}):"value"==e.chart.sortBy?Tf(e._incomingDataItems.iterator(),function(s,l){return lR(el(s.value,l.value))}):e._incomingDataItems.iterator()},void 0,!1),this._incomingDataItems=i}return this._incomingDataItems},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"outgoingDataItems",{get:function(){var e=this;if(!this._outgoingDataItems){var i=new Dt;i.events.on("inserted",function(){e._outgoingSorted="name"==e.chart.sortBy?Tf(e._outgoingDataItems.iterator(),function(s,l){return sR(s.fromName,l.fromName)}):"value"==e.chart.sortBy?Tf(e._outgoingDataItems.iterator(),function(s,l){return lR(el(s.value,l.value))}):e._outgoingDataItems.iterator()},void 0,!1),this._outgoingDataItems=i}return this._outgoingDataItems},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"name",{get:function(){return this.getPropertyValue("name")},set:function(e){this.setPropertyValue("name",e,!0)},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"total",{get:function(){return this.getPropertyValue("total")},set:function(e){this.setPropertyValue("total",e,!0)},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"totalIncoming",{get:function(){return this.getPropertyValue("totalIncoming")},set:function(e){this.setPropertyValue("totalIncoming",e,!0)},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"totalOutgoing",{get:function(){return this.getPropertyValue("totalOutgoing")},set:function(e){this.setPropertyValue("totalOutgoing",e,!0)},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"color",{get:function(){return this.getPropertyValue("color")},set:function(e){this.setColorProperty("color",e),this._background&&(this._background.fill=e),this.fill=e},enumerable:!0,configurable:!0}),t.prototype.createLegendMarker=function(e){var i=e.pixelWidth,s=e.pixelHeight;e.removeChildren();var l=e.createChild(rl);l.shouldClone=!1,Xi(this,l,Ni),l.stroke=this.fill,l.copyFrom(this),l.padding(0,0,0,0),l.width=i,l.height=s;var p=e.dataItem;p.color=l.fill,p.colorOrig=l.fill},Object.defineProperty(t.prototype,"legendDataItem",{get:function(){return this._legendDataItem},set:function(e){this._legendDataItem=e,this._legendDataItem.itemContainer.deepInvalidate()},enumerable:!0,configurable:!0}),t}(Ve);G.registeredClasses.FlowDiagramNode=pD;var hD=function(n){function t(){var e=n.call(this)||this;e.className="FlowDiagramLink";var i=new Rt;return e.maskBullets=!1,e.colorMode="fromNode",e.layout="none",e.isMeasured=!1,e.startAngle=0,e.endAngle=0,e.strokeOpacity=0,e.verticalCenter="none",e.horizontalCenter="none",e.tooltipText="{fromName}\u2192{toName}:{value.value}",e.tooltipLocation=.5,e.link=e.createChild(Je),e.link.shouldClone=!1,e.link.setElement(e.paper.add("path")),e.link.isMeasured=!1,e.fillOpacity=.2,e.fill=i.getFor("alternativeBackground"),e.applyTheme(),e}return $(t,n),t.prototype.positionBullets=function(){var e=this;oe(this.bullets.iterator(),function(i){i.parent=e.bulletsContainer,i.maxWidth=e.maxWidth,i.maxHeight=e.maxHeight,e.positionBullet(i)})},Object.defineProperty(t.prototype,"bulletsContainer",{get:function(){if(!this._bulletsContainer){var e=this.createChild(Ve);e.shouldClone=!1,e.layout="none",this._bulletsContainer=e}return this._bulletsContainer},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"bulletsMask",{get:function(){if(!this._bulletsMask){var e=this.createChild(Je);e.shouldClone=!1,e.setElement(this.paper.add("path")),e.isMeasured=!1,this._bulletsMask=e}return this._bulletsMask},enumerable:!0,configurable:!0}),t.prototype.positionBullet=function(e){var i=e.locationX;M(i)||(i=e.locationY),M(i)||(i=.5);var p,s=this.middleLine.positionToPoint(i);e.moveTo(s),e.dataItem&&(p=e.dataItem.dataContext[e.propertyFields.rotation]),M(p)||(p=s.angle),e.rotation=p},Object.defineProperty(t.prototype,"startAngle",{get:function(){return this.getPropertyValue("startAngle")},set:function(e){this.setPropertyValue("startAngle",e,!0)},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"endAngle",{get:function(){return this.getPropertyValue("endAngle")},set:function(e){this.setPropertyValue("endAngle",e,!0)},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"colorMode",{get:function(){return this.getPropertyValue("colorMode")},set:function(e){if("gradient"==e){var i=this.fill;this.gradient.stops.clear(),i instanceof St&&(this.gradient.addColor(i),this.gradient.addColor(i)),this.fill=this.gradient,this.stroke=this.gradient}this.setPropertyValue("colorMode",e,!0)},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"maskBullets",{get:function(){return this.getPropertyValue("maskBullets")},set:function(e){this.setPropertyValue("maskBullets",e,!0)},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"tooltipLocation",{get:function(){return this.getPropertyValue("tooltipLocation")},set:function(e){this.setPropertyValue("tooltipLocation",e,!0)},enumerable:!0,configurable:!0}),t.prototype.setFill=function(e){n.prototype.setFill.call(this,e);var i=this._gradient;i&&e instanceof St&&(i.stops.clear(),i.addColor(e),i.addColor(e))},t.prototype.measureElement=function(){},Object.defineProperty(t.prototype,"bullets",{get:function(){var e=this;return this._bullets||(this._bullets=new Ii(new ol),this._disposers.push(new Qt(this._bullets)),this._disposers.push(this._bullets.template),this._bullets.events.on("inserted",function(i){i.newValue.events.on("propertychanged",function(s){("locationX"==s.property||"locationY"==s.property)&&e.positionBullet(s.target)},void 0,!1)},void 0,!1)),this._bullets},enumerable:!0,configurable:!0}),t.prototype.copyFrom=function(e){n.prototype.copyFrom.call(this,e),this.bullets.copyFrom(e.bullets);var i=this.middleLine;i&&(i instanceof ca&&e.middleLine instanceof ca&&i.copyFrom(e.middleLine),i instanceof Im&&e.middleLine instanceof Im&&i.copyFrom(e.middleLine)),this.link.copyFrom(e.link)},t.prototype.getTooltipX=function(){if(this.middleLine)return this.middleLine.positionToPoint(this.tooltipLocation).x},t.prototype.getTooltipY=function(){if(this.middleLine)return this.middleLine.positionToPoint(this.tooltipLocation).y},Object.defineProperty(t.prototype,"gradient",{get:function(){return this._gradient||(this._gradient=new Ms),this._gradient},enumerable:!0,configurable:!0}),t}(Ve);G.registeredClasses.FlowDiagramLink=hD;var cT=function(n){function t(){var e=n.call(this)||this;return e.className="FlowDiagramDataItem",e.values.value={},e.applyTheme(),e}return $(t,n),Object.defineProperty(t.prototype,"fromName",{get:function(){return this.properties.fromName},set:function(e){this.setProperty("fromName",e)},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"toName",{get:function(){return this.properties.toName},set:function(e){this.setProperty("toName",e)},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"color",{get:function(){return this.properties.color},set:function(e){this.setProperty("color",As(e))},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"value",{get:function(){return this.values.value.value},set:function(e){this.setValue("value",e)},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"link",{get:function(){var e=this;if(!this._link){var i=this.component.links.create();this._link=i,this.addSprite(i),this._disposers.push(new Bt(function(){e.component&&e.component.links.removeValue(i)}))}return this._link},enumerable:!0,configurable:!0}),t}(CV),dT=function(n){function t(){var e=n.call(this)||this;e.colors=new Fm,e.className="FlowDiagram",e.nodePadding=20,e.sortBy="none",e.sequencedInterpolation=!0,e.colors.step=2,e.minNodeSize=.02;var i=e.chartContainer.createChild(Ve);i.shouldClone=!1,i.layout="none",i.isMeasured=!1,e.linksContainer=i;var s=e.chartContainer.createChild(Ve);return s.shouldClone=!1,s.layout="none",s.isMeasured=!1,e.nodesContainer=s,e.dataItem=e.createDataItem(),e.dataItem.component=e,e.applyTheme(),e}return $(t,n),t.prototype.dispose=function(){n.prototype.dispose.call(this),this.dataItem.dispose()},t.prototype.validateData=function(){var e=this;0==this._parseDataFrom&&this.nodes.clear(),this.sortNodes(),this.colors.reset(),n.prototype.validateData.call(this);var l,p,i=0,s=0;oe(this.dataItems.iterator(),function(g){var v=g.fromName;v&&((m=e.nodes.getKey(v))||((m=e.nodes.create(v)).name=v,m.chart=e,m.dataItem=g),g.fromNode=m,g.fromNode.outgoingDataItems.push(g));var m,_=g.toName;if(_&&((m=e.nodes.getKey(_))||((m=e.nodes.create(_)).name=_,m.chart=e,m.dataItem=g),g.toNode=m,g.toNode.incomingDataItems.push(g)),!g.fromNode){var b=new Z0;b.opacities=[0,1],g.link.strokeModifier=b}if(!g.toNode){var C=new Z0;C.opacities=[1,0],g.link.strokeModifier=C}var S=g.value;M(S)&&(i+=S,s++,(l>S||!M(l))&&(l=S),(p<S||!M(p))&&(p=S))});var h="value";this.dataItem.setCalculatedValue(h,p,"high"),this.dataItem.setCalculatedValue(h,l,"low"),this.dataItem.setCalculatedValue(h,i,"sum"),this.dataItem.setCalculatedValue(h,i/s,"average"),this.dataItem.setCalculatedValue(h,s,"count"),oe(this.nodes.iterator(),function(g){var v=g[1];v.fill instanceof St&&(v.color=v.fill),null==v.color&&(v.color=e.colors.next()),null!=v.dataItem.color&&(v.color=v.dataItem.color),v.dataItem.visible||v.hide(0),e.getNodeValue(v)}),this.sortNodes(),this.feedLegend()},t.prototype.handleDataItemWorkingValueChange=function(e,i){this.invalidate()},t.prototype.sortNodes=function(){this._sorted="name"==this.sortBy?this.nodes.sortedIterator():"value"==this.sortBy?Tf(this.nodes.iterator(),function(e,i){return lR(el(e[1].total,i[1].total))}):this.nodes.iterator()},t.prototype.getNodeValue=function(e){var i=0,s=0;oe(e.incomingDataItems.iterator(),function(l){var p=l.getWorkingValue("value");M(p)&&(i+=p)}),oe(e.outgoingDataItems.iterator(),function(l){var p=l.getWorkingValue("value");M(p)&&(s+=p)}),e.total=i+s,e.totalIncoming=i,e.totalOutgoing=s},t.prototype.changeSorting=function(){this.sortNodes()},t.prototype.applyInternalDefaults=function(){n.prototype.applyInternalDefaults.call(this),L(this.readerTitle)||(this.readerTitle=this.language.translate("Flow diagram"))},t.prototype.createDataItem=function(){return new cT},Object.defineProperty(t.prototype,"nodePadding",{get:function(){return this.getPropertyValue("nodePadding")},set:function(e){this.setPropertyValue("nodePadding",e,!0)},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"sortBy",{get:function(){return this.getPropertyValue("sortBy")},set:function(e){this.setPropertyValue("sortBy",e),this.changeSorting()},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"minNodeSize",{get:function(){return this.getPropertyValue("minNodeSize")},set:function(e){this.setPropertyValue("minNodeSize",e,!0)},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"nodes",{get:function(){if(!this._nodes){var e=this.createNode();e.events.on("hit",function(i){i.target.handleHit(i)}),this._nodes=new bm(e),this._disposers.push(new zd(this._nodes))}return this._nodes},enumerable:!0,configurable:!0}),t.prototype.createNode=function(){var e=new pD;return this._disposers.push(e),e},Object.defineProperty(t.prototype,"links",{get:function(){return this._links||(this._links=new Ii(this.createLink()),this._disposers.push(new Qt(this._links))),this._links},enumerable:!0,configurable:!0}),t.prototype.createLink=function(){var e=new hD;return this._disposers.push(e),e},t.prototype.feedLegend=function(){var e=this.legend;if(e){var i=[];this.nodes.each(function(s,l){i.push(l)}),e.data=i,e.dataFields.name="name"}},t.prototype.disposeData=function(){n.prototype.disposeData.call(this),this.nodes.clear()},t}(Jd);G.registeredClasses.FlowDiagram=dT;var pT=function(n){function t(){var e=n.call(this)||this;e.className="LabelBullet";var i=e.createChild(Yr);return i.shouldClone=!1,i.verticalCenter="middle",i.horizontalCenter="middle",i.truncate=!0,i.hideOversized=!1,i.maxWidth=500,i.maxHeight=500,i.stroke=Le(),i.strokeOpacity=0,i.fill=(new Rt).getFor("text"),e.events.on("maxsizechanged",e.handleMaxSize,e,!1),e.label=i,e.applyTheme(),e}return $(t,n),t.prototype.handleMaxSize=function(){this.label.maxWidth=this.maxWidth,this.label.maxHeight=this.maxHeight},t.prototype.copyFrom=function(e){n.prototype.copyFrom.call(this,e),this.label.copyFrom(e.label)},t}(ol);G.registeredClasses.LabelBullet=pT;var jV=function(n){function t(){var e=n.call(this)||this;e.nextInCoord=0,e.nextOutCoord=0,e.className="SankeyNode",e.width=10,e.height=10;var i=e.createChild(pT);i.shouldClone=!1,i.locationX=1,i.locationY=.5,i.label.text="{name}",i.width=150,i.height=150,i.label.horizontalCenter="left",i.label.padding(0,5,0,5),e.nameLabel=i;var s=e.createChild(pT);s.shouldClone=!1,s.label.hideOversized=!1,s.locationX=.5,s.locationY=.5,s.width=150,s.height=150,s.label.horizontalCenter="middle",e.valueLabel=s;var l=e.hiddenState;return l.properties.fill=(new Rt).getFor("disabledBackground"),l.properties.opacity=.5,l.properties.visible=!0,e.background.hiddenState.copyFrom(l),e}return $(t,n),t.prototype.invalidateLinks=function(){var e=this;n.prototype.invalidateLinks.call(this),this.nextInCoord=0,this.nextOutCoord=0;var i=this.chart;if(i){var s=i.orientation;this._incomingSorted&&oe(this._incomingSorted,function(l){var p=l.link,h=l.getWorkingValue("value");if(M(h)){p.parent=e.chart.linksContainer;var g=void 0,v=void 0,m=void 0;if("horizontal"==s?(g=e.pixelX+e.dx,v=e.nextInCoord+e.pixelY+e.dy,m=0):(v=e.pixelY+e.dy,g=e.nextInCoord+e.pixelX+e.dx,m=90),p.endX=g,p.endY=v,p.startAngle=m,p.endAngle=m,p.gradient.rotation=m,p.linkWidth=h*i.valueHeight,!l.fromNode){"horizontal"==s?(p.maxWidth=200,p.startX=e.pixelX+e.dx-p.maxWidth,p.startY=p.endY):(p.maxHeight=200,p.startX=p.endX,p.startY=e.pixelY+e.dy-p.maxHeight),p.fill=l.toNode.color;var _=p.gradient.stops.getIndex(0);_&&("gradient"==p.colorMode&&(_.color=e.color),_.opacity=0,p.fill=p.gradient,p.stroke=p.gradient,p.gradient.validate())}e.nextInCoord+=p.linkWidth}}),this._outgoingSorted&&oe(this._outgoingSorted,function(l){var p=l.link;p.parent=e.chart.linksContainer;var h=l.getWorkingValue("value");if(M(h)){var g=void 0,v=void 0,m=void 0;if("horizontal"==s?(m=0,g=e.pixelX+e.pixelWidth+e.dx-1,v=e.nextOutCoord+e.pixelY+e.dy):(m=90,g=e.nextOutCoord+e.pixelX+e.dx,v=e.pixelY+e.pixelHeight+e.dy-1),p.startX=g,p.startY=v,p.startAngle=m,p.endAngle=m,p.gradient.rotation=m,p.linkWidth=h*e.chart.valueHeight,!l.toNode){"horizontal"==s?(p.maxWidth=200,p.endX=e.pixelX+p.maxWidth+e.dx,p.endY=p.startY):(p.maxHeight=200,p.endX=p.startX,p.endY=e.pixelY+p.maxHeight+e.dy),p.opacity=e.opacity;var _=p.gradient.stops.getIndex(1);_&&("gradient"==p.colorMode&&(_.color=e.color),_.opacity=0,p.fill=p.gradient,p.stroke=p.gradient,p.gradient.validate())}e.nextOutCoord+=p.linkWidth}})}this.positionBullet(this.nameLabel),this.positionBullet(this.valueLabel)},t.prototype.positionBullet=function(e){e&&(e.x=this.measuredWidth*e.locationX,e.y=this.measuredHeight*e.locationY)},Object.defineProperty(t.prototype,"level",{get:function(){return this.getPropertyValue("level")},set:function(e){this.setPropertyValue("level",e,!0)},enumerable:!0,configurable:!0}),t.prototype.copyFrom=function(e){n.prototype.copyFrom.call(this,e),this.nameLabel.copyFrom(e.nameLabel),this.valueLabel.copyFrom(e.valueLabel)},t}(pD);G.registeredClasses.SankeyNode=jV;var WV=function(n){function t(){var e=n.call(this)||this;return e.className="SankeyLink",new Rt,e.tension=.8,e.controlPointDistance=.2,e.startAngle=0,e.endAngle=0,e.linkWidth=0,e.startX=0,e.endX=0,e.startY=0,e.endY=0,e.middleLine=e.createChild(K0),e.middleLine.shouldClone=!1,e.middleLine.strokeOpacity=0,e.applyTheme(),e}return $(t,n),t.prototype.makeBackwards=function(){null!=this.states.getKey("backwards")&&this.setState("backwards")},t.prototype.validate=function(){var e,i,s,l;if(n.prototype.validate.call(this),!this.isTemplate){var p=this.startX,h=this.startY,g=this.endX,v=this.endY;if(this.states.getKey("backwards")&&this.setState("default"),this.dataItem){var m=this.dataItem.component;m&&("horizontal"==m.orientation?g<p&&(p=(e=Ef([g,p],2))[0],g=e[1],h=(i=Ef([v,h],2))[0],v=i[1],this.makeBackwards()):v<h&&(h=(s=Ef([v,h],2))[0],v=s[1],p=(l=Ef([g,p],2))[0],g=l[1],this.makeBackwards()))}M(g)||(g=p),M(v)||(v=h);var _=this.startAngle,b=this.endAngle,C=this.linkWidth,S="",E=p,x=h,R=g,P=v,k=p+C*ge(_),U=g+C*ge(b),W=h+C*ve(_),Y=v+C*ve(b),K=p+C/2*ge(_),X=g+C/2*ge(b),J=h+C/2*ve(_),je=v+C/2*ve(b);this.zIndex=this.zIndex||this.dataItem.index;var we=this.tension+(1-this.tension)*ge(_),Oe=this.tension+(1-this.tension)*ve(_);if(this.middleLine.tensionX=we,this.middleLine.tensionY=Oe,M(C)&&M(p)&&M(g)&&M(h)&&M(v)){ae(E,3)==ae(R,3)&&(R+=.01),ae(x,3)==ae(P,3)&&(P+=.01),ae(k,3)==ae(U,3)&&(U+=.01),ae(W,3)==ae(Y,3)&&(Y+=.01);var Tt=Math.min(k,U,E,R),Vi=Math.min(W,Y,x,P),fn=Math.max(k,U,E,R),He=Math.max(W,Y,x,P);this._bbox={x:Tt,y:Vi,width:fn-Tt,height:He-Vi};var qi=this.controlPointDistance,gn=E+(R-E)*qi*ve(_),Zi=x+(P-x)*qi*ge(_),Mr=R-(R-E)*qi*ve(b),vn=P-(P-x)*qi*ge(b),Be=K+(X-K)*qi*ve(_),Xt=J+(je-J)*qi*ge(_),Ei=X-(X-K)*qi*ve(b),Ns=je-(je-J)*qi*ge(b),Xo=Fn({x:gn,y:Zi},{x:Mr,y:vn}),Xr=(C/ve(Xo)-C)/ZN(Xo)*ve(_),Io=(C/ge(Xo)-C)*ZN(Xo)*ge(_),al=-Xr/2+k+(U-k)*qi*ve(_),fa=-Io/2+W+(Y-W)*qi*ge(_),dp=-Xr/2+U-(U-k)*qi*ve(b),pp=-Io/2+Y-(Y-W)*qi*ge(b);this.middleLine.segments=[[{x:K,y:J},{x:Be,y:Xt},{x:Ei,y:Ns},{x:X,y:je}]],gn+=Xr/2,Zi+=Io/2,Mr+=Xr/2,vn+=Io/2,S+=Ce({x:E,y:x}),S+=new dc(we,Oe).smooth([{x:E,y:x},{x:gn,y:Zi},{x:Mr,y:vn},{x:R,y:P}]),S+=ne({x:U,y:Y}),S+=new dc(we,Oe).smooth([{x:U,y:Y},{x:dp,y:pp},{x:al,y:fa},{x:k,y:W}]),S+=" Z"}this.link.path=S,this.maskBullets&&(this.bulletsMask.path=S,this.bulletsContainer.mask=this.bulletsMask),this.positionBullets()}},Object.defineProperty(t.prototype,"startX",{get:function(){return this.getPropertyValue("startX")},set:function(e){this.setPropertyValue("startX",e,!0)},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"endX",{get:function(){return this.getPropertyValue("endX")},set:function(e){this.setPropertyValue("endX",e,!0)},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"startY",{get:function(){return this.getPropertyValue("startY")},set:function(e){this.setPropertyValue("startY",e,!0)},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"endY",{get:function(){return this.getPropertyValue("endY")},set:function(e){this.setPropertyValue("endY",e,!0)},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"linkWidth",{get:function(){return this.getPropertyValue("linkWidth")},set:function(e){this.setPropertyValue("linkWidth",e,!0)},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"controlPointDistance",{get:function(){return this.getPropertyValue("controlPointDistance")},set:function(e){this.setPropertyValue("controlPointDistance",e,!0)},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"tension",{get:function(){return this.getPropertyValue("tension")},set:function(e){this.setPropertyValue("tension",e,!0)},enumerable:!0,configurable:!0}),t}(hD);G.registeredClasses.SankeyLink=WV;var eK=function(n){function t(){var e=n.call(this)||this;return e.className="SankeyDiagramDataItem",e.applyTheme(),e}return $(t,n),t}(cT),tK=function(n){function t(){var e=n.call(this)||this;return e.className="SankeyDiagram",e.orientation="horizontal",e.nodeAlign="middle",e.nodesContainer.width=ue(100),e.nodesContainer.height=ue(100),e.linksContainer.width=ue(100),e.linksContainer.height=ue(100),e.applyTheme(),e}return $(t,n),t.prototype.validateData=function(){var e=this;this._valueHeight=void 0,n.prototype.validateData.call(this),this._levelCount=0,this.nodes.each(function(i,s){s.level=void 0}),this.nodes.each(function(i,s){s.level=e.getNodeLevel(s,0),e._levelCount=Qe(e._levelCount,s.level)})},t.prototype.getNodeLevel=function(e,i){var s=this,l=[i];return oe(e.incomingDataItems.iterator(),function(p){p.fromNode&&(M(p.fromNode.level)?l.push(p.fromNode.level+1):(s._counter=0,s.checkLoop(p.fromNode),s._counter<s.dataItems.length&&l.push(s.getNodeLevel(p.fromNode,i+1))))}),Math.max.apply(Math,xf(l))},t.prototype.checkLoop=function(e){var i=this;this._counter++,!(this._counter>this.dataItems.length)&&oe(e.incomingDataItems.iterator(),function(s){i.checkLoop(s.fromNode)})},t.prototype.calculateValueHeight=function(){var e=this;this._levelSum={},this._levelNodesCount={},this.maxSum=0;var s,l,p,i=this.dataItem.values.value.sum;oe(this._sorted,function(_){e.getNodeValue(_[1])}),this.nodes.each(function(_,b){var C=b.level,S=Math.max(b.totalIncoming,b.totalOutgoing);S/i<e.minNodeSize&&(S=i*e.minNodeSize),M(e._levelSum[C])?e._levelSum[C]+=S:e._levelSum[C]=S,M(e._levelNodesCount[C])?e._levelNodesCount[C]++:e._levelNodesCount[C]=1}),s="horizontal"==this.orientation?this.chartContainer.maxHeight-1:this.chartContainer.maxWidth-1,We(this._levelSum,function(_,b){var C=b,E=(s-(e._levelNodesCount[_]-1)*e.nodePadding)/C;E==1/0&&(E=0),(p>E||!M(p))&&(p=E,e.maxSum=C,l=Zt(_))}),this._maxSumLevel=l;var g=(s-(this._levelNodesCount[this._maxSumLevel]-1)*this.nodePadding)/this.maxSum;if(g==1/0&&(g=0),M(this.valueHeight)){var v=void 0;try{v=this._heightAnimation.animationOptions[0].to}catch(_){}if(v!=g){var m=this.interpolationDuration;try{m=this.nodes.template.states.getKey("active").transitionDuration}catch(_){}this._heightAnimation=new ua(this,{property:"valueHeight",from:this.valueHeight,to:g},m,this.interpolationEasing).start(),this._disposers.push(this._heightAnimation)}}else this.valueHeight=g},t.prototype.validate=function(){var e=this;n.prototype.validate.call(this),this.calculateValueHeight();var h,i=this.nodesContainer,s={},l=this._levelNodesCount[this._maxSumLevel],p=this.dataItem.values.value.sum;h="horizontal"==this.orientation?this.chartContainer.maxHeight-1:this.chartContainer.maxWidth-1,oe(this._sorted,function(g){var v=g[1],m=v.level,_=0,b=e._levelNodesCount[m];switch(e.nodeAlign){case"bottom":_=(e.maxSum-e._levelSum[m])*e.valueHeight-(b-l)*e.nodePadding;break;case"middle":_=(e.maxSum-e._levelSum[m])*e.valueHeight/2-(b-l)*e.nodePadding/2}if(0==e.maxSum)switch(e.nodeAlign){case"bottom":_=h-b*(e.minNodeSize*h+e.nodePadding);break;case"middle":_=h/2-b/2*(e.minNodeSize*h+e.nodePadding)}v.parent=i;var S,E,x=Math.max(v.totalIncoming,v.totalOutgoing);if(x/p<e.minNodeSize&&(x=p*e.minNodeSize),"horizontal"==e.orientation){S=(e.innerWidth-v.pixelWidth)/e._levelCount*v.level,E=s[m]||_;var R=x*e.valueHeight;0==p&&0==R&&(R=e.minNodeSize*h),v.height=R,v.minX=S,v.maxX=S,s[m]=E+R+e.nodePadding}else{S=s[m]||_,E=(e.innerHeight-v.pixelHeight)/e._levelCount*v.level;var P=x*e.valueHeight;0==p&&0==P&&(P=e.minNodeSize*h),v.width=P,v.minY=E,v.maxY=E,s[m]=S+P+e.nodePadding}v.x=S,v.y=E})},t.prototype.showReal=function(e){var i=this;if(!this.preventShow){if(this.interpolationDuration>0){var s=this.nodesContainer,l=0;oe(this.links.iterator(),function(p){p.hide(0)}),oe(this._sorted,function(p){var g,h=p[1];"horizontal"==i.orientation?(h.dx=-(s.pixelWidth-h.pixelWidth)/Math.max(i._levelCount,1),g="dx"):(h.dy=-(s.pixelHeight-h.pixelHeight)/Math.max(i._levelCount,1),g="dy");var v=0;i.sequencedInterpolation&&(v=i.sequencedInterpolationDelay*l+i.interpolationDuration*l/function(n){var t=0;return n(function(e){return++t,!0}),t}(i.nodes.iterator())),h.opacity=0,h.invalidateLinks(),h.animate([{property:"opacity",from:0,to:1},{property:g,to:0}],i.interpolationDuration,i.interpolationEasing).delay(v),oe(h.outgoingDataItems.iterator(),function(_){var b=_.link.show(i.interpolationDuration);b&&!b.isFinished()&&b.delay(v)}),oe(h.incomingDataItems.iterator(),function(_){if(!_.fromNode){var b=_.link.show(i.interpolationDuration);b&&!b.isFinished()&&b.delay(v)}}),l++})}return n.prototype.showReal.call(this)}},t.prototype.changeSorting=function(){var e=this;this.sortNodes();var i={};oe(this._sorted,function(s){var g,v,l=s[1],p=l.level,h=(e.maxSum-e._levelSum[p])*e.valueHeight/2;"horizontal"==e.orientation?(g="y",v=l.pixelHeight):(g="x",v=l.pixelWidth),l.animate({property:g,to:i[p]||h},e.interpolationDuration,e.interpolationEasing),i[p]=(i[p]||h)+v+e.nodePadding,l.invalidateLinks()})},t.prototype.applyInternalDefaults=function(){n.prototype.applyInternalDefaults.call(this),L(this.readerTitle)||(this.readerTitle=this.language.translate("Sankey diagram"))},t.prototype.createDataItem=function(){return new eK},Object.defineProperty(t.prototype,"nodeAlign",{get:function(){return this.getPropertyValue("nodeAlign")},set:function(e){this.setPropertyValue("nodeAlign",e),this.changeSorting()},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"orientation",{get:function(){return this.getPropertyValue("orientation")},set:function(e){this.setPropertyValue("orientation",e,!0);var i=this.nodes.template.nameLabel;"vertical"==e?(this.nodes.template.width=void 0,i.label.horizontalCenter="middle",i.locationX=.5):(this.nodes.template.height=void 0,i.label.horizontalCenter="left",i.locationX=1)},enumerable:!0,configurable:!0}),t.prototype.createNode=function(){var e=new jV;return this._disposers.push(e),e},t.prototype.createLink=function(){var e=new WV;return this._disposers.push(e),e},Object.defineProperty(t.prototype,"valueHeight",{get:function(){return this._valueHeight},set:function(e){e!=this._valueHeight&&(this._valueHeight=e,this.invalidate())},enumerable:!0,configurable:!0}),t.prototype.disposeData=function(){n.prototype.disposeData.call(this),this._sorted=this.nodes.iterator()},t}(dT);G.registeredClasses.SankeyDiagram=tK;var UV=function(n){function t(){var e=n.call(this)||this;e.className="ChordNode";var i=e.createChild(uD);i.location=.5,i.radius=5,i.text="{name}",i.zIndex=1,i.shouldClone=!1,e.label=i,e.layout="none",e.events.on("positionchanged",e.updateRotation,e,!1),e.isMeasured=!1,e.slice=e.createChild(Zd),e.slice.isMeasured=!1;var s=e.hiddenState;return s.properties.fill=(new Rt).getFor("disabledBackground"),s.properties.opacity=.5,s.properties.visible=!0,e.setStateOnChildren=!1,e.slice.hiddenState.properties.visible=!0,e.adapter.add("tooltipX",function(l,p){return p.slice.ix*(p.slice.radius-(p.slice.radius-p.slice.pixelInnerRadius)/2)}),e.adapter.add("tooltipY",function(l,p){return p.slice.iy*(p.slice.radius-(p.slice.radius-p.slice.pixelInnerRadius)/2)}),e}return $(t,n),t.prototype.invalidateLinks=function(){var e=this;n.prototype.invalidateLinks.call(this);var i=this.label,s=this.slice,l=this.chart;if(l&&s){var p=this.total,h=s.arc,g=s.startAngle;this.children.each(function(_){if(_ instanceof ol){var b=_.locationX;M(b)||(b=.5);var C=_.locationY;M(C)||(C=1);var S=g+h*b,E=C*s.radius;_.x=E*ve(S),_.y=E*ge(S)}});var v=g+h*i.location,m=g+(1-p/this.adjustedTotal)*h*.5;Mn(m)&&(m=g),i.fixPosition(v,s.radius),this.nextAngle=m,this._outgoingSorted&&oe(this._outgoingSorted,function(_){var b=_.link;b.parent=e.chart.linksContainer;var C=_.getWorkingValue("value");if(M(C)){if(l.nonRibbon){var S=b.percentWidth;M(S)||(S=5),b.startAngle=g+h/2-h/2*(S/=100),b.arc=h*S}else b.arc=C*l.valueAngle,b.startAngle=e.nextAngle,e.nextAngle+=b.arc;_.toNode||(b.endAngle=b.startAngle),b.radius=s.pixelInnerRadius}}),this._incomingSorted&&oe(this._incomingSorted,function(_){var b=_.link;if(b.radius=s.pixelInnerRadius,l.nonRibbon){var C=b.percentWidth;M(C)||(C=5),b.endAngle=g+h/2-h/2*(C/=100),b.arc=h*C}else{b.endAngle=e.nextAngle;var S=_.getWorkingValue("value");M(S)&&(b.arc=S*l.valueAngle,e.nextAngle+=b.arc)}_.fromNode||(b.startAngle=b.endAngle)})}},t.prototype.updateRotation=function(){var e=this.slice,i=this.trueStartAngle+e.arc/2,s=e.radius,l=s*ve(i),p=s*ge(i),h=Fn({x:l+this.pixelX,y:p+this.pixelY});e.startAngle=this.trueStartAngle+(h-i),this.dx=-this.pixelX,this.dy=-this.pixelY},t.prototype.copyFrom=function(e){n.prototype.copyFrom.call(this,e),this.label.copyFrom(e.label),this.slice.copyFrom(e.slice)},t}(pD);G.registeredClasses.ChordNode=UV;var iK=function(n){function t(){var e=n.call(this)||this;return e.className="QuadraticCurve",e.element=e.paper.add("path"),e.pixelPerfect=!1,e.fill=Le(),e.applyTheme(),e}return $(t,n),t.prototype.draw=function(){if(M(this.x1+this.x2+this.y1+this.y2+this.cpx+this.cpy)){var i={x:this.x2,y:this.y2},s={x:this.cpx,y:this.cpy},l=Ce({x:this.x1,y:this.y1})+qd(i,s);this.path=l}},Object.defineProperty(t.prototype,"cpx",{get:function(){return this.getPropertyValue("cpx")},set:function(e){this.setPropertyValue("cpx",e,!0)},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"cpy",{get:function(){return this.getPropertyValue("cpy")},set:function(e){this.setPropertyValue("cpy",e,!0)},enumerable:!0,configurable:!0}),t.prototype.positionToPoint=function(e){var i={x:this.x1,y:this.y1},s={x:this.cpx,y:this.cpy},l={x:this.x2,y:this.y2},p=QN(i,l,s,e),h=QN(i,l,s,e+.001);return{x:p.x,y:p.y,angle:Fn(p,h)}},t}(ca),zV=function(n){function t(){var e=n.call(this)||this;return e.className="ChordLink",e.middleLine=e.createChild(iK),e.middleLine.shouldClone=!1,e.middleLine.strokeOpacity=0,e.applyTheme(),e}return $(t,n),t.prototype.validate=function(){if(n.prototype.validate.call(this),!this.isTemplate){var e=this.startAngle,i=this.endAngle,s=this.arc,l=this.radius,p=this.dataItem.fromNode,h=this.dataItem.toNode,g=0,v=0;p&&(g=p.pixelX+p.dx,v=p.pixelY+p.dy);var m=0,_=0;if(h&&(m=h.pixelX+h.dx,_=h.pixelY+h.dy),l>0){var b=l*ve(e)+g,C=l*ge(e)+v,S=l*ve(i)+m,E=l*ge(i)+_,x={x:0,y:0},R=Ce({x:b,y:C});R+=Rn(e,s,l),R+=qd({x:S,y:E},x),R+=Rn(i,s,l),R+=qd({x:b,y:C},x),this.link.path=s>0?R:"",this.maskBullets&&(this.bulletsMask.path=R,this.bulletsContainer.mask=this.bulletsMask);var P=e+s/2,k=i+s/2,U=this.middleLine;U.x1=l*ve(P)+g,U.y1=l*ge(P)+v,U.x2=l*ve(k)+m,U.y2=l*ge(k)+_,U.cpx=0,U.cpy=0,U.stroke=this.fill,this.positionBullets()}}},Object.defineProperty(t.prototype,"radius",{get:function(){return this.getPropertyValue("radius")},set:function(e){this.setPropertyValue("radius",e,!0)},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"arc",{get:function(){return this.getPropertyValue("arc")},set:function(e){this.setPropertyValue("arc",e,!0)},enumerable:!0,configurable:!0}),t}(hD);G.registeredClasses.ChordLink=zV;var nK=function(n){function t(){var e=n.call(this)||this;return e.className="ChordDiagramDataItem",e.applyTheme(),e}return $(t,n),t}(cT),rK=function(n){function t(){var e=n.call(this)||this;e.valueAngle=0,e.className="ChordDiagram",e.startAngle=-90,e.endAngle=270,e.radius=ue(80),e.innerRadius=-15,e.nodePadding=5;var i=e.chartContainer.createChild(Ve);return i.align="center",i.valign="middle",i.shouldClone=!1,i.layout="absolute",e.chordContainer=i,e.nodesContainer.parent=i,e.linksContainer.parent=i,e.chartContainer.events.on("maxsizechanged",e.invalidate,e,!1),e.applyTheme(),e}return $(t,n),t.prototype.validate=function(){var e=this,i=this.chartContainer,s=this.endAngle,l=this.startAngle+this.nodePadding/2,p=Qa(this.startAngle,this.endAngle,1);p=hm([p,{x:0,y:0,width:0,height:0}]);var g=Math.min(i.innerWidth/p.width,i.innerHeight/p.height);M(g)||(g=0);var v=Nn(this.radius,g),m=Nn(this.innerRadius,v,!0),_=this.dataItem.values.value.sum,b=0,C=0;oe(this._sorted,function(S){var E=S[1];e.getNodeValue(E),b++;var x=E.total;E.total/_<e.minNodeSize&&(x=_*e.minNodeSize),C+=x}),this.valueAngle=(s-this.startAngle-this.nodePadding*b)/C,oe(this._sorted,function(S){var E=S[1],x=E.slice;x.radius=v,x.innerRadius=m;var P,R=E.total;E.total/_<e.minNodeSize&&(R=_*e.minNodeSize),E.adjustedTotal=R,x.arc=P=e.nonRibbon?(s-e.startAngle)/b-e.nodePadding:e.valueAngle*R,x.startAngle=l,E.trueStartAngle=l,E.parent=e.nodesContainer,E.validate(),l+=P+e.nodePadding}),this.chordContainer.definedBBox={x:v*p.x,y:v*p.y,width:v*p.width,height:v*p.height},this.chordContainer.invalidateLayout(),n.prototype.validate.call(this)},t.prototype.applyInternalDefaults=function(){n.prototype.applyInternalDefaults.call(this),L(this.readerTitle)||(this.readerTitle=this.language.translate("Chord diagram"))},t.prototype.createDataItem=function(){return new nK},Object.defineProperty(t.prototype,"startAngle",{get:function(){return this.getPropertyValue("startAngle")},set:function(e){this.setPropertyValue("startAngle",e,!0)},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"endAngle",{get:function(){return this.getPropertyValue("endAngle")},set:function(e){this.setPropertyValue("endAngle",e,!0)},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"radius",{get:function(){return this.getPropertyValue("radius")},set:function(e){this.setPercentProperty("radius",e,!0,!1,10,!1)},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"innerRadius",{get:function(){return this.getPropertyValue("innerRadius")},set:function(e){this.setPercentProperty("innerRadius",e,!0,!1,10,!1)},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"nonRibbon",{get:function(){return this.getPropertyValue("nonRibbon")},set:function(e){this.setPropertyValue("nonRibbon",e,!0),this.links.template.middleLine.strokeOpacity=1,this.links.template.link.fillOpacity=0},enumerable:!0,configurable:!0}),t.prototype.createNode=function(){var e=new UV;return this._disposers.push(e),e},t.prototype.createLink=function(){var e=new zV;return this._disposers.push(e),e},t}(dT);G.registeredClasses.ChordDiagram=rK;var ip=function(n){function t(){var e=n.call(this)||this;return e.className="Column",e.width=ue(80),e.height=ue(80),e.events.disableType("transformed"),e.applyOnClones=!0,e.strokeOpacity=1,e.layout="none",e.createAssets(),e.events.on("childadded",e.handleKidAdded,e,!1),e}return $(t,n),t.prototype.handleKidAdded=function(){"none"==this.layout&&(this.layout="absolute")},t.prototype.createAssets=function(){this.column=this.createChild(rl),this.column.shouldClone=!1,this.column.isMeasured=!1,this.column.cornerRadius(0,0,0,0),this._disposers.push(this.column)},t.prototype.validate=function(){n.prototype.validate.call(this);var e=this.column;e&&(e.width=vt(this.pixelWidth,this.maxWidth),e.height=vt(this.pixelHeight,this.maxHeight),e.invalid&&e.validate())},t.prototype.copyFrom=function(e){n.prototype.copyFrom.call(this,e),this.column&&this.column.copyFrom(e.column)},Object.defineProperty(t.prototype,"bbox",{get:function(){return this.definedBBox?this.definedBBox:this.column?{x:0,y:0,width:this.column.measuredWidth,height:this.column.measuredHeight}:{x:0,y:0,width:vt(this.pixelWidth,this.maxWidth),height:vt(this.pixelHeight,this.maxHeight)}},enumerable:!0,configurable:!0}),t}(Ve);G.registeredClasses.Column=ip;var hc=function(n){function t(){var e=n.call(this)||this;return e.className="ColumnSeriesDataItem",e.locations.dateX=.5,e.locations.dateY=.5,e.locations.categoryX=.5,e.locations.categoryY=.5,e.applyTheme(),e}return $(t,n),Object.defineProperty(t.prototype,"column",{get:function(){return this._column},set:function(e){this.setColumn(e)},enumerable:!0,configurable:!0}),t.prototype.setColumn=function(e){var i=this;if(this._column&&e!=this._column&&Ue(this.sprites,this._column),this._column=e,e){var s=e.dataItem;s&&s!=this&&(s.column=void 0),this.addSprite(e),this._disposers.push(new Bt(function(){i.component&&i.component.columns.removeValue(e)}))}},Object.defineProperty(t.prototype,"width",{get:function(){var e=this.properties.width;return this._adapterO&&(e=this._adapterO.apply("width",e)),e},set:function(e){this.properties.width!=e&&(this.properties.width=e,this.component&&this.component.validateDataElement(this))},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"height",{get:function(){var e=this.properties.height;return this._adapterO&&(e=this._adapterO.apply("height",e)),e},set:function(e){this.properties.height!=e&&(this.properties.height=e,this.component&&this.component.validateDataElement(this))},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"rangesColumns",{get:function(){return this._rangesColumns||(this._rangesColumns=new ii),this._rangesColumns},enumerable:!0,configurable:!0}),t}(aD),np=function(n){function t(){var e=n.call(this)||this;e._startLocation=0,e._endLocation=1,e.className="ColumnSeries",e.width=ue(100),e.height=ue(100),e.strokeOpacity=0,e.fillOpacity=1,e.clustered=!0;var i=e.mainContainer.createChild(Ve);return i.shouldClone=!1,i.isMeasured=!1,i.layout="none",e._columnsContainer=i,e.columns.template.pixelPerfect=!1,e.tooltipColorSource=e.columns.template,e.applyTheme(),e}return $(t,n),Object.defineProperty(t.prototype,"columnsContainer",{get:function(){return this._columnsContainer},enumerable:!0,configurable:!0}),t.prototype.applyInternalDefaults=function(){n.prototype.applyInternalDefaults.call(this),L(this.readerTitle)||(this.readerTitle=this.language.translate("Column Series"))},t.prototype.createDataItem=function(){return new hc},t.prototype.validate=function(){var e=this;if(this.group.node.removeAttribute("fill"),this.chart&&this.xAxis&&this.yAxis){var h,s=0,l=0,p=[];oe(this.chart.series.iterator(),function(E){var x;E instanceof t&&e.baseAxis==E.baseAxis&&(x=e.baseAxis==e.xAxis?e.chart.yAxes.indexOf(E.yAxis):e.chart.xAxes.indexOf(E.xAxis),p.push({series:E,axis:x}))}),p.sort(function(E,x){return E.axis-x.axis}),be(p,function(E){var x=E.series;x instanceof t&&((!x.stacked&&x.clustered||h!=E.axis&&x.clustered)&&s++,x==e&&(l=s-1)),h=E.axis}),this.clustered||(l=0,s=1);var g=this.baseAxis.renderer,v=g.cellStartLocation,m=g.cellEndLocation;this._startLocation=v+l/s*(m-v),this._endLocation=v+(l+1)/s*(m-v);var _=this.xAxis,b=this.yAxis;_ instanceof Bi&&b instanceof rt&&_.sortBySeries==this&&this.sortCategoryAxis(_,"valueY"),b instanceof Bi&&_ instanceof rt&&b.sortBySeries==this&&this.sortCategoryAxis(b,"valueX")}n.prototype.validate.call(this);for(var C=0;C<this.startIndex;C++){var S=this.dataItems.getIndex(C);this.disableUnusedColumns(S)}for(C=this.dataItems.length-1;C>this.endIndex;C--)S=this.dataItems.getIndex(C),this.disableUnusedColumns(S);this._propertiesChanged=!1},t.prototype.sortCategoryAxis=function(e,i){var s=this;this.dataItems.values.sort(function(p,h){return h.values[i].workingValue-p.values[i].workingValue});var l=0;this.dataItems.each(function(p){p._index=l,l++}),e.dataItems.each(function(p){var h=p.component,g=h.categoryToPosition(p.category)-p.deltaPosition,v=h.getSeriesDataItemByCategory(p.category,s);if(v){var m=s.dataItems.indexOf(v);p._index=m;var _=ae((m+.5)/s.dataItems.length-g,3);p.deltaAnimation&&!p.deltaAnimation.isDisposed()&&p.deltaAnimation.animationOptions[0].to==_||_!=ae(p.deltaPosition,3)&&(p.deltaAnimation&&p.deltaAnimation.stop(),p.deltaAnimation=p.animate({property:"deltaPosition",from:-_,to:0},h.interpolationDuration,h.interpolationEasing),s._disposers.push(p.deltaAnimation))}}),e.dataItems.values.sort(function(p,h){return p.index-h.index})},t.prototype.validateDataElement=function(e){this.chart&&this.xAxis&&this.yAxis&&(this.validateDataElementReal(e),n.prototype.validateDataElement.call(this,e))},t.prototype.getStartLocation=function(e){return this._startLocation+(this.baseAxis==this.xAxis?e.locations[this.xOpenField]-.5:e.locations[this.yOpenField]-.5)},t.prototype.getEndLocation=function(e){return this._endLocation+(this.baseAxis==this.xAxis?e.locations[this.xField]-.5:e.locations[this.yField]-.5)},t.prototype.validateDataElementReal=function(e){var s,l,p,h,i=this,g=this.getStartLocation(e),v=this.getEndLocation(e),m=this.xField,_=this.xOpenField,b=this.yField,C=this.yOpenField,S=this.columns.template,E=S.percentWidth,x=S.percentHeight,R=S.pixelWidth,P=S.pixelHeight,k=S.maxWidth,U=S.maxHeight,W=S.pixelPaddingLeft,Y=S.pixelPaddingRight,K=S.pixelPaddingTop,X=S.pixelPaddingBottom,J=!1,je=e.width;L(je)&&(M(je)&&(R=je),je instanceof ft&&(E=100*je.value));var we=e.height;if(L(we)&&(M(we)&&(P=we),we instanceof ft&&(x=100*we.value)),this.xAxis instanceof Bi&&this.yAxis instanceof Bi){if(!e.hasValue(this._xValueFields)||!e.hasValue(this._yValueFields))return;g=0,v=1,Mn(E)||(g+=Oe=ae((v-g)*(1-E/100)/2,5),v-=Oe),s=this.xAxis.getX(e,_,g),l=this.xAxis.getX(e,m,v),Mn(E)&&(s+=Oe=(l-s-R)/2,l-=Oe),!Mn(k)&&k<Math.abs(l-s)&&(s+=Oe=(l-s-k)/2,l-=Oe),g=0,v=1,Mn(x)||(g+=Oe=ae((1-x/100)/2,5),v-=Oe),p=this.yAxis.getY(e,C,g),h=this.yAxis.getY(e,b,v),Mn(x)&&(h+=Oe=(h-p-P)/2,p-=Oe),!Mn(U)&&U<Math.abs(h-p)&&(h+=Oe=(h-p-U)/2,p-=Oe),l=this.fixHorizontalCoordinate(l),s=this.fixHorizontalCoordinate(s),p=this.fixVerticalCoordinate(p),h=this.fixVerticalCoordinate(h)}else if(this.baseAxis==this.xAxis){if(!e.hasValue(this._yValueFields))return;Mn(E)||(g+=Oe=ae((v-g)*(1-E/100)/2,5),v-=Oe),s=this.xAxis.getX(e,_,g),l=this.xAxis.getX(e,m,v),Mn(E)&&(s+=Oe=(l-s-R)/2,l-=Oe),!Mn(k)&&k<Math.abs(l-s)&&(s+=Oe=(l-s-k)/2,l-=Oe);var Tt=e.locations[C],Vi=e.locations[b];this.yAxis instanceof rt&&this.dataFields[this.yField]!=this.dataFields[this.yOpenField]&&(Tt=0,Vi=0),h=this.yAxis.getY(e,C,Tt),p=this.yAxis.getY(e,b,Vi);var fn=Math.ceil(this.yAxis.axisLength);(p<0&&h<0||p>fn&&h>fn)&&(J=!0),p=this.fixVerticalCoordinate(p),h=this.fixVerticalCoordinate(h),Math.abs(l-s)-W-Y==0&&(J=!0)}else{if(!e.hasValue(this._xValueFields))return;var Oe;Mn(x)||(g+=Oe=ae((v-g)*(1-x/100)/2,5),v-=Oe),p=this.yAxis.getY(e,C,g),h=this.yAxis.getY(e,b,v),Mn(x)&&(h-=Oe=(h-p-P)/2,p+=Oe),!Mn(U)&&U<Math.abs(h-p)&&(h-=Oe=(h-p-U)/2,p+=Oe);var He=e.locations[m],qi=e.locations[_];this.xAxis instanceof rt&&this.dataFields[this.xField]!=this.dataFields[this.xOpenField]&&(He=0,qi=0),l=this.xAxis.getX(e,m,He),s=this.xAxis.getX(e,_,qi),fn=Math.ceil(this.xAxis.axisLength),(l<0&&s<0||l>fn&&s>fn)&&(J=!0),l=this.fixHorizontalCoordinate(l),s=this.fixHorizontalCoordinate(s),Math.abs(p-h)-K-X==0&&(J=!0)}var Be,gn=Math.abs(l-s),Zi=Math.abs(h-p),Mr=Math.min(s,l),vn=Math.min(p,h);J?this.disableUnusedColumns(e):(e.column?(Be=e.column,this._propertiesChanged&&(Xi(this,Be,Ni),Xi(this.columns.template,Be,Ni),be(Ni,function(Xt){Be[Xt]=Be[Xt]}))):(Xi(this,Be=this.columns.create(),Ni),Xi(this.columns.template,Be,Ni),e.addSprite(Be),e.column=Be,Be.paper=this.paper,this.itemsFocusable()?(L(this.role)||(this.role="menu"),L(Be.role)||(Be.role="menuitem"),Be.focusable=!0):(L(this.role)||(this.role="list"),L(Be.role)||(Be.role="listitem"),Be.focusable=!1),Be.focusable&&(Be.events.on("focus",function(Xt){Be.readerTitle=i.populateString(i.itemReaderText,e)},void 0,!1),Be.events.on("blur",function(Xt){Be.readerTitle=""},void 0,!1)),Be.hoverable&&(Be.events.on("over",function(Xt){Be.readerTitle=i.populateString(i.itemReaderText,e)},void 0,!1),Be.events.on("out",function(Xt){Be.readerTitle=""},void 0,!1)),Be.parent=this.columnsContainer,Be.virtualParent=this),Be.width=gn,Be.height=Zi,Be.x=Mr,Be.y=vn,Be.realX=s,Be.realY=p,Be.realWidth=l-s,Be.realHeight=h-p,this.setColumnStates(Be),Be.invalid&&Be.validate(),Be.__disabled=!1,oe(this.axisRanges.iterator(),function(Xt){var Ei=e.rangesColumns.getKey(Xt.uid);Ei||(Ei=i.columns.create(),Xi(Xt.contents,Ei,Ni),e.addSprite(Ei),e.rangesColumns.setKey(Xt.uid,Ei),Ei.paper=i.paper),Ei.parent=Xt.contents,Ei.width=gn,Ei.height=Zi,Ei.x=Mr,Ei.y=vn,i.setColumnStates(Ei),Ei.invalid&&Ei.validate(),Ei.__disabled=!1})),e.itemWidth=gn,e.itemHeight=Zi},t.prototype.disableUnusedColumns=function(e){e&&(e.column&&(e.column.width=0,e.column.height=0,e.column.__disabled=!0),oe(this.axisRanges.iterator(),function(i){var s=e.rangesColumns.getKey(i.uid);s&&(s.width=0,s.height=0,s.__disabled=!0)}))},t.prototype.setColumnStates=function(e){if(this._dropFromOpenState||this._dropFromPreviousState||this._riseFromOpenState||this._riseFromPreviousState){var i=e.dataItem;if(this.xAxis instanceof rt||this.yAxis instanceof rt){var s,l=void 0,p=void 0;this.baseAxis==this.yAxis?(this.xOpenField&&this.xField&&this.xAxis instanceof rt&&(s=i.getValue(this.xOpenField),l=i.getValue(this.xField)),p=i.getValue(this.xAxis.axisFieldName+"X","previousChange")):(this.yOpenField&&this.yField&&this.yAxis instanceof rt&&(s=i.getValue(this.yOpenField),l=i.getValue(this.yField)),p=i.getValue(this.yAxis.axisFieldName+"Y","previousChange")),l<s?(i.droppedFromOpen=!0,e.defaultState.copyFrom(this._dropFromOpenState),e.setState(this._dropFromOpenState,0)):(i.droppedFromOpen=!1,e.defaultState.copyFrom(this._riseFromOpenState),e.setState(this._riseFromOpenState,0)),p<0?(i.droppedFromPrevious=!0,e.defaultState.copyFrom(this._dropFromPreviousState),e.setState(this._dropFromPreviousState,0)):(i.droppedFromPrevious=!1,e.defaultState.copyFrom(this._riseFromPreviousState),e.setState(this._riseFromPreviousState,0))}}},Object.defineProperty(t.prototype,"columns",{get:function(){return this._columns||(this._columns=new Ii(this.createColumnTemplate()),this._disposers.push(new Qt(this._columns)),this._disposers.push(this._columns.template)),this._columns},enumerable:!0,configurable:!0}),t.prototype.createColumnTemplate=function(){return new ip},Object.defineProperty(t.prototype,"clustered",{get:function(){return this.getPropertyValue("clustered")},set:function(e){this.setPropertyValue("clustered",e,!0)},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"dropFromOpenState",{get:function(){return this._dropFromOpenState||(this._dropFromOpenState=this.states.create("dropFromOpenState")),this._dropFromOpenState},set:function(e){this._dropFromOpenState=e},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"dropFromPreviousState",{get:function(){return this._dropFromPreviousState||(this._dropFromPreviousState=this.states.create("dropFromPreviousState")),this._dropFromPreviousState},set:function(e){this._dropFromPreviousState=e},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"riseFromOpenState",{get:function(){return this._riseFromOpenState||(this._riseFromOpenState=this.states.create("riseFromOpenState")),this._riseFromOpenState},set:function(e){this._riseFromOpenState=e},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"riseFromPreviousState",{get:function(){return this._riseFromPreviousState||(this._riseFromPreviousState=this.states.create("riseFromPreviousState")),this._riseFromPreviousState},set:function(e){this._riseFromPreviousState=e},enumerable:!0,configurable:!0}),t.prototype.updateLegendValue=function(e,i){var p,h,s=this;n.prototype.updateLegendValue.call(this,e,i),this.legendDataItem&&(e&&(p=e.droppedFromOpen?this._dropFromOpenState:this._riseFromOpenState,h=e.droppedFromPrevious?this._dropFromPreviousState:this._riseFromPreviousState),oe(this.legendDataItem.marker.children.iterator(),function(g){e?(g.setState(h),g.setState(p)):(g.setState(s._riseFromPreviousState),g.setState(s._riseFromOpenState))}))},t.prototype.createLegendMarker=function(e){var i=e.pixelWidth,s=e.pixelHeight;e.removeChildren();var l=e.createChild(rl);l.shouldClone=!1,Xi(this,l,Ni),l.copyFrom(this.columns.template),l.padding(0,0,0,0),l.width=i,l.height=s;var p=e.dataItem;p.color=this.fill,p.colorOrig=this.fill},t.prototype.copyFrom=function(e){n.prototype.copyFrom.call(this,e),this.columns.template.copyFrom(e.columns.template)},t.prototype.getBulletLocationX=function(e,i){if(this.baseAxis==this.xAxis){var s=e.locationX;M(s)||(s=.5);var l=this.getEndLocation(e.dataItem);return l-(l-this.getStartLocation(e.dataItem))*s}return n.prototype.getBulletLocationX.call(this,e,i)},t.prototype.getBulletLocationY=function(e,i){if(this.baseAxis==this.yAxis){var s=e.locationY;M(s)||(s=.5);var l=this.getEndLocation(e.dataItem);return l-(l-this.getStartLocation(e.dataItem))*s}return n.prototype.getBulletLocationY.call(this,e,i)},t.prototype.getAdjustedXLocation=function(e,i,s){return M(s)||(s=e?e.locations[i]:.5),this._endLocation-(this._endLocation-this._startLocation)*(1-s)},t.prototype.getAdjustedYLocation=function(e,i,s){return M(s)||(s=e?e.locations[i]:.5),this._endLocation-(this._endLocation-this._startLocation)*s},t.prototype.fixVerticalCoordinate=function(e){return xe(e,-this.columns.template.pixelPaddingTop,this.yAxis.axisLength+this.columns.template.pixelPaddingBottom)},t.prototype.fixHorizontalCoordinate=function(e){return xe(e,-this.columns.template.pixelPaddingLeft,this.xAxis.axisLength+this.columns.template.pixelPaddingRight)},t.prototype.disposeData=function(){n.prototype.disposeData.call(this),this.columns.clear()},t}(ep);G.registeredClasses.ColumnSeries=np,G.registeredClasses.ColumnSeriesDataItem=hc;var $V=function(n){function t(){var e=n.call(this)||this;return e.className="TreeMapSeriesDataItem",e.applyTheme(),e}return $(t,n),Object.defineProperty(t.prototype,"parentName",{get:function(){var e=this.treeMapDataItem;if(e&&e.parent)return e.parent.name},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"value",{get:function(){var e=this.treeMapDataItem;if(e)return e.value},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"treeMapDataItem",{get:function(){return this._dataContext},enumerable:!0,configurable:!0}),t.prototype.hide=function(e,i,s,l){var p=this.treeMapDataItem;return p&&p.hide(e),n.prototype.hide.call(this,e,i,s,l)},t.prototype.show=function(e,i,s){var l=this.treeMapDataItem;return l&&l.show(e,i,s),n.prototype.show.call(this,e,i,s)},t}(hc),hT=function(n){function t(){var e=n.call(this)||this;e.className="TreeMapSeries",e.applyTheme(),e.fillOpacity=1,e.strokeOpacity=1,e.minBulletDistance=0,e.columns.template.tooltipText="{parentName} {name}: {value}",e.columns.template.configField="config";var i=new Rt;return e.stroke=i.getFor("background"),e.dataFields.openValueX="x0",e.dataFields.valueX="x1",e.dataFields.openValueY="y0",e.dataFields.valueY="y1",e.sequencedInterpolation=!1,e.showOnInit=!1,e.columns.template.pixelPerfect=!1,e}return $(t,n),t.prototype.processDataItem=function(e,i){i.seriesDataItem=e,n.prototype.processDataItem.call(this,e,i)},t.prototype.createDataItem=function(){return new $V},t.prototype.show=function(e){if(!this.preventShow){var i=this.defaultState.transitionDuration;return M(e)&&(i=e),this.dataItems.each(function(s){s.show(e)}),n.prototype.showReal.call(this,i)}},t.prototype.hide=function(e){var i=this.defaultState.transitionDuration;M(e)&&(i=e);var s=n.prototype.hideReal.call(this,i);return this.dataItems.each(function(l){l.hide(e)}),s},t.prototype.processValues=function(){},t.prototype.getStartLocation=function(e){return 0},t.prototype.getEndLocation=function(e){return 1},t.prototype.dataChangeUpdate=function(){},t.prototype.processConfig=function(e){e&&(!L(e.dataFields)||!li(e.dataFields))&&(e.dataFields={}),n.prototype.processConfig.call(this,e)},t.prototype.createLegendMarker=function(e){var i=e.pixelWidth,s=e.pixelHeight;e.removeChildren();var l=e.createChild(rl);l.shouldClone=!1,Xi(this,l,Ni),l.padding(0,0,0,0),l.width=i,l.height=s;var p=e.dataItem;p.color=l.fill,p.colorOrig=l.fill},t.prototype.disableUnusedColumns=function(e){n.prototype.disableUnusedColumns.call(this,e),e.column&&(e.column.__disabled=!1)},t}(np);G.registeredClasses.TreeMapSeries=hT,G.registeredClasses.TreeMapSeriesDataItem=$V;var oK=function(n){function t(){var e=n.call(this)||this;return e.rows=[],e.className="TreeMapDataItem",e.values.value={workingValue:0},e.values.x0={},e.values.y0={},e.values.x1={},e.values.y1={},e.hasChildren.children=!0,e.applyTheme(),e}return $(t,n),Object.defineProperty(t.prototype,"legendDataItem",{get:function(){return this._legendDataItem},set:function(e){this._legendDataItem=e,e.label&&(e.label.dataItem=this),e.valueLabel&&(e.valueLabel.dataItem=this)},enumerable:!0,configurable:!0}),t.prototype.getDuration=function(){return 0},Object.defineProperty(t.prototype,"value",{get:function(){var e=0;return this.children&&0!=this.children.length?oe(this.children.iterator(),function(i){var s=i.value;M(s)&&(e+=s)}):e=this.values.value.workingValue,e},set:function(e){this.setValue("value",e)},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"percent",{get:function(){return this.parent?this.value/this.parent.value*100:100},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"x0",{get:function(){return this.values.x0.value},set:function(e){this.setValue("x0",e)},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"x1",{get:function(){return this.values.x1.value},set:function(e){this.setValue("x1",e)},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"y0",{get:function(){return this.values.y0.value},set:function(e){this.setValue("y0",e)},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"y1",{get:function(){return this.values.y1.value},set:function(e){this.setValue("y1",e)},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"name",{get:function(){return this.properties.name},set:function(e){this.setProperty("name",e)},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"children",{get:function(){return this.properties.children},set:function(e){this.setProperty("children",e)},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"level",{get:function(){return this.parent?this.parent.level+1:0},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"color",{get:function(){var e=this.properties.color;return null==e&&this.parent&&(e=this.parent.color),null==e&&this.component&&(e=this.component.colors.getIndex(this.component.colors.step*this.index)),e},set:function(e){this.setProperty("color",e)},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"fill",{get:function(){return this.color},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"series",{get:function(){return this._series},set:function(e){e!=this._series&&(this._series&&(this.component.series.removeValue(this._series),this._series.dispose()),this._series=e,this._disposers.push(e))},enumerable:!0,configurable:!0}),t.prototype.hide=function(e,i,s,l){this.setWorkingValue("value",0),this.children&&this.children.each(function(h){h.hide(e,i,s,l)});var p=this.seriesDataItem;return p&&p.bullets.each(function(h,g){g.hide(),g.preventShow=!0}),n.prototype.hide.call(this,e,i,s,l)},t.prototype.show=function(e,i,s){this.setWorkingValue("value",this.values.value.value),this.children&&this.children.each(function(p){p.show(e,i,s)});var l=this.seriesDataItem;return l&&l.bullets.each(function(p,h){h.preventShow=!1}),n.prototype.show.call(this,e,i,s)},t}(iT),sK=function(n){function t(){var e=n.call(this)||this;e.layoutAlgorithm=e.squarify,e.zoomable=!0,e.className="TreeMap",e._usesData=!0,e.maxLevels=2,e.currentLevel=0,e.hideParentColumns=!1,e.colors=new Fm,e.sorting="descending";var i=e.xAxes.push(new rt);i.title.disabled=!0,i.strictMinMax=!0;var s=i.renderer;s.inside=!0,s.labels.template.disabled=!0,s.ticks.template.disabled=!0,s.grid.template.disabled=!0,s.axisFills.template.disabled=!0,s.minGridDistance=100,s.line.disabled=!0,s.baseGrid.disabled=!0;var l=e.yAxes.push(new rt);l.title.disabled=!0,l.strictMinMax=!0;var p=l.renderer;p.inside=!0,p.labels.template.disabled=!0,p.ticks.template.disabled=!0,p.grid.template.disabled=!0,p.axisFills.template.disabled=!0,p.minGridDistance=100,p.line.disabled=!0,p.baseGrid.disabled=!0,p.inversed=!0,e.xAxis=i,e.yAxis=l;var h=new hT;return e.seriesTemplates=new bm(h),h.virtualParent=e,e._disposers.push(new zd(e.seriesTemplates)),e._disposers.push(h),e.zoomOutButton.events.on("hit",function(){e.zoomToChartDataItem(e._homeDataItem)},void 0,!1),e.seriesTemplates.events.on("insertKey",function(g){g.newValue.isTemplate=!0},void 0,!1),e.applyTheme(),e}return $(t,n),Object.defineProperty(t.prototype,"navigationBar",{get:function(){return this._navigationBar},set:function(e){var i=this;this._navigationBar!=e&&(this._navigationBar=e,e.parent=this,e.toBack(),e.links.template.events.on("hit",function(s){var l=s.target.dataItem.dataContext;l.isDisposed()||(i.zoomToChartDataItem(l),i.createTreeSeries(l))},void 0,!0),this._disposers.push(e))},enumerable:!0,configurable:!0}),t.prototype.validateData=function(){this.series.clear(),this._tempSeries=[],n.prototype.validateData.call(this),this._homeDataItem&&this._homeDataItem.dispose();var e=this.dataItems.template.clone();this._homeDataItem=e,oe(this.dataItems.iterator(),function(l){l.parent=e}),e.children=this.dataItems,e.x0=0,e.y0=0,e.name=this._homeText;var i=1e3,s=10*Math.round(i*this.pixelHeight/this.pixelWidth/10)||1e3;e.x1=i,e.y1=s,this.xAxis.min=0,this.xAxis.max=i,this.xAxis.getMinMax(),this.yAxis.min=0,this.yAxis.max=s,this.yAxis.getMinMax(),this.layoutItems(e),this.createTreeSeries(e),this.feedLegend()},t.prototype.layoutItems=function(e,i){if(e){var s=e.children;i||(i=this.sorting),"ascending"==i&&s.values.sort(function(g,v){return g.value-v.value}),"descending"==i&&s.values.sort(function(g,v){return v.value-g.value}),this._updateDataItemIndexes(0),this.layoutAlgorithm(e);for(var l=0,p=s.length;l<p;l++){var h=s.getIndex(l);h.children&&this.layoutItems(h)}}},t.prototype.createTreeSeries=function(e){var i=this;this._tempSeries=[];for(var s=[e],l=e.parent;null!=l;)this.initSeries(l),s.push(l),l=l.parent;s.reverse(),this.navigationBar&&(this.navigationBar.data=s),this.createTreeSeriesReal(e),be(this._tempSeries,function(p){-1==i.series.indexOf(p)&&i.series.push(p),p.zIndex=p.level})},t.prototype.createTreeSeriesReal=function(e){if(e.children&&e.level<this.currentLevel+this.maxLevels){this.initSeries(e);for(var s=0;s<e.children.length;s++){var l=e.children.getIndex(s);l.children&&this.createTreeSeriesReal(l)}}},t.prototype.setData=function(e){this.currentLevel=0,this.currentlyZoomed=void 0,this.xAxis.start=0,this.xAxis.end=1,this.yAxis.start=0,this.yAxis.end=1,n.prototype.setData.call(this,e)},t.prototype.seriesAppeared=function(){return!0},t.prototype.initSeries=function(e){var i=this;if(!e.series){var s=void 0,l=this.seriesTemplates.getKey(e.level.toString());(s=l?l.clone():this.series.create()).dataItem.dataContext=e,s.name=e.name,s.parentDataItem=e,e.series=s,s.level=e.level;var h=e.dataContext;h&&(s.config=h.config),this.dataUsers.removeValue(s),s.data=e.children.values,s.fill=e.color,s.columnsContainer.hide(0),s.bulletsContainer.hide(0),s.columns.template.adapter.add("fill",function(g,v){var m=v.dataItem;if(m){var _=m.treeMapDataItem;if(_)return v.fill=_.color,v.adapter.remove("fill"),_.color}}),this.zoomable&&(e.level>this.currentLevel||e.children&&e.children.length>0)&&(s.columns.template.cursorOverStyle=jn.pointer,this.zoomable&&s.columns.template.events.on("hit",function(g){var v=g.target.dataItem;e.level>i.currentLevel?i.zoomToChartDataItem(v.treeMapDataItem.parent):i.zoomToSeriesDataItem(v)},this,void 0))}this._tempSeries.push(e.series)},t.prototype.toggleBullets=function(e){var i=this;oe(this.series.iterator(),function(s){-1==i._tempSeries.indexOf(s)?(s.columnsContainer.hide(),s.bulletsContainer.hide(e)):(s.columnsContainer.show(),s.bulletsContainer.show(e),s.dataItems.each(function(l){l.bullets.each(function(p,h){h.show()})}),s.level<i.currentLevel?(i.hideParentColumns&&s.columnsContainer.hide(),s.bulletsContainer.hide(e)):s.level==i.currentLevel&&i.maxLevels>1&&s.dataItems.each(function(l){l.treeMapDataItem.children&&l.bullets.each(function(p,h){h.hide()})}))})},t.prototype.zoomToSeriesDataItem=function(e){this.zoomToChartDataItem(e.treeMapDataItem)},t.prototype.zoomToChartDataItem=function(e){var i=this;e||(e=this._homeDataItem);var s=this.zoomOutButton;if(s&&(e!=this._homeDataItem?s.show():s.hide()),e&&e.children){this.xAxis.zoomToValues(e.x0,e.x1),this.yAxis.zoomToValues(e.y0,e.y1),this.currentLevel=e.level,this.currentlyZoomed=e,this.createTreeSeries(e);var l=this.xAxis.rangeChangeAnimation||this.yAxis.rangeChangeAnimation;!l||l.isDisposed()||l.isFinished()?this.toggleBullets():(this._dataDisposers.push(l),l.events.once("animationended",function(){i.toggleBullets()}))}},t.prototype.applyInternalDefaults=function(){n.prototype.applyInternalDefaults.call(this),L(this.readerTitle)||(this.readerTitle=this.language.translate("TreeMap chart"))},t.prototype.createDataItem=function(){return new oK},Object.defineProperty(t.prototype,"maxLevels",{get:function(){return this.getPropertyValue("maxLevels")},set:function(e){this.setPropertyValue("maxLevels",e,!0)},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"currentLevel",{get:function(){return this.getPropertyValue("currentLevel")},set:function(e){this.setPropertyValue("currentLevel",e,!0)},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"hideParentColumns",{get:function(){return this.getPropertyValue("hideParentColumns")},set:function(e){this.setPropertyValue("hideParentColumns",e)},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"sorting",{get:function(){return this.getPropertyValue("sorting")},set:function(e){this.setPropertyValue("sorting",e,!0)},enumerable:!0,configurable:!0}),t.prototype.createSeries=function(){return new hT},Object.defineProperty(t.prototype,"homeText",{get:function(){return this._homeText},set:function(e){this._homeText=e,this._homeDataItem&&(this._homeDataItem.name=this._homeText)},enumerable:!0,configurable:!0}),t.prototype.processConfig=function(e){if(e){if(L(e.layoutAlgorithm)&&gt(e.layoutAlgorithm))switch(e.layoutAlgorithm){case"squarify":e.layoutAlgorithm=this.squarify;break;case"binaryTree":e.layoutAlgorithm=this.binaryTree;break;case"slice":e.layoutAlgorithm=this.slice;break;case"dice":e.layoutAlgorithm=this.dice;break;case"sliceDice":e.layoutAlgorithm=this.sliceDice;break;default:delete e.layoutAlgorithm}L(e.navigationBar)&&!L(e.navigationBar.type)&&(e.navigationBar.type="NavigationBar"),n.prototype.processConfig.call(this,e)}},t.prototype.validateLayout=function(){n.prototype.validateLayout.call(this),this.layoutItems(this.currentlyZoomed)},t.prototype.validateDataItems=function(){n.prototype.validateDataItems.call(this),this.layoutItems(this._homeDataItem),oe(this.series.iterator(),function(e){e.validateRawData()}),this.zoomToChartDataItem(this._homeDataItem)},t.prototype.binaryTree=function(e){var s,p,i=e.children,l=i.length,h=new Array(l+1);for(h[0]=p=s=0;s<l;++s)h[s+1]=p+=i.getIndex(s).value;l>0&&function g(v,m,_,b,C,S,E){if(v>=m-1)return(x=i.getIndex(v)).x0=b,x.y0=C,x.x1=S,void(x.y1=E);for(var R=h[v],P=_/2+R,k=v+1,U=m-1;k<U;){var W=k+U>>>1;h[W]<P?k=W+1:U=W}P-h[k-1]<h[k]-P&&v+1<k&&--k;var x,Y=h[k]-R,K=_-Y;if(0==_)return(x=i.getIndex(v)).x0=b,x.y0=C,x.x1=S,void(x.y1=E);if(S-b>E-C){var X=(b*K+S*Y)/_;g(v,k,Y,b,C,X,E),g(k,m,K,X,C,S,E)}else{var J=(C*K+E*Y)/_;g(v,k,Y,b,C,S,J),g(k,m,K,b,J,S,E)}}(0,l,e.value,e.x0,e.y0,e.x1,e.y1)},t.prototype.slice=function(e){for(var g,i=e.x0,s=e.x1,l=e.y0,h=e.children,v=-1,m=h.length,_=e.value&&(e.y1-l)/e.value;++v<m;)(g=h.getIndex(v)).x0=i,g.x1=s,g.y0=l,g.y1=l+=g.value*_},t.prototype.dice=function(e){for(var g,i=e.x0,l=e.y0,p=e.y1,h=e.children,v=-1,m=h.length,_=e.value&&(e.x1-i)/e.value;++v<m;)(g=h.getIndex(v)).y0=l,g.y1=p,g.x0=i,g.x1=i+=g.value*_},t.prototype.sliceDice=function(e){1&e.level?this.slice(e):this.dice(e)},t.prototype.squarify=function(e){for(var v,C,S,x,R,P,k,U,W,Y,i=(1+Math.sqrt(5))/2,s=e.x0,l=e.x1,p=e.y0,h=e.y1,g=e.children,m=0,_=0,b=g.length,E=e.value;m<b;){C=l-s,S=h-p;do{x=g.getIndex(_++).value}while(!x&&_<b);for(R=P=x,Y=x*x*(W=Math.max(S/C,C/S)/(E*i)),U=Math.max(P/Y,Y/R);_<b;++_){if(x+=v=g.getIndex(_).value,v<R&&(R=v),v>P&&(P=v),Y=x*x*W,(k=Math.max(P/Y,Y/R))>U){x-=v;break}U=k}var K=this.dataItems.template.clone();K.value=x,K.dice=C<S,K.children=g.slice(m,_),K.x0=s,K.y0=p,K.x1=l,K.y1=h,K.dice?(K.y1=E?p+=S*x/E:h,this.dice(K)):(K.x1=E?s+=C*x/E:l,this.slice(K)),E-=x,m=_}},t.prototype.handleSeriesAdded2=function(){},t.prototype.handleDataItemValueChange=function(e,i){"value"==i&&this.invalidateDataItems()},t.prototype.handleDataItemWorkingValueChange=function(e,i){"value"==i&&this.invalidateDataItems()},t.prototype.getLegendLevel=function(e){if(e&&e.children){if(e.children.length>1)return e;if(1==e.children.length){var i=e.children.getIndex(0);return i.children?this.getLegendLevel(i):e}return e}},t.prototype.handleLegendSeriesAdded=function(e){},Object.defineProperty(t.prototype,"homeDataItem",{get:function(){return this._homeDataItem},enumerable:!0,configurable:!0}),t.prototype.feedLegend=function(){var e=this.legend;if(e){e.dataFields.name="name";var i=this.getLegendLevel(this._homeDataItem);if(i){var s=[];i.children.each(function(l){s.push(l)}),e.data=s}}},t.prototype.disposeData=function(){n.prototype.disposeData.call(this),this._homeDataItem=void 0,this.series.clear(),this.navigationBar&&this.navigationBar.disposeData(),this.xAxis.disposeData(),this.yAxis.disposeData()},t.prototype.getExporting=function(){var e=this,i=n.prototype.getExporting.call(this);return i.adapter.add("formatDataFields",function(s){return("csv"==s.format||"xlsx"==s.format)&&L(e.dataFields.children)&&delete s.dataFields[e.dataFields.children],s}),i},t}(pc);G.registeredClasses.TreeMap=sK;var YV=function(n){function t(){var e=n.call(this)||this;return e._chart=new Pn,e.className="AxisRendererX3D",e._disposers.push(e._chart),e.applyTheme(),e}return $(t,n),t.prototype.updateGridElement=function(e,i,s){var l=this.positionToPoint(i+=(s-i)*e.location);if(e.element){var p=this.chart.dx3D||0,h=this.chart.dy3D||0,g=this.getHeight();e.path=Ce({x:p,y:h})+ne({x:p,y:g+h})+ne({x:0,y:g})}this.positionItem(e,l),this.toggleVisibility(e,i,0,1)},t.prototype.updateBaseGridElement=function(){n.prototype.updateBaseGridElement.call(this);var e=this.getHeight();this.baseGrid.path=Ce({x:this.chart.dx3D||0,y:this.chart.dy3D||0})+ne({x:0,y:0})+ne({x:0,y:e})},Object.defineProperty(t.prototype,"chart",{get:function(){return this._chart.get()},set:function(e){e&&this._chart.set(e,e.events.on("propertychanged",this.handle3DChanged,this,!1))},enumerable:!0,configurable:!0}),t.prototype.handle3DChanged=function(e){("depth"==e.property||"angle"==e.property)&&this.invalidate()},t}(Wl);G.registeredClasses.AxisRendererX3D=YV;var aK=function(n){function t(){var e=n.call(this)||this;return e._chart=new Pn,e.className="AxisRendererY3D",e._disposers.push(e._chart),e.applyTheme(),e}return $(t,n),t.prototype.updateGridElement=function(e,i,s){var l=this.positionToPoint(i+=(s-i)*e.location);if(e.element){var p=this.chart.dx3D||0,h=this.chart.dy3D||0,g=this.getWidth();e.path=Ce({x:0,y:0})+ne({x:p,y:h})+ne({x:g+p,y:h})}this.positionItem(e,l),this.toggleVisibility(e,i,0,1)},t.prototype.updateBaseGridElement=function(){n.prototype.updateBaseGridElement.call(this);var e=this.chart.dx3D||0,i=this.chart.dy3D||0,s=this.getWidth();this.baseGrid.path=Ce({x:0,y:0})+ne({x:s,y:0})+ne({x:s+e,y:i})},Object.defineProperty(t.prototype,"chart",{get:function(){return this._chart.get()},set:function(e){e&&this._chart.set(e,e.events.on("propertychanged",this.handle3DChanged,this,!1))},enumerable:!0,configurable:!0}),t.prototype.handle3DChanged=function(e){("depth"==e.property||"angle"==e.property)&&this.invalidate()},t}(da),KV=function(n){function t(){var e=n.call(this)||this;return e.className="Column3D",e}return $(t,n),t.prototype.createAssets=function(){this.column3D=this.createChild(GY),this.column3D.shouldClone=!1,this.column3D.strokeOpacity=0,this.column=this.column3D},t.prototype.validate=function(){n.prototype.validate.call(this),this.column3D&&(this.column3D.width=this.pixelWidth,this.column3D.height=this.pixelHeight,this.column3D.invalid&&this.column3D.validate())},t.prototype.copyFrom=function(e){n.prototype.copyFrom.call(this,e),this.column3D&&this.column3D.copyFrom(e.column3D)},t.prototype.setFill=function(e){n.prototype.setFill.call(this,e),this.column.fill=e},t}(ip);G.registeredClasses.Column3D=KV;var lK=function(n){function t(){var e=n.call(this)||this;return e.className="ColumnSeries3DDataItem",e.applyTheme(),e}return $(t,n),t}(hc),fT=function(n){function t(){var e=n.call(this)||this;return e.className="ColumnSeries3D",e.columns.template.column3D.applyOnClones=!0,e.columns.template.hiddenState.properties.visible=!0,e.applyTheme(),e}return $(t,n),Object.defineProperty(t.prototype,"columnsContainer",{get:function(){var e=this.chart;return e&&e.columnsContainer&&"vertical"!=e.leftAxesContainer.layout&&"vertical"!=e.rightAxesContainer.layout&&"horizontal"!=e.bottomAxesContainer.layout&&"horizontal"!=e.topAxesContainer.layout?e.columnsContainer:this._columnsContainer},enumerable:!0,configurable:!0}),t.prototype.validateDataElementReal=function(e){n.prototype.validateDataElementReal.call(this,e),e.column&&(e.column.dx=this.dx,e.column.dy=this.dy,e.column.visible=this.visible)},t.prototype.validateDataElements=function(){n.prototype.validateDataElements.call(this),this.chart&&this.chart.invalidateLayout()},t.prototype.createColumnTemplate=function(){return new KV},Object.defineProperty(t.prototype,"depth",{get:function(){return this.getPropertyValue("depth")},set:function(e){this.setPropertyValue("depth",e,!0),this.columns.template.column3D.depth=e},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"angle",{get:function(){return this.getPropertyValue("angle")},set:function(e){this.setPropertyValue("angle",e),this.columns.template.column3D.angle=e},enumerable:!0,configurable:!0}),t}(np);G.registeredClasses.ColumnSeries3D=fT,G.registeredClasses.ColumnSeries3DDataItem=lK,function(n){$(function(){var e=n.call(this)||this;return e.className="XYChart3DDataItem",e.applyTheme(),e},n)}(iT);var uK=function(n){function t(){var e=n.call(this)||this;e._axisRendererX=YV,e._axisRendererY=aK,e.className="XYChart3D",e.depth=30,e.angle=30;var i=e.seriesContainer.createChild(Ve);return i.shouldClone=!1,i.isMeasured=!1,i.layout="none",e.columnsContainer=i,e.columnsContainer.mask=e.createChild(Je),e.applyTheme(),e}return $(t,n),t.prototype.updateSeriesMasks=function(){if(n.prototype.updateSeriesMasks.call(this),Em()){var e=this.columnsContainer,i=e.mask;e.mask=void 0,e.mask=i}},Object.defineProperty(t.prototype,"depth",{get:function(){return this.getPropertyValue("depth")},set:function(e){this.setPropertyValue("depth",e),this.fixLayout(),this.invalidateDataUsers()},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"angle",{get:function(){return this.getPropertyValue("angle")},set:function(e){this.setPropertyValue("angle",e),this.fixLayout(),this.invalidateDataUsers()},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"dx3D",{get:function(){return ve(this.angle)*this.depth},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"dy3D",{get:function(){return-ge(this.angle)*this.depth},enumerable:!0,configurable:!0}),t.prototype.validateLayout=function(){n.prototype.validateLayout.call(this),this.fixColumns()},t.prototype.fixLayout=function(){this.chartContainer.paddingTop=-this.dy3D,this.chartContainer.paddingRight=this.dx3D,this.scrollbarX&&(this.scrollbarX.dy=this.dy3D,this.scrollbarX.dx=this.dx3D),this.scrollbarY&&(this.scrollbarY.dy=this.dy3D,this.scrollbarY.dx=this.dx3D),this.fixColumns(),n.prototype.fixLayout.call(this)},t.prototype.fixColumns=function(){var e=this,i=1,s=0;oe(this.series.iterator(),function(p){p instanceof fT&&(!p.clustered&&s>0&&i++,p.depthIndex=i-1,s++)});var l=0;oe(this.series.iterator(),function(p){if(p instanceof fT){p.depth=e.depth/i,p.angle=e.angle,p.columnsContainer==e.columnsContainer&&(p.dx=e.depth/i*ve(e.angle)*p.depthIndex,p.dy=-e.depth/i*ge(e.angle)*p.depthIndex);var h=!1;(p.baseAxis==p.xAxis&&p.xAxis.renderer.inversed||p.baseAxis==p.yAxis&&p.yAxis.renderer.inversed)&&(h=!0);var g=1;p.dataItems.each(function(v){var m=v.column;m&&(m.zIndex=h?1e3*(1e3-g)+l-100*p.depthIndex:1e3*g+l-100*p.depthIndex),g++}),h?l--:l++}}),this.maskColumns()},t.prototype.processConfig=function(e){if(e&&L(e.series)&&hn(e.series))for(var i=0,s=e.series.length;i<s;i++)e.series[i].type=e.series[i].type||"ColumnSeries3D";n.prototype.processConfig.call(this,e)},t.prototype.maskColumns=function(){var e=this.plotContainer.pixelWidth,i=this.plotContainer.pixelHeight,s=this.dx3D,l=this.dy3D,p=Ce({x:0,y:0})+ne({x:s,y:l})+ne({x:e+s,y:l})+ne({x:e+s,y:i+l})+ne({x:e,y:i})+ne({x:e,y:i})+ne({x:0,y:i})+" Z",h=this.columnsContainer;h&&h.mask&&(h.mask.path=p)},t}(pc);G.registeredClasses.XYChart3D=uK;var cK=function(n){function t(){var e=n.call(this)||this;e.className="HeatLegend",e.markerContainer=e.createChild(Ve),e.markerContainer.shouldClone=!1,e.markerCount=1;var i=new rl;return i.minHeight=20,i.minWidth=20,i.interactionsEnabled=!1,i.fillOpacity=1,i.cornerRadius(0,0,0,0),e.markerContainer.minHeight=20,e.markerContainer.minWidth=20,e.orientation="horizontal",e.markers=new Ii(i),e._disposers.push(new Qt(e.markers)),e._disposers.push(e.markers.template),e.applyTheme(),e}return $(t,n),t.prototype.getMinFromRules=function(e){var s,i=this.series;if(i)return zo(i.heatRules.iterator(),function(l){return l.property!=e||(s=l.min,!1)}),s},t.prototype.getMaxFromRules=function(e){var s,i=this.series;if(i)return oe(i.heatRules.iterator(),function(l){return l.property!=e||(s=l.max,!1)}),s},t.prototype.validate=function(){n.prototype.validate.call(this),this.valueAxis.renderer.inversed=this.reverseOrder;var e=this.series,i=this.minColor,s=this.maxColor;if(L(i)||(i=As(this.getMinFromRules("fill"))),L(s)||(s=As(this.getMaxFromRules("fill"))),e){var l=e.fill;!L(i)&&l instanceof St&&(i=l),!L(s)&&l instanceof St&&(s=l)}L(s)||(s=As(this.getMaxFromRules("fill")));var p=Zt(this.getMinFromRules("fillOpacity"));M(p)||(p=1);var h=Zt(this.getMaxFromRules("fillOpacity"));M(h)||(h=1);var g=Zt(this.getMinFromRules("strokeOpacity"));M(g)||(g=1);var v=Zt(this.getMaxFromRules("strokeOpacity"));M(v)||(v=1);for(var m=As(this.getMinFromRules("stroke")),_=As(this.getMaxFromRules("stroke")),b=0;b<this.markerCount;b++){var C=this.markers.getIndex(b);if(C||((C=this.markers.create()).parent=this.markerContainer,C.height=ue(100),C.width=ue(100)),1==this.markerCount){var S=new Ms;if(this.reverseOrder?(S.addColor(s,h),S.addColor(i,p)):(S.addColor(i,p),S.addColor(s,h)),"vertical"==this.orientation&&(S.rotation=-90),C.fill=S,L(m)&&L(_)){var E=new Ms;this.reverseOrder?(E.addColor(_,v),E.addColor(m,g)):(E.addColor(m,g),E.addColor(_,v)),"vertical"==this.orientation&&(E.rotation=-90),C.stroke=E}}else{var x=b;this.reverseOrder&&(x=this.markerCount-b-1);var R=new St(E0(i.rgb,s.rgb,x/this.markerCount));if(C.fill=R,C.fillOpacity=p+(h-p)*x/this.markerCount,L(m)&&L(_)){var k=new St(E0(m.rgb,_.rgb,x/this.markerCount));C.stroke=k,C.strokeOpacity=g+(v-g)*x/this.markerCount}}}this.markerCount>1&&(this.valueAxis.renderer.minGridDistance="horizontal"==this.orientation?this.measuredWidth/this.markerCount:this.measuredHeight/this.markerCount),this.valueAxis.invalidate(),b=this.markerCount;for(var Y=this.markers.length;b<Y;b++)this.markers.getIndex(b).parent=void 0},Object.defineProperty(t.prototype,"minColor",{get:function(){return this.getPropertyValue("minColor")},set:function(e){e instanceof St||(e=As(e)),this.setColorProperty("minColor",e,!0)},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"maxColor",{get:function(){return this.getPropertyValue("maxColor")},set:function(e){e instanceof St||(e=As(e)),this.setColorProperty("maxColor",e,!0)},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"markerCount",{get:function(){return this.getPropertyValue("markerCount")},set:function(e){this.setPropertyValue("markerCount",e,!0)},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"minValue",{get:function(){return this.getPropertyValue("minValue")},set:function(e){this.setPropertyValue("minValue",e),this.valueAxis.min=e},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"maxValue",{get:function(){return this.getPropertyValue("maxValue")},set:function(e){this.setPropertyValue("maxValue",e),this.valueAxis.max=e},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"orientation",{get:function(){return this.getPropertyValue("orientation")},set:function(e){this.setPropertyValue("orientation",e,!0);var i=this.markerContainer,s=this.valueAxis;"horizontal"==e?(L(this.width)||(this.width=200),this.height=void 0,s.width=ue(100),s.height=void 0,s.tooltip.pointerOrientation="vertical",this.layout="vertical",i.width=ue(100),i.height=void 0,s.renderer instanceof Wl||(s.renderer=new Wl)):(L(this.height)||(this.height=200),this.width=void 0,this.layout="horizontal",i.width=void 0,i.height=ue(100),s.height=ue(100),s.width=void 0,s.tooltip.pointerOrientation="horizontal",s.renderer instanceof da||(s.renderer=new da),s.renderer.inside=!0,s.renderer.labels.template.inside=!0,this.markerContainer.reverseOrder=!0);var l=s.renderer;l.grid.template.disabled=!0,l.axisFills.template.disabled=!0,l.baseGrid.disabled=!0,l.labels.template.padding(2,3,2,3),l.minHeight=void 0,l.minWidth=void 0,this.markerContainer.layout=e},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"valueAxis",{get:function(){return this._valueAxis||(this.valueAxis=this.createChild(rt),this.valueAxis.shouldClone=!1),this._valueAxis},set:function(e){this._valueAxis=e,e.parent=this,e.strictMinMax=!0,this.orientation=this.orientation},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"series",{get:function(){return this._series},set:function(e){var i=this;this._series=e;var s="value";try{var l=e.heatRules.getIndex(0).dataField;l&&(s=l)}catch(p){}this.updateMinMax(e.dataItem.values[s].low,e.dataItem.values[s].high),e.dataItem.events.on("calculatedvaluechanged",function(p){i.updateMinMax(e.dataItem.values[s].low,e.dataItem.values[s].high)},void 0,!1),e.heatRules.events.on("inserted",this.invalidate,this,!1),e.heatRules.events.on("removed",this.invalidate,this,!1)},enumerable:!0,configurable:!0}),t.prototype.updateMinMax=function(e,i){var s=this.valueAxis;M(this.minValue)||(s.min=e,s.invalidate()),M(this.maxValue)||(s.max=i,s.invalidate())},t.prototype.processConfig=function(e){if(e&&L(e.series)&&gt(e.series)&&gt(e.series))if(this.map.hasKey(e.series))e.series=this.map.getKey(e.series);else{var i=e.series,s=this.map.events.on("insertKey",function(l){l.key==i&&(this.series=l.newValue,s.dispose())},this);this._disposers.push(s),delete e.series}n.prototype.processConfig.call(this,e)},t}(Ve);G.registeredClasses.HeatLegend=cK;var fD=function(n){function t(){var e=n.call(this)||this;return e.className="Candlestick",e.layout="none",e}return $(t,n),t.prototype.createAssets=function(){n.prototype.createAssets.call(this),this.lowLine=this.createChild(ca),this.lowLine.shouldClone=!1,this.highLine=this.createChild(ca),this.highLine.shouldClone=!1},t.prototype.copyFrom=function(e){n.prototype.copyFrom.call(this,e),this.lowLine&&this.lowLine.copyFrom(e.lowLine),this.highLine&&this.highLine.copyFrom(e.highLine)},t}(ip);G.registeredClasses.Candlestick=fD;var gT=function(n){function t(){var e=n.call(this)||this;return e.values.lowValueX={},e.values.lowValueY={},e.values.highValueX={},e.values.highValueY={},e.className="CandlestickSeriesDataItem",e.applyTheme(),e}return $(t,n),Object.defineProperty(t.prototype,"lowValueX",{get:function(){return this.values.lowValueX.value},set:function(e){this.setValue("lowValueX",e)},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"lowValueY",{get:function(){return this.values.lowValueY.value},set:function(e){this.setValue("lowValueY",e)},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"highValueX",{get:function(){return this.values.highValueX.value},set:function(e){this.setValue("highValueX",e)},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"highValueY",{get:function(){return this.values.highValueY.value},set:function(e){this.setValue("highValueY",e)},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"closeValueX",{get:function(){return this.values.valueX.value},set:function(e){this.setValue("valueX",e)},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"closeValueY",{get:function(){return this.values.valueY.value},set:function(e){this.setValue("valueY",e)},enumerable:!0,configurable:!0}),t}(hc),XV=function(n){function t(){var e=n.call(this)||this;e.className="CandlestickSeries",e.groupFields.lowValueX="low",e.groupFields.lowValueY="low",e.groupFields.highValueX="high",e.groupFields.highValueY="high",e.strokeOpacity=1;var i=new Rt,s=i.getFor("positive"),l=i.getFor("negative");return e.dropFromOpenState.properties.fill=l,e.dropFromOpenState.properties.stroke=l,e.riseFromOpenState.properties.fill=s,e.riseFromOpenState.properties.stroke=s,e.applyTheme(),e}return $(t,n),t.prototype.applyInternalDefaults=function(){n.prototype.applyInternalDefaults.call(this),L(this.readerTitle)||(this.readerTitle=this.language.translate("Candlestick Series"))},t.prototype.createDataItem=function(){return new gT},t.prototype.validateDataElementReal=function(e){n.prototype.validateDataElementReal.call(this,e),this.validateCandlestick(e)},t.prototype.validateCandlestick=function(e){var i=e.column;if(i){var s=i.lowLine,l=i.highLine;if(this.baseAxis==this.xAxis){var p=i.pixelWidth/2;s.x=p,l.x=p;var h=e.getWorkingValue(this.yOpenField),g=e.getWorkingValue(this.yField),v=this.yAxis.getY(e,this.yOpenField),m=this.yAxis.getY(e,this.yField),_=this.yAxis.getY(e,this.yLowField),b=this.yAxis.getY(e,this.yHighField),C=i.pixelY;s.y1=_-C,l.y1=b-C,h<g?(s.y2=v-C,l.y2=m-C):(s.y2=m-C,l.y2=v-C)}if(this.baseAxis==this.yAxis){var S=i.pixelHeight/2;s.y=S,l.y=S;var E=e.getWorkingValue(this.xOpenField),x=e.getWorkingValue(this.xField),R=this.xAxis.getX(e,this.xOpenField),P=this.xAxis.getX(e,this.xField),k=this.xAxis.getX(e,this.xLowField),U=this.xAxis.getX(e,this.xHighField),W=i.pixelX;s.x1=k-W,l.x1=U-W,E<x?(s.x2=R-W,l.x2=P-W):(s.x2=P-W,l.x2=R-W)}oe(this.axisRanges.iterator(),function(Y){var K=e.rangesColumns.getKey(Y.uid);if(K){var X=K.lowLine;X.x=s.x,X.y=s.y,X.x1=s.x1,X.x2=s.x2,X.y1=s.y1,X.y2=s.y2;var J=K.highLine;J.x=l.x,J.y=l.y,J.x1=l.x1,J.x2=l.x2,J.y1=l.y1,J.y2=l.y2}})}},Object.defineProperty(t.prototype,"xLowField",{get:function(){return this._xLowField},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"yLowField",{get:function(){return this._yLowField},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"xHighField",{get:function(){return this._xHighField},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"yHighField",{get:function(){return this._yHighField},enumerable:!0,configurable:!0}),t.prototype.defineFields=function(){n.prototype.defineFields.call(this);var e=this.xAxis,i=this.yAxis;if(e&&i){if(this.baseAxis==e){var s=A0(i.axisFieldName);this._yLowField="low"+s+"Y",this._yHighField="high"+s+"Y"}if(this.baseAxis==i){var l=A0(e.axisFieldName);this._xLowField="low"+l+"X",this._xHighField="high"+l+"X"}this.addValueField(e,this._xValueFields,this._xLowField),this.addValueField(e,this._xValueFields,this._xHighField),this.addValueField(i,this._yValueFields,this._yLowField),this.addValueField(i,this._yValueFields,this._yHighField)}},t.prototype.createLegendMarker=function(e){var i=e.pixelWidth,s=e.pixelHeight;e.removeChildren();var l=e.createChild(fD);l.shouldClone=!1,l.copyFrom(this.columns.template);var p,h,g=l.lowLine,v=l.highLine;this.baseAxis==this.yAxis?(p=i/3,h=s,g.y=s/2,v.y=s/2,g.x2=i/3,v.x2=i/3,v.x=i/3*2,l.column.x=i/3):(p=i,h=s/3,g.x=i/2,v.x=i/2,g.y2=s/3,v.y2=s/3,v.y=s/3*2,l.column.y=s/3),l.width=p,l.height=h,Xi(this,e,Ni),Xi(this.columns.template,l,Ni),l.stroke=this.riseFromOpenState.properties.stroke,l.fill=l.stroke;var m=e.dataItem;m.color=l.fill,m.colorOrig=l.fill},t.prototype.createColumnTemplate=function(){return new fD},t}(np);G.registeredClasses.CandlestickSeries=XV,G.registeredClasses.CandlestickSeriesDataItem=gT;var vT=function(n){function t(){var e=n.call(this)||this;return e.className="OHLC",e.layout="none",e}return $(t,n),t.prototype.createAssets=function(){this.openLine=this.createChild(ca),this.openLine.shouldClone=!1,this.highLowLine=this.createChild(ca),this.highLowLine.shouldClone=!1,this.closeLine=this.createChild(ca),this.closeLine.shouldClone=!1},t.prototype.copyFrom=function(e){n.prototype.copyFrom.call(this,e),this.openLine&&this.openLine.copyFrom(e.openLine),this.highLowLine&&this.highLowLine.copyFrom(e.highLowLine),this.closeLine&&this.closeLine.copyFrom(e.closeLine)},t}(fD);G.registeredClasses.OHLC=vT;var qV=function(n){function t(){var e=n.call(this)||this;return e.className="OHLCSeriesDataItem",e.applyTheme(),e}return $(t,n),t}(gT),dK=function(n){function t(){var e=n.call(this)||this;return e.className="OHLCSeries",e.applyTheme(),e}return $(t,n),t.prototype.applyInternalDefaults=function(){n.prototype.applyInternalDefaults.call(this),L(this.readerTitle)||(this.readerTitle=this.language.translate("OHLC Series"))},t.prototype.createDataItem=function(){return new qV},t.prototype.validateCandlestick=function(e){var i=e.column;if(i){var s=i.openLine,l=i.highLowLine,p=i.closeLine;if(this.baseAxis==this.xAxis){var h=i.pixelWidth/2;l.x=h,e.getWorkingValue(this.yOpenField),e.getWorkingValue(this.yField);var g=this.yAxis.getY(e,this.yOpenField),v=this.yAxis.getY(e,this.yField),m=this.yAxis.getY(e,this.yLowField),_=this.yAxis.getY(e,this.yHighField),b=i.pixelY;s.y1=g-b,s.y2=g-b,s.x1=0,s.x2=h,p.y1=v-b,p.y2=v-b,p.x1=h,p.x2=2*h,l.y1=_-b,l.y2=m-b}if(this.baseAxis==this.yAxis){var C=i.pixelHeight/2;l.y=C,e.getWorkingValue(this.xOpenField),e.getWorkingValue(this.xField);var S=this.xAxis.getX(e,this.xOpenField),E=this.xAxis.getX(e,this.xField),x=this.xAxis.getX(e,this.xLowField),R=this.xAxis.getX(e,this.xHighField),P=i.pixelX;s.x1=S-P,s.x2=S-P,s.y1=C,s.y2=2*C,p.x1=E-P,p.x2=E-P,p.y1=0,p.y2=C,l.x1=R-P,l.x2=x-P}oe(this.axisRanges.iterator(),function(k){var U=e.rangesColumns.getKey(k.uid);if(U){var W=U.openLine;W.x=s.x,W.y=s.y,W.x1=s.x1,W.x2=s.x2,W.y1=s.y1,W.y2=s.y2;var Y=U.closeLine;Y.x=p.x,Y.y=p.y,Y.x1=p.x1,Y.x2=p.x2,Y.y1=p.y1,Y.y2=p.y2;var K=U.highLowLine;K.x=l.x,K.y=l.y,K.x1=l.x1,K.x2=l.x2,K.y1=l.y1,K.y2=l.y2}})}},t.prototype.createLegendMarker=function(e){var i=e.pixelWidth,s=e.pixelHeight;e.removeChildren();var l=e.createChild(vT);l.shouldClone=!1,l.copyFrom(this.columns.template);var p,h,g=l.openLine,v=l.closeLine,m=l.highLowLine;this.baseAxis==this.yAxis?(p=i/3,h=s,m.y=s/2,m.x2=i,g.x=i/3*2,g.y2=s/2,v.x=i/3,v.y2=s,v.y1=s/2):(p=i,h=s/3,m.x=i/2,m.y2=s,g.y=s/3*2,g.x2=i/2,v.y=s/3,v.x2=i,v.x1=i/2),l.width=p,l.height=h,Xi(this,e,Ni),Xi(this.columns.template,l,Ni),l.stroke=this.riseFromOpenState.properties.stroke;var _=e.dataItem;_.color=l.stroke,_.colorOrig=l.stroke},t.prototype.createColumnTemplate=function(){return new vT},t}(XV);G.registeredClasses.OHLCSeries=dK,G.registeredClasses.OHLCSeriesDataItem=qV;var ZV=function(n){function t(){var e=n.call(this)||this;return e.className="StepLineSeriesSegment",e}return $(t,n),t.prototype.drawSegment=function(e,i,s,l,p,h){if(e.length>0&&i.length>0)if(p){var g=Ce(e[0]);if(e.length>0)for(var v=1;v<e.length;v++){var m=e[v];v/2==Math.round(v/2)?g+=Ce(m):g+=ne(m)}this.strokeSprite.path=g,(this.fillOpacity>0||this.fillSprite.fillOpacity>0)&&(g=Ce(e[0])+Am(e),g+=ne(i[0])+Am(i),g+=ne(e[0]),this.fillSprite.path=g+=" Z")}else g=Ce(e[0])+Am(e),this.strokeSprite.path=g,(this.fillOpacity>0||this.fillSprite.fillOpacity>0)&&(g+=ne(i[0])+Am(i),g+=ne(e[0]),this.fillSprite.path=g+=" Z");else this.strokeSprite.path="",this.fillSprite.path=""},t}(nT);G.registeredClasses.StepLineSeriesSegment=ZV;var QV=function(n){function t(){var e=n.call(this)||this;return e.className="StepLineSeriesDataItem",e.applyTheme(),e}return $(t,n),t}(lD),pK=function(n){function t(){var e=n.call(this)||this;return e.className="StepLineSeries",e.applyTheme(),e.startLocation=0,e.endLocation=1,e}return $(t,n),t.prototype.createDataItem=function(){return new QV},t.prototype.addPoints=function(e,i,s,l,p){var h,g,v,m;this.baseAxis==this.xAxis&&(h=this.startLocation,g=this.endLocation,v=this.getAdjustedXLocation(i,this.yOpenField),m=this.getAdjustedXLocation(i,this.yField)),this.baseAxis==this.yAxis&&(v=this.startLocation,m=this.endLocation,h=this.getAdjustedXLocation(i,this.xOpenField),g=this.getAdjustedXLocation(i,this.xField));var _=this.xAxis.getX(i,s,h),b=this.yAxis.getY(i,l,v),C=this.xAxis.getX(i,s,g),S=this.yAxis.getY(i,l,m);if(_=xe(_,-1e5,1e5),b=xe(b,-1e5,1e5),C=xe(C,-1e5,1e5),S=xe(S,-1e5,1e5),!this.noRisers&&e.length>1){var E=e[e.length-1];this.baseAxis==this.xAxis&&e.push(p?{x:E.x,y:S}:{x:_,y:E.y}),this.baseAxis==this.yAxis&&e.push(p?{x:C,y:E.y}:{x:E.x,y:b})}var x={x:_,y:b},R={x:C,y:S};p?e.push(R,x):e.push(x,R)},t.prototype.drawSegment=function(e,i,s){var l=!1;this.yAxis==this.baseAxis&&(l=!0),e.drawSegment(i,s,this.tensionX,this.tensionY,this.noRisers,l)},t.prototype.createSegment=function(){return new ZV},Object.defineProperty(t.prototype,"noRisers",{get:function(){return this.getPropertyValue("noRisers")},set:function(e){this.setPropertyValue("noRisers",e,!0)},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"startLocation",{get:function(){return this.getPropertyValue("startLocation")},set:function(e){this.setPropertyValue("startLocation",e,!0)},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"endLocation",{get:function(){return this.getPropertyValue("endLocation")},set:function(e){this.setPropertyValue("endLocation",e,!0)},enumerable:!0,configurable:!0}),t}(oT);G.registeredClasses.StepLineSeries=pK,G.registeredClasses.StepLineSeriesDataItem=QV;var JV=function(n){function t(){var e=n.call(this)||this;return e.className="RadarColumn",e}return $(t,n),t.prototype.createAssets=function(){this.radarColumn=this.createChild(Zd),this.radarColumn.shouldClone=!1,this.radarColumn.strokeOpacity=void 0,this.column=this.radarColumn},t.prototype.copyFrom=function(e){n.prototype.copyFrom.call(this,e),this.radarColumn&&this.radarColumn.copyFrom(e.radarColumn)},t.prototype.getTooltipX=function(){var e=this.getPropertyValue("tooltipX");return M(e)?e:this.radarColumn.getTooltipX()},t.prototype.getTooltipY=function(){var e=this.getPropertyValue("tooltipX");return M(e)?e:this.radarColumn.getTooltipY()},t}(ip);G.registeredClasses.RadarColumn=JV;var hK=function(n){function t(){var e=n.call(this)||this;return e.className="ColumnSeriesDataItem",e.applyTheme(),e}return $(t,n),t}(hc),yT=function(n){function t(){var e=n.call(this)||this;return e.className="RadarColumnSeries",e.applyTheme(),e}return $(t,n),t.prototype.createColumnTemplate=function(){return new JV},t.prototype.validate=function(){this.chart.invalid&&this.chart.validate(),n.prototype.validate.call(this)},t.prototype.disableUnusedColumns=function(e){e&&(e.column&&(e.column.__disabled=!0),oe(this.axisRanges.iterator(),function(i){var s=e.rangesColumns.getKey(i.uid);s&&(s.__disabled=!0)}))},t.prototype.validateDataElementReal=function(e){var m,_,b,C,i=this,s=this.chart.startAngle,l=this.chart.endAngle,p=this.yField,h=this.yOpenField,g=this.xField,v=this.xOpenField,S=this.getStartLocation(e),E=this.getEndLocation(e),x=(l-s)/(this.dataItems.length*(this.end-this.start)),R=e.column;R||(R=this.columns.create(),e.column=R,Xi(this,R,Ni),Xi(this.columns.template,R,Ni),e.addSprite(R),R.paper=this.paper,this.setColumnStates(R));var P=R.width,k=100;P instanceof ft&&(k=P.percent);var U=ae((E-S)*(1-k/100)/2,5);if(S+=U,E-=U,this.xAxis instanceof Bi&&this.yAxis instanceof Bi)b=At({x:this.yAxis.getX(e,p,0,"valueY"),y:this.yAxis.getY(e,p,0,"valueY")}),C=At({x:this.yAxis.getX(e,h,1,"valueY"),y:this.yAxis.getY(e,h,1,"valueY")}),m=this.xAxis.getAngle(e,v,0,"valueX"),_=this.xAxis.getAngle(e,g,1,"valueX"),s+=S*x,l-=(1-E)*x;else if(this.baseAxis==this.xAxis)b=At({x:this.yAxis.getX(e,p,e.locations[p],"valueY"),y:this.yAxis.getY(e,p,e.locations[p],"valueY")}),C=At({x:this.yAxis.getX(e,h,e.locations[h],"valueY"),y:this.yAxis.getY(e,h,e.locations[h],"valueY")}),m=this.xAxis.getAngle(e,v,S,"valueX"),_=this.xAxis.getAngle(e,g,E,"valueX"),s+=S*x,l-=(1-E)*x;else{if(b=At({x:this.yAxis.getX(e,p,S,"valueY"),y:this.yAxis.getY(e,p,S,"valueY")}),C=At({x:this.yAxis.getX(e,h,E,"valueY"),y:this.yAxis.getY(e,h,E,"valueY")}),M(P)){var W=Math.abs(b-C);if(W>P){var Y=(W-P)/2;b+=Y,C-=Y}}m=this.xAxis.getAngle(e,g,e.locations[g],"valueX"),_=this.xAxis.getAngle(e,v,e.locations[v],"valueX")}if(_<m){var K=_;_=m,m=K}m=xe(m,s,l),_=xe(_,s,l);var X=R.radarColumn;X.startAngle=m;var J=_-m;J>0?(X.arc=J,X.radius=b,X.innerRadius=C,R.__disabled=!1,R.parent=this.columnsContainer,oe(this.axisRanges.iterator(),function(je){var we=e.rangesColumns.getKey(je.uid);we||(we=i.columns.create(),function(n,t,e){be(e,function(i){t[i]=n[i]})}(i.columns.template,we,Ni),Xi(je.contents,we,Ni),we.dataItem&&Ue(we.dataItem.sprites,we),e.addSprite(we),we.paper=i.paper,i.setColumnStates(we),e.rangesColumns.setKey(je.uid,we));var Oe=we.radarColumn;Oe.startAngle=m,Oe.arc=J,Oe.radius=b,Oe.innerRadius=C,Oe.invalid&&(Oe.paper=i.paper,Oe.validate()),we.__disabled=!1,we.parent=je.contents})):this.disableUnusedColumns(e)},t.prototype.getPoint=function(e,i,s,l,p,h,g){h||(h="valueX"),g||(g="valueY");var _=At({x:this.yAxis.getX(e,s,p,g),y:this.yAxis.getY(e,s,p,g)});0==_&&(_=1e-5);var b=this.xAxis.getAngle(e,i,l,h);return{x:_*ve(b),y:_*ge(b)}},t.prototype.getMaskPath=function(){var e=this.yAxis.renderer;return kf(e.startAngle,e.endAngle-e.startAngle,e.pixelRadius,e.pixelInnerRadius)},t.prototype.positionBulletReal=function(e,i,s){var l=this.xAxis,p=this.yAxis;(i<l.start||i>l.end||s<p.start||s>p.end)&&(e.visible=!1),e.moveTo(this.xAxis.renderer.positionToPoint(i,s))},t.prototype.setXAxis=function(e){n.prototype.setXAxis.call(this,e),this.updateRendererRefs()},t.prototype.setYAxis=function(e){n.prototype.setYAxis.call(this,e),this.updateRendererRefs()},t.prototype.updateRendererRefs=function(){this.xAxis.renderer.axisRendererY=this.yAxis.renderer},t}(np);G.registeredClasses.RadarColumnSeries=yT,G.registeredClasses.RadarColumnSeriesDataItem=hK;var mT=function(n){function t(){var e=n.call(this)||this;return e.slice=e.createChild(Je),e.slice.shouldClone=!1,e.slice.setElement(e.paper.add("path")),e.slice.isMeasured=!1,e.orientation="vertical",e.bottomWidth=ue(100),e.topWidth=ue(100),e.isMeasured=!1,e.width=10,e.height=10,e.expandDistance=0,e.className="FunnelSlice",e.applyTheme(),e}return $(t,n),t.prototype.draw=function(){n.prototype.draw.call(this);var e=this.pixelPaddingTop,l=this.pixelPaddingLeft,p=this.pixelWidth-this.pixelPaddingRight-l,h=this.pixelHeight-e-this.pixelPaddingBottom,g=this.expandDistance,v="";if("vertical"==this.orientation){var b={x:(p-(m=fi(this.topWidth,p)))/2+l,y:e},C={x:(p+m)/2+l,y:e},S={x:(p+(_=fi(this.bottomWidth,p)))/2+l,y:e+h},E={x:(p-_)/2+l,y:e+h},x={x:C.x+(S.x-C.x)/2+g*h,y:C.y+.5*h},R={x:b.x+(E.x-b.x)/2-g*h,y:b.y+.5*h},P=ne(S),k=ne(b);0!=g&&(P=qd(S,x),k=qd(b,R)),v=Ce(b)+ne(C)+P+ne(E)+k,this.tickPoint={x:C.x+(S.x-C.x)/2,y:C.y+(S.y-C.y)/2}}else{var m,_,U={x:l,y:(h-(m=fi(this.topWidth,h)))/2+e},W={x:l,y:(h+m)/2+e},Y={x:l+p,y:(h-(_=fi(this.bottomWidth,h)))/2+e},K={x:l+p,y:(h+_)/2+e};x={y:U.y+(Y.y-U.y)/2-g*p,x:U.x+.5*p},R={y:W.y+(K.y-W.y)/2+g*p,x:W.x+.5*p},P=ne(Y),k=ne(W),0!=g&&(P=qd(Y,x),k=qd(W,R)),v=Ce(W)+ne(U)+P+ne(K)+k,this.tickPoint={y:W.y+(K.y-W.y)/2,x:W.x+(K.x-W.x)/2}}this.slice.path=v,this.invalidateLayout()},t.prototype.getPoint=function(e,i){var s=this.pixelPaddingTop,h=this.pixelPaddingLeft,g=this.pixelWidth-this.pixelPaddingRight-h,v=this.pixelHeight-s-this.pixelPaddingBottom;if("vertical"==this.orientation){var b={x:(g-(m=fi(this.topWidth,g)))/2+h,y:s},C={x:(g+m)/2+h,y:s},S={x:(g+(_=fi(this.bottomWidth,g)))/2+h,y:s+v},x=b.x+((g-_)/2+h-b.x)*i;return{x:x+(C.x+(S.x-C.x)*i-x)*e,y:C.y+(S.y-C.y)*i}}var m,_,P_x=h,P_y=(v-(m=fi(this.topWidth,v)))/2+s,k_y=(v+m)/2+s,U_x=h+g,Y=P_y+((v-(_=fi(this.bottomWidth,v)))/2+s-P_y)*e;return{y:Y+(k_y+((v+_)/2+s-k_y)*e-Y)*i,x:P_x+(U_x-P_x)*e}},Object.defineProperty(t.prototype,"bottomWidth",{get:function(){return this.getPropertyValue("bottomWidth")},set:function(e){this.setPercentProperty("bottomWidth",e,!0,!1,10,!1)},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"topWidth",{get:function(){return this.getPropertyValue("topWidth")},set:function(e){this.setPercentProperty("topWidth",e,!0,!1,10,!1)},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"orientation",{get:function(){return this.getPropertyValue("orientation")},set:function(e){this.setPropertyValue("orientation",e,!0)},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"expandDistance",{get:function(){return this.getPropertyValue("expandDistance")},set:function(e){this.setPropertyValue("expandDistance",e,!0)},enumerable:!0,configurable:!0}),t.prototype.copyFrom=function(e){n.prototype.copyFrom.call(this,e),this.slice&&this.slice.copyFrom(e.slice)},t}(Ve);G.registeredClasses.FunnelSlice=mT;var ek=function(n){function t(){var e=n.call(this)||this;return e._label=new Pn,e._slice=new Pn,e.className="FunnelTick",e.element=e.paper.add("path"),e._disposers.push(e._label),e._disposers.push(e._slice),e.setPropertyValue("locationX",0),e.setPropertyValue("locationY",0),e.applyTheme(),e}return $(t,n),t.prototype.draw=function(){n.prototype.draw.call(this);var e=this.slice,i=e.getPoint(this.locationX,this.locationY);if(i){var s=this.label,l=e.dataItem.component,p=void 0,h=void 0,g=void 0;if("vertical"==l.orientation){var v=s.pixelX,m=s.pixelY;l.labelsOpposite||(v+=s.maxRight),p=ho(i,e,this.parent),g=ho({x:v,y:m},s.parent,this.parent),h={x:s.parent.pixelX-this.length,y:g.y},l.labelsOpposite||(h.x=s.parent.measuredWidth+this.length)}else v=s.pixelX,m=s.pixelY,l.labelsOpposite||(m+=s.maxBottom),p=ho(i,e,this.parent),h={x:(g=ho({x:v,y:m},s.parent,this.parent)).x,y:s.parent.pixelY-this.length},l.labelsOpposite||(h.y=s.parent.measuredHeight+this.length);this.path=Ce(p)+ne(h)+ne(g)}},Object.defineProperty(t.prototype,"slice",{get:function(){return this._slice.get()},set:function(e){this._slice.set(e,new mi([e.events.on("transformed",this.invalidate,this,!1),e.events.on("validated",this.invalidate,this,!1)]))},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"label",{get:function(){return this._label.get()},set:function(e){this._label.set(e,e.events.on("transformed",this.invalidate,this,!1))},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"locationX",{get:function(){return this.getPropertyValue("locationX")},set:function(e){this.setPropertyValue("locationX",e,!1,!0)},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"locationY",{get:function(){return this.getPropertyValue("locationY")},set:function(e){this.setPropertyValue("locationY",e,!1,!0)},enumerable:!0,configurable:!0}),t}(Vm);G.registeredClasses.FunnelTick=ek;var _T=function(n){function t(){var e=n.call(this)||this;return e.className="FunnelSeriesDataItem",e.events.on("visibilitychanged",function(){e.component&&e.component.invalidateDataItems()},e,!1),e.applyTheme(),e}return $(t,n),Object.defineProperty(t.prototype,"sliceLink",{get:function(){var e=this;if(!this._sliceLink){var i=this.component.sliceLinks.create();this._sliceLink=i,this._disposers.push(i),i.parent=this.component.slicesContainer,this._disposers.push(new Bt(function(){e.component&&e.component.sliceLinks.removeValue(i)})),this.addSprite(i),i.visible=this.visible}return this._sliceLink},enumerable:!0,configurable:!0}),t}(dD),tk=function(n){function t(){var e=n.call(this)||this;return e._nextY=0,e.className="FunnelSeries",e.orientation="vertical",e.width=ue(100),e.height=ue(100),e.slicesContainer.width=ue(100),e.slicesContainer.height=ue(100),e._disposers.push(e.slicesContainer.events.on("maxsizechanged",e.invalidateDataItems,e,!1)),e.labelsOpposite=!0,e.labelsContainer.layout="absolute",e.bottomRatio=0,e.applyTheme(),e}return $(t,n),t.prototype.createSlice=function(){return new mT},t.prototype.createTick=function(){return new ek},t.prototype.applyInternalDefaults=function(){n.prototype.applyInternalDefaults.call(this),L(this.readerTitle)||(this.readerTitle=this.language.translate("Funnel Series"))},t.prototype.createDataItem=function(){return new _T},t.prototype.initSlice=function(e){e.isMeasured=!1,e.defaultState.properties.scale=1,e.observe("scale",this.handleSliceScale,this),e.observe(["dx","dy","x","y"],this.handleSliceMove,this),e.tooltipText="{category}: {value.percent.formatNumber('#.#')}% ({value.value})",e.states.create("hover").properties.expandDistance=.2},t.prototype.initLabel=function(e){n.prototype.initLabel.call(this,e),e.verticalCenter="middle",e.horizontalCenter="middle",e.isMeasured=!0,e.padding(5,5,5,5)},t.prototype.validate=function(){n.prototype.validate.call(this),this._nextY=0},t.prototype.validateDataElements=function(){var e=this,i=this.slicesContainer,s=this.labelsContainer,l=this.labels.template;this.alignLabels?(l.interactionsEnabled=!0,i.isMeasured=!0,s.isMeasured=!0):(l.interactionsEnabled=!1,i.isMeasured=!1,s.isMeasured=!1);var p=0,h=0;this.dataItems.each(function(g){L(g.value)&&(h++,g.value>0?p+=Math.abs(g.getWorkingValue("value")/g.value):e.ignoreZeroValues||!g.visible||g.__disabled||g.isHiding?h--:p+=1)}),this._total=1/h*p,this._count=h,n.prototype.validateDataElements.call(this),this.arrangeLabels()},t.prototype.getNextValue=function(e){var i=e.index,s=e.getWorkingValue("value");if(i<this.dataItems.length-1){var l=this.dataItems.getIndex(i+1);if(s=l.getWorkingValue("value"),!l.visible||l.isHiding||l.__disabled||0==l.value&&this.ignoreZeroValues)return this.getNextValue(l)}return s},t.prototype.formDataElement=function(){},t.prototype.validateDataElement=function(e){var i=this,s=e.slice;s.orientation=this.orientation;var l=e.sliceLink;l.orientation=this.orientation;var p=e.tick,h=e.label;p.slice=s,p.label=h,L(e.value)?(this.decorateSlice(e),be(e.sprites,function(g){g.__disabled=!(0!=e.value||!i.ignoreZeroValues)})):be(e.sprites,function(g){g.__disabled=!0}),e.index==this.dataItems.length-1&&(l.disabled=!0),n.prototype.validateDataElement.call(this,e),l.fill=s.fill},t.prototype.decorateSlice=function(e){var i=e.slice,s=e.sliceLink,l=e.label,p=e.tick,h=this.slicesContainer.innerWidth,g=this.slicesContainer.innerHeight,v=this.getNextValue(e),m=Math.abs(e.getWorkingValue("value")),_=this.bottomRatio,b=1;if(0!=e.value?b=m/Math.abs(e.value):(e.__disabled||e.isHiding||!e.visible)&&(b=1e-6),this.ignoreZeroValues&&0==e.value)e.__disabled=!0;else if(e.__disabled=!1,this._nextY==1/0&&(this._nextY=0),"vertical"==this.orientation){var C=s.pixelHeight*b;g+=C,i.topWidth=m/this.dataItem.values.value.high*h,i.bottomWidth=(m-(m-v)*_)/this.dataItem.values.value.high*h,s.topWidth=i.bottomWidth,s.bottomWidth=(m-(m-v))/this.dataItem.values.value.high*h,i.y=this._nextY,i.height=Math.min(1e5,Qe(0,g/this._count*b/this._total-C)),i.x=h/2,l.x=this.alignLabels?void 0:i.x,l.y=i.pixelY+i.pixelHeight*p.locationY,this._nextY+=i.pixelHeight+C,s.y=this._nextY-C,s.x=i.x}else{var S=s.pixelWidth*b;h+=S,i.topWidth=m/this.dataItem.values.value.high*g,i.bottomWidth=(m-(m-v)*_)/this.dataItem.values.value.high*g,s.topWidth=i.bottomWidth,s.bottomWidth=(m-(m-v))/this.dataItem.values.value.high*g,i.x=this._nextY,i.width=Math.min(1e5,h/this._count*b*1/this._total-S),i.y=g/2,l.y=this.alignLabels?this.labelsContainer.measuredHeight:i.y,l.x=i.pixelX+i.pixelWidth*p.locationX,this._nextY+=i.pixelWidth+S,s.x=this._nextY-S,s.y=i.y}},t.prototype.getLastLabel=function(e){if(e>0){var i=this.labels.getIndex(e);return i.__disabled||!i.visible?this.getLastLabel(e-1):i}},t.prototype.arrangeLabels=function(){if(this.alignLabels){var e=this.labels.length;if(e>1){var i=this.getLastLabel(e-1);if(i){var s=i.pixelY,l=i.pixelX;if(e>1){for(var p=e-2;p>=0;p--)(h=this.labels.getIndex(p)).visible&&!h.__disabled&&(h.invalid&&h.validate(),"vertical"==this.orientation?h.pixelY+h.measuredHeight>s&&(h.y=Math.min(1e6,s-h.measuredHeight)):h.pixelX+h.measuredWidth>l&&(h.x=Math.min(1e6,l-h.measuredWidth)),s=h.pixelY,l=h.pixelX);for(s=0,l=0,p=0;p<e;p++){var h;(h=this.labels.getIndex(p)).visible&&!h.__disabled&&(h.invalid&&h.validate(),"vertical"==this.orientation?h.pixelY<s&&(h.y=Math.min(1e6,s)):h.pixelX<l&&(h.x=Math.min(1e6,l)),s+=h.measuredHeight,l+=h.measuredWidth)}}}}}},t.prototype.positionBullet=function(e){n.prototype.positionBullet.call(this,e);var s=e.dataItem.slice,l=e.locationX;M(l)||(l=.5);var p=e.locationY;M(p)||(p=1),e.x=s.pixelX+s.measuredWidth*l,e.y=s.pixelY+s.measuredHeight*p},Object.defineProperty(t.prototype,"orientation",{get:function(){return this.getPropertyValue("orientation")},set:function(e){this.setPropertyValue("orientation",e)&&(this.labelsOpposite=this.labelsOpposite,this.invalidate(),"vertical"==e?(this.ticks.template.locationX=1,this.ticks.template.locationY=.5,this.labels.template.rotation=0,this.layout="horizontal"):(this.ticks.template.locationX=.5,this.ticks.template.locationY=1,this.labels.template.rotation=-90,this.layout="vertical"))},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"bottomRatio",{get:function(){return this.getPropertyValue("bottomRatio")},set:function(e){this.setPropertyValue("bottomRatio",e)&&this.invalidate()},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"sliceLinks",{get:function(){if(!this._sliceLinks){var e=new mT;e.applyOnClones=!0,e.fillOpacity=.5,e.expandDistance=-.3,e.hiddenState.properties.opacity=0,this._disposers.push(e),this._sliceLinks=new Ii(e),this._disposers.push(new Qt(this._sliceLinks))}return this._sliceLinks},enumerable:!0,configurable:!0}),t.prototype.show=function(e){var i=this,s=this.startIndex,l=this.endIndex,p=this.defaultState.transitionDuration;M(e)&&(p=e),nt.animationsEnabled||(p=0);var h=0;return oe(Ud(this.dataItems.iterator()),function(v){var m=v[0];i.sequencedInterpolation&&(h=i.sequencedInterpolationDelay*m+p*(m-s)/(l-s)),v[1].show(p,h,["value"])}),n.prototype.show.call(this,e)},t.prototype.hide=function(e){var i=this,s=["value"],p=this.startIndex,h=this.endIndex,g=0,v=this.hiddenState.transitionDuration;M(e)&&(v=e),nt.animationsEnabled||(v=0),oe(Ud(this.dataItems.iterator()),function(_){var b=_[0];i.sequencedInterpolation&&(g=i.sequencedInterpolationDelay*b+v*(b-p)/(h-p)),_[1].hide(v,g,0,s)});var m=n.prototype.hide.call(this,e);return m&&!m.isFinished()&&m.delay(g),m},t.prototype.setAlignLabels=function(e){n.prototype.setAlignLabels.call(this,e),this.ticks.template.disabled=!e;var i=this.labelsContainer;i&&(e?(i.height=void 0,i.width=void 0,i.margin(10,10,10,10)):(i.width=ue(100),i.height=ue(100))),this.labelsOpposite=this.labelsOpposite},Object.defineProperty(t.prototype,"labelsOpposite",{get:function(){return this.getPropertyValue("labelsOpposite")},set:function(e){this.setPropertyValue("labelsOpposite",e);var i=this.labels.template,s="none",l="none";this.alignLabels?e?(this.labelsContainer.toFront(),"vertical"==this.orientation?(this.ticks.template.locationX=1,i.horizontalCenter="left",s="right"):(this.ticks.template.locationY=1,i.horizontalCenter="right",l="bottom")):(this.labelsContainer.toBack(),"vertical"==this.orientation?(this.ticks.template.locationX=0,s="left"):(l="top",this.ticks.template.locationY=0)):"vertical"==this.orientation?s="center":l="middle",i.align=s,i.valign=l,this.validateLayout(),this.ticks.each(function(p){p.invalidate()}),this.invalidateDataItems()},enumerable:!0,configurable:!0}),t}(Gm);G.registeredClasses.FunnelSeries=tk,G.registeredClasses.FunnelSeriesDataItem=_T;var bT=function(n){function t(){var e=n.call(this)||this;return e.className="PyramidSeriesDataItem",e.applyTheme(),e}return $(t,n),t}(_T),ik=function(n){function t(){var e=n.call(this)||this;return e.className="PyramidSeries",e.topWidth=ue(0),e.bottomWidth=ue(100),e.pyramidHeight=ue(100),e.valueIs="area",e.sliceLinks.template.width=0,e.sliceLinks.template.height=0,e.applyTheme(),e}return $(t,n),t.prototype.applyInternalDefaults=function(){n.prototype.applyInternalDefaults.call(this),L(this.readerTitle)||(this.readerTitle=this.language.translate("Pyramid Series"))},t.prototype.createDataItem=function(){return new bT},t.prototype.validate=function(){n.prototype.validate.call(this),this._nextWidth=void 0},t.prototype.getNextValue=function(e){var i=e.index,s=e.getWorkingValue("value");return i<this.dataItems.length-1&&(s=this.dataItems.getIndex(i+1).getWorkingValue("value")),0==s&&(s=1e-6),s},t.prototype.validateDataElements=function(){var e=this,i=this.slicesContainer.innerWidth,s=this.slicesContainer.innerHeight;if(this.dataItems.each(function(h){if(h.value>0){var g=h.getWorkingValue("value")/h.value,v=h.sliceLink;"vertical"==e.orientation?s-=v.pixelHeight*g:i-=v.pixelWidth*g}}),this._pyramidHeight=fi(this.pyramidHeight,s),this._pyramidWidth=fi(this.pyramidHeight,i),"vertical"==this.orientation){var l=(s-this._pyramidHeight)/2;this.slicesContainer.y=l,this.labelsContainer.y=l,this.ticksContainer.y=l}else{var p=(i-this._pyramidWidth)/2;this.slicesContainer.x=p,this.labelsContainer.x=p,this.ticksContainer.x=p}n.prototype.validateDataElements.call(this)},t.prototype.decorateSlice=function(e){var i=this.dataItem.values.value.absoluteSum;if(0!=i){var s=e.slice,l=e.sliceLink,p=e.label,h=e.tick;this.getNextValue(e);var g=Math.abs(e.getWorkingValue("value")),v=this._pyramidWidth,m=this._pyramidHeight,_=this.slicesContainer.innerWidth,b=this.slicesContainer.innerHeight,C=l.pixelWidth,S=l.pixelHeight;if(e.__disabled=!(0!=e.value&&null!=e.value||!this.ignoreZeroValues),"vertical"==this.orientation){var E=fi(this.topWidth,_);M(this._nextWidth)||(this._nextWidth=E);var x=fi(this.bottomWidth,_),R=this._nextWidth,P=Math.atan2(m,E-x);0==(k=Math.tan(Math.PI/2-P))&&(k=1e-8);var U=void 0,W=void 0;if("area"==this.valueIs){var K=(E+x)/2*m*g/i,X=Math.abs(R*R-2*K*k);W=(U=(R-Math.sqrt(X))/k)>0?(2*K-U*R)/U:R}else W=R-(U=m*g/i)*k;s.height=U,s.width=_,s.bottomWidth=W,s.topWidth=R,l.topWidth=s.bottomWidth,l.bottomWidth=s.bottomWidth,s.y=this._nextY,p.x=this.alignLabels?0:_/2,p.y=s.pixelY+s.pixelHeight*h.locationY+s.dy,this._nextY+=s.pixelHeight+S*g/Math.max(Math.abs(e.value),1e-8),l.y=this._nextY-S,l.x=_/2}else{var k;E=fi(this.topWidth,b),M(this._nextWidth)||(this._nextWidth=E),x=fi(this.bottomWidth,b),R=this._nextWidth,P=Math.atan2(v,E-x),0==(k=Math.tan(Math.PI/2-P))&&(k=1e-8);var J=void 0;W=void 0,W="area"==this.valueIs?(2*(K=(E+x)/2*v*g/i)-(J=(R-Math.sqrt(R*R-2*K*k))/k)*R)/J:R-(J=v*g/i)*k,s.width=J,s.height=b,s.bottomWidth=W,s.topWidth=R,l.topWidth=s.bottomWidth,l.bottomWidth=s.bottomWidth,s.x=this._nextY,p.y=this.alignLabels?this.labelsContainer.measuredHeight:b/2,p.x=s.pixelX+s.pixelWidth*h.locationX+s.dx,this._nextY+=s.pixelWidth+C*g/Math.max(Math.abs(e.value),1e-8),l.x=this._nextY-C,l.y=b/2}this._nextWidth=s.bottomWidth}},Object.defineProperty(t.prototype,"topWidth",{get:function(){return this.getPropertyValue("topWidth")},set:function(e){this.setPercentProperty("topWidth",e,!1,!1,10,!1)&&this.invalidate()},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"pyramidHeight",{get:function(){return this.getPropertyValue("pyramidHeight")},set:function(e){this.setPercentProperty("pyramidHeight",e,!1,!1,10,!1)&&this.invalidate()},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"bottomWidth",{get:function(){return this.getPropertyValue("bottomWidth")},set:function(e){this.setPercentProperty("bottomWidth",e,!1,!1,10,!1)&&this.invalidate()},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"valueIs",{get:function(){return this.getPropertyValue("valueIs")},set:function(e){this.setPropertyValue("valueIs",e)&&this.invalidate()},enumerable:!0,configurable:!0}),t}(tk);G.registeredClasses.PyramidSeries=ik,G.registeredClasses.PyramidSeriesDataItem=bT;var nk=function(n){function t(){var e=n.call(this)||this;return e.className="PictorialStackedSeriesDataItem",e.applyTheme(),e}return $(t,n),t}(bT),fK=function(n){function t(){var e=n.call(this)||this;return e.className="PictorialStackedSeries",e.topWidth=ue(100),e.bottomWidth=ue(100),e.valueIs="height",e.applyTheme(),e.startLocation=0,e.endLocation=1,e.align="center",e.valign="middle",e._maskSprite=e.slicesContainer.createChild(Je),e._maskSprite.visible=!1,e._maskSprite.zIndex=100,e._maskSprite.shouldClone=!1,e}return $(t,n),t.prototype.validateDataElements=function(){var e=this.slicesContainer.maxWidth,i=this.slicesContainer.maxHeight,s=this._maskSprite,l=s.measuredWidth/s.scale,p=s.measuredHeight/s.scale,h=vt(i/p,e/l);h==1/0&&(h=1),h=Qe(.001,h);var b,C,g=this.startLocation,v=this.endLocation,m=vt(e,l*h),_=vt(i,p*h);s.scale=h,"vertical"==this.orientation?(this.topWidth=m+4,this.bottomWidth=m+4,this.pyramidHeight=_*(v-g),s.x=e/2,s.y=_/2):(this.topWidth=_+4,this.bottomWidth=_+4,this.pyramidHeight=m*(v-g),s.valign="middle",s.x=m/2,s.y=i/2),s.verticalCenter="middle",s.horizontalCenter="middle",n.prototype.validateDataElements.call(this),"vertical"==this.orientation?("bottom"==this.valign&&(b=i-_),"middle"==this.valign&&(b=(i-_)/2),"top"==this.valign&&(b=0),"left"==this.align&&(C=-(e-m)/2),"center"==this.align&&(C=0),"right"==this.align&&(C=(e-m)/2),this.slices.template.dy=g*_,this.alignLabels&&(this.slicesContainer.dx=C)):("bottom"==this.valign&&(b=(i-_)/2),"middle"==this.valign&&(b=0),"top"==this.valign&&(b=-(i-_)/2),"left"==this.align&&(C=0),"center"==this.align&&(C=(e-m)/2),"right"==this.align&&(C=e-m),this.slices.template.dx=g*m,this.alignLabels&&(this.slicesContainer.dy=b)),this.slicesContainer.x=C,this.labelsContainer.x=C,this.ticksContainer.x=C,this.slicesContainer.y=b,this.labelsContainer.y=b,this.ticksContainer.y=b,m>0&&_>0&&(this.slicesContainer.mask=s)},t.prototype.applyInternalDefaults=function(){n.prototype.applyInternalDefaults.call(this),L(this.readerTitle)||(this.readerTitle=this.language.translate("Pyramid Series"))},t.prototype.createDataItem=function(){return new nk},Object.defineProperty(t.prototype,"maskSprite",{get:function(){return this._maskSprite},enumerable:!0,configurable:!0}),t.prototype.initSlice=function(e){n.prototype.initSlice.call(this,e);var i=e.states.getKey("hover");i&&(i.properties.expandDistance=0)},Object.defineProperty(t.prototype,"startLocation",{get:function(){return this.getPropertyValue("startLocation")},set:function(e){this.setPropertyValue("startLocation",e)&&this.invalidateDataItems()},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"endLocation",{get:function(){return this.getPropertyValue("endLocation")},set:function(e){this.setPropertyValue("endLocation",e)&&this.invalidateDataItems()},enumerable:!0,configurable:!0}),t}(ik);G.registeredClasses.PictorialStackedSeries=fK,G.registeredClasses.PictorialStackedSeriesDataItem=nk;var rk=function(n){function t(){var e=n.call(this)||this;return e.className="ConeColumn",e}return $(t,n),t.prototype.createAssets=function(){this.coneColumn=this.createChild(kY),this.coneColumn.shouldClone=!1,this.column=this.coneColumn},t.prototype.copyFrom=function(e){n.prototype.copyFrom.call(this,e),this.coneColumn&&this.coneColumn.copyFrom(e.coneColumn)},t}(ip);G.registeredClasses.ConeColumn=rk;var gK=function(n){function t(){var e=n.call(this)||this;return e.className="ConeSeriesDataItem",e.applyTheme(),e}return $(t,n),t}(hc),vK=function(n){function t(){var e=n.call(this)||this;return e.className="ConeSeries",e.applyTheme(),e}return $(t,n),t.prototype.createColumnTemplate=function(){return new rk},t.prototype.getMaskPath=function(){var e=0,i=0,s=this.columns.getIndex(0);if(s)return this.baseAxis==this.xAxis?i=s.coneColumn.innerWidth/2+1:e=s.coneColumn.innerHeight/2+1,cc({x:-e,y:0,width:this.xAxis.axisLength+e,height:this.yAxis.axisLength+i})},t.prototype.validateDataElementReal=function(e){if(n.prototype.validateDataElementReal.call(this,e),e.column){var s=e.column.coneColumn;s.fill=e.column.fill,s.orientation=this.baseAxis==this.yAxis?"horizontal":"vertical"}},t}(np);G.registeredClasses.ConeSeries=vK,G.registeredClasses.ConeSeriesDataItem=gK;var ok=function(n){function t(){var e=n.call(this)||this;return e.className="CurvedColumn",e}return $(t,n),t.prototype.createAssets=function(){this.curvedColumn=this.createChild(Je),this.curvedColumn.shouldClone=!1,this.setPropertyValue("tension",.7),this.width=ue(120),this.height=ue(120),this.column=this.curvedColumn},t.prototype.draw=function(){n.prototype.draw.call(this);var p,e=this.realWidth,i=this.realHeight,s=this.realX-this.pixelX,l=this.realY-this.pixelY,h=1,g=1;"vertical"==this.orientation?(h=this.tension,p=[{x:0,y:i+l},{x:e/2,y:l},{x:e,y:i+l}]):(g=this.tension,p=[{x:s,y:i=Math.abs(i)},{x:s+e,y:i/2},{x:s,y:0}]);var v=Ce(p[0])+new dc(h,g).smooth(p);this.column.path=v},t.prototype.copyFrom=function(e){n.prototype.copyFrom.call(this,e),this.curvedColumn&&this.curvedColumn.copyFrom(e.curvedColumn)},Object.defineProperty(t.prototype,"tension",{get:function(){return this.getPropertyValue("tension")},set:function(e){this.setPropertyValue("tension",e,!0)},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"orientation",{get:function(){return this.getPropertyValue("orientation")},set:function(e){this.setPropertyValue("orientation",e,!0)},enumerable:!0,configurable:!0}),t}(ip);G.registeredClasses.CurvedColumn=ok;var yK=function(n){function t(){var e=n.call(this)||this;return e.className="CurvedColumnSeriesDataItem",e.applyTheme(),e}return $(t,n),t}(hc),mK=function(n){function t(){var e=n.call(this)||this;return e.className="CurvedColumnSeries",e.applyTheme(),e}return $(t,n),t.prototype.createColumnTemplate=function(){return new ok},t.prototype.validateDataElementReal=function(e){n.prototype.validateDataElementReal.call(this,e);var i=e.column;(i=e.column)&&(e.column.curvedColumn.fill=e.column.fill,i.orientation=this.baseAxis==this.yAxis?"horizontal":"vertical")},t}(np);G.registeredClasses.CurvedColumnSeries=mK,G.registeredClasses.CurvedColumnSeriesDataItem=yK;var _K=function(n){function t(){var e=n.call(this)||this;e.className="CircleBullet";var i=e.createChild(Xd);return i.shouldClone=!1,i.radius=5,i.isMeasured=!1,e.circle=i,e.applyTheme(),e}return $(t,n),t.prototype.copyFrom=function(e){n.prototype.copyFrom.call(this,e),this.circle.copyFrom(e.circle)},t}(ol);G.registeredClasses.CircleBullet=_K;var bK=function(n){function t(){var e=n.call(this)||this;return e.className="ErrorBullet",e.errorLine=e.createChild(Je),e.errorLine.shouldClone=!1,e.width=20,e.height=20,e.strokeOpacity=1,e.isDynamic=!0,e}return $(t,n),t.prototype.validatePosition=function(){n.prototype.validatePosition.call(this);var e=this.pixelWidth/2,i=this.pixelHeight/2;this.errorLine.path=Ce({x:-e,y:-i})+ne({x:e,y:-i})+Ce({x:0,y:-i})+ne({x:0,y:i})+Ce({x:-e,y:i})+ne({x:e,y:i})},t.prototype.copyFrom=function(e){n.prototype.copyFrom.call(this,e),this.errorLine.copyFrom(e.errorLine)},t}(ol);G.registeredClasses.ErrorBullet=bK;var CK=function(n){function t(){var e=n.call(this)||this;return e.className="NavigationBarDataItem",e.applyTheme(),e}return $(t,n),Object.defineProperty(t.prototype,"name",{get:function(){return this.properties.name},set:function(e){this.setProperty("name",e)},enumerable:!0,configurable:!0}),t}(Yd),wK=function(n){function t(){var e=n.call(this)||this;e.className="NavigationBar";var i=new Rt,s=new $R;s.valign="middle",s.paddingTop=8,s.paddingBottom=8,e.paddingBottom=2,e.links=new Ii(s),e._disposers.push(new Qt(e.links)),e._disposers.push(s),e._linksIterator=new oR(e.links,function(){return e.links.create()}),e._linksIterator.createNewItems=!0;var l=new YR;l.direction="right",l.width=8,l.height=12,l.fill=i.getFor("alternativeBackground"),l.fillOpacity=.5,l.valign="middle",l.marginLeft=10,l.marginRight=10,e.separators=new Ii(l),e._disposers.push(new Qt(e.separators)),e._disposers.push(l);var p=new $R;return e.activeLink=p,p.copyFrom(s),p.valign="middle",p.fontWeight="bold",e.width=ue(100),e.layout="grid",e.dataFields.name="name",e.applyTheme(),e}return $(t,n),t.prototype.validateDataElements=function(){this.removeChildren(),this._linksIterator.reset(),n.prototype.validateDataElements.call(this)},t.prototype.validateDataElement=function(e){var i;if(n.prototype.validateDataElement.call(this,e),e.index<this.dataItems.length-1){(i=this._linksIterator.getLast()).parent=this;var s=this.separators.create();s.parent=this,s.valign="middle"}else(i=this.activeLink).events.copyFrom(this.links.template.events),i.hide(0),i.show(),i.parent=this;i.dataItem=e,i.text=e.name,i.validate()},t}(Kd);G.registeredClasses.NavigationBar=wK,G.registeredClasses.NavigationBarDataItem=CK;var sk=function(n){function t(){var e=n.call(this)||this;e.point={x:0,y:0},e._stick="none",e.className="Cursor",e.width=ue(100),e.height=ue(100),e.shouldClone=!1,e.hide(0),e.trackable=!0,e.clickable=!0,e.isMeasured=!1;var i=$e();return e._disposers.push(i.body.events.on("down",e.handleCursorDown,e)),e._disposers.push(i.body.events.on("up",e.handleCursorUp,e)),e._disposers.push(i.body.events.on("track",e.handleCursorMove,e)),e.applyTheme(),e}return $(t,n),t.prototype.handleCursorMove=function(e){if(!(!this.interactionsEnabled||this.interactions.isTouchProtected&&e.touch)){if(("zoom"!=this._generalBehavior&&"pan"!=this._generalBehavior||!this.downPoint)&&!$e().isLocalElement(e.pointer,this.paper.svg,this.uid))return void((!this.isHidden||!this.isHiding)&&this.hide());var i=If(e.pointer.point,this);return"hard"==this._stick&&this._stickPoint&&(i=this._stickPoint),"soft"==this._stick&&this._stickPoint&&(this.fitsToBounds(i)||(i=this._stickPoint)),this._adapterO&&this._adapterO.apply("cursorPoint",i),this.triggerMove(i),i}},t.prototype.hideReal=function(e){if("hard"!=this._stick&&"soft"!=this._stick||!this._stickPoint)return n.prototype.hideReal.call(this,e)},t.prototype.triggerMove=function(e,i,s){e.x=ae(e.x,1),e.y=ae(e.y,1),i&&(this._stick=i),("hard"==i||"soft"==i)&&(this._stickPoint=e),this.triggerMoveReal(e,s)},t.prototype.triggerMoveReal=function(e,i){(this.point.x!=e.x||this.point.y!=e.y||i)&&(this.point=e,this.invalidatePosition(),this.fitsToBounds(e)?this.show(0):this.downPoint||this.hide(0),this.visible&&(this.getPositions(),this.dispatch("cursorpositionchanged")))},t.prototype.triggerDown=function(e){this.triggerDownReal(e)},t.prototype.triggerDownReal=function(e){switch(this._generalBehavior){case"zoom":this.dispatchImmediately("zoomstarted");break;case"select":this.dispatchImmediately("selectstarted");break;case"pan":this.dispatchImmediately("panstarted"),$e().setGlobalStyle(jn.grabbing)}},t.prototype.triggerUp=function(e){this.triggerUpReal(e)},t.prototype.triggerUpReal=function(e){lt.requestFrame(),this.updatePoint(this.upPoint);var i=$e();if(At(this._upPointOrig,this._downPointOrig)>i.getHitOption(this.interactions,"hitTolerance")){switch(this._generalBehavior){case"zoom":this.dispatch("zoomended");break;case"select":this.dispatch("selectended");break;case"pan":this.dispatch("panended"),i.setGlobalStyle(jn.default)}this.downPoint=void 0,this.updateSelection()}},t.prototype.updateSelection=function(){},t.prototype.getPositions=function(){this.xPosition=this.point.x/this.innerWidth,this.yPosition=1-this.point.y/this.innerHeight},t.prototype.handleCursorDown=function(e){if(!(!this.interactionsEnabled||this.interactions.isTouchProtected&&e.touch)&&$e().isLocalElement(e.pointer,this.paper.svg,this.uid)){G0();var i=If(e.pointer.point,this);"hard"==this._stick&&this._stickPoint&&(i=this._stickPoint),this._adapterO&&this._adapterO.apply("cursorPoint",i),this.fitsToBounds(i)&&(this._downPointOrig={x:i.x,y:i.y},e.event.cancelable&&this.shouldPreventGestures(e.touch)&&this.fitsToBounds(i)&&e.event.preventDefault(),this.triggerMove(i),this.triggerDown(i))}},t.prototype.shouldPreventGestures=function(e){return!0},t.prototype.updatePoint=function(e){},t.prototype.handleCursorUp=function(e){if(this.interactionsEnabled&&(this.downPoint||$e().isLocalElement(e.pointer,this.paper.svg,this.uid))){var i=If(e.pointer.point,this);this._adapterO&&this._adapterO.apply("cursorPoint",i),this.downPoint&&this.fitsToBounds(this.downPoint)&&("hard"==this._stick&&this._stickPoint&&(i=this._stickPoint),this._upPointOrig={x:i.x,y:i.y},this.triggerMove(i),this.triggerUp(i))}},Object.defineProperty(t.prototype,"chart",{get:function(){return this._chart},set:function(e){this._chart=e,L(this._chart.plotContainer)&&$e().lockElement(this._chart.plotContainer.interactions)},enumerable:!0,configurable:!0}),t}(Ve);G.registeredClasses.Cursor=sk;var ak=function(n){function t(){var e=n.call(this)||this;e._lineX=new Pn,e._lineY=new Pn,e._xAxis=new Pn,e._yAxis=new Pn,e._snapToDisposers=[],e.className="XYCursor",e.behavior="zoomX",e.maxPanOut=.1;var i=new Rt;e.snapOnPan=!0;var s=e.createChild(Je);s.shouldClone=!1,s.fillOpacity=.2,s.fill=i.getFor("alternativeBackground"),s.isMeasured=!1,s.visible=!1,s.interactionsEnabled=!1,e.selection=s,e._disposers.push(e.selection);var l=e.createChild(Je);l.shouldClone=!1,l.stroke=i.getFor("grid"),l.fill=Le(),l.strokeDasharray="3,3",l.isMeasured=!1,l.strokeOpacity=.4,l.interactionsEnabled=!1,l.y=0,e.lineX=l,e._disposers.push(e.lineX);var p=e.createChild(Je);return p.shouldClone=!1,p.stroke=i.getFor("grid"),p.fill=Le(),p.strokeDasharray="3,3",p.isMeasured=!1,p.strokeOpacity=.4,p.interactionsEnabled=!1,p.x=0,e.lineY=p,e._disposers.push(e.lineY),e.events.on("sizechanged",e.updateSize,e,!1),e._disposers.push(e._lineX),e._disposers.push(e._lineY),e._disposers.push(e._xAxis),e._disposers.push(e._yAxis),e.mask=e,e.hideSeriesTooltipsOnSelection=!0,e.applyTheme(),e}return $(t,n),t.prototype.updateSize=function(){this.lineX&&(this.lineX.path=Ce({x:0,y:0})+ne({x:0,y:this.innerHeight})),this.lineY&&(this.lineY.path=Ce({x:0,y:0})+ne({x:this.innerWidth,y:0}))},t.prototype.updateSelection=function(){if(this._usesSelection){var e=this.downPoint,i=this.behavior;if(e){var s=this.point;this.lineX&&(s.x=this.lineX.pixelX),this.lineY&&(s.y=this.lineY.pixelY);var l=this.selection,p=Math.min(s.x,e.x),h=Math.min(s.y,e.y),g=ae(Math.abs(e.x-s.x),this._positionPrecision),v=ae(Math.abs(e.y-s.y),this._positionPrecision);switch(i){case"zoomX":h=0,v=this.pixelHeight;break;case"zoomY":p=0,g=this.pixelWidth;break;case"selectX":h=0,v=this.pixelHeight;break;case"selectY":p=0,g=this.pixelWidth}l.x=p,l.y=h,l.path=UR(g,v),l.validatePosition()}else"select"!=this._generalBehavior&&this.selection.hide()}},t.prototype.fixPoint=function(e){return e.x=Math.max(0,e.x),e.y=Math.max(0,e.y),e.x=Math.min(this.pixelWidth,e.x),e.y=Math.min(this.pixelHeight,e.y),e},t.prototype.triggerMoveReal=function(e,i){n.prototype.triggerMoveReal.call(this,e,i);var s=this.snapToSeries;if(s&&!this.downPoint)if(s instanceof ep)s.isHidden&&this.updateLinePositions(e);else{var l=!0;be(s,function(p){p.isHidden||(l=!1)}),l&&this.updateLinePositions(e)}else this.updateLinePositions(e);this.downPoint&&At(this.downPoint,e)>3&&"pan"==this._generalBehavior&&(this.getPanningRanges(),this.dispatch("panning"))},t.prototype.updateLinePositions=function(e){e=this.fixPoint(this.point),this.lineX&&this.lineX.visible&&!this.xAxis&&(this.lineX.x=e.x),this.lineY&&this.lineY.visible&&!this.yAxis&&(this.lineY.y=e.y),this.updateSelection()},t.prototype.triggerDownReal=function(e){if(this.visible&&!this.isHiding)if("select"==this._generalBehavior&&(this.selection.parent=this.parent),this.fitsToBounds(e)){this.downPoint={x:e.x,y:e.y},this.updatePoint(e),this.point.x=this.downPoint.x,this.point.y=this.downPoint.y;var i=this.selection,l=this.downPoint.y;this._usesSelection&&(i.x=this.downPoint.x,i.y=l,i.path="",i.show()),n.prototype.triggerDownReal.call(this,e)}else this.downPoint=void 0;else this.downPoint=void 0},t.prototype.updatePoint=function(e){this.lineX&&(e.x=this.lineX.pixelX),this.lineY&&(e.y=this.lineY.pixelY)},t.prototype.triggerUpReal=function(e){this.hasMoved()?this.downPoint&&(this.upPoint=e,this.updatePoint(this.upPoint),"pan"!=this._generalBehavior&&this.getRanges(),"select"!=this._generalBehavior&&this.selection.hide(),n.prototype.triggerUpReal.call(this,e)):("select"!=this._generalBehavior?this.selection.hide(0):(this.xRange=void 0,this.yRange=void 0,this.dispatchImmediately("selectended")),"pan"==this._generalBehavior&&$e().setGlobalStyle(jn.default),this.dispatchImmediately("behaviorcanceled")),this.downPoint=void 0,this.dispatch("cursorpositionchanged")},t.prototype.hasMoved=function(){return("zoomX"==this.behavior||"panX"==this.behavior?function(n,t){return n?(t||(t={x:0,y:0}),Math.abs(n.x-t.x)):0}(this._upPointOrig,this._downPointOrig):"zoomY"==this.behavior||"panY"==this.behavior?function(n,t){return n?(t||(t={x:0,y:0}),Math.abs(n.y-t.y)):0}(this._upPointOrig,this._downPointOrig):At(this._upPointOrig,this._downPointOrig))>$e().getHitOption(this.interactions,"hitTolerance")},t.prototype.getPanningRanges=function(){var e=ae(this.downPoint.x/this.innerWidth,5),i=1-ae(this.downPoint.y/this.innerHeight,5),p=e-ae(this.point.x/this.innerWidth,5),h=i-(1-ae(this.point.y/this.innerHeight,5));this.xRange={start:p,end:1+p},this.yRange={start:h,end:1+h},"panX"==this.behavior&&(this.yRange.start=0,this.yRange.end=1),"panY"==this.behavior&&(this.xRange.start=0,this.xRange.end=1)},t.prototype.getRanges=function(){this.lineX&&(this.upPoint.x=this.lineX.pixelX),this.lineY&&(this.upPoint.y=this.lineY.pixelY);var e=ae(this.downPoint.x/this.innerWidth,5),i=ae(this.upPoint.x/this.innerWidth,5),s=1-ae(this.downPoint.y/this.innerHeight,5),l=1-ae(this.upPoint.y/this.innerHeight,5);this.xRange={start:vt(e,i),end:Qe(e,i)},this.yRange={start:vt(s,l),end:Qe(s,l)}},Object.defineProperty(t.prototype,"behavior",{get:function(){return this.getPropertyValue("behavior")},set:function(e){this.setPropertyValue("behavior",e,!0),this._usesSelection=!1,-1!=e.indexOf("zoom")&&(this._generalBehavior="zoom",this._usesSelection=!0),-1!=e.indexOf("select")&&(this._generalBehavior="select",this._usesSelection=!0),-1!=e.indexOf("pan")&&(this._generalBehavior="pan",this._usesSelection=!1)},enumerable:!0,configurable:!0}),t.prototype.shouldPreventGestures=function(e){return!(this.interactions.isTouchProtected&&e||"none"==this.behavior)},Object.defineProperty(t.prototype,"fullWidthLineX",{get:function(){return this.getPropertyValue("fullWidthLineX")},set:function(e){this.setPropertyValue("fullWidthLineX",e),e||this.updateSize()},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"fullWidthLineY",{get:function(){return this.getPropertyValue("fullWidthLineY")},set:function(e){this.setPropertyValue("fullWidthLineY",e),e||this.updateSize()},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"hideSeriesTooltipsOnSelection",{get:function(){return this.getPropertyValue("hideSeriesTooltipsOnSelection")},set:function(e){this.setPropertyValue("hideSeriesTooltipsOnSelection",e)},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"maxTooltipDistance",{get:function(){return this.getPropertyValue("maxTooltipDistance")},set:function(e){this.setPropertyValue("maxTooltipDistance",e)},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"maxPanOut",{get:function(){return this.getPropertyValue("maxPanOut")},set:function(e){this.setPropertyValue("maxPanOut",e)},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"xAxis",{get:function(){return this._xAxis.get()},set:function(e){var i=this;this._xAxis.get()!=e&&this._xAxis.set(e,new mi([e.tooltip.events.on("positionchanged",this.handleXTooltipPosition,this,!1),e.events.on("rangechangestarted",function(s){i.hide(0),i.preventShow=!0},void 0,!1),e.events.on("rangechangeended",function(s){i.preventShow=!1,i.hide(0),i.dispatch("cursorpositionchanged")},void 0,!1)]))},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"yAxis",{get:function(){return this._yAxis.get()},set:function(e){var i=this;this._yAxis.get()!=e&&this._yAxis.set(e,new mi([e.tooltip.events.on("positionchanged",this.handleYTooltipPosition,this,!1),e.events.on("rangechangestarted",function(s){i.hide(0),i.__disabled=!0},void 0,!1),e.events.on("rangechangeended",function(s){i.__disabled=!1,i.hide(0),i.dispatch("cursorpositionchanged")},void 0,!1)]))},enumerable:!0,configurable:!0}),t.prototype.handleXTooltipPosition=function(e){var i=this.xAxis.tooltip,s=Yo({x:i.pixelX,y:i.pixelY},this),l=s.x;if(s.y=1,this.lineX&&(this.lineX.x=l,this.fitsToBounds(s)||this.hide()),this.xAxis&&this.fullWidthLineX){var p=this.xAxis.currentItemStartPoint,h=this.xAxis.currentItemEndPoint;if(p&&h){this.lineX.x=l;var g=h.x-p.x;this.lineX.path=UR(g,this.innerHeight,-g/2)}}},t.prototype.handleYTooltipPosition=function(e){var i=this.yAxis.tooltip,s=Yo({x:i.pixelX,y:i.pixelY},this),l=s.y;if(s.x=1,this.lineY&&(this.lineY.y=l,this.fitsToBounds(s)||this.hide()),this.yAxis&&this.fullWidthLineY){var p=this.yAxis.currentItemStartPoint,h=this.yAxis.currentItemEndPoint;if(p&&h){this.lineY.y=l;var g=h.y-p.y;this.lineY.path=UR(this.innerWidth,g,0,-g/2)}}},Object.defineProperty(t.prototype,"lineX",{get:function(){return this._lineX.get()},set:function(e){e?(e.setElement(this.paper.add("path")),this._lineX.set(e,e.events.on("positionchanged",this.updateSelection,this,!1)),e.interactionsEnabled=!1,e.parent=this):this._lineX.reset()},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"lineY",{get:function(){return this._lineY.get()},set:function(e){e?(e.setElement(this.paper.add("path")),this._lineY.set(e,e.events.on("positionchanged",this.updateSelection,this,!1)),e.parent=this,e.interactionsEnabled=!1):this._lineY.reset()},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"selection",{get:function(){return this._selection},set:function(e){this._selection=e,e&&(e.element=this.paper.add("path"),e.parent=this)},enumerable:!0,configurable:!0}),t.prototype.processConfig=function(e){var i=this;if(e&&(L(e.xAxis)&&gt(e.xAxis)&&(this.map.hasKey(e.xAxis)?e.xAxis=this.map.getKey(e.xAxis):(this.processingErrors.push('[XYCursor] No axis with id "'+e.xAxis+'" found for `xAxis`'),delete e.xAxis)),L(e.yAxis)&&gt(e.yAxis)&&(this.map.hasKey(e.yAxis)?e.yAxis=this.map.getKey(e.yAxis):(this.processingErrors.push('[XYCursor] No axis with id "'+e.yAxis+'" found for `yAxis`'),delete e.yAxis)),L(e.snapToSeries))){var s=hn(e.snapToSeries)?e.snapToSeries:[e.snapToSeries],l=!1;be(s,function(p,h){gt(p)&&(i.map.hasKey(p)?s[h]=i.map.getKey(p):(i.processingErrors.push('[XYCursor] No series with id "'+p+'" found for `series`'),l=!0))}),l?delete e.snapToSeries:e.snapToSeries=s}n.prototype.processConfig.call(this,e)},Object.defineProperty(t.prototype,"snapToSeries",{get:function(){return this.getPropertyValue("snapToSeries")},set:function(e){var i=this;this.setPropertyValue("snapToSeries",e)&&(e instanceof ep&&(e=[e]),this._snapToDisposers&&be(this._snapToDisposers,function(s){s.dispose()}),this._snapToDisposers=[],e&&be(e,function(s){i._snapToDisposers.push(s.events.on("tooltipshownat",function(){i.handleSnap(s)},void 0,!1))}))},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"snapOnPan",{get:function(){return this.getPropertyValue("snapOnPan")},set:function(e){this.setPropertyValue("snapOnPan",e)},enumerable:!0,configurable:!0}),t.prototype.handleSnap=function(e){if(!this.downPoint){var i=e.getTooltipX()+e.xAxis.pixelX,s=e.getTooltipY()+e.yAxis.pixelY,l=e.xAxis,p=e.yAxis;l&&l.renderer.opposite&&(s-=this.pixelHeight),this.point={x:i,y:s},this.getPositions();var h=i,g=s;i-=this.pixelWidth,p&&p.renderer.opposite&&(i+=this.pixelWidth);var v=e.tooltip,m=v.animationDuration,_=v.animationEasing;l instanceof rt&&!(l instanceof bi)&&p instanceof rt&&!(p instanceof bi)?(e.yAxis.showTooltipAtPosition(this.yPosition),e.xAxis.showTooltipAtPosition(this.xPosition)):(e.baseAxis==e.xAxis&&e.yAxis.showTooltipAtPosition(this.yPosition),e.baseAxis==e.yAxis&&e.xAxis.showTooltipAtPosition(this.xPosition)),this.lineY.x=i,this.lineX.y=s,this.xAxis||this.lineX.animate([{property:"x",to:h}],m,_),this.yAxis||this.lineY.animate([{property:"y",to:g}],m,_)}},t.prototype.dispose=function(){this.hide(0),n.prototype.dispose.call(this)},t}(sk);G.registeredClasses.XYCursor=ak;var CT=function(n){function t(){var e=n.call(this)||this;return e.className="RadarCursor",e.radius=ue(100),e.innerRadius=ue(0),e.applyTheme(),e.mask=void 0,e}return $(t,n),t.prototype.fitsToBounds=function(e){var i=At(e);return i<this.truePixelRadius+1&&i>this.pixelInnerRadius-1},Object.defineProperty(t.prototype,"startAngle",{get:function(){return this.getPropertyValue("startAngle")},set:function(e){this.setPropertyValue("startAngle",e,!0)},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"endAngle",{get:function(){return this.getPropertyValue("endAngle")},set:function(e){this.setPropertyValue("endAngle",e,!0)},enumerable:!0,configurable:!0}),t.prototype.triggerMoveReal=function(e,i){(!this.xAxis||this.xAxis&&(!this.xAxis.cursorTooltipEnabled||this.xAxis.tooltip.disabled))&&this.updateLineX(this.point),(!this.yAxis||this.yAxis&&(!this.yAxis.cursorTooltipEnabled||this.yAxis.tooltip.disabled))&&this.updateLineY(this.point),this.updateSelection(),n.prototype.triggerMoveReal.call(this,e,i)},t.prototype.updateLineX=function(e){var i=this.pixelRadius,s=this.startAngle,l=this.endAngle,p=this.pixelInnerRadius;if(i>0&&M(s)&&M(l)&&M(p)){var h=Za(Fn(e),s,l),g=void 0;if(this.lineX&&this.lineX.visible){if(this.lineX.moveTo({x:0,y:0}),this.xAxis&&this.fullWidthLineX){var v=this.xAxis.currentItemStartPoint,m=this.xAxis.currentItemEndPoint;if(v&&m){var _=Za(Fn(v),s,l),C=Za(Fn(m),s,l)-_;s<l?C<0&&(C+=360):C>0&&(C-=360),g=Ce({x:p*ve(h-=C/2),y:p*ge(h)})+ne({x:i*ve(h),y:i*ge(h)})+Rn(h,C,i)+ne({x:p*ve(h+C),y:p*ge(h+C)})+Rn(h+C,-C,p)}}g||(g=Ce({x:p*ve(h),y:p*ge(h)})+ne({x:i*ve(h),y:i*ge(h)})),this.lineX.path=g}}},t.prototype.updateLineY=function(e){if(this.lineY&&this.lineY.visible){var i=this.startAngle,s=this.endAngle,l=this.truePixelRadius,p=xe(At(e),0,this.truePixelRadius);if(M(p)&&M(i)){this.lineY.moveTo({x:0,y:0});var h=void 0,g=s-i;if(this.yAxis&&this.fullWidthLineY){var v=this.yAxis.currentItemStartPoint,m=this.yAxis.currentItemEndPoint;if(v&&m){var _=xe(At(v),0,l);h=Ce({x:(p=xe(At(m),0,l))*ve(i),y:p*ge(i)})+Rn(i,g,p),h+=Ce({x:_*ve(s),y:_*ge(s)})+Rn(s,-g,_)}}h||(h=Ce({x:p*ve(i),y:p*ge(i)})+Rn(i,s-i,p)),this.lineY.path=h}}},t.prototype.updateSelection=function(){if(this._usesSelection){var e=this.downPoint;if(e){var i=this.point,s=this.pixelRadius,l=this.truePixelRadius,p=this.pixelInnerRadius,h=Math.min(this.startAngle,this.endAngle),g=Math.max(this.startAngle,this.endAngle),v=Za(Fn(e),h,g),m=Za(Fn(i),h,g),_=At(e);if(_<l){var b=xe(At(i),0,l);this._prevAngle=m;var C=Ce({x:0,y:0}),S=ge(v),E=ve(v),x=ge(m),R=ve(m),P=this.behavior;"zoomX"==P||"selectX"==P?C+=ne({x:s*E,y:s*S})+Rn(v,m-v,s)+ne({x:p*R,y:p*x})+Rn(m,v-m,p):"zoomY"==P||"selectY"==P?C=Ce({x:b*ve(h),y:b*ge(h)})+Rn(h,g-h,b)+ne({x:_*ve(g),y:_*ge(g)})+Rn(g,h-g,_)+" Z":"zoomXY"==P&&(C=Ce({x:b*ve(v),y:b*ge(v)})+Rn(v,m-v,b)+ne({x:_*ve(m),y:_*ge(m)})+Rn(m,v-m,_)+" Z"),this.selection.path=C}this.selection.moveTo({x:0,y:0})}}},t.prototype.getPositions=function(){if(this.chart){var i=this.pixelInnerRadius,s=this.truePixelRadius-i,l=this.startAngle,p=this.endAngle,h=Za(Fn(this.point),l,p);this.xPosition=(h-l)/(p-l),this.yPosition=xe((At(this.point)-i)/s,0,1)}},t.prototype.updatePoint=function(e){},t.prototype.handleXTooltipPosition=function(e){if(this.xAxis.cursorTooltipEnabled){var i=this.xAxis.tooltip;this.updateLineX(Yo({x:i.pixelX,y:i.pixelY},this))}},t.prototype.handleYTooltipPosition=function(e){if(this.yAxis.cursorTooltipEnabled){var i=this.yAxis.tooltip;this.updateLineY(Yo({x:i.pixelX,y:i.pixelY},this))}},t.prototype.updateLinePositions=function(e){},t.prototype.getRanges=function(){var e=this.downPoint;if(e){var i=this.upPoint;if(this.chart){var l=this.pixelRadius,p=this.startAngle,h=this.endAngle,g=Za(Fn(e),this.startAngle,this.endAngle),v=Za(Fn(i),this.startAngle,this.endAngle),m=xe(At(e),0,l),_=xe(At(i),0,l),b=0,C=1,S=0,E=1,x=this.behavior;if("zoomX"==x||"selectX"==x||"zoomXY"==x||"selectXY"==x){var R=h-p;b=ae((g-p)/R,5),C=ae((v-p)/R,5)}("zoomY"==x||"selectY"==x||"zoomXY"==x||"selectXY"==x)&&(S=ae(m/l,5),E=ae(_/l,5)),this.xRange={start:Math.min(b,C),end:Math.max(b,C)},this.yRange={start:Math.min(S,E),end:Math.max(S,E)},"selectX"==this.behavior||"selectY"==this.behavior||"selectXY"==this.behavior||this.selection.hide()}}},t.prototype.updateSize=function(){},Object.defineProperty(t.prototype,"radius",{get:function(){return this.getPropertyValue("radius")},set:function(e){this.setPercentProperty("radius",e,!1,!1,10,!1)},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"pixelRadius",{get:function(){return Nn(this.radius,this.truePixelRadius)},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"truePixelRadius",{get:function(){return fi(ue(100),vt(this.innerWidth/2,this.innerHeight/2))},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"innerRadius",{get:function(){return this.getPropertyValue("innerRadius")},set:function(e){this.setPercentProperty("innerRadius",e,!1,!1,10,!1)},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"pixelInnerRadius",{get:function(){var e=this.innerRadius;return e instanceof ft&&(e=ue(100*e.value*this.chart.innerRadiusModifyer)),Nn(e,this.truePixelRadius)||0},enumerable:!0,configurable:!0}),t.prototype.fixPoint=function(e){return e},t}(ak);G.registeredClasses.RadarCursor=CT;const SK=function(n){Tr(n,"SpriteState")&&(n.transitionDuration=400),Tr(n,"Component")&&(n.rangeChangeDuration=500,n.interpolationDuration=500,n.sequencedInterpolation=!1,Tr(n,"SankeyDiagram")&&(n.sequencedInterpolation=!0),Tr(n,"FunnelSeries")&&(n.sequencedInterpolation=!0)),Tr(n,"Chart")&&(n.defaultState.transitionDuration=2e3,n.hiddenState.transitionDuration=1e3),Tr(n,"Tooltip")&&(n.animationDuration=400,n.defaultState.transitionDuration=400,n.hiddenState.transitionDuration=400),Tr(n,"Scrollbar")&&(n.animationDuration=500),Tr(n,"Series")&&(n.defaultState.transitionDuration=1e3,n.hiddenState.transitionDuration=700,n.hiddenState.properties.opacity=1,n.showOnInit=!0),Tr(n,"MapSeries")&&(n.hiddenState.properties.opacity=0),Tr(n,"PercentSeries")&&(n.hiddenState.properties.opacity=0),Tr(n,"FunnelSlice")&&(n.defaultState.transitionDuration=800,n.hiddenState.transitionDuration=1e3,n.hiddenState.properties.opacity=1),Tr(n,"Slice")&&(n.defaultState.transitionDuration=700,n.hiddenState.transitionDuration=1e3,n.hiddenState.properties.opacity=1),Tr(n,"Preloader")&&(n.hiddenState.transitionDuration=2e3),Tr(n,"Column")&&(n.defaultState.transitionDuration=700,n.hiddenState.transitionDuration=1e3,n.hiddenState.properties.opacity=1),Tr(n,"Column3D")&&(n.hiddenState.properties.opacity=0)},xK=function(n){Tr(n,"ColorSet")&&(n.list=[Le("#bec4f8"),Le("#a5abee"),Le("#6a6dde"),Le("#4d42cf"),Le("#713e8d"),Le("#a160a0"),Le("#eb6eb0"),Le("#f597bb"),Le("#fbb8c9"),Le("#f8d4d8")],n.minLightness=.2,n.maxLightness=.7,n.reuse=!0)},OK=[{path:"skill",component:(()=>{class n{constructor(e,i){this.platformId=e,this.zone=i}ngOnInit(){}browserOnly(e){(function(n){return n===x1})(this.platformId)&&this.zone.runOutsideAngular(()=>{e()})}ngAfterViewInit(){this.browserOnly(()=>{_V(xK),_V(SK);{this.skillTypeChart=mV("skilltypechartdiv",cD),this.skillTypeChart.data=[{category:"C1",power:2,categoryLabel:"D\xe9butant",axisLabel:"Expliciter, \xe9tayer et argumenter les valeurs, les principes \xe9thiques et  le cadre d\xe9ontologique du travail social qui fondent leur action.",why:"<p>Tout au long du 1er semestre, les lectures donn\xe9es, les r\xe9flexions demand\xe9es ainsi que les exercices \xe0 r\xe9aliser notamment en lien avec les cours suivants :</p><p>Histoire du travail social ; introduction aux droits fondamentaux ; introduction \xe0 l\u2019\xe9thique ; introduction \xe0 la d\xe9ontologie,</p><p>Introduction \xe0 la syst\xe9mique ; observation ; d\xe9veloppement du pouvoir d\u2019agir ; sociologie du travail social</p><p>M\u2019ont permis d\u2019avoir de meilleures connaissances sur l\u2019origine du travail social, de ses \xe9volutions au cours des si\xe8cles et des courants de pens\xe9e qui les traversent. Des courants de pens\xe9e fa\xe7onn\xe9s par les sciences,     les cultures, la philosophie, les facteurs sociaux et environnementaux, etc. Ces connaissances me permettent de comprendre et expliquer pourquoi le travail social et ses professionnels-les rencontrent certaines difficult\xe9s, tensions et pr\xf4nent actuellement ces valeurs. \xc0 l\u2019occasion de notre projet sur la possibilit\xe9 de r\xe9insertion d\u2019adultes \xab haut potentiel \xbb \xe0 l\u2019aide sociale, nous d\xe9sirons prendre tr\xe8s au s\xe9rieux l\u2019envie et le besoin r\xe9el de ces personnes. Ce premier semestre m\u2019a \xe9clair\xe9 sur le fait que nous proposions souvent nos id\xe9es d\u2019activit\xe9s et qu\u2019elles ne suscitent pas chaque fois l\u2019unanimit\xe9 et l\u2019adh\xe9sion des personnes accompagn\xe9e. Adh\xe9sion primordiale, si l\u2019on veut permettre un changement durable. Cette pratique rentre dans le cadre de l\u2019\xe9thique et de la d\xe9ontologie du            travail social. Malheureusement, ce genre de d\xe9marche est parfois difficile \xe0 faire entendre et adopter par des institutions ou des services soumis aux contraintes de l\u2019\xe9conomie libre. Ces derniers souhaitant voir des r\xe9sultats \xe0 courts et moyens termes.</p>"},{category:"C2",power:3,categoryLabel:"Apprenant",axisLabel:"\xc9valuer leurs propres ressources et leurs limites dans les dimensions cognitives, \xe9motionnelles, corporelles et sociales, et identifier leurs besoins en mati\xe8re de professionnalisation.",why:"<p>Je suis apte \xe0 r\xe9fl\xe9chir sur mes pens\xe9es, mes actions et mes exp\xe9riences. J\u2019essaie de les comprendre et analyser dans la limite de mes connaissances th\xe9oriques.</p><p>Dans le cadre d\u2019une le\xe7on d\u2019escalade, j\u2019ai \xe9t\xe9 capable de me rendre compte de ma limite \xe0 motiver des adolescents en leur proposant des exercices stimulants et cibl\xe9s sur leurs besoins du moment. J\u2019ai \xe9galement pu r\xe9fl\xe9chir sur mes \xe9motions et leurs limites lorsque les jeunes se sont permis de courir et d\xe9ranger (selon mon interpr\xe9tation) la client\xe8le, en plus de ne pas r\xe9aliser les consignes que j\u2019avais donn\xe9es. Ce constat m\u2019a g\xean\xe9 et j\u2019ai donc cherch\xe9 une strat\xe9gie pour plus les investir et mieux canaliser leurs \xe9nergies pour le cours suivant. J\u2019ai fait appel \xe0 mes ressources.</p><p><b>Cognitives</b>\u2009: en m\u2019appuyant sur des th\xe9ories pour impliquer davantage des personnes dans une activit\xe9. J\u2019ai propos\xe9 aux jeunes de me dire qu\u2019elles \xe9taient leurs motivations profondes \xe0 faire de la grimpe. Ma r\xe9flexion s\u2019est aussi bas\xe9e sur la mani\xe8re dont j\u2019allais communiquer avec eux. Avec quel vocabulaire, quelles intonations de voix, quelle posture, quel discours. Parler de mes ressentis, mon utilit\xe9 pour eux, mon statut dans la salle d\u2019escalade, mes envies.</p><p><b>\xc9motionnelles</b>\u2009: j\u2019arrive \xe0 montrer mon agacement ou ma joie en fonction qu\u2019un jeune adopte une attitude d\xe9plac\xe9e ou alors progresse dans sa grimpe.</p><p><b>Corporelles</b>\u2009: L\u2019art de trouver la bonne distance selon la personne et au bon moment de l\u2019interaction. Mes ann\xe9es de pratique en escalade ont fa\xe7onn\xe9 ma gestuelle. L\u2019estime que me portent les jeunes (esp\xe9rons-le) peut \xe9ventuellement augmenter lorsqu\u2019en grimpant, je r\xe9alise facilement et leur d\xe9cortique les mouvements sur lesquels ils butent. Le corps et sa mobilit\xe9 peuvent \xeatre un outil d\u2019influence et d\u2019identification. J\u2019essaie d\u2019en avoir conscience et d\u2019utiliser ces outils avec pr\xe9caution et parcimonie.</p><p><b>Sociales</b>\u2009: Je me soucie de partager mon temps \xe9quitablement entre chaque \xe9l\xe8ve. De leur donner les bons conseils au bon moment, d\u2019expliquer diff\xe9remment s\u2019ils ne comprennent pas, de rester positif selon les difficult\xe9s rencontr\xe9es et d\u2019avoir un petit encouragement, un mot ou une blague personnalis\xe9e. J\u2019ai \xe9galement dans mon entourage beaucoup de sp\xe9cialistes travaillant dans divers domaines. Je me permets sans g\xeane d\u2019\xe9changer avec eux et avec elles sur une situation o\xf9 j\u2019ai senti mes limites poindre.</p>"},{category:"C3",power:3,categoryLabel:"Apprenant",axisLabel:"Construire et d\xe9velopper une relation professionnelle dans une posture favorisant le pouvoir d\u2019agir et l\u2019autod\xe9termination des individus, groupes et communaut\xe9s.",why:"<p>Cela fait une dizaine d\u2019ann\xe9es que je m\u2019interroge sur la bonne attitude a adopt\xe9e pour obtenir une relation la plus profitable aux deux partis. Chaque journ\xe9e de travail permet d'appliquer cette comp\xe9tence. Je tente de l\u2019affiner au maximum en partageant et questionnant d\u2019autres professionnels-les sur leurs exp\xe9riences et connaissances.</p><p>J\u2019ai su d\xe9velopper une posture professionnelle en tant que vendeur sp\xe9cialis\xe9 et moniteurs d\u2019escalade durant ces 10 derni\xe8res ann\xe9es. En tentant de mettre en pratique mes notions basiques de communication, j\u2019ai pu avoir majoritairement des retours positifs sur ma mani\xe8re d\u2019agir. J\u2019essaie de me renseigner en questionnant la client\xe8le et les \xe9l\xe8ves sur leurs envies, et en creusant plus, sur leurs r\xe9els besoins. Tout en estimant la bonne distance\u2009: physique et respect de la vie priv\xe9e. Interroger astucieusement les personnes, permet de mettre en lumi\xe8re des probl\xe9matiques puis des besoins ou des moyens pour y r\xe9pondre. Une fois ces derniers mis en avant, je prends garde de ne pas d\xe9cider \xe0 la place des gens. Cela a souvent permis de les rendre acteurs et actrices de leurs choix et par cons\xe9quent, plus engag\xe9 dans les mesures ou les directions \xe0 prendre.</p>"},{category:"C4",power:2,categoryLabel:"D\xe9butant",axisLabel:"\xc9tablir des diagnostics de situation, construire, mener et \xe9valuer des projets d\u2019intervention et des actions en se basant sur des connaissances scientifiques, m\xe9thodologiques et des savoirs d\u2019action.",why:"<p>J\u2019ai remplac\xe9 un coll\xe8gue pour son cours d\u2019escalade \xab\u2009jeune et bloc\u2009\xbb<sup>1</sup>. Sur les 6 adolescents pr\xe9sents, 3 ont commenc\xe9 \xe0 ne plus r\xe9aliser les exercices que je leur avais pr\xe9sent\xe9s. Ils ont entrepris \xe0 courir sur les matelas, faire du bruit et se chamailler. J\u2019ai \xe9tabli ce diagnostic\u2009:</p><ul><li>L\u2019activit\xe9 propos\xe9 ne leur convenait pas, ou \xe9tait devenue monotone.</li><li>Leurs conduites d\xe9rangeaient les autres clients et clientes dans la salle.</li><li>Malgr\xe9 plusieurs rappels des r\xe8gles et suggestions de nouveaux exercices, leurs attitudes n\u2019ont pas chang\xe9. J\u2019ai ressenti qu\u2019en filigrane, la question pouvait se poser de mon professionnalisme \xe0 faire face \xe0 cette situation.</li></ul><p>Apr\xe8s ce diagnostic, j\u2019ai d\xe9cid\xe9 d\u2019\xe9laborer un \xab\u2009projet\u2009\xbb d\u2019intervention pour les cours \xe0 venir. Pour avoir l\u2019adh\xe9sion des jeunes dans le cours, il fallait que je sache ce qui les motivait dans la grimpe et qu\u2019est-ce que je pouvais leur apporter dans ce cours.</p><p>La le\xe7on suivante, j\u2019ai organis\xe9 un \xe9chauffement avec 5 postes d\u2019exercices physiques et 1 poste d\xe9di\xe9 \xe0 la r\xe9flexion sur leurs envies pour les prochains cours. Avant de commencer, je leur ai expliqu\xe9 les consignes et leur ai \xe9galement donn\xe9 quelques pistes de questionnement pour faciliter l\u2019enclenchement de leurs r\xe9flexions. Inclure ce poste dans l\u2019\xe9chauffement a bien march\xe9, car il pouvait \xe0 la fois se reposer en r\xe9fl\xe9chissant sans rester \xab\u2009passif\u2009\xbb avec le risque de d\xe9ranger les autres. Passer par l\u2019\xe9crit permet de garder une base concr\xe8te des envies et de s\u2019y r\xe9f\xe9rer au besoin. \xc0 la fin de l\u2019\xe9chauffement, tous ensemble nous avons repris les souhaits de chacun et avons ainsi d\xe9velopp\xe9 la s\xe9ance et les futures cours \xe0 venir.</p><p>J\u2019ai constat\xe9 que la dynamique a \xe9volu\xe9 dans la le\xe7on du jour et dans celles qui ont suivi. Les jeunes avaient plus de volont\xe9 pour grimper et progresser, chacun dans son niveau et \xe0 son rythme.</p><p>J\u2019estime \xeatre encore d\xe9butant, car il me manque encore des connaissances scientifiques pour r\xe9ussir \xe0 analyser des situations plus complexes et avoir les outils ad\xe9quats pour y r\xe9pondre.</p><p><sup>1</sup> Cours de grimpe propos\xe9 par la salle Vertic-Halle \xe0 des jeunes de 11 et 14 ans pour la pratique du bloc. Le bloc est une discipline de l\u2019escalade consistant \xe0 gravir des murs d\u2019une hauteur de 4 m maximum, la chute \xe9tant prot\xe9g\xe9e par des matelas au sol.</p>"},{category:"C5",power:1,categoryLabel:"Novice",axisLabel:"D\xe9velopper une pens\xe9e critique, questionner le sens de l\u2019action sociale et proposer des modes d\u2019intervention et de transformation sociales pertinents, cr\xe9atifs et diversifi\xe9s, qui int\xe8grent les enjeux sociaux, \xe9conomiques, culturels et politiques aux niveaux : local, national et international.",why:"<p> Les diff\xe9rents cours du semestre m\u2019ont donn\xe9 plusieurs pistes de r\xe9flexion pour travailler cette comp\xe9tence, notamment: <p><b>Les pouvoirs</b>: Nous en poss\xe9dons beaucoup en tant que TS.Souvent ces pouvoirs sont peu visibles, mais bien pr\xe9sents.Il en va de notre \xe9thique de s\u2019en rendre compte et d\u2019en user avec toute la conscience n\xe9cessaire pour respecter les droits et les choix des personnes que l\u2019on accompagne.</p><p><b>Les mandats</b>\u2009: En tant que TS nous devons r\xe9pondre \xe0 trois mandats.Notre employeur, les personnes que l\u2019accompagne, l\u2019\xe9thique et la d\xe9ontologie auxquelles notre profession aspire.Ces derniers ne sont pas toujours compatibles entre eux.Il en va de notre sens critique et de notre \xe9thique d\u2019amener une intervention ou une transformation pertinente qui tiennent en compte les probl\xe9matiques de chaque partie.</p><p><b>Champy</b> m\u2019as appris, que chaque cas est singulier et toutes les situations sont complexes.Dans ce contexte, apparait souvent des tensions entre les professionnels\u2022les concernant la hi\xe9rarchisation des moyens et des finalit\xe9s.D\xe9coulant de ces tensions, l\u2019accompagnement des personnes peut en \xeatre d\xe9t\xe9rior\xe9. </p><p><b>L\u2019observation et la syst\xe9mique</b> m\u2019ont entre autres expliqu\xe9 qu\u2019il est important d\u2019avoir et de garder un regard critique sur nos visions et interpr\xe9tations.Pour les humains la r\xe9alit\xe9 ne peut \xeatre que construite.Par cons\xe9quent, chacun\u2022e \xe0 la sienne.En tant que TS je me dois de connaitre la mienne et comprendre celle des autres, pour en coconstruire une permettant de travailler au mieux.</p><p><b>Le d\xe9veloppement du pouvoir d\u2019agir</b> m\u2019a aussi montr\xe9 que selon la posture prise par le TS, l\u2019accompagnement des personnes peut \xeatre plus ou moins r\xe9ussi.J\u2019ai l\u2019impression que cette m\xe9thode offre une intervention et un soutien pertinent, cr\xe9atif et diversifi\xe9. </p><p>Toutes ces approches nous aident \xe0 d\xe9chiffrer des processus par lesquels peuvent apparaitre des tensions et cr\xe9er des conflits. En s\u2019en rendant compte, on peut plus facilement prendre du recul et adopter une attitude constructive permettant d\u2019avancer.</p > <p><b>J\u2019estime \xeatre novice </b>, car j\u2019ai de l\xe9g\xe8res bases th\xe9oriques qui ne demandent qu\u2019\xe0 \xeatre consolid\xe9es par de la pratique et de la supervision.</p> "},{category:"C6",power:3,categoryLabel:"Apprenant",axisLabel:"Communiquer de mani\xe8re claire et ad\xe9quate, oralement, par \xe9crit et/ou selon des modalit\xe9s appropri\xe9es, aupr\xe8s de publics diversifi\xe9s et dans des contextes vari\xe9s.",why:"<p>J\u2019ai re\xe7u les connaissances de base de la communication orale et \xe9crite durant mes ann\xe9es de formation (rd, ECG, CFC, maturit\xe9 sociale, brevet f\xe9d\xe9ral professeur d\u2019escalade). Puis, j\u2019ai toujours essay\xe9 de les mettre en pratique et les am\xe9liorer tout au long de ma carri\xe8re professionnelle. 5 ann\xe9es comme vendeur sp\xe9cialis\xe9 et 5 ann\xe9es comme moniteur, h\xf4te d\u2019accueil et ouvreur dans une salle d\u2019escalade (Vertic-Halle). Le responsable des cours de la salle \xe9tant form\xe9 \xe0 la PNL m\u2019a beaucoup appris et rendu curieux sur cet art. Il m\u2019a notamment expliqu\xe9 l\u2019importance d\u2019exprimer ses ressentis et ses \xe9motions afin d\u2019\xe9viter un maximum les mauvaises interpr\xe9tations de nos propos.</p><p>Les cours du premier semestre et sp\xe9cialement ceux sur l\u2019\xe9cole de Palo Alto (communication et la 2e cybern\xe9tique) m\u2019ont permis de consolider et d\u2019\xe9largir mes connaissances th\xe9oriques et empiriques de base. D\xe9sormais, j\u2019arrive mieux \xe0 analyser mes s\xe9quences de communication. Cela m\u2019aide pour la mise en pratique ces nouvelles connaissances dans ma vie priv\xe9e et professionnelle.</p><p>En plus d\u2019avoir suivi l\u2019atelier d\u2019\xe9criture propos\xe9 par la HEVS, la r\xe9daction des divers travaux pour l\u2019\xe9cole et mon correcteur \xab\u2009Antidote 11\u2009\xbb, me permettent d\u2019am\xe9liorer mon expression \xe9crite.</p>"},{category:"C7",power:2,categoryLabel:"D\xe9butant",axisLabel:"Organiser, coordonner le travail en \xe9quipe et en r\xe9seau, et collaborer dans des logiques d\u2019interprofessionnalit\xe9 et d\u2019interdisciplinarit\xe9.",why:"<p>Comme vendeur, j\u2019ai souvent d\xfb organiser et coordonner notre travail avec l\u2019\xe9quipe de l\u2019atelier afin de r\xe9pondre aux demandes expresses de clients. En pleine saison d\u2019hiver, certains\u2022es clients\u2022es voulaient ressortir du magasin avec leurs de skis et chaussures de randonn\xe9e fraichement achet\xe9e sous le bras. Cependant en amont, il fallait r\xe9ussir \xe0 installer les fixations sur les skis, les r\xe9gler avec les chaussures que je thermoformais en m\xeame temps, monter et tailler les peaux. Dans mon m\xe9tier d\u2019ouvreur \xe0 Vertic-Halle, nous travaillions toujours en bin\xf4me pour r\xe9aliser une zone de bloc. Apr\xe8s avoir d\xe9mont\xe9 toutes les prises, il fallait recr\xe9er les nouveaux passages, les tester et les coter. L\u2019organisation, la n\xe9gociation et la coordination \xe9taient constantes. Entre nous, mais parfois avec des moniteurs\u2022trices pour leurs cours ou des clients.</p><p>J\u2019ai certainement d\xe9velopp\xe9 certaines comp\xe9tences empiriques dans mes stages d\u2019ASE et mes diverses activit\xe9s me permettant de collaborer avec d\u2019autres professionnels\u2022les. J\u2019estime pourtant \xeatre d\xe9butant, car il me manque les connaissances th\xe9oriques, et surtout les logiques d\u2019interprofessionnalit\xe9 et d\u2019interdisciplinarit\xe9 avec les professions qui gravitent autour du domaine social.</p>"},{category:"C8",power:3,categoryLabel:"Apprenant",axisLabel:"Comprendre les divers d\xe9terminants de l\u2019organisation, se situer et assurer les t\xe2ches de gestion, d\u2019administration et de coordination.",why:"<p>Aux files de mes stages d\u2019ASE et de mes diverses exp\xe9riences, j\u2019ai acquis une certaine compr\xe9hension des hi\xe9rarchies et des fonctionnements qui en d\xe9coulent. Je sais trouver et prendre ma place\u2009; r\xe9aliser les travaux qui me sont demand\xe9es\u2009; demander des explications ou de l\u2019assistance si je ne comprends pas ce qui est attendu de moi\u2009; proposer mon aide si je me sens capable d\u2019effectuer une t\xe2che hors de mon cahier des charges\u2009; je sais rappeler mon statut dans le cas o\xf9 l\u2019on me demande trop de responsabilit\xe9s sans compensation en retour.</p><p>J\u2019\xe9volue dans le monde professionnel depuis 15 ans (moniteur de ski, serveur, cr\xe8che, Castalie, EMS, construction, vendeur, intervenant graffiteur, moniteur d\u2019escalade, r\xe9ception, ouvreur de voie d\u2019escalade, expert des examens oraux fran\xe7ais CPLN). J\u2019ai acquis quelques bases de connaissances th\xe9oriques dans mes formations. Je consid\xe8re surtout avoir d\xe9velopp\xe9 un savoir empirique quant \xe0 ma fa\xe7on de d\xe9couvrir et \xe9voluer dans une nouvelle organisation. Il me faudra dor\xe9navant assimiler les postures et codes que demande le domaine social et ses institutions. Je devrai notamment m\u2019entrainer \xe0 r\xe9aliser des t\xe2ches d\u2019administration, de coordination et de gestion.</p>"}],this.skillTypeChart.innerRadius=ue(40);const e=this.skillTypeChart.xAxes.push(new Bi);e.renderer.grid.template.location=0,e.dataFields.category="category",e.renderer.minGridDistance=60,e.renderer.labels.template.location=.5,e.renderer.grid.template.strokeOpacity=.08,e.renderer.labels.template.tooltip=new Hf,e.renderer.labels.template.cloneTooltip=!1,e.renderer.labels.template.tooltipText="{axisLabel}",e.renderer.labels.template.tooltip.background.opacity=.7,e.renderer.labels.template.tooltip.maxWidth=200,e.renderer.labels.template.tooltip.label.wrap=!0,e.cursorTooltipEnabled=!1,e.renderer.labels.template.tooltip.setBounds({x:0,y:0,width:2e3,height:2e3}),e.cursorTooltipEnabled=!1,e.renderer.labels.template.fill=Le("#495C43"),e.renderer.labels.template.adapter.add("textOutput",function(l){return console.info(l),"[font-size: 30px;text-decoration: underline]"+l+"[/]"});const i=this.skillTypeChart.yAxes.push(new rt);i.min=0,i.max=6,i.renderer.minGridDistance=20;const s=this.skillTypeChart.series.push(new yT);s.dataFields.categoryX="category",s.dataFields.valueY="power",s.tooltipText="{categoryLabel}",s.columns.template.events.on("hit",l=>{l&&l.target&&l.target.dataItem&&(this.skillTypeChart.closeAllPopups(),this.skillTypeChart.openPopup(l.target.dataItem.dataContext.why))}),s.columns.template.strokeOpacity=0,s.columns.template.radarColumn.cornerRadius=5,s.columns.template.radarColumn.innerCornerRadius=0,this.skillTypeChart.zoomOutButton.disabled=!0,s.columns.template.adapter.add("fill",(l,p)=>{if(p.dataItem)return this.skillTypeChart.colors.getIndex(p.dataItem.index)}),this.skillTypeChart.cursor=new CT,this.skillTypeChart.cursor.behavior="none",this.skillTypeChart.cursor.lineX.disabled=!0,this.skillTypeChart.cursor.lineY.disabled=!0}{this.skillAcademyTypeChart=mV("skillacademytypechartdiv",cD),this.skillAcademyTypeChart.data=[{category:"C9",power:2,categoryLabel:"D\xe9butant",axisLabel:"Apprendre \xe0 apprendre : Concevoir son projet d\u2019apprentissages et le piloter. Faire des choix favorisant ses apprentissages et le d\xe9veloppement de ses comp\xe9tences vers un niveau professionnel",why:"<p> J\u2019ai pu faire des liens entre ma pratique passionn\xe9e de l\u2019escalade et l\u2019apprentissage d\u2019autres disciplines.Par int\xe9r\xeat et motivation, j\u2019ai \xe9volu\xe9 dans ce domaine jusqu\u2019\xe0 pouvoir en faire mon m\xe9tier.Durant ce processus et les \xe9changes avec mes paires, j\u2019ai pu r\xe9aliser ce qui me faisait progresser, comment et pourquoi.\xc0 travers des exp\xe9riences personnelles et ma premi\xe8re lecture individuelle pour la STA(apprendre \xe0 g\xe9rer son temps), j\u2019ai constat\xe9 qu\u2019il y avait beaucoup d\u2019\xe9tapes similaires entre la progression dans un sport et l\u2019apprentissage d\u2019une mati\xe8re.Fort de cette d\xe9couverte, il me reste \xe0 cibler mes apprentissages et d\xe9velopper mes comp\xe9tences tout en cherchant l\u2019int\xe9r\xeat et la motivation.J\u2019ai compris que j\u2019apprenais mieux en \xe9changeant avec d\u2019autres.Dans la perspective des examens, j\u2019ai donc propos\xe9 \xe0 quelques personnes de la classe de r\xe9viser ensemble.</p>"},{category:"C10",power:4,categoryLabel:"Pratiquant",axisLabel:"Apprentissage en \xe9quipe : Se former ensemble avec d'autres membres de l'\xe9quipe et cr\xe9er de nouvelles connaissances par la mutualisation des savoirs et la stimulation r\xe9ciproque",why:"<p>Naturellement sociable, j\u2019ai toujours pratiqu\xe9 des sports ou travaill\xe9 avec une \xe9quipe en partageant nos savoirs. Par ce mode d\u2019apprentissage, j\u2019ose pr\xe9tendre me situer au niveau professionnel junior dans le domaine de la grimpe. Je pense connaitre la forme, il me reste \xe0 transposer le fond, passer de la sph\xe8re de l\u2019escalade au champ de l\u2019\xe9cole et du social. Au cours des quatre projets de groupe du premier semestre et par la cr\xe9ation d\u2019une \xe9quipe ayant pour objectif l\u2019assimilation de la mati\xe8re des prochains examens, j\u2019ai d\xe9j\xe0 pu \xe9prouver cette comp\xe9tence dans ces deux domaines. Je me consid\xe8re comme pratiquant, car je poss\xe8de une base, et que je dois encore me familiariser avec de nouveaux milieux et d\u2019autres outils.</p>"},{category:"C11",power:3,categoryLabel:"Apprenant",axisLabel:"Auto-initiative : d\xe9montrer une volont\xe9 affirm\xe9e de lancer des projets en s\u2019appuyant sur ses comp\xe9tences et un \xe9tat d\u2019esprit entrepreneurial",why:"<p>Pour avoir une rentr\xe9e d\u2019argent durant ma formation, j\u2019ai \xe9labor\xe9 une offre de cours d\u2019escalade dans le cadre de mon travail de dipl\xf4me pour le brevet f\xe9d\xe9ral. Afin de comprendre les besoins et les envies des grimpeurs, j\u2019ai cr\xe9\xe9 un questionnaire \xab\u2009Google Forms\u2009\xbb auquel j\u2019ai obtenu 276 r\xe9ponses en 2 semaines. Ensuite, j\u2019ai analys\xe9 les r\xe9ponses en d\xe9veloppant des tableaux crois\xe9s, dans le but de cibler les d\xe9sirs. Je me suis naturellement entour\xe9 de personnes qui avaient les connaissances n\xe9cessaires pour me guider dans\u2009: \xe9tudier et interpr\xe9ter les r\xe9ponses\u2009; \xe9baucher des id\xe9es de marketing\u2009; l\u2019organisation, la r\xe9daction et la correction du travail.</p><p>J\u2019ai la conviction que je peux m\u2019am\xe9liorer en ce qui concerne la \xab\u2009volont\xe9 affirm\xe9e de lancer\u2009\xbb des projets. Je me mets souvent plus en activit\xe9 en raison de facteurs externes qu\u2019internes. En revanche, lorsque je sens que mes ressources sont suffisantes, j\u2019essaie de les mobiliser autant que possible. Au long de mes exp\xe9riences professionnelles dans le priv\xe9, je pense avoir eu un aper\xe7u de ce qui est et n\u2019est pas un esprit entrepreneurial, bien que je l'aie encore peu d\xe9velopp\xe9 pour moi-m\xeame. Par contre, au travers des relations que j\u2019ai entretenues avec mes divers patrons, j\u2019ai \xe9t\xe9 sensibilis\xe9 sur : l'\xe9quilibre dans les budgets\u2009; la notion de b\xe9n\xe9fice/risque ; le management du personnel\u2009; g\xe9rer la communication avec les employ\xe9s et les clients\u2009; etc.</p>"},{category:"C12",power:2,categoryLabel:"D\xe9butant",axisLabel:"Leadership d\u2019\xe9quipe : construire une \xe9quipe qui fonctionne sur une longue p\xe9riode et \xe0 conduire cette \xe9quipe",why:"<p>Comme moniteur d\u2019escalade, je me suis souvent retrouv\xe9 \xe0 conduire un groupe sur une p\xe9riode d\xe9termin\xe9e et pour dispenser un contenu pr\xe9cis et demand\xe9. Dans ce contexte, et plus r\xe9cemment dans celui de mes \xe9tudes, je suis capable de ressentir une dynamique de groupe, de la calmer ou de la stimuler. Je n\u2019ai pas encore tous les outils d\u2019observation et d\u2019action n\xe9cessaire, mais selon mon attitude je per\xe7ois certains changements dans les groupes avec lesquels je travaille ou je collabore. Cependant, je n\u2019ai encore jamais d\xfb construire ma propre \xe9quipe et en g\xe9rer le management sur une dur\xe9e ind\xe9termin\xe9e.</p>"},{category:"C13",power:1,categoryLabel:"Novice",axisLabel:"Cr\xe9ativit\xe9 et innovation : G\xe9n\xe9rer des id\xe9es originales permettant de r\xe9soudre des probl\xe8mes. Concevoir et g\xe9rer le processus qui va de l\u2019id\xe9e \xe0 l\u2019innovation",why:"<p>J\u2019ai besoin d\u2019aller au contact avec le terrain pour mieux me repr\xe9senter les probl\xe9matiques rencontr\xe9es par les usagers\u2022\xe8res, les intervenants\u2022es et les institutions. Interagir avec ces acteurs\u2022trices me donnera une meilleure vue d\u2019ensemble, je serais plus \xe0 m\xeame de faire fonctionner mon imagination.</p>"},{category:"C14",power:1,categoryLabel:"Novice",axisLabel:"Agir entrepreneurial : d\xe9montrer une attitude volontaire dans laquelle les croyances et les barri\xe8res limitant la r\xe9flexion et l'action sont d\xe9pass\xe9es dans la mise en \u0153uvre de projets \xe0 forts impacts positifs et durables.",why:"<p>J\u2019esp\xe8re pouvoir d\xe9velopper cette comp\xe9tence dans notre premier projet de la Team Academy. Les cours donnent une ligne directrice, mais c\u2019est en approfondissant ses recherches, en confrontant des avis, en questionnant le terrain, que l\u2019on peut d\xe9velopper de r\xe9els projets \xe0 forts impacts positifs et durables.</p><p>Si je suis persuad\xe9, je pourrai alors \xeatre convaincant et r\xe9duire les croyances limitantes. Je vais devoir d\xe9velopper une posture entrepreneuriale et volontaire pour gagner en cr\xe9dibilit\xe9 et proposer des id\xe9es originales de r\xe9flexions et d\u2019actions.</p><p>Pour l\u2019instant, j\u2019ai clairement besoin d\u2019\xe9voluer avec d\u2019autres personnes pour m\u2019apprendre \xe0 endosser cette attitude et d\xe9passer les croyances limitantes.</p>"}],this.skillAcademyTypeChart.innerRadius=ue(40);const e=this.skillAcademyTypeChart.xAxes.push(new Bi);e.renderer.grid.template.location=0,e.dataFields.category="category",e.renderer.minGridDistance=60,e.renderer.labels.template.location=.5,e.renderer.grid.template.strokeOpacity=.08,e.renderer.labels.template.tooltip=new Hf,e.renderer.labels.template.cloneTooltip=!1,e.renderer.labels.template.tooltipText="{axisLabel}",e.renderer.labels.template.tooltip.background.opacity=.7,e.renderer.labels.template.tooltip.maxWidth=200,e.renderer.labels.template.tooltip.label.wrap=!0,e.cursorTooltipEnabled=!1,e.renderer.labels.template.tooltip.setBounds({x:0,y:0,width:2e3,height:2e3}),e.cursorTooltipEnabled=!1,e.renderer.labels.template.fill=Le("#495C43"),e.renderer.labels.template.adapter.add("textOutput",function(l){return console.info(l),"[font-size: 30px;text-decoration: underline]"+l+"[/]"});const i=this.skillAcademyTypeChart.yAxes.push(new rt);i.min=0,i.max=6,i.renderer.minGridDistance=20;const s=this.skillAcademyTypeChart.series.push(new yT);s.dataFields.categoryX="category",s.dataFields.valueY="power",s.tooltipText="{categoryLabel}",s.columns.template.events.on("hit",l=>{l&&l.target&&l.target.dataItem&&(this.skillAcademyTypeChart.closeAllPopups(),this.skillAcademyTypeChart.openPopup(l.target.dataItem.dataContext.why))}),s.columns.template.strokeOpacity=0,s.columns.template.radarColumn.cornerRadius=5,s.columns.template.radarColumn.innerCornerRadius=0,this.skillAcademyTypeChart.zoomOutButton.disabled=!0,s.columns.template.adapter.add("fill",(l,p)=>{if(p.dataItem)return this.skillAcademyTypeChart.colors.getIndex(p.dataItem.index)}),this.skillAcademyTypeChart.cursor=new CT,this.skillAcademyTypeChart.cursor.behavior="none",this.skillAcademyTypeChart.cursor.lineX.disabled=!0,this.skillAcademyTypeChart.cursor.lineY.disabled=!0}})}ngOnDestroy(){this.browserOnly(()=>{this.skillTypeChart&&this.skillTypeChart.dispose(),this.skillAcademyTypeChart&&this.skillAcademyTypeChart.dispose()})}}return n.\u0275fac=function(e){return new(e||n)(te(Hy),te(di))},n.\u0275cmp=Lr({type:n,selectors:[["app-skill"]],decls:8,vars:0,consts:[[1,"d-flex","justify-content-between","flex-wrap","flex-md-nowrap","align-items-center","pt-3","pb-2","mb-3","border-bottom"],[1,"h2"],["id","skilltypechartdiv",2,"width","100%","height","800px"],["id","skillacademytypechartdiv",2,"width","100%","height","800px"]],template:function(e,i){1&e&&(Pe(0,"div",0),Pe(1,"h1",1),Ti(2,"Le r\xe9f\xe9rentiel de comp\xe9tences pour la formation HES en travail social"),De(),De(),Al(3,"div",2),Pe(4,"div",0),Pe(5,"h1",1),Ti(6,"Les comp\xe9tences sp\xe9cifiques d\xe9velopp\xe9es par la p\xe9dagogie Team Academy"),De(),De(),Al(7,"div",3))},styles:[""]}),n})()},{path:"**",redirectTo:"skill"}];let PK=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=si({type:n}),n.\u0275inj=Vt({imports:[[zN.forRoot(OK)],zN]}),n})();function Ao(n,t,e,i){return _r(e)&&(i=e,e=void 0),i?Ao(n,t,e).pipe(It(s=>Tn(s)?i(...s):i(s))):new ni(s=>{lk(n,t,function(p){s.next(arguments.length>1?Array.prototype.slice.call(arguments):p)},s,e)})}function lk(n,t,e,i,s){let l;if(function(n){return n&&"function"==typeof n.addEventListener&&"function"==typeof n.removeEventListener}(n)){const p=n;n.addEventListener(t,e,s),l=()=>p.removeEventListener(t,e,s)}else if(function(n){return n&&"function"==typeof n.on&&"function"==typeof n.off}(n)){const p=n;n.on(t,e),l=()=>p.off(t,e)}else if(function(n){return n&&"function"==typeof n.addListener&&"function"==typeof n.removeListener}(n)){const p=n;n.addListener(t,e),l=()=>p.removeListener(t,e)}else{if(!n||!n.length)throw new TypeError("Invalid event target");for(let p=0,h=n.length;p<h;p++)lk(n[p],t,e,i,s)}i.add(l)}class IK extends ji{constructor(t,e){super()}schedule(t,e=0){return this}}let uk=(()=>{class n{constructor(e,i=n.now){this.SchedulerAction=e,this.now=i}schedule(e,i=0,s){return new this.SchedulerAction(this,e).schedule(s,i)}}return n.now=()=>Date.now(),n})();class fc extends uk{constructor(t,e=uk.now){super(t,()=>fc.delegate&&fc.delegate!==this?fc.delegate.now():e()),this.actions=[],this.active=!1,this.scheduled=void 0}schedule(t,e=0,i){return fc.delegate&&fc.delegate!==this?fc.delegate.schedule(t,e,i):super.schedule(t,e,i)}flush(t){const{actions:e}=this;if(this.active)return void e.push(t);let i;this.active=!0;do{if(i=t.execute(t.state,t.delay))break}while(t=e.shift());if(this.active=!1,i){for(;t=e.shift();)t.unsubscribe();throw i}}}const ck=new fc(class extends IK{constructor(t,e){super(t,e),this.scheduler=t,this.work=e,this.pending=!1}schedule(t,e=0){if(this.closed)return this;this.state=t;const i=this.id,s=this.scheduler;return null!=i&&(this.id=this.recycleAsyncId(s,i,e)),this.pending=!0,this.delay=e,this.id=this.id||this.requestAsyncId(s,this.id,e),this}requestAsyncId(t,e,i=0){return setInterval(t.flush.bind(t,this),i)}recycleAsyncId(t,e,i=0){if(null!==i&&this.delay===i&&!1===this.pending)return e;clearInterval(e)}execute(t,e){if(this.closed)return new Error("executing a cancelled action");this.pending=!1;const i=this._execute(t,e);if(i)return i;!1===this.pending&&null!=this.id&&(this.id=this.recycleAsyncId(this.scheduler,this.id,null))}_execute(t,e){let s,i=!1;try{this.work(t)}catch(l){i=!0,s=!!l&&l||new Error(l)}if(i)return this.unsubscribe(),s}_unsubscribe(){const t=this.id,e=this.scheduler,i=e.actions,s=i.indexOf(this);this.work=null,this.state=null,this.pending=!1,this.scheduler=null,-1!==s&&i.splice(s,1),null!=t&&(this.id=this.recycleAsyncId(e,t,null)),this.delay=null}});function dk(n){return!Tn(n)&&n-parseFloat(n)+1>=0}function FK(n){const{index:t,period:e,subscriber:i}=n;if(i.next(t),!i.closed){if(-1===e)return i.complete();n.index=t+1,this.schedule(n,e)}}class NK{call(t,e){return e.subscribe(new LK(t))}}class LK extends mP{constructor(t){super(t),this.hasFirst=!1,this.observables=[],this.subscriptions=[]}_next(t){this.observables.push(t)}_complete(){const t=this.observables,e=t.length;if(0===e)this.destination.complete();else{for(let i=0;i<e&&!this.hasFirst;i++){const l=_P(this,t[i],void 0,i);this.subscriptions&&this.subscriptions.push(l),this.add(l)}this.observables=null}}notifyNext(t,e,i){if(!this.hasFirst){this.hasFirst=!0;for(let s=0;s<this.subscriptions.length;s++)if(s!==i){let l=this.subscriptions[s];l.unsubscribe(),this.remove(l)}this.subscriptions=null}this.destination.next(e)}}function gD(...n){const t=n[n.length-1];return"function"==typeof t&&n.pop(),Xl(n,void 0).lift(new VK(t))}new ni(Ll);class VK{constructor(t){this.resultSelector=t}call(t,e){return e.subscribe(new kK(t,this.resultSelector))}}class kK extends Ci{constructor(t,e,i=Object.create(null)){super(t),this.resultSelector=e,this.iterators=[],this.active=0,this.resultSelector="function"==typeof e?e:void 0}_next(t){const e=this.iterators;Tn(t)?e.push(new HK(t)):e.push("function"==typeof t[qr]?new GK(t[qr]()):new BK(this.destination,this,t))}_complete(){const t=this.iterators,e=t.length;if(this.unsubscribe(),0!==e){this.active=e;for(let i=0;i<e;i++){let s=t[i];s.stillUnsubscribed?this.destination.add(s.subscribe()):this.active--}}else this.destination.complete()}notifyInactive(){this.active--,0===this.active&&this.destination.complete()}checkIterators(){const t=this.iterators,e=t.length,i=this.destination;for(let p=0;p<e;p++){let h=t[p];if("function"==typeof h.hasValue&&!h.hasValue())return}let s=!1;const l=[];for(let p=0;p<e;p++){let h=t[p],g=h.next();if(h.hasCompleted()&&(s=!0),g.done)return void i.complete();l.push(g.value)}this.resultSelector?this._tryresultSelector(l):i.next(l),s&&i.complete()}_tryresultSelector(t){let e;try{e=this.resultSelector.apply(this,t)}catch(i){return void this.destination.error(i)}this.destination.next(e)}}class GK{constructor(t){this.iterator=t,this.nextResult=t.next()}hasValue(){return!0}next(){const t=this.nextResult;return this.nextResult=this.iterator.next(),t}hasCompleted(){const t=this.nextResult;return Boolean(t&&t.done)}}class HK{constructor(t){this.array=t,this.index=0,this.length=0,this.length=t.length}[qr](){return this}next(t){const e=this.index++;return e<this.length?{value:this.array[e],done:!1}:{value:null,done:!0}}hasValue(){return this.array.length>this.index}hasCompleted(){return this.array.length===this.index}}class BK extends Fr{constructor(t,e,i){super(t),this.parent=e,this.observable=i,this.stillUnsubscribed=!0,this.buffer=[],this.isComplete=!1}[qr](){return this}next(){const t=this.buffer;return 0===t.length&&this.isComplete?{value:null,done:!0}:{value:t.shift(),done:!1}}hasValue(){return this.buffer.length>0}hasCompleted(){return 0===this.buffer.length&&this.isComplete}notifyComplete(){this.buffer.length>0?(this.isComplete=!0,this.parent.notifyInactive()):this.destination.complete()}notifyNext(t){this.buffer.push(t),this.parent.checkIterators()}subscribe(){return rr(this.observable,new Kl(this))}}function ir(n){return t=>t.lift(new WK(n))}class WK{constructor(t){this.notifier=t}call(t,e){const i=new UK(t),s=rr(this.notifier,new Kl(i));return s&&!i.seenValue?(i.add(s),e.subscribe(i)):i}}class UK extends Fr{constructor(t){super(t),this.seenValue=!1}notifyNext(){this.seenValue=!0,this.complete()}notifyComplete(){}}function DT(...n){return t=>{let e;return"function"==typeof n[n.length-1]&&(e=n.pop()),t.lift(new YK(n,e))}}class YK{constructor(t,e){this.observables=t,this.project=e}call(t,e){return e.subscribe(new KK(t,this.observables,this.project))}}class KK extends mP{constructor(t,e,i){super(t),this.observables=e,this.project=i,this.toRespond=[];const s=e.length;this.values=new Array(s);for(let l=0;l<s;l++)this.toRespond.push(l);for(let l=0;l<s;l++)this.add(_P(this,e[l],void 0,l))}notifyNext(t,e,i){this.values[i]=e;const s=this.toRespond;if(s.length>0){const l=s.indexOf(i);-1!==l&&s.splice(l,1)}}notifyComplete(){}_next(t){if(0===this.toRespond.length){const e=[t,...this.values];this.project?this._tryProject(e):this.destination.next(e)}}_tryProject(t){let e;try{e=this.project.apply(this,t)}catch(i){return void this.destination.error(i)}this.destination.next(e)}}class pa{constructor(t,e,i){this.kind=t,this.value=e,this.error=i,this.hasValue="N"===t}observe(t){switch(this.kind){case"N":return t.next&&t.next(this.value);case"E":return t.error&&t.error(this.error);case"C":return t.complete&&t.complete()}}do(t,e,i){switch(this.kind){case"N":return t&&t(this.value);case"E":return e&&e(this.error);case"C":return i&&i()}}accept(t,e,i){return t&&"function"==typeof t.next?this.observe(t):this.do(t,e,i)}toObservable(){switch(this.kind){case"N":return ht(this.value);case"E":return function(n,t){return new ni(e=>e.error(n))}(this.error);case"C":return qw()}throw new Error("unexpected notification kind value")}static createNext(t){return void 0!==t?new pa("N",t):pa.undefinedValueNotification}static createError(t){return new pa("E",void 0,t)}static createComplete(){return pa.completeNotification}}pa.completeNotification=new pa("C"),pa.undefinedValueNotification=new pa("N",void 0);let qk=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=si({type:n}),n.\u0275inj=Vt({}),n})(),hG=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=si({type:n}),n.\u0275inj=Vt({imports:[[qk]]}),n})(),Q9=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=si({type:n}),n.\u0275inj=Vt({imports:[hG]}),n})();const sX=["*"],SX=["dialog"];function op(n){return null!=n}function Wf(n){return(n||document.body).getBoundingClientRect()}"undefined"!=typeof Element&&!Element.prototype.closest&&(Element.prototype.closest=function(n){let t=this;if(!document.documentElement.contains(t))return null;do{if(t.matches(n))return t;t=t.parentElement||t.parentNode}while(null!==t&&1===t.nodeType);return null});const gG={animation:!0,transitionTimerDelayMs:5},_q=()=>{},{transitionTimerDelayMs:bq}=gG,Um=new Map,go=(n,t,e,i)=>{let s=i.context||{};const l=Um.get(t);if(l)switch(i.runningTransition){case"continue":return Ld;case"stop":n.run(()=>l.transition$.complete()),s=Object.assign(l.context,s),Um.delete(t)}const p=e(t,i.animation,s)||_q;if(!i.animation||"none"===window.getComputedStyle(t).transitionProperty)return n.run(()=>p()),ht(void 0).pipe(function(n){return t=>new ni(e=>t.subscribe({next:p=>n.run(()=>e.next(p)),error:p=>n.run(()=>e.error(p)),complete:()=>n.run(()=>e.complete())}))}(n));const h=new Qi,g=new Qi,v=h.pipe(function(...n){return t=>Xw(t,ht(...n))}(!0));Um.set(t,{transition$:h,complete:()=>{g.next(),g.complete()},context:s});const m=function(n){const{transitionDelay:t,transitionDuration:e}=window.getComputedStyle(n);return 1e3*(parseFloat(t)+parseFloat(e))}(t);return n.runOutsideAngular(()=>{const _=Ao(t,"transitionend").pipe(ir(v),xs(({target:C})=>C===t));(function(...n){if(1===n.length){if(!Tn(n[0]))return n[0];n=n[0]}return Xl(n,void 0).lift(new NK)})(function(n=0,t,e){let i=-1;return dk(t)?i=Number(t)<1?1:Number(t):zn(t)&&(e=t),zn(e)||(e=ck),new ni(s=>{const l=dk(n)?n:+n-e.now();return e.schedule(FK,l,{index:0,period:i,subscriber:s})})}(m+bq).pipe(ir(v)),_,g).pipe(ir(v)).subscribe(()=>{Um.delete(t),n.run(()=>{p(),h.next(),h.complete()})})}),h.asObservable()};let OD=(()=>{class n{constructor(){this.animation=gG.animation}}return n.\u0275fac=function(e){return new(e||n)},n.\u0275prov=Xe({token:n,factory:n.\u0275fac,providedIn:"root"}),n})(),CG=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=si({type:n}),n.\u0275inj=Vt({imports:[[Uo]]}),n})(),wG=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=si({type:n}),n.\u0275inj=Vt({imports:[[Uo]]}),n})(),SG=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=si({type:n}),n.\u0275inj=Vt({}),n})(),OG=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=si({type:n}),n.\u0275inj=Vt({imports:[[Uo]]}),n})(),PG=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=si({type:n}),n.\u0275inj=Vt({}),n})();var nr=(()=>(function(n){n[n.Tab=9]="Tab",n[n.Enter=13]="Enter",n[n.Escape=27]="Escape",n[n.Space=32]="Space",n[n.PageUp=33]="PageUp",n[n.PageDown=34]="PageDown",n[n.End=35]="End",n[n.Home=36]="Home",n[n.ArrowLeft=37]="ArrowLeft",n[n.ArrowUp=38]="ArrowUp",n[n.ArrowRight=39]="ArrowRight",n[n.ArrowDown=40]="ArrowDown"}(nr||(nr={})),nr))();"undefined"!=typeof navigator&&navigator.userAgent&&(/iPad|iPhone|iPod/.test(navigator.userAgent)||/Macintosh/.test(navigator.userAgent)&&navigator.maxTouchPoints&&navigator.maxTouchPoints>2||/Android/.test(navigator.userAgent));const TG=["a[href]","button:not([disabled])",'input:not([disabled]):not([type="hidden"])',"select:not([disabled])","textarea:not([disabled])","[contenteditable]",'[tabindex]:not([tabindex="-1"])'].join(", ");function AG(n){const t=Array.from(n.querySelectorAll(TG)).filter(e=>-1!==e.tabIndex);return[t[0],t[t.length-1]]}new class{getAllStyles(t){return window.getComputedStyle(t)}getStyle(t,e){return this.getAllStyles(t)[e]}isStaticPositioned(t){return"static"===(this.getStyle(t,"position")||"static")}offsetParent(t){let e=t.offsetParent||document.documentElement;for(;e&&e!==document.documentElement&&this.isStaticPositioned(e);)e=e.offsetParent;return e||document.documentElement}position(t,e=!0){let i,s={width:0,height:0,top:0,bottom:0,left:0,right:0};if("fixed"===this.getStyle(t,"position"))i=t.getBoundingClientRect(),i={top:i.top,bottom:i.bottom,left:i.left,right:i.right,height:i.height,width:i.width};else{const l=this.offsetParent(t);i=this.offset(t,!1),l!==document.documentElement&&(s=this.offset(l,!1)),s.top+=l.clientTop,s.left+=l.clientLeft}return i.top-=s.top,i.bottom-=s.top,i.left-=s.left,i.right-=s.left,e&&(i.top=Math.round(i.top),i.bottom=Math.round(i.bottom),i.left=Math.round(i.left),i.right=Math.round(i.right)),i}offset(t,e=!0){const i=t.getBoundingClientRect(),s_top=window.scrollY-document.documentElement.clientTop,s_left=window.scrollX-document.documentElement.clientLeft;let l={height:i.height||t.offsetHeight,width:i.width||t.offsetWidth,top:i.top+s_top,bottom:i.bottom+s_top,left:i.left+s_left,right:i.right+s_left};return e&&(l.height=Math.round(l.height),l.width=Math.round(l.width),l.top=Math.round(l.top),l.bottom=Math.round(l.bottom),l.left=Math.round(l.left),l.right=Math.round(l.right)),l}positionElements(t,e,i,s){const[l="top",p="center"]=i.split("-"),h=s?this.offset(t,!1):this.position(t,!1),g=this.getAllStyles(e),v=parseFloat(g.marginTop),m=parseFloat(g.marginBottom),_=parseFloat(g.marginLeft),b=parseFloat(g.marginRight);let C=0,S=0;switch(l){case"top":C=h.top-(e.offsetHeight+v+m);break;case"bottom":C=h.top+h.height;break;case"left":S=h.left-(e.offsetWidth+_+b);break;case"right":S=h.left+h.width}switch(p){case"top":C=h.top;break;case"bottom":C=h.top+h.height-e.offsetHeight;break;case"left":S=h.left;break;case"right":S=h.left+h.width-e.offsetWidth;break;case"center":"top"===l||"bottom"===l?S=h.left+h.width/2-e.offsetWidth/2:C=h.top+h.height/2-e.offsetHeight/2}e.style.transform=`translate(${Math.round(S)}px, ${Math.round(C)}px)`;const E=e.getBoundingClientRect(),x=document.documentElement,R=window.innerHeight||x.clientHeight,P=window.innerWidth||x.clientWidth;return E.left>=0&&E.top>=0&&E.right<=P&&E.bottom<=R}},new Date(1882,10,12),new Date(2174,10,25);let kG=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=si({type:n}),n.\u0275inj=Vt({imports:[[Uo,Q9]]}),n})(),tA=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275dir=Re({type:n,selectors:[["",8,"navbar"]]}),n})(),BG=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=si({type:n}),n.\u0275inj=Vt({}),n})();class up{constructor(t,e,i){this.nodes=t,this.viewRef=e,this.componentRef=i}}let i7=(()=>{class n{constructor(e,i){this._el=e,this._zone=i}ngOnInit(){this._zone.onStable.asObservable().pipe(Es(1)).subscribe(()=>{go(this._zone,this._el.nativeElement,(e,i)=>{i&&Wf(e),e.classList.add("show")},{animation:this.animation,runningTransition:"continue"})})}hide(){return go(this._zone,this._el.nativeElement,({classList:e})=>e.remove("show"),{animation:this.animation,runningTransition:"stop"})}}return n.\u0275fac=function(e){return new(e||n)(te(ti),te(di))},n.\u0275cmp=Lr({type:n,selectors:[["ngb-modal-backdrop"]],hostAttrs:[2,"z-index","1050"],hostVars:6,hostBindings:function(e,i){2&e&&(Od("modal-backdrop"+(i.backdropClass?" "+i.backdropClass:"")),Ri("show",!i.animation)("fade",i.animation))},inputs:{animation:"animation",backdropClass:"backdropClass"},decls:0,vars:0,template:function(e,i){},encapsulation:2}),n})();class jG{close(t){}dismiss(t){}}class n7{constructor(t,e,i,s){this._windowCmptRef=t,this._contentRef=e,this._backdropCmptRef=i,this._beforeDismiss=s,this._closed=new Qi,this._dismissed=new Qi,this._hidden=new Qi,t.instance.dismissEvent.subscribe(l=>{this.dismiss(l)}),this.result=new Promise((l,p)=>{this._resolve=l,this._reject=p}),this.result.then(null,()=>{})}get componentInstance(){if(this._contentRef&&this._contentRef.componentRef)return this._contentRef.componentRef.instance}get closed(){return this._closed.asObservable().pipe(ir(this._hidden))}get dismissed(){return this._dismissed.asObservable().pipe(ir(this._hidden))}get hidden(){return this._hidden.asObservable()}get shown(){return this._windowCmptRef.instance.shown.asObservable()}close(t){this._windowCmptRef&&(this._closed.next(t),this._resolve(t),this._removeModalElements())}_dismiss(t){this._dismissed.next(t),this._reject(t),this._removeModalElements()}dismiss(t){if(this._windowCmptRef)if(this._beforeDismiss){const e=this._beforeDismiss();!function(n){return n&&n.then}(e)?!1!==e&&this._dismiss(t):e.then(i=>{!1!==i&&this._dismiss(t)},()=>{})}else this._dismiss(t)}_removeModalElements(){const t=this._windowCmptRef.instance.hide(),e=this._backdropCmptRef?this._backdropCmptRef.instance.hide():ht(void 0);t.subscribe(()=>{const{nativeElement:i}=this._windowCmptRef.location;i.parentNode.removeChild(i),this._windowCmptRef.destroy(),this._contentRef&&this._contentRef.viewRef&&this._contentRef.viewRef.destroy(),this._windowCmptRef=null,this._contentRef=null}),e.subscribe(()=>{if(this._backdropCmptRef){const{nativeElement:i}=this._backdropCmptRef.location;i.parentNode.removeChild(i),this._backdropCmptRef.destroy(),this._backdropCmptRef=null}}),gD(t,e).subscribe(()=>{this._hidden.next(),this._hidden.complete()})}}var Km=(()=>(function(n){n[n.BACKDROP_CLICK=0]="BACKDROP_CLICK",n[n.ESC=1]="ESC"}(Km||(Km={})),Km))();let r7=(()=>{class n{constructor(e,i,s){this._document=e,this._elRef=i,this._zone=s,this._closed$=new Qi,this._elWithFocus=null,this.backdrop=!0,this.keyboard=!0,this.dismissEvent=new Q,this.shown=new Qi,this.hidden=new Qi}dismiss(e){this.dismissEvent.emit(e)}ngOnInit(){this._elWithFocus=this._document.activeElement,this._zone.onStable.asObservable().pipe(Es(1)).subscribe(()=>{this._show()})}ngOnDestroy(){this._disableEventHandling()}hide(){const{nativeElement:e}=this._elRef,i={animation:this.animation,runningTransition:"stop"},p=gD(go(this._zone,e,()=>e.classList.remove("show"),i),go(this._zone,this._dialogEl.nativeElement,()=>{},i));return p.subscribe(()=>{this.hidden.next(),this.hidden.complete()}),this._disableEventHandling(),this._restoreFocus(),p}_show(){const e={animation:this.animation,runningTransition:"continue"};gD(go(this._zone,this._elRef.nativeElement,(l,p)=>{p&&Wf(l),l.classList.add("show")},e),go(this._zone,this._dialogEl.nativeElement,()=>{},e)).subscribe(()=>{this.shown.next(),this.shown.complete()}),this._enableEventHandling(),this._setFocus()}_enableEventHandling(){const{nativeElement:e}=this._elRef;this._zone.runOutsideAngular(()=>{Ao(e,"keydown").pipe(ir(this._closed$),xs(s=>s.which===nr.Escape)).subscribe(s=>{this.keyboard?requestAnimationFrame(()=>{s.defaultPrevented||this._zone.run(()=>this.dismiss(Km.ESC))}):"static"===this.backdrop&&this._bumpBackdrop()});let i=!1;Ao(this._dialogEl.nativeElement,"mousedown").pipe(ir(this._closed$),po(()=>i=!1),Ka(()=>Ao(e,"mouseup").pipe(ir(this._closed$),Es(1))),xs(({target:s})=>e===s)).subscribe(()=>{i=!0}),Ao(e,"click").pipe(ir(this._closed$)).subscribe(({target:s})=>{e===s&&("static"===this.backdrop?this._bumpBackdrop():!0===this.backdrop&&!i&&this._zone.run(()=>this.dismiss(Km.BACKDROP_CLICK))),i=!1})})}_disableEventHandling(){this._closed$.next()}_setFocus(){const{nativeElement:e}=this._elRef;if(!e.contains(document.activeElement)){const i=e.querySelector("[ngbAutofocus]"),s=AG(e)[0];(i||s||e).focus()}}_restoreFocus(){const e=this._document.body,i=this._elWithFocus;let s;s=i&&i.focus&&e.contains(i)?i:e,this._zone.runOutsideAngular(()=>{setTimeout(()=>s.focus()),this._elWithFocus=null})}_bumpBackdrop(){"static"===this.backdrop&&go(this._zone,this._elRef.nativeElement,({classList:e})=>(e.add("modal-static"),()=>e.remove("modal-static")),{animation:this.animation,runningTransition:"continue"})}}return n.\u0275fac=function(e){return new(e||n)(te(On),te(ti),te(di))},n.\u0275cmp=Lr({type:n,selectors:[["ngb-modal-window"]],viewQuery:function(e,i){if(1&e&&function(n,t,e){const i=kt();i.firstCreatePass&&(iF(i,new JM(n,t,e),-1),2==(2&t)&&(i.staticViewQueries=!0)),tF(i,fe(),t)}(SX,7),2&e){let s;Yi(s=Ki())&&(i._dialogEl=s.first)}},hostAttrs:["role","dialog","tabindex","-1"],hostVars:7,hostBindings:function(e,i){2&e&&(vi("aria-modal",!0)("aria-labelledby",i.ariaLabelledBy)("aria-describedby",i.ariaDescribedBy),Od("modal d-block"+(i.windowClass?" "+i.windowClass:"")),Ri("fade",i.animation))},inputs:{animation:"animation",ariaLabelledBy:"ariaLabelledBy",ariaDescribedBy:"ariaDescribedBy",backdrop:"backdrop",centered:"centered",keyboard:"keyboard",scrollable:"scrollable",size:"size",windowClass:"windowClass",modalDialogClass:"modalDialogClass"},outputs:{dismissEvent:"dismiss"},ngContentSelectors:sX,decls:4,vars:2,consts:[["role","document"],["dialog",""],[1,"modal-content"]],template:function(e,i){1&e&&(function(n){const t=fe()[16][6];if(!t.projection){const i=t.projection=Ma(n?n.length:1,null),s=i.slice();let l=t.child;for(;null!==l;){const p=n?Gx(l,n):0;null!==p&&(s[p]?s[p].projectionNext=l:i[p]=l,s[p]=l),l=l.next}}}(),Pe(0,"div",0,1),Pe(2,"div",2),function(n,t=0,e){const i=fe(),s=kt(),l=Sl(s,20+n,16,null,e||null);null===l.projection&&(l.projection=t),Wp(),64!=(64&l.flags)&&function(n,t,e){Wb(t[11],0,t,e,Vb(n,e,t),Su(e.parent||t[6],e,t))}(s,i,l)}(3),De(),De()),2&e&&Od("modal-dialog"+(i.size?" modal-"+i.size:"")+(i.centered?" modal-dialog-centered":"")+(i.scrollable?" modal-dialog-scrollable":"")+(i.modalDialogClass?" "+i.modalDialogClass:""))},styles:["ngb-modal-window .component-host-scrollable{display:flex;flex-direction:column;overflow:hidden}\n"],encapsulation:2}),n})();const o7=()=>{};let s7=(()=>{class n{constructor(e){this._document=e}compensate(){const e=this._getWidth();return this._isPresent(e)?this._adjustBody(e):o7}_adjustBody(e){const i=this._document.body,s=i.style.paddingRight,l=parseFloat(window.getComputedStyle(i)["padding-right"]);return i.style["padding-right"]=`${l+e}px`,()=>i.style["padding-right"]=s}_isPresent(e){const i=this._document.body.getBoundingClientRect();return window.innerWidth-(i.left+i.right)>=e-.1*e}_getWidth(){const e=this._document.createElement("div");e.className="modal-scrollbar-measure";const i=this._document.body;i.appendChild(e);const s=e.getBoundingClientRect().width-e.clientWidth;return i.removeChild(e),s}}return n.\u0275fac=function(e){return new(e||n)(Se(On))},n.\u0275prov=Xe({token:n,factory:n.\u0275fac,providedIn:"root"}),n})(),a7=(()=>{class n{constructor(e,i,s,l,p,h){this._applicationRef=e,this._injector=i,this._document=s,this._scrollBar=l,this._rendererFactory=p,this._ngZone=h,this._activeWindowCmptHasChanged=new Qi,this._ariaHiddenValues=new Map,this._backdropAttributes=["animation","backdropClass"],this._modalRefs=[],this._windowAttributes=["animation","ariaLabelledBy","ariaDescribedBy","backdrop","centered","keyboard","scrollable","size","windowClass","modalDialogClass"],this._windowCmpts=[],this._activeInstances=new Q,this._activeWindowCmptHasChanged.subscribe(()=>{if(this._windowCmpts.length){const g=this._windowCmpts[this._windowCmpts.length-1];((n,t,e,i=!1)=>{this._ngZone.runOutsideAngular(()=>{const s=Ao(t,"focusin").pipe(ir(e),It(l=>l.target));Ao(t,"keydown").pipe(ir(e),xs(l=>l.which===nr.Tab),DT(s)).subscribe(([l,p])=>{const[h,g]=AG(t);(p===h||p===t)&&l.shiftKey&&(g.focus(),l.preventDefault()),p===g&&!l.shiftKey&&(h.focus(),l.preventDefault())}),i&&Ao(t,"click").pipe(ir(e),DT(s),It(l=>l[1])).subscribe(l=>l.focus())})})(0,g.location.nativeElement,this._activeWindowCmptHasChanged),this._revertAriaHidden(),this._setAriaHidden(g.location.nativeElement)}})}open(e,i,s,l){const p=l.container instanceof HTMLElement?l.container:op(l.container)?this._document.querySelector(l.container):this._document.body,h=this._rendererFactory.createRenderer(null,null),g=this._scrollBar.compensate(),v=()=>{this._modalRefs.length||(h.removeClass(this._document.body,"modal-open"),this._revertAriaHidden())};if(!p)throw new Error(`The specified modal container "${l.container||"body"}" was not found in the DOM.`);const m=new jG,_=this._getContentRef(e,l.injector||i,s,m,l);let b=!1!==l.backdrop?this._attachBackdrop(e,p):void 0,C=this._attachWindowComponent(e,p,_),S=new n7(C,_,b,l.beforeDismiss);return this._registerModalRef(S),this._registerWindowCmpt(C),S.result.then(g,g),S.result.then(v,v),m.close=E=>{S.close(E)},m.dismiss=E=>{S.dismiss(E)},this._applyWindowOptions(C.instance,l),1===this._modalRefs.length&&h.addClass(this._document.body,"modal-open"),b&&b.instance&&(this._applyBackdropOptions(b.instance,l),b.changeDetectorRef.detectChanges()),C.changeDetectorRef.detectChanges(),S}get activeInstances(){return this._activeInstances}dismissAll(e){this._modalRefs.forEach(i=>i.dismiss(e))}hasOpenModals(){return this._modalRefs.length>0}_attachBackdrop(e,i){let l=e.resolveComponentFactory(i7).create(this._injector);return this._applicationRef.attachView(l.hostView),i.appendChild(l.location.nativeElement),l}_attachWindowComponent(e,i,s){let p=e.resolveComponentFactory(r7).create(this._injector,s.nodes);return this._applicationRef.attachView(p.hostView),i.appendChild(p.location.nativeElement),p}_applyWindowOptions(e,i){this._windowAttributes.forEach(s=>{op(i[s])&&(e[s]=i[s])})}_applyBackdropOptions(e,i){this._backdropAttributes.forEach(s=>{op(i[s])&&(e[s]=i[s])})}_getContentRef(e,i,s,l,p){return s?s instanceof xn?this._createFromTemplateRef(s,l):function(n){return"string"==typeof n}(s)?this._createFromString(s):this._createFromComponent(e,i,s,l,p):new up([])}_createFromTemplateRef(e,i){const l=e.createEmbeddedView({$implicit:i,close(p){i.close(p)},dismiss(p){i.dismiss(p)}});return this._applicationRef.attachView(l),new up([l.rootNodes],l)}_createFromString(e){const i=this._document.createTextNode(`${e}`);return new up([[i]])}_createFromComponent(e,i,s,l,p){const h=e.resolveComponentFactory(s),g=Et.create({providers:[{provide:jG,useValue:l}],parent:i}),v=h.create(g),m=v.location.nativeElement;return p.scrollable&&m.classList.add("component-host-scrollable"),this._applicationRef.attachView(v.hostView),new up([[m]],v.hostView,v)}_setAriaHidden(e){const i=e.parentElement;i&&e!==this._document.body&&(Array.from(i.children).forEach(s=>{s!==e&&"SCRIPT"!==s.nodeName&&(this._ariaHiddenValues.set(s,s.getAttribute("aria-hidden")),s.setAttribute("aria-hidden","true"))}),this._setAriaHidden(i))}_revertAriaHidden(){this._ariaHiddenValues.forEach((e,i)=>{e?i.setAttribute("aria-hidden",e):i.removeAttribute("aria-hidden")}),this._ariaHiddenValues.clear()}_registerModalRef(e){const i=()=>{const s=this._modalRefs.indexOf(e);s>-1&&(this._modalRefs.splice(s,1),this._activeInstances.emit(this._modalRefs))};this._modalRefs.push(e),this._activeInstances.emit(this._modalRefs),e.result.then(i,i)}_registerWindowCmpt(e){this._windowCmpts.push(e),this._activeWindowCmptHasChanged.next(),e.onDestroy(()=>{const i=this._windowCmpts.indexOf(e);i>-1&&(this._windowCmpts.splice(i,1),this._activeWindowCmptHasChanged.next())})}}return n.\u0275fac=function(e){return new(e||n)(Se(Id),Se(Et),Se(On),Se(s7),Se(wy),Se(di))},n.\u0275prov=Xe({token:n,factory:n.\u0275fac,providedIn:"root"}),n})(),l7=(()=>{class n{constructor(e){this._ngbConfig=e,this.backdrop=!0,this.keyboard=!0}get animation(){return void 0===this._animation?this._ngbConfig.animation:this._animation}set animation(e){this._animation=e}}return n.\u0275fac=function(e){return new(e||n)(Se(OD))},n.\u0275prov=Xe({token:n,factory:n.\u0275fac,providedIn:"root"}),n})(),u7=(()=>{class n{constructor(e,i,s,l){this._moduleCFR=e,this._injector=i,this._modalStack=s,this._config=l}open(e,i={}){const s=Object.assign(Object.assign(Object.assign({},this._config),{animation:this._config.animation}),i);return this._modalStack.open(this._moduleCFR,this._injector,e,s)}get activeInstances(){return this._modalStack.activeInstances}dismissAll(e){this._modalStack.dismissAll(e)}hasOpenModals(){return this._modalStack.hasOpenModals()}}return n.\u0275fac=function(e){return new(e||n)(Se(Ua),Se(Et),Se(a7),Se(l7))},n.\u0275prov=Xe({token:n,factory:n.\u0275fac,providedIn:"root"}),n})(),WG=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=si({type:n}),n.\u0275inj=Vt({providers:[u7]}),n})(),YG=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=si({type:n}),n.\u0275inj=Vt({imports:[[Uo]]}),n})(),tH=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=si({type:n}),n.\u0275inj=Vt({imports:[[Uo]]}),n})(),nH=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=si({type:n}),n.\u0275inj=Vt({imports:[[Uo]]}),n})(),rH=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=si({type:n}),n.\u0275inj=Vt({imports:[[Uo]]}),n})(),oH=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=si({type:n}),n.\u0275inj=Vt({imports:[[Uo]]}),n})(),sH=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=si({type:n}),n.\u0275inj=Vt({imports:[[Uo]]}),n})(),aH=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=si({type:n}),n.\u0275inj=Vt({imports:[[Uo]]}),n})(),lH=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=si({type:n}),n.\u0275inj=Vt({}),n})();new Pt("live announcer delay",{providedIn:"root",factory:function(){return 100}});let uH=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=si({type:n}),n.\u0275inj=Vt({imports:[[Uo]]}),n})();const E7=[CG,wG,SG,OG,PG,kG,BG,WG,YG,tH,nH,rH,oH,sH,aH,lH,uH];let x7=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=si({type:n}),n.\u0275inj=Vt({imports:[E7,CG,wG,SG,OG,PG,kG,BG,WG,YG,tH,nH,rH,oH,sH,aH,lH,uH]}),n})(),O7=(()=>{class n{constructor(){this.title="portfolio"}}return n.\u0275fac=function(e){return new(e||n)},n.\u0275cmp=Lr({type:n,selectors:[["app-root"]],decls:66,vars:0,consts:[[1,"navbar","navbar-dark","sticky-top","bg-dark","flex-md-nowrap","p-0","shadow"],["href","#",1,"navbar-brand","col-md-3","col-lg-2","me-0","px-3"],[1,"container-fluid"],[1,"row"],["id","sidebarMenu",1,"col-md-5","col-lg-4","d-md-block","bg-light","sidebar","collapse"],[1,"col-md-12",2,"padding-top","1em"],[1,"row","g-0","border","rounded","overflow-hidden","flex-md-row","mb-4","shadow-sm","h-md-250","position-relative"],[1,"col","p-4","d-flex","flex-column","position-static"],[1,"mb-0"],[1,"card-text","mb-auto",2,"padding-top","0.5em"],[1,"col-md-12"],[1,"col-md-7","ms-sm-auto","col-lg-8","px-md-4"]],template:function(e,i){1&e&&(Pe(0,"header",0),Pe(1,"a",1),Ti(2,"Portfolio"),De(),De(),Pe(3,"div",2),Pe(4,"div",3),Pe(5,"nav",4),Pe(6,"div",5),Pe(7,"div",6),Pe(8,"div",7),Pe(9,"h3",8),Ti(10,"Novice"),De(),Pe(11,"p",9),Ti(12,"Je n\u2019ai pas de connaissances structur\xe9es dans ce domaine "),De(),Pe(13,"p",9),Ti(14," Une supervision directe et dans un cadre structur\xe9 m\u2019est encore n\xe9cessaire pour intervenir dans ce domaine. "),De(),Pe(15,"p",9),Ti(16," Je n\u2019ai pas ou peu d\u2019exp\xe9riences pratiques dans la mobilisation de cette comp\xe9tence. "),De(),De(),De(),De(),Pe(17,"div",10),Pe(18,"div",6),Pe(19,"div",7),Pe(20,"h3",8),Ti(21,"D\xe9butant"),De(),Pe(22,"p",9),Ti(23,"J\u2019ai acquis de premi\xe8res connaissances structur\xe9es dans ce domaine. "),De(),Pe(24,"p",9),Ti(25," J\u2019ai d\xe9velopp\xe9 les aptitudes de bases pour y effectuer des t\xe2ches simples avec un certain niveau d\u2019autonomie. "),De(),Pe(26,"p",9),Ti(27," J\u2019ai fait au moins une exp\xe9rience de mobilisation de cette comp\xe9tence dans un projet. "),De(),De(),De(),De(),Pe(28,"div",10),Pe(29,"div",6),Pe(30,"div",7),Pe(31,"h3",8),Ti(32,"Apprenant"),De(),Pe(33,"p",9),Ti(34,"J\u2019ai acquis les connaissances th\xe9oriques de base dans ce domaine."),De(),Pe(35,"p",9),Ti(36," J\u2019ai d\xe9montr\xe9, en mobilisant cette comp\xe9tence dans plusieurs projets, disposer des aptitudes cognitives et pratiques qui sont n\xe9cessaires pour effectuer les t\xe2ches habituelles et r\xe9soudre des probl\xe8mes courants li\xe9s \xe0 ce domaine. "),De(),De(),De(),De(),Pe(37,"div",10),Pe(38,"div",6),Pe(39,"div",7),Pe(40,"h3",8),Ti(41,"Pratiquant"),De(),Pe(42,"p",9),Ti(43,"J\u2019ai d\xe9montr\xe9 ma capacit\xe9 \xe0 utiliser les bases th\xe9oriques acquise dans ce domaine pour analyser une situation et concevoir les pistes d\u2019actions correspondantes. "),De(),Pe(44,"p",9),Ti(45," J\u2019ai d\xe9montr\xe9, en mobilisant cette comp\xe9tence dans mes divers projets, disposer de la gamme d\u2019aptitudes cognitives, pratiques et relationnellesqui permettent de r\xe9soudre des situations complexes li\xe9es \xe0 ce domaine en sachant s\xe9lectionner les m\xe9thodes et outils ad\xe9quats. "),De(),De(),De(),De(),Pe(46,"div",10),Pe(47,"div",6),Pe(48,"div",7),Pe(49,"h3",8),Ti(50,"Pratiquant r\xe9flexif"),De(),Pe(51,"p",9),Ti(52,"J\u2019ai d\xe9montr\xe9 ma capacit\xe9 \xe0 combiner diverses bases th\xe9oriques pour analyser des situations complexes dans leurs diff\xe9rentes dimensions et cr\xe9er de nouvelles r\xe9ponses qui leur soient adapt\xe9es."),De(),Pe(53,"p",9),Ti(54," J\u2019ai d\xe9montr\xe9, en mobilisant cette comp\xe9tence dans tous mes projets, ma capacit\xe9 \xe0 faire \xe9voluer, dans ce domaine, mes aptitudes cognitives, pratiques et relationnelles afin d\u2019\xeatre capable de r\xe9soudre des situations complexes et de r\xe9viser et d\xe9velopper mes performances ainsi que celles des autres. "),De(),De(),De(),De(),Pe(55,"div",10),Pe(56,"div",6),Pe(57,"div",7),Pe(58,"h3",8),Ti(59,"Professionnel junior"),De(),Pe(60,"p",9),Ti(61,"J\u2019ai coach\xe9 et/ou form\xe9 d\u2019autres personne dans ce domaine. "),De(),Pe(62,"p",9),Ti(63," J\u2019ai d\xe9montr\xe9 adapter \xe0 chaque fois mes m\xe9thodes et outils pour les faire correspondre aux sp\xe9cificit\xe9s des diverses situations rencontr\xe9es et en proposant des solutions cr\xe9atives \xe0 des probl\xe8mes abstraits. "),De(),De(),De(),De(),De(),Pe(64,"main",11),Al(65,"router-outlet"),De(),De(),De())},directives:[tA,BP],styles:[""]}),n})();function T(n,t,e,i){var p,s=arguments.length,l=s<3?t:null===i?i=Object.getOwnPropertyDescriptor(t,e):i;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)l=Reflect.decorate(n,t,e,i);else for(var h=n.length-1;h>=0;h--)(p=n[h])&&(l=(s<3?p(l):s>3?p(t,e,l):p(t,e))||l);return s>3&&l&&Object.defineProperty(t,e,l),l}function A(n,t){if("object"==typeof Reflect&&"function"==typeof Reflect.metadata)return Reflect.metadata(n,t)}var sA;Z(2107);let re=sA=class{hasChildColumns(){return!(!(this.childColumns&&this.childColumns.length>0)||1===this.childColumns.length&&this.childColumns.first===this)}toColDef(){let t=this.createColDefFromGridColumn(this);return this.hasChildColumns()&&(t.children=this.getChildColDefs(this.childColumns)),t}getChildColDefs(t){return t.filter(e=>!e.hasChildColumns()).map(e=>e.toColDef())}createColDefFromGridColumn(t){return function(n,t){var e={};for(var i in n)Object.prototype.hasOwnProperty.call(n,i)&&t.indexOf(i)<0&&(e[i]=n[i]);if(null!=n&&"function"==typeof Object.getOwnPropertySymbols){var s=0;for(i=Object.getOwnPropertySymbols(n);s<i.length;s++)t.indexOf(i[s])<0&&Object.prototype.propertyIsEnumerable.call(n,i[s])&&(e[i[s]]=n[i[s]])}return e}(t,["childColumns"])}};var uA;re.\u0275fac=function(t){return new(t||re)},re.\u0275cmp=Lr({type:re,selectors:[["ag-grid-column"]],contentQueries:function(t,e,i){if(1&t&&function(n,t,e,i){const s=kt();if(s.firstCreatePass){const l=bn();iF(s,new JM(t,e,i),l.index),function(n,t){const e=n.contentQueries||(n.contentQueries=[]);t!==(e.length?e[e.length-1]:-1)&&e.push(n.queries.length-1,t)}(s,n),2==(2&e)&&(s.staticContentQueries=!0)}tF(s,fe(),e)}(i,sA,4),2&t){let s;Yi(s=Ki())&&(e.childColumns=s)}},inputs:{filterFramework:"filterFramework",filterParams:"filterParams",floatingFilterComponent:"floatingFilterComponent",floatingFilterComponentParams:"floatingFilterComponentParams",floatingFilterComponentFramework:"floatingFilterComponentFramework",filter:"filter",headerName:"headerName",headerValueGetter:"headerValueGetter",headerTooltip:"headerTooltip",headerClass:"headerClass",suppressHeaderKeyboardEvent:"suppressHeaderKeyboardEvent",columnGroupShow:"columnGroupShow",toolPanelClass:"toolPanelClass",suppressColumnsToolPanel:"suppressColumnsToolPanel",suppressFiltersToolPanel:"suppressFiltersToolPanel",tooltipComponent:"tooltipComponent",tooltipComponentFramework:"tooltipComponentFramework",tooltipComponentParams:"tooltipComponentParams",children:"children",groupId:"groupId",openByDefault:"openByDefault",marryChildren:"marryChildren",headerGroupComponent:"headerGroupComponent",headerGroupComponentFramework:"headerGroupComponentFramework",headerGroupComponentParams:"headerGroupComponentParams",colId:"colId",field:"field",type:"type",valueGetter:"valueGetter",valueFormatter:"valueFormatter",refData:"refData",keyCreator:"keyCreator",equals:"equals",tooltipField:"tooltipField",tooltipValueGetter:"tooltipValueGetter",checkboxSelection:"checkboxSelection",icons:"icons",suppressNavigable:"suppressNavigable",suppressKeyboardEvent:"suppressKeyboardEvent",suppressPaste:"suppressPaste",suppressFillHandle:"suppressFillHandle",hide:"hide",initialHide:"initialHide",lockVisible:"lockVisible",lockPosition:"lockPosition",suppressMovable:"suppressMovable",editable:"editable",valueSetter:"valueSetter",valueParser:"valueParser",cellEditor:"cellEditor",cellEditorFramework:"cellEditorFramework",cellEditorParams:"cellEditorParams",cellEditorSelector:"cellEditorSelector",singleClickEdit:"singleClickEdit",newValueHandler:"newValueHandler",cellEditorPopup:"cellEditorPopup",cellEditorPopupPosition:"cellEditorPopupPosition",onCellValueChanged:"onCellValueChanged",onCellClicked:"onCellClicked",onCellDoubleClicked:"onCellDoubleClicked",onCellContextMenu:"onCellContextMenu",getQuickFilterText:"getQuickFilterText",filterValueGetter:"filterValueGetter",floatingFilter:"floatingFilter",headerComponent:"headerComponent",headerComponentFramework:"headerComponentFramework",headerComponentParams:"headerComponentParams",menuTabs:"menuTabs",columnsMenuParams:"columnsMenuParams",suppressMenu:"suppressMenu",headerCheckboxSelection:"headerCheckboxSelection",headerCheckboxSelectionFilteredOnly:"headerCheckboxSelectionFilteredOnly",chartDataType:"chartDataType",pinned:"pinned",initialPinned:"initialPinned",lockPinned:"lockPinned",pinnedRowCellRenderer:"pinnedRowCellRenderer",pinnedRowCellRendererFramework:"pinnedRowCellRendererFramework",pinnedRowCellRendererParams:"pinnedRowCellRendererParams",pinnedRowValueFormatter:"pinnedRowValueFormatter",pivot:"pivot",initialPivot:"initialPivot",pivotIndex:"pivotIndex",initialPivotIndex:"initialPivotIndex",pivotComparator:"pivotComparator",enablePivot:"enablePivot",cellStyle:"cellStyle",cellClass:"cellClass",cellClassRules:"cellClassRules",cellRenderer:"cellRenderer",cellRendererFramework:"cellRendererFramework",cellRendererParams:"cellRendererParams",cellRendererSelector:"cellRendererSelector",autoHeight:"autoHeight",wrapText:"wrapText",enableCellChangeFlash:"enableCellChangeFlash",suppressCellFlash:"suppressCellFlash",rowDrag:"rowDrag",rowDragText:"rowDragText",dndSource:"dndSource",dndSourceOnRowDrag:"dndSourceOnRowDrag",rowGroup:"rowGroup",initialRowGroup:"initialRowGroup",rowGroupIndex:"rowGroupIndex",initialRowGroupIndex:"initialRowGroupIndex",enableRowGroup:"enableRowGroup",enableValue:"enableValue",aggFunc:"aggFunc",initialAggFunc:"initialAggFunc",allowedAggFuncs:"allowedAggFuncs",showRowGroup:"showRowGroup",sortable:"sortable",sort:"sort",initialSort:"initialSort",sortIndex:"sortIndex",initialSortIndex:"initialSortIndex",sortingOrder:"sortingOrder",comparator:"comparator",unSortIcon:"unSortIcon",sortedAt:"sortedAt",colSpan:"colSpan",rowSpan:"rowSpan",width:"width",initialWidth:"initialWidth",minWidth:"minWidth",maxWidth:"maxWidth",flex:"flex",initialFlex:"initialFlex",resizable:"resizable",suppressSizeToFit:"suppressSizeToFit",suppressAutoSize:"suppressAutoSize"},decls:0,vars:0,template:function(t,e){},encapsulation:2}),T([z_(sA),A("design:type",hf)],re.prototype,"childColumns",void 0),T([N(),A("design:type",Object)],re.prototype,"filterFramework",void 0),T([N(),A("design:type",Object)],re.prototype,"filterParams",void 0),T([N(),A("design:type",Object)],re.prototype,"floatingFilterComponent",void 0),T([N(),A("design:type",Object)],re.prototype,"floatingFilterComponentParams",void 0),T([N(),A("design:type",Object)],re.prototype,"floatingFilterComponentFramework",void 0),T([N(),A("design:type",Object)],re.prototype,"filter",void 0),T([N(),A("design:type",String)],re.prototype,"headerName",void 0),T([N(),A("design:type",Object)],re.prototype,"headerValueGetter",void 0),T([N(),A("design:type",String)],re.prototype,"headerTooltip",void 0),T([N(),A("design:type",Object)],re.prototype,"headerClass",void 0),T([N(),A("design:type",Function)],re.prototype,"suppressHeaderKeyboardEvent",void 0),T([N(),A("design:type",String)],re.prototype,"columnGroupShow",void 0),T([N(),A("design:type",Object)],re.prototype,"toolPanelClass",void 0),T([N(),A("design:type",Boolean)],re.prototype,"suppressColumnsToolPanel",void 0),T([N(),A("design:type",Boolean)],re.prototype,"suppressFiltersToolPanel",void 0),T([N(),A("design:type",Object)],re.prototype,"tooltipComponent",void 0),T([N(),A("design:type",Object)],re.prototype,"tooltipComponentFramework",void 0),T([N(),A("design:type",Object)],re.prototype,"tooltipComponentParams",void 0),T([N(),A("design:type",Array)],re.prototype,"children",void 0),T([N(),A("design:type",String)],re.prototype,"groupId",void 0),T([N(),A("design:type",Boolean)],re.prototype,"openByDefault",void 0),T([N(),A("design:type",Boolean)],re.prototype,"marryChildren",void 0),T([N(),A("design:type",Object)],re.prototype,"headerGroupComponent",void 0),T([N(),A("design:type",Object)],re.prototype,"headerGroupComponentFramework",void 0),T([N(),A("design:type",Object)],re.prototype,"headerGroupComponentParams",void 0),T([N(),A("design:type",String)],re.prototype,"colId",void 0),T([N(),A("design:type",String)],re.prototype,"field",void 0),T([N(),A("design:type",Object)],re.prototype,"type",void 0),T([N(),A("design:type",Object)],re.prototype,"valueGetter",void 0),T([N(),A("design:type",Object)],re.prototype,"valueFormatter",void 0),T([N(),A("design:type",Object)],re.prototype,"refData",void 0),T([N(),A("design:type",Function)],re.prototype,"keyCreator",void 0),T([N(),A("design:type",Function)],re.prototype,"equals",void 0),T([N(),A("design:type",String)],re.prototype,"tooltipField",void 0),T([N(),A("design:type",Function)],re.prototype,"tooltipValueGetter",void 0),T([N(),A("design:type",Object)],re.prototype,"checkboxSelection",void 0),T([N(),A("design:type",Object)],re.prototype,"icons",void 0),T([N(),A("design:type",Object)],re.prototype,"suppressNavigable",void 0),T([N(),A("design:type",Function)],re.prototype,"suppressKeyboardEvent",void 0),T([N(),A("design:type",Object)],re.prototype,"suppressPaste",void 0),T([N(),A("design:type",Boolean)],re.prototype,"suppressFillHandle",void 0),T([N(),A("design:type",Boolean)],re.prototype,"hide",void 0),T([N(),A("design:type",Boolean)],re.prototype,"initialHide",void 0),T([N(),A("design:type",Boolean)],re.prototype,"lockVisible",void 0),T([N(),A("design:type",Boolean)],re.prototype,"lockPosition",void 0),T([N(),A("design:type",Boolean)],re.prototype,"suppressMovable",void 0),T([N(),A("design:type",Object)],re.prototype,"editable",void 0),T([N(),A("design:type",Object)],re.prototype,"valueSetter",void 0),T([N(),A("design:type",Object)],re.prototype,"valueParser",void 0),T([N(),A("design:type",Object)],re.prototype,"cellEditor",void 0),T([N(),A("design:type",Object)],re.prototype,"cellEditorFramework",void 0),T([N(),A("design:type",Object)],re.prototype,"cellEditorParams",void 0),T([N(),A("design:type",Function)],re.prototype,"cellEditorSelector",void 0),T([N(),A("design:type",Boolean)],re.prototype,"singleClickEdit",void 0),T([N(),A("design:type",Function)],re.prototype,"newValueHandler",void 0),T([N(),A("design:type",Boolean)],re.prototype,"cellEditorPopup",void 0),T([N(),A("design:type",String)],re.prototype,"cellEditorPopupPosition",void 0),T([N(),A("design:type",Function)],re.prototype,"onCellValueChanged",void 0),T([N(),A("design:type",Function)],re.prototype,"onCellClicked",void 0),T([N(),A("design:type",Function)],re.prototype,"onCellDoubleClicked",void 0),T([N(),A("design:type",Function)],re.prototype,"onCellContextMenu",void 0),T([N(),A("design:type",Function)],re.prototype,"getQuickFilterText",void 0),T([N(),A("design:type",Object)],re.prototype,"filterValueGetter",void 0),T([N(),A("design:type",Boolean)],re.prototype,"floatingFilter",void 0),T([N(),A("design:type",Object)],re.prototype,"headerComponent",void 0),T([N(),A("design:type",Object)],re.prototype,"headerComponentFramework",void 0),T([N(),A("design:type",Object)],re.prototype,"headerComponentParams",void 0),T([N(),A("design:type",Array)],re.prototype,"menuTabs",void 0),T([N(),A("design:type",Object)],re.prototype,"columnsMenuParams",void 0),T([N(),A("design:type",Boolean)],re.prototype,"suppressMenu",void 0),T([N(),A("design:type",Object)],re.prototype,"headerCheckboxSelection",void 0),T([N(),A("design:type",Boolean)],re.prototype,"headerCheckboxSelectionFilteredOnly",void 0),T([N(),A("design:type",String)],re.prototype,"chartDataType",void 0),T([N(),A("design:type",Object)],re.prototype,"pinned",void 0),T([N(),A("design:type",Object)],re.prototype,"initialPinned",void 0),T([N(),A("design:type",Boolean)],re.prototype,"lockPinned",void 0),T([N(),A("design:type",Object)],re.prototype,"pinnedRowCellRenderer",void 0),T([N(),A("design:type",Object)],re.prototype,"pinnedRowCellRendererFramework",void 0),T([N(),A("design:type",Object)],re.prototype,"pinnedRowCellRendererParams",void 0),T([N(),A("design:type",Object)],re.prototype,"pinnedRowValueFormatter",void 0),T([N(),A("design:type",Boolean)],re.prototype,"pivot",void 0),T([N(),A("design:type",Boolean)],re.prototype,"initialPivot",void 0),T([N(),A("design:type",Number)],re.prototype,"pivotIndex",void 0),T([N(),A("design:type",Number)],re.prototype,"initialPivotIndex",void 0),T([N(),A("design:type",Function)],re.prototype,"pivotComparator",void 0),T([N(),A("design:type",Boolean)],re.prototype,"enablePivot",void 0),T([N(),A("design:type",Object)],re.prototype,"cellStyle",void 0),T([N(),A("design:type",Object)],re.prototype,"cellClass",void 0),T([N(),A("design:type",Object)],re.prototype,"cellClassRules",void 0),T([N(),A("design:type",Object)],re.prototype,"cellRenderer",void 0),T([N(),A("design:type",Object)],re.prototype,"cellRendererFramework",void 0),T([N(),A("design:type",Object)],re.prototype,"cellRendererParams",void 0),T([N(),A("design:type",Function)],re.prototype,"cellRendererSelector",void 0),T([N(),A("design:type",Boolean)],re.prototype,"autoHeight",void 0),T([N(),A("design:type",Boolean)],re.prototype,"wrapText",void 0),T([N(),A("design:type",Boolean)],re.prototype,"enableCellChangeFlash",void 0),T([N(),A("design:type",Boolean)],re.prototype,"suppressCellFlash",void 0),T([N(),A("design:type",Object)],re.prototype,"rowDrag",void 0),T([N(),A("design:type",Function)],re.prototype,"rowDragText",void 0),T([N(),A("design:type",Object)],re.prototype,"dndSource",void 0),T([N(),A("design:type",Function)],re.prototype,"dndSourceOnRowDrag",void 0),T([N(),A("design:type",Boolean)],re.prototype,"rowGroup",void 0),T([N(),A("design:type",Boolean)],re.prototype,"initialRowGroup",void 0),T([N(),A("design:type",Number)],re.prototype,"rowGroupIndex",void 0),T([N(),A("design:type",Number)],re.prototype,"initialRowGroupIndex",void 0),T([N(),A("design:type",Boolean)],re.prototype,"enableRowGroup",void 0),T([N(),A("design:type",Boolean)],re.prototype,"enableValue",void 0),T([N(),A("design:type",Object)],re.prototype,"aggFunc",void 0),T([N(),A("design:type",Object)],re.prototype,"initialAggFunc",void 0),T([N(),A("design:type",Array)],re.prototype,"allowedAggFuncs",void 0),T([N(),A("design:type",Object)],re.prototype,"showRowGroup",void 0),T([N(),A("design:type",Boolean)],re.prototype,"sortable",void 0),T([N(),A("design:type",String)],re.prototype,"sort",void 0),T([N(),A("design:type",String)],re.prototype,"initialSort",void 0),T([N(),A("design:type",Number)],re.prototype,"sortIndex",void 0),T([N(),A("design:type",Number)],re.prototype,"initialSortIndex",void 0),T([N(),A("design:type",Array)],re.prototype,"sortingOrder",void 0),T([N(),A("design:type",Function)],re.prototype,"comparator",void 0),T([N(),A("design:type",Boolean)],re.prototype,"unSortIcon",void 0),T([N(),A("design:type",Number)],re.prototype,"sortedAt",void 0),T([N(),A("design:type",Function)],re.prototype,"colSpan",void 0),T([N(),A("design:type",Function)],re.prototype,"rowSpan",void 0),T([N(),A("design:type",Number)],re.prototype,"width",void 0),T([N(),A("design:type",Number)],re.prototype,"initialWidth",void 0),T([N(),A("design:type",Number)],re.prototype,"minWidth",void 0),T([N(),A("design:type",Number)],re.prototype,"maxWidth",void 0),T([N(),A("design:type",Number)],re.prototype,"flex",void 0),T([N(),A("design:type",Number)],re.prototype,"initialFlex",void 0),T([N(),A("design:type",Boolean)],re.prototype,"resizable",void 0),T([N(),A("design:type",Boolean)],re.prototype,"suppressSizeToFit",void 0),T([N(),A("design:type",Boolean)],re.prototype,"suppressAutoSize",void 0);let zf=uA=class{static withComponents(t){return{ngModule:uA,providers:[{provide:Hc,useValue:t,multi:!0}]}}static forRoot(t){return{ngModule:uA,providers:[{provide:Hc,useValue:t,multi:!0}]}}};zf.\u0275fac=function(t){return new(t||zf)},zf.\u0275mod=si({type:zf}),zf.\u0275inj=Vt({imports:[[]]});let A7=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=si({type:n,bootstrap:[O7]}),n.\u0275inj=Vt({providers:[],imports:[[D5,PK,x7,zf.withComponents([])]]}),n})();(function(){if(RF)throw new Error("Cannot enable prod mode after platform setup.");PF=!1})(),C5().bootstrapModule(A7).catch(n=>console.error(n))}},hp=>{hp(hp.s=105)}]);